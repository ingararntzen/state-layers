var STATELAYERS=function(t){"use strict";function e(t){return"number"==typeof t}const n=Object.freeze({HIGH_OPEN:")",HIGH_CLOSED:"]",VALUE:"",LOW_CLOSED:"[",LOW_OPEN:"("});const r=new Map([[n.HIGH_OPEN,-1],[n.HIGH_CLOSED,0],[n.VALUE,0],[n.LOW_CLOSED,0],[n.LOW_OPEN,1]]);function i(t){return t[1]==n.LOW_CLOSED||t[1]==n.LOW_OPEN}function s(t){if(Array.isArray(t)||(t=[t,n.VALUE]),2!=t.length)throw new Error("Endpoint must be a length-2 array",t);let[r,i]=t;if(s=i,!Object.values(n).includes(s))throw new Error("Unsupported endpoint type",i);var s;if(r==-1/0)return[null,n.LOW_CLOSED];if(r==1/0)return[null,n.HIGH_CLOSED];if(null==r||null==r||e(r))return[r,i];throw new Error("endpoint must be null or number",r)}const o=s(1/0),c=s(-1/0);function l(t){return null!=t[0]?[t[0],t[1]]:i(t)?[-1/0,n.LOW_CLOSED]:[1/0,n.HIGH_CLOSED]}function u(t,e){return t<e?-1:t>e?1:0}function a(t,e){const[n,i]=l(t),[s,o]=l(e),c=u(n,s);if(0==c){return u(r.get(i),r.get(o))}return c}function h(t,e){return a(t,e)<=0}function f(t,e){return a(t,e)>=0}function _(t,e){return 0==a(t,e)}function d(t){const[e,r,i,o]=t,c=i?n.LOW_CLOSED:n.LOW_OPEN,l=o?n.HIGH_CLOSED:n.HIGH_OPEN;return[s([e,c]),s([r,l])]}function p(t,e){const[n,r]=d(t);return h(n,e=s(e))&&h(e,r)}const m={le:h,lt:function(t,e){return a(t,e)<0},ge:f,gt:function(t,e){return a(t,e)>0},cmp:a,eq:_,min:function(t,e){return h(t,e)?t:e},max:function(t,e){return f(t,e)?t:e},flip:function(t,e){if(e)throw new Error("target is deprecated");let[r,i]=t;if(null==r)return t;if(i==n.HIGH_OPEN)return[r,n.LOW_CLOSED];if(i==n.HIGH_CLOSED)return[r,n.LOW_OPEN];if(i==n.LOW_OPEN)return[r,n.HIGH_CLOSED];if(i==n.LOW_CLOSED)return[r,n.HIGH_OPEN];throw new Error("illegal endpoint type",i)},from_interval:d,from_input:s,types:{...n},POS_INF:o,NEG_INF:c},g={covers_endpoint:p,covers_point:function(t,e){return p(t,e)},is_singular:function(t){const[e,n]=d(itv);return _(e,n)},from_endpoints:function(t,e){let[r,s]=t,[o,c]=e;if(!i(t))throw new Error("illegal low endpoint",t);if((l=e)[1]!=n.HIGH_CLOSED&&l[1]!=n.HIGH_OPEN)throw new Error("illegal high endpoint",e);var l;return[r,o,s==n.LOW_CLOSED,c==n.HIGH_CLOSED]},from_input:function(t){let n=t;if(null==n||null==n)throw new Error("input is undefined");if(!Array.isArray(n)){if(!e(n))throw new Error(`input: ${t}: must be Array or Number`);n=[n,n,!0,!0]}1==n.length?n=[n[0],n[0],!0,!0]:2==n.length?n=[n[0],n[1],!0,!1]:3==n.length?n=[n[0],n[1],n[2],!1]:n.length>4&&(n=[n[0],n[1],n[2],n[4]]);let[r,i,s,o]=n;if(null!=r&&r!=-1/0||(r=null),null!=i&&i!=1/0||(i=null),null==r)s=!0;else if(!e(r))throw new Error("low not a number",r);if(null==i)o=!0;else if(!e(i))throw new Error("high not a number",i);if(null!=r&&null!=i){if(r>i)throw new Error("low > high",r,i);r==i&&(s=!0,o=!0)}if("boolean"!=typeof s)throw new Error("lowInclude not boolean");if("boolean"!=typeof o)throw new Error("highInclude not boolean");return[r,i,s,o]}};class v{nearby(t){throw new Error("Not implemented")}empty(){return null==this.first()}first(){let{center:t,right:e}=this.nearby(m.NEG_INF);return t.length>0?m.NEG_INF:m.lt(e,m.POS_INF)?e:void 0}last(){let{left:t,center:e}=this.nearby(m.POS_INF);return e.length>0?m.POS_INF:m.gt(t,m.NEG_INF)?t:void 0}right_region(t){const e=function(t){const e=m.from_interval(t.itv)[1];return m.flip(e)}(t);if(null!=e[0])return this.nearby(e)}left_region(t){const e=function(t){const e=m.from_interval(t.itv)[0];return m.flip(e)}(t);if(null!=e[0])return this.nearby(e)}find_region(t,e={}){let n,{direction:r=1,condition:i=t=>t.length>0}=e;for(;;){if(n=1==r?this.right_region(t):this.left_region(t),null==n)return;if(i(n.center))return n;t=n}}regions(t){return new y(this,t)}}class y{constructor(t,e={}){let{start:n=-1/0,stop:r=1/0,includeEmpty:i=!0}=e;if(n>r)throw new Error("stop must be larger than start",n,r);this._index=t,this._start=m.from_input(n),this._stop=m.from_input(r),this._condition=i?()=>!0:t=>t.length>0,this._current}next(){if(null==this._current&&(this._current=this._index.nearby(this._start),this._condition(this._current.center)))return{value:this._current,done:!1};let t={condition:this._condition,direction:1};return this._current=this._index.find_region(this._current,t),null==this._current?{value:void 0,done:!0}:{value:this._current,done:!1}}[Symbol.iterator](){return this}}function b(t,e){return m.cmp(t,e)}function w(t,e){return m.cmp(e,t)}function O(t,e,n,r,i){const s={center:n};if(0==n.length)s.right=i,s.left=t;else{r.sort(b);let n=r[0],o=r.slice(-1)[0],c=!m.eq(n,o);e.sort(w);let l=e[0],u=e.slice(-1)[0],a=!m.eq(l,u);m.le(i,n)?s.right=i:s.right=m.flip(n),s.next=c?s.right:i,m.ge(t,l)?s.left=t:s.left=m.flip(l),s.prev=a?s.left:t}let o=m.flip(s.left),c=m.flip(s.right);return s.itv=g.from_endpoints(o,c),s}class E extends v{constructor(t){super(),this._src=t,this._cache=t.createCache()}nearby(t){const e=this._src.index.nearby(t);return e.center=[this._cache],e}}class x{constructor(t,e,n){n=n||{},this.publisher=t,this.name=e,this.init=void 0!==n.init&&n.init,this.subscriptions=[]}subscribe(t,e){if(!t||"function"!=typeof t)throw new Error("Callback not a function",t);const n=new $(this,t,e);if(this.subscriptions.push(n),this.init&&n.init){n.init_pending=!0;let t=this;Promise.resolve().then((function(){const e=t.publisher.eventifyInitEventArgs(t.name)||[];n.init_pending=!1;for(let r of e)t.trigger(r,[n],!0)}))}return n}trigger(t,e,n){let r,i;for(const s of e)if(!s.terminated){r={src:this.publisher,name:this.name,sub:s,init:n},i=s.ctx||this.publisher;try{s.callback.call(i,t,r)}catch(t){console.log(`Error in ${this.name}: ${s.callback} ${t}`)}}}unsubscribe(t){let e=this.subscriptions.indexOf(t);e>-1&&(this.subscriptions.splice(e,1),t.terminate())}}class ${constructor(t,e,n){n=n||{},this.event=t,this.name=t.name,this.callback=e,this.init=void 0===n.init?this.event.init:n.init,this.init_pending=!1,this.terminated=!1,this.ctx=n.ctx}terminate(){this.terminated=!0,this.callback=void 0,this.event.unsubscribe(this)}}function k(t){return t.__eventify_eventMap=new Map,t.__eventify_buffer=[],t}function F(t){function e(t,e){const n=t.__eventify_eventMap.get(e);if(null==n)throw new Error("Event undefined",e);return n}t.eventifyDefine=function(t,e){if(this.__eventify_eventMap.has(t))throw new Error("Event already defined",t);this.__eventify_eventMap.set(t,new x(this,t,e))},t.eventifyTrigger=function(t,e){return this.eventifyTriggerAll([{name:t,eArg:e}])},t.eventifyTriggerAlike=function(t,e){return this.eventifyTriggerAll(e.map((e=>({name:t,eArg:e}))))},t.eventifyTriggerAll=function(t){if(0==t.length)return;let n=t.map((t=>{let{name:n,eArg:r}=t,i=e(this,n),s=i.subscriptions.filter((t=>0==t.init_pending));return[i,r,s]}),this);const r=n.length,i=this.__eventify_buffer,s=this.__eventify_buffer.length;this.__eventify_buffer.length=s+r;for(let t=0;t<r;t++)i[s+t]=n[t];if(0==s){let t=this;Promise.resolve().then((function(){for(let[e,n,r]of t.__eventify_buffer)e.trigger(n,r,!1);t.__eventify_buffer=[]}))}},t.eventifySubscriptions=function(t){return e(this,t).subscriptions},t.on=function(t,n,r){return e(this,t).subscribe(n,r)},t.off=function(t){return e(this,t.name).unsubscribe(t)}}F(class{constructor(t){k(this),this._value=t,this.eventifyDefine("change",{init:!0})}eventifyInitEventArgs(t){if("change"==t)return[this._value]}get value(){return this._value}set value(t){t!=this._value&&(this._value=t,this.eventifyTrigger("change",t))}}.prototype);const I="__callback";function P(t){t[`${I}_handlers`]=[]}function N(t){let e={handler:t};return this[`${I}_handlers`].push(e),e}function C(t){let e=this[`${I}_handlers`].indexOf(t);e>-1&&this[`${I}_handlers`].splice(e,1)}function S(t){this[`${I}_handlers`].forEach((function(e){e.handler(t)}))}function L(t){const e={add_callback:N,remove_callback:C,notify_callbacks:S};Object.assign(t,e)}function q(t){if(null==t)return!1;const e=["add_callback","remove_callback"];for(const n of e){if(!(n in t))return!1;if("function"!=typeof t[n])return!1}return!0}function A(t){return"number"==typeof t&&isFinite(t)}function H(t,e){if(!A(e))throw new Error(`${t} must be finite number ${e}`)}const M={now:()=>performance.now()/1e3};function j(t,e,n,r={}){let i,{valueFunc:s,stateFunc:o,numeric:c=!1,mask:l}=r;if(null!=s){i={value:s({sources:t,states:e,offset:n}),dynamic:e.map((t=>t.dymamic)).some((t=>t)),offset:n}}else i=null!=o?{...o({sources:t,states:e,offset:n}),offset:n}:0==e.length?{value:void 0,dynamic:!1,offset:n}:{...e[0],offset:n};return c&&null!=i.value&&(A(i.value)||(i={value:l,dynamic:!1,offset:n})),i}function G(t){if(!Array.isArray(t))throw new Error("Input must be an array");for(const e of t)e.id=e.id||D(10),e.itv=g.from_input(e.itv);return t}function D(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;r<t;r++)e+=n.charAt(Math.floor(52*Math.random()));return e}function R(t,e){const[n,r,i,s]=t;return Math.pow(r,2)-2*i*(n-e)>=0}function W(t,e){const[n,r,i,s]=t;if(0===i&&0===r)return n!=e?[]:void 0;if(0===i)return[s+(e-n)/r];if(!1===R(t,e))return[];if(0===Math.pow(r,2)-2*i*(n-e))return[s-r/i];var o=Math.sqrt(Math.pow(r,2)-2*i*(n-e)),c=s+(-r+o)/i,l=s+(-r-o)/i;return[Math.min(c,l),Math.max(c,l)]}const T={calculate:function(t,e){const[n,r,i,s]=t,o=e-s;return[n+r*o+.5*i*Math.pow(o,2),r+i*o,i,e]},has_real_solutions:R,get_real_solutions:W,calculate_time_ranges:function(t,e){const[n,r,i,s]=t;let[o,c]=e;if(null==o&&(o=-1/0),null==c&&(c=1/0),o==-1/0&&c==1/0)return[[null,null]];if(0===r&&0===i)return n>=o&&n<=c?[[null,null]]:[];let l=[];if(-1/0<o&&l.push(...W(t,o)),c<1/0&&l.push(...W(t,c)),l=[...new Set(l)],l.sort(((t,e)=>t-e)),o==-1/0){if(0==l.length)return n<=c?[[null,null]]:[];if(1==l.length)return i>0?[]:i<0?[[null,null]]:r>0?[[null,l[0]]]:[[l[0],null]];if(2==l.length){if(i>0)return[[l[0],l[1]]];if(i<0)return[[null,l[0]],[l[1],null]]}}else if(c==1/0){if(0==l.length)return n>=o?[[null,null]]:[];if(1==l.length)return i>0?[[null,null]]:i<0?[]:r>0?[[l[0],null]]:[[null,l[0]]];if(2==l.length){if(i>0)return[[null,l[0]],[l[1],null]];if(i<0)return[[l[0],l[1]]]}}else{if(0==l.length)return[];if(1==l.length)return[];if(2==l.length)return[[l[0],l[1]]];if(3==l.length)return[[l[0],l[2]]];if(4==l.length)return[[l[0],l[1]],[l[2],l[3]]]}},check_range:function(t){if(Array.isArray(t)&&2!=t.length)throw new Error(`range must have two elements ${t}`);null==t[0]||H("low",t[0]),null==t[1]||H("high",t[1])}};class z{constructor(t={}){const{CacheClass:e=U,valueFunc:n,stateFunc:r}=t;P(this),k(this),this.eventifyDefine("change",{init:!0}),this.index,this._CacheClass=e,this._private_cache,this._consumer_caches=[],this._valueFunc=n,this._stateFunc=r}get numeric(){return!1}get mutable(){return!1}get itemsOnly(){return!1}get valueFunc(){return this._valueFunc}get stateFunc(){return this._stateFunc}get cache(){return null==this._private_cache&&(this._private_cache=new this._CacheClass(this)),this._private_cache}query(t){return this.cache.query(t)}createCache(){const t=new this._CacheClass(this);return this._consumer_caches.push(t),t}releaseCache(t){const e=this._consumer_caches.indexOf(t);e>-1&&this._consumer_caches.splice(e,1)}clearCaches(){for(const t of this._consumer_caches)t.clear();null!=this._private_cache&&this._private_cache.clear()}onchange(){this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change")}regions(t){return this.index.regions(t)}sample(t={}){if(this.index.empty())return[];let{start:e,stop:n,step:r=1}=t;if(null==e){const t=this.index.first();if(null==t[0])throw new Error("undefined start");e=t[0]}if(null==n){const t=this.index.last();if(null==t[0])throw new Error("undefined stop");n=t[0]}if(e>n)throw new Error("stop must be larger than start",e,n);const i=this.createCache(),s=function(t,e,n=1,r={}){const i=[],{include_end:s=!1}=r;if(0===n)throw new Error("Step cannot be zero.");if(t<e)for(let r=t;r<e;r+=n)i.push(r);else if(t>e)for(let r=t;r>e;r-=n)i.push(r);return s&&i.push(e),i}(e,n,r,{include_end:!0}).map((t=>[i.query(t).value,t]));return this.releaseCache(i),s}}L(z.prototype),F(z.prototype);class U{constructor(t){this._layer=t,this._nearby,this._state,this._query_options={valueFunc:this._layer.valueFunc,stateFunc:this._layer.stateFunc,numberOnly:this._layer.isNumberOnly}}get layer(){return this._layer}query(t){const e=null==this._nearby||!g.covers_endpoint(this._nearby.itv,t);if(!e&&null!=this._state&&!this._state.dynamic)return{...this._state,offset:t};e&&(this._nearby=this._layer.index.nearby(t));const n=this._nearby.center.map((e=>e.query(t))),r=j(this._nearby.center,n,t,this._query_options);return this._state=r.dynamic?void 0:r,r}clear(){this._nearby=void 0,this._state=void 0}}class V{constructor(t){this._callback=t,this._handle,this._delay}set delay(t){if("number"!=typeof t)throw new Error(`delay must be a number ${t}`);this._delay!=t&&(this._delay=t)}get delay(){return this._delay}is_polling(){return null!=this._handle}pause(){null!=this._handle&&(this._handle.cancel(),this._handle=void 0)}poll(){this._callback(),this.pause(),this.resume()}resume(){if(null==this._handle)if(0==this._delay){const t=requestAnimationFrame(this.poll.bind(this));this._handle={cancel:()=>cancelAnimationFrame(t)}}else{const t=setTimeout(this.poll.bind(this),this._delay);this._handle={cancel:()=>clearTimeout(t)}}}}const B=new class{constructor(){this._binding_set=new Set,this._cursor_map=new Map,this._poller=new V(this.onpoll.bind(this))}bind(t,e,n){if(null==n)n=0;else if("number"!=typeof n)throw new Error(`delay must be a number ${n}`);let r={cursor:t,callback:e,delay:n};if(this._binding_set.add(r),this._cursor_map.has(t))this._cursor_map.get(t).bindings.push(r);else{let e=t.on("change",this.oncursorchange.bind(this));this._cursor_map.set(t,{sub:e,polling:!1,bindings:[r]})}return r}release(t){if(!this._binding_set.delete(t))return;const e=t.cursor,{sub:n,bindings:r}=this._cursor_map.get(e),i=r.indexOf(t);i>=0&&r.splice(i,1),0==r.length&&(e.off(n),this._cursor_map.delete(e))}oncursorchange(t,e){const n=e.src,r=t;this._cursor_map.get(n).polling=r.dynamic;const i=[...this._cursor_map.values()].filter((t=>t.polling));this.reevaluate_polling(i);const{bindings:s}=this._cursor_map.get(n);for(const t of s)t.callback(r)}onpoll(){const t=M.now();for(const[e,n]of this._cursor_map)if(n.polling){const r=e.query(t);for(const t of n.bindings)t.callback(r)}}reevaluate_polling(t){if(0==t.length)this._poller.pause();else{const e=[];for(const n of t)for(const t of n.bindings)e.push(t.delay);const n=Math.min(...e);this._poller.delay=n,this._poller.pause(),this._poller.resume()}}};class J{constructor(){P(this),k(this),this.eventifyDefine("change",{init:!0})}get mutable(){return!1}get numeric(){return!1}get itemsOnly(){return!1}get fixedRate(){return!1}query(t){throw new Error("query() not implemented")}get value(){return this.query().value}get(){return this.query().value}eventifyInitEventArgs(t){if("change"==t)return[this.query()]}bind(t,e,n={}){return function(t,e,n){return B.bind(t,e,n)}(this,t,e)}release(t){return e=t,B.release(e);var e}onchange(){this.notify_callbacks(),this.eventifyTrigger("change",this.query()),this.detect_future_event()}detect_future_event(){}}L(J.prototype),F(J.prototype);class X{constructor(t={}){const{clock:e,vector:n=Y}=t;if(void 0!==e&&("now"in(r=e)&&"function"==typeof r.now))this._clock={now:t=>{const n=null!=t?M.now()-t:0;return e.now()-n}},this._rate=1;else{let{ts:t,value:e,rate:r=1}=n;null==t&&(t=M.now()),H("ts",t),H("value",e),H("rate",r),this._t0=t,this._value=e,this._rate=r,this._clock={now:(t=M.now())=>this._value+(t-this._t0)*this._rate}}var r}now(){return this._clock.now()}get rate(){return this._rate}}const Y={ts:M.now(),value:new Date/1e3,rate:1},K=new X({vector:Y});function Q(t){return!!q(t)&&("get"in t&&("function"==typeof t.get&&("update"in t&&"function"==typeof t.update)))}class Z{constructor(t={}){P(this),this._map=new Map;let{items:e}=t;if(null!=e)for(const t of e)this._map.set(t.id,t)}update(t){return Promise.resolve().then((()=>{let e;return null!=t&&(e=this._update(t),this.notify_callbacks(e)),e}))}_update(t){const e=new Map;let{insert:n=[],remove:r=[],reset:i=!1}=t;if(i){for(const[t,n]of this._map.entries())e.set(t,{id:t,new:void 0,old:n});this._map=new Map}else for(const t of r){let n=this._map.get(t);null!=n&&(e.set(n.id,{id:n.id,new:void 0,old:n}),this._map.delete(t))}for(let t of n){const n=e.get(t.id),r=null!=n?n.old:this._map.get(t.id);e.set(t.id,{id:t.id,new:t,old:r}),this._map.set(t.id,t)}return[...e.values()]}get(){return[...this._map.values()]}}function tt(t){return!!q(t)&&("get"in t&&("function"==typeof t.get&&("set"in t&&"function"==typeof t.set)))}L(Z.prototype);class et{constructor(t={}){const{items:e}=t;P(this),this._object=e}set(t){return Promise.resolve().then((()=>{this._object=t,this.notify_callbacks()}))}get(){return this._object}}L(et.prototype);const nt="srcprop",rt=`__${nt}`;function it(t){t[`${rt}`]=new Map}function st(t){const e={};e[`${nt}_register`]=function(t,e={}){let{mutable:n=!0}=e;const r=this[`${rt}`];r.set(t,{init:!1,mutable:n,entity:void 0,handles:[]}),Object.defineProperty(this,t,{get:function(){return r.get(t).entity},set:function(e){this[`${nt}_check`]&&(e=this[`${nt}_check`](t,e)),e!=r.get(t).entity&&this[`${rt}_attach`](t,e)}})},e[`${rt}_attach`]=function(t,e){const n=this[`${rt}`].get(t);if(n.init&&!n.mutable)throw new Error(`${t} can not be reassigned`);const r=Array.isArray(e)?e:[e];if(n.handles.length>0)for(const[t,e]of Object.entries(r))q(e)&&e.remove_callback(n.handles[t]);if(n.handles=[],n.entity=e,n.init=!0,this[`${nt}_onchange`]){const e=function(e){this[`${nt}_onchange`](t,e)}.bind(this);for(const t of r)q(t)&&n.handles.push(t.add_callback(e));this[`${nt}_onchange`](t,"reset")}},Object.assign(t,e)}class ot{constructor(){this._array=[]}get size(){return this._array.length}get array(){return this._array}indexOf(t){const e=m.from_input(t);let n=0,r=this._array.length-1;for(;n<=r;){const t=Math.floor((n+r)/2);let i=this._array[t];if(m.eq(i,e))return[!0,t];m.lt(i,e)?n=t+1:r=t-1}return[!1,n]}geIndexOf(t){let[e,n]=this.indexOf(t);return n<this._array.length?n:-1}leIndexOf(t){let[e,n]=this.indexOf(t);return n=e?n:n-1,n>=0?n:-1}gtIndexOf(t){let[e,n]=this.indexOf(t);return n=e?n+1:n,n<this._array.length?n:-1}ltIndexOf(t){let[e,n]=this.indexOf(t);return n-=1,n>=0?n:-1}update(t=[],e=[]){let n=[];for(let e of t){let[t,r]=this.indexOf(e);t&&n.push(r)}for(let t of n)this._array[t]=void 0;let r=n.length>0,i=e.length>0;i&&function(t,e){const n=t.length,r=e.length;t.length+=r;for(let i=0;i<r;i++)t[n+i]=e[i]}(this._array,e),(r||i)&&this._array.sort(m.cmp),r&&(this._array.length-=n.length),i&&function(t){let e=0;for(;!(e+1>=t.length);)m.eq(t[e],t[e+1])?t.splice(e+1,1):e+=1}(this._array)}get_by_index(t){if(t>-1&&t<this._array.length)return this._array[t]}lookup(t){null==t&&(t=[null,null,!0,!0]);let[e,n]=m.from_interval(t),r=this.geIndexOf(e),i=this.leIndexOf(n);return-1==r||-1==i?[]:this._array.slice(r,i+1)}lt(t){return this.get_by_index(this.ltIndexOf(t))}le(t){return this.get_by_index(this.leIndexOf(t))}get(t){let[e,n]=this.indexOf(t);if(e)return this._array[n]}gt(t){return this.get_by_index(this.gtIndexOf(t))}ge(t){return this.get_by_index(this.geIndexOf(t))}}const{LOW_CLOSED:ct,LOW_OPEN:lt,HIGH_CLOSED:ut,HIGH_OPEN:at}=m.types,ht=[ct,lt,ut,at];class ft{constructor(){this._map=new Map([[ct,new Set],[lt,new Set],[ut,new Set],[at,new Set]])}add(t){const[e,n]=t;return this._map.get(n).add(e)}has(t){const[e,n]=t;return this._map.get(n).has(e)}get(t){const[e,n]=t;return this._map.get(n).get(e)}list(){const t=ht.map((t=>[...this._map.get(t).values()].map((e=>[e,t]))));return[].concat(...t)}}const _t="low",dt="active",pt="high";class mt{constructor(){this._map=new Map([[ct,new Map],[lt,new Map],[ut,new Map],[at,new Map]])}get_items_by_role(t,e){const[n,r]=t,i=this._map.get(r).get(n);return null!=i?i[e]:[]}register(t,e,n){const[r,i]=t,s=this._map.get(i);s.has(r)||s.set(r,{low:[],active:[],high:[]});const o=s.get(r),c=o[_t].length+o[pt].length==0;-1==o[n].findIndex((t=>t.id==e.id))&&o[n].push(e);const l=o[_t].length+o[pt].length==0;return c&&!l}unregister(t,e){const[n,r]=t,i=this._map.get(r),s=i.get(n);if(null!=s){const t=s[_t].length+s[pt].length==0;for(const t of[_t,dt,pt]){let n=s[t].findIndex((t=>t.id==e.id));n>-1&&s[t].splice(n,1)}const r=s[_t].length+s[pt].length==0;if(!t&&r)return i.delete(n),!0}return!1}}class gt extends v{constructor(t){if(super(),!Q(t)&&!tt(t))throw new Error(`stateProvider must be collectionProvider or variableProvider ${t}`);this._sp=t,this._initialise(),this.refresh()}get src(){return this._sp}_initialise(){this._itemsmap=new mt,this._endpoints=new ot,this._index=[]}refresh(t){const e=new ft,n=new ft;let r,i=[],s=[];if(null==t)i=this.src.get()||[],this._initialise();else for(const e of t)null!=e.new&&i.push(e.new),null!=e.old&&s.push(e.old);for(const t of s)for(const n of this._endpoints.lookup(t.itv)){this._itemsmap.unregister(n,t)&&e.add(n)}for(const t of i){const[e,i]=m.from_interval(t.itv);r=this._itemsmap.register(e,t,_t),r&&n.add(e),r=this._itemsmap.register(i,t,pt),r&&n.add(i)}this._endpoints.update(e.list(),n.list());const o=new Set;for(const t of this._endpoints.array){for(let e of this._itemsmap.get_items_by_role(t,_t))o.add(e);for(let e of o)this._itemsmap.register(t,e,dt);for(let e of this._itemsmap.get_items_by_role(t,pt))o.delete(e)}}_covers(t){const e=m.from_input(t),n=this._endpoints.le(e)||m.NEG_INF,r=this._endpoints.ge(e)||m.POS_INF;if(m.eq(n,r))return this._itemsmap.get_items_by_role(n,dt);{const t=this._itemsmap.get_items_by_role(n,dt),e=this._itemsmap.get_items_by_role(r,dt),i=new Set(t.map((t=>t.id)));return e.filter((t=>i.has(t.id)))}}nearby(t){const e=m.from_input(t);let n=this._covers(e);const r=[],i=[];for(const t of n){const[e,n]=m.from_interval(t.itv);r.push(n),i.push(e)}let s,o=e;for(;!(o=this._endpoints.lt(o)||m.NEG_INF,null==o[0]||(s=this._itemsmap.get_items_by_role(o,pt),s.length>0)););let c=e;for(;!(c=this._endpoints.gt(c)||m.POS_INF,null==c[0]||(s=this._itemsmap.get_items_by_role(c,_t),s.length>0)););return O(o,i,n,r,c)}}class vt{constructor(t){this._itv=t}get itv(){return this._itv}state(t){throw new Error("not implemented")}query(t){return g.covers_point(this._itv,t)?{...this.state(t),offset:t}:{value:void 0,dynamic:!1,offset:t}}}class yt extends vt{constructor(t,e){super(t),this._value=e}state(){return{value:this._value,dynamic:!1}}}class bt extends vt{constructor(t,e){super(t),this._vector=e}state(t){const[e,n,r,i]=T.calculate(this._vector,t);return{value:e,dynamic:0!=n||0!=r,vector:[e,n,r,i]}}}function wt(t){return Math.pow(t,2)}class Ot extends vt{constructor(t,e){super(t);let{v0:n,v1:r,easing:i}=e,[s,o]=this._itv.slice(0,2);this._dynamic=r-n!=0,this._trans=function(t){return t-=s,t/=parseFloat(o-s),"ease-in"==i?t=wt(t):"ease-out"==i?t=function(t){return 1-wt(1-t)}(t):"ease-in-out"==i&&(t=function(t){return t<.5?wt(2*t)/2:(2-wt(2*(1-t)))/2}(t)),t=Math.max(t,0),t=Math.min(t,1),n+(r-n)*t}}state(t){return{value:this._trans(t),dynamic:this._dynamic}}}class Et extends vt{constructor(t,e){super(t),this._trans=function(t){if(t.length<1)return function(){};if(1==t.length)return function(){return t[0][0]};const e=[...t].sort(((t,e)=>t[1]-e[1]));return function(t){if(t<=e[0][1]){const[n,r]=e[0],[i,s]=e[1];return n+(t-r)*(i-n)/(s-r)}if(t>=e[e.length-1][1]){const[n,r]=e[e.length-2],[i,s]=e[e.length-1];return n+(t-r)*(i-n)/(s-r)}for(let n=0;n<e.length-1;n++)if(t>=e[n][1]&&t<=e[n+1][1]){const[r,i]=e[n],[s,o]=e[n+1];return r+(t-i)*(s-r)/(o-i)}}}(e)}state(t){return{value:this._trans(t),dynamic:!0}}}function xt(t,e){let{type:n="static",data:r}=e;return"static"==n?new yt(t,r):"transition"==n?new Ot(t,r):"interpolation"==n?new Et(t,r):"motion"==n?new bt(t,r):void console.log("unrecognized segment type",n)}function $t(t={}){const{provider:e,numeric:n=!1,mutable:r=!0,mask:i,...s}=t,o=new z({CacheClass:kt,...s});return Object.defineProperty(o,"numeric",{get:()=>n}),Object.defineProperty(o,"mutable",{get:()=>r}),Object.defineProperty(o,"itemsOnly",{get:()=>!0}),null!=i&&H("mask",i),o.mask=i,it(o),st(o),o.srcprop_register("provider"),o.srcprop_check=function(t,e){if("provider"==t){if(!Q(e)&&!tt(e))throw new Error(`"obj" must collectionProvider or objectProvider ${e}`);return e}},o.srcprop_onchange=function(t,e){"provider"==t&&("reset"==e&&(Q(o.provider)||tt(o.provider))&&(o.index=new gt(o.provider)),null!=o.index&&(Q(o.provider)?o.index.refresh(e):tt(o.provider)&&o.index.refresh(),o.onchange()))},o.get_items=function(t){return[...o.index.nearby(t).center]},o.readOnly||(o.update=function(t){return Ft(o,t)},o.append=function(t,e){return function(t,e,n){const r=m.from_input(n),i=e.filter((t=>{const e=m.from_interval(t.itv)[1];return m.ge(e,r)})).map((t=>{if(g.covers_endpoint(t.itv,r)){const e={...t};return e.itv=[n,t.itv[1],!0,t.itv[3]],e}return t})),s=t.index.nearby(n).center.map((t=>{const e={...t};return e.itv=[t.itv[0],n,t.itv[2],!1],e})),o=t.provider.get().filter((t=>{const e=m.from_interval(t.itv)[0];return m.gt(e,r)})).map((t=>t.id)),c=[...s,...i];return Ft(t,{remove:o,insert:c,reset:!1})}(o,t,e)}),o.provider=e,o}class kt{constructor(t){this._layer=t,this._nearby=void 0,this._segment=void 0,this._query_options={valueFunc:this._layer.valueFunc,stateFunc:this._layer.stateFunc,numeric:this._layer.numeric,mask:this._layer.mask}}get src(){return this._layer}get segment(){return this._segment}query(t){if(null==this._nearby||!g.covers_endpoint(this._nearby.itv,t)){this._nearby=this._layer.index.nearby(t);let{itv:e,center:n}=this._nearby;this._segments=n.map((t=>xt(e,t)))}const e=this._segments.map((e=>e.query(t)));return j(this._segments,e,t,this._query_options)}clear(){this._nearby=void 0,this._segment=void 0}}function Ft(t,e={}){let{insert:n=[]}=e;if(e.insert=G(n),t.isNumberOnly)for(let t of e.insert)if(t.type??="static","static"==t.type&&!A(t.data))throw new Error(`Layer is number only, but item ${t} is not a number`);if(Q(t.provider))return t.provider.update(e);if(tt(t.provider)){let{insert:n=[],remove:r=[],reset:i=!1}=e;if(i)return t.provider.set(n);{const e=new Map((t.provider.get()||[]).map((t=>[t.id,t])));r.forEach((t=>e.delete(t))),n.forEach((t=>e.set(t.id,t)));const i=Array.from(e.values());return t.provider.set(i)}}}function It(t={}){const{ctrl:e,src:n,mutable:r=!1}=t;let i,s,o;const c=new J;function l(t,e){const[n,r,i,o]=t;if(0!=i)throw new Error("timeout not yet implemented for acceleration");if(e==1/0||e==-1/0)return;const c=(e-n)/r;if(c<=0)return console.log("Warning - timeout <= 0 - dropping",c),console.log("vector",t),void console.log("target",e);s=function(t,e){let n,r=performance.now()+(e=Math.max(e,0));return n=setTimeout((function e(){const i=r-performance.now();i>0?n=setTimeout(e,i+1):t()}),e+1),{cancel:function(){clearTimeout(n)}}}(u,1e3*c)}function u(){c.onchange()}return Object.defineProperty(c,"numeric",{get:()=>null!=c.src&&c.src.numeric}),Object.defineProperty(c,"mutable",{get:()=>null!=c.src&&(c.src.mutable&&r)}),Object.defineProperty(c,"itemsOnly",{get:()=>null!=c.src&&c.src.itemsOnly}),it(c),st(c),c.srcprop_register("ctrl"),c.srcprop_register("src"),c.srcprop_check=function(t,e){if("ctrl"==t){if(!(e instanceof J)||0==e.numeric)throw new Error(`"ctrl" property must be a numeric cursor ${e}`);return e}if("src"==t){if(!(e instanceof z))throw new Error(`"src" property must be a layer ${e}`);return e}},c.srcprop_onchange=function(t,e){null!=c.src&&null!=c.ctrl&&("src"==t&&("reset"==e?i=c.src.createCache():i.clear()),c.onchange())},c.query=function(t){let e=c.ctrl.query(t).value;H("cursor.ctrl.offset",e);const n=i.query(e);return c.src.numeric&&null==n.value&&(n.value=0),n},c.active_items=function(t){if(c.itemsOnly){const e=c.ctrl.query(t).value;return c.src.index.nearby(e).center}},c.detect_future_event=function(){if(null!=s&&s.cancel(),null!=o&&clearInterval(o),c.fixedRate)return;if(null==c.ctrl)throw new Error("cursor.ctrl can not be undefined with isFixedRate=false");if(null==c.src)throw new Error("cursor.src can not be undefined with isFixedRate=false");const{value:t,dynamic:e,offset:n}=c.ctrl.query();if(!e)return;const r=c.src.index.nearby(t),i=r.itv[0]??-1/0,u=r.itv[1]??1/0;if(i!=-1/0||u!=1/0)if(c.ctrl.fixedRate){l([t,c.ctrl.rate,0,n],u)}else{if(c.ctrl.ctrl.fixedRate&&c.ctrl.src.itemsOnly){const e=c.ctrl.src.get_items(n);if(1==e.length){const r=e[0];if("motion"==r.type){const[e,s,o,c]=r.data;if(0==o){return void l([t,s,0,n],s>0?u:i)}}else if("transition"==r.type){const{v0:e,v1:s,t0:o,t1:c,easing:a="linear"}=r.data;if("linear"==a){const r=(s-e)/(c-o);return void l([t,r,0,n],r>0?u:i)}}}}var a,h;a=i,h=u,o=setInterval((()=>{!function(t,e){let n=c.ctrl.value;(t>-1/0&&n<t||e<1/0&&n>e)&&c.onchange()}(a,h)}),100)}},c.ctrl=e,c.src=n,c}function Pt(t={}){const{ctrl:e,src:n,record:r=!1}=t,i=new It({ctrl:e,src:n,mutable:!0}),s=i.srcprop_check;return i.srcprop_check=function(t,e){if(e=s(t,e),"ctrl"==t){if(!e.fixedRate)throw new Error(`"ctrl" property must be a fixedrate cursor ${e}`);return e}if("src"==t){if(!e.mutable)throw new Error(`"src" property must be mutable layer ${e}`);return e}},i.set=t=>{const e=function(t,e){let n=[];null!=e&&(n=[{id:D(10),itv:[null,null,!0,!0],type:"static",data:e}]);return n}(0,t);return i.update(e)},i.motion=t=>{const e=function(t,e={}){let{value:n,offset:r}=t.query();"number"==typeof n&&isFinite(n)||(n=0);const{position:i=n,velocity:s=0,acceleration:o=0,timestamp:c=r,range:l=[null,null]}=e;T.check_range(l),H("position",i),H("velocity",s),H("acceleration",o),H("timestamp",c);const u=[],a=(0,T.calculate_time_ranges)([i,s,o,c],l),h=t.ctrl.value,f=a.find((t=>{const e=t[0]??-1/0,n=t[1]??1/0;return e<=h&&h<=n}));if(null!=f){const[t,e]=f;u.push({id:D(10),itv:[t,e,!0,!0],type:"motion",data:[i,s,o,c]}),null!=t&&u.push({id:D(10),itv:[null,t,!0,!1],type:"static",data:l[0]}),null!=e&&u.push({id:D(10),itv:[e,null,!1,!0],type:"static",data:l[1]})}else{const t=i<l[0]?l[0]:l[1];u.push({id:D(10),itv:[null,null,!0,!0],type:"static",data:t})}return u}(i,t);return i.update(e)},i.transition=({target:t,duration:e,easing:n})=>{const r=function(t,e,n,r){const{value:i,offset:s}=t.query(),o=e,c=s+n;if(o==i)return;return H("position",i),H("position",o),H("position",s),H("position",c),[{id:D(10),itv:[null,s,!0,!1],type:"static",data:i},{id:D(10),itv:[s,c,!0,!0],type:"transition",data:{v0:i,v1:o,t0:s,t1:c,easing:r}},{id:D(10),itv:[c,null,!1,!0],type:"static",data:o}]}(i,t,e,n);return i.update(r)},i.interpolate=({tuples:t,duration:e})=>{const n=function(t,e,n){const r=t.ctrl.value;e=e.map((([t,e])=>(H("ts",e),H("val",t),[t,r+e])));const i=xt([null,null,!0,!0],{type:"interpolation",data:e}),s=r,o=s+n,c=i.state(s).value,l=i.state(o).value;return[{id:D(10),itv:[-1/0,s,!0,!1],type:"static",data:c},{id:D(10),itv:[s,o,!0,!1],type:"interpolation",data:e},{id:D(10),itv:[o,1/0,!0,!0],type:"static",data:l}]}(i,t,e);return i.update(n)},i.update=t=>{if(null!=t)return r?i.src.append(t,i.ctrl.value):i.src.update({insert:t,reset:!0})},i}class Nt extends v{constructor(t){super(),this._cursor=t}nearby(t){return{itv:[null,null,!0,!0],center:[this._cursor],left:m.NEG_INF,prev:m.NEG_INF,right:m.POS_INF,next:m.POS_INF}}}const Ct={sum:{valueFunc:function(t){return t.states.map((t=>t.value)).reduce(((t,e)=>t+e),0)}},stack:{stateFunc:function(t){return{...t.states[0]}}},array:{valueFunc:function(t){return t.states.map((t=>t.value))}}};function St(t,e){return m.cmp(t,e)}function Lt(t,e){return m.cmp(e,t)}class qt extends v{constructor(t){super(),this._sources=t,this._caches=new Map(t.map((t=>[t,t.createCache()])))}nearby(t){t=m.from_input(t);const e=[],n=[],r=[],i=[],s=[];for(let o of this._sources){let c=o.index.nearby(t),l=o.index.find_region(c,{direction:-1}),u=o.index.find_region(c,{direction:1});if(null!=l&&e.push(m.from_interval(l.itv)[1]),null!=u&&n.push(m.from_interval(u.itv)[0]),c.center.length>0){r.push(this._caches.get(o));let[t,e]=m.from_interval(c.itv);i.push(e),s.push(t)}}n.sort(St);const o=n[0]||m.POS_INF;e.sort(Lt);return O(e[0]||m.NEG_INF,s,r,i,o)}}function At(t){return{query:function(e){return{value:t,dynamic:!1,offset:e}}}}class Ht extends v{constructor(t,e={}){super(),this._index=t;let{condition:n=t=>t.length>0}=e;this._condition=n}nearby(t){t=m.from_input(t);const e=this._index.nearby(t);let n=this._condition(e.center);const r=t=>this._condition(t)!=n;let i,s,o=this._index.find_region(e,{direction:1,condition:r});null!=o&&(i=m.from_interval(o.itv)[0]);let c=this._index.find_region(e,{direction:-1,condition:r});null!=c&&(s=m.from_interval(c.itv)[1]),s=s||m.NEG_INF,i=i||m.POS_INF;const l=m.flip(s),u=m.flip(i),a=n?1:0;return{itv:g.from_endpoints(l,u),center:[At(a)],left:s,right:i}}}function Mt(t){if(!(t instanceof z))throw new Error(`must be layer ${t}`);return{eval:function(e){for(let n of e)if(n.src==t)return!0;return!1}}}function jt(t,{shift:e=0,scale:n=1}){if(null==t||!isFinite(t))return t;if("number"==typeof t)return t*n+e;if(Array.isArray(t)&&t.length>1){let[r,i]=t;return m.from_input([r*n+e,i])}}function Gt(t,{shift:e=0,scale:n=1}){if(null==t||!isFinite(t))return t;if("number"==typeof t)return(t-e)/n;if(Array.isArray(t)&&t.length>1){let[r,i]=t;return m.from_input([(r-e)/n,i])}}Mt.and=function(...t){return{eval:function(e){return t.every((t=>t.eval(e)))}}},Mt.or=function(...t){return{eval:function(e){return t.some((t=>t.eval(e)))}}},Mt.xor=function(t,e){return{eval:function(n){return t.eval(n)!=e.eval(n)}}},Mt.not=function(t){return{eval:function(e){return!t.eval(e)}}};class Dt extends v{constructor(t,e={}){super(),this._layer=t,this._cache=t.createCache(),this._options=e,this._transform_cache={query:function(t){return{...this._cache.query(Gt(t,this._options)),offset:t}}.bind(this)}}nearby(t){t=m.from_input(t);const e=this._layer.index.nearby(Gt(t,this._options)),n=e.itv.slice();return n[0]=jt(e.itv[0],this._options),n[1]=jt(e.itv[1],this._options),{itv:n,left:jt(e.left,this._options),right:jt(e.right,this._options),center:e.center.map((()=>this._transform_cache))}}}function Rt(t={}){const{ctrl:e,src:n,dst:r}=t;if(!(e instanceof J))throw new Error(`ctrl must be a cursor ${e}`);if(!e.fixedRate&&!e.ctrl.fixedRate)throw new Error(`ctrl or ctrl.ctrl must be fixedRate ${e}`);if(!e.fixedRate&&e.ctrl.fixedRate&&!e.itemsOnly)throw new Error(`given ctrl.ctrl.fixedRate, ctrl must be itemsOnly ${e}`);if(!(n instanceof J))throw new Error(`src must be a cursor ${n}`);if(n.fixedRate)throw new Error(`cursor src can not be fixedRate cursor ${n}`);if(!n.itemsOnly)throw new Error(`cursor src must be itemsOnly ${n}`);if(!n.mutable)throw new Error(`cursor src must be mutable ${n}`);const i=n.src.provider,s=r.provider;if(i===s)throw new Error("src and dst can not have the same stateProvider");let o=!1;function c(){const t=o;if(o=!1,e.fixedRate)o=!0;else{const t=e.ctrl.value,n=e.src.index.nearby(t).center;if(1==n.length&&"motion"==n[0].type){const[t,e,r,i]=n[0].data;(e>0||0==e&&r>0)&&(o=!0)}}!t&&o?(console.log("start recording"),l()):t&&!o&&function(){console.log("stop recording");const t=M.now(),n=e.query(t).value,i=r.index.nearby(n).center,s=i.map((t=>{const e={...t};return e.itv[1]=n,e.itv[3]=!1,e}));i.length>0&&r.update({insert:s,reset:!1})}()}function l(){const t=M.now(),s=n.query(t).offset,o=e.query(t).value;let c=structuredClone(i.get());const l=o-s;if(0!=l){const t=c.map((t=>function(t,e){t={...t},t.itv[0]=null!=t.itv[0]?t.itv[0]+e:null,t.itv[1]=null!=t.itv[1]?t.itv[1]+e:null,"motion"==t.type?t.data.timestamp=t.data.timestamp+e:"transition"==t.type&&(t.data.t0=t.data.t0+e,t.data.t1=t.data.t1+e);return t}(t,l)));r.append(t,o)}else r.append(c,s)}return i.add_callback((function(){o&&l()})),e.add_callback(c),c(),r}function Wt(t,e){const n=t.id,r=t.type;let i="";if(null!=t.itv){const[e,n,r,s]=t.itv;i=`[${null==e?"null":e.toFixed(2)},${null==n?"null":n.toFixed(2)},${r},${s}]`}let s=`<span class="item-id">${n}</span>`,o=`<span class="item-itv">${i}</span>`,c=`<span class="item-type">${r}</span>`,l=`<span class="item-data">${JSON.stringify(t.data)}</span>`;const{delete_allowed:u=!1}=e;return u?`\n        <div>\n            <button id="delete">X</button>\n            ${s}: ${c} ${o} ${l}\n        </div>`:`\n        <div>\n            ${s}: ${c} ${o} ${l}\n        </div>`}class Tt{constructor(t,e,n={}){this._sp=t,this._elem=e,this._handle=this._sp.add_callback(this._onchange.bind(this));let r={toString:Wt};this._options={...r,...n},this._options.delete_allowed&&e.addEventListener("click",(t=>{const e=t.target.closest("#delete");if(e){const n=e.closest(".list-item");n&&(this._sp.update({remove:[n.id]}),t.stopPropagation())}})),this._onchange()}_onchange(){const t=this._sp.get()||[];t.sort(((t,e)=>{let n=m.from_interval(t.itv)[0],r=m.from_interval(e.itv)[0];return m.cmp(n,r)})),this._elem.replaceChildren();const{toString:e}=this._options;for(let n of t){let t=this._elem.querySelector(`#${n.id}`);null==t&&(t=document.createElement("div"),t.setAttribute("id",n.id),t.classList.add("list-item"),this._elem.appendChild(t)),t.innerHTML=e(n,this._options)}}}function zt(t={}){let{src:e,provider:n,items:r=[],value:i,...s}=t;if(null!=e&&e instanceof z)return e;if(null==n)if(null!=i){const t=G([{itv:[null,null,!0,!0],data:i}]);n=new et({items:t})}else r=G(r),n=new Z({items:r});return $t({provider:n,...s})}function Ut(t={}){const{clock:e,vector:n,...r}=t,i=((t={})=>{const{clock:e,vector:n}=t;return null==e&&null==n?K:new X(t)})({clock:e,vector:n});return function(t={}){const{provider:e,shift:n=0,scale:r=1}=t,i=new J;return Object.defineProperty(i,"numeric",{get:()=>!0}),Object.defineProperty(i,"fixedRate",{get:()=>!0}),i.query=function(t=M.now()){return{value:e.now(t)*r+n,dynamic:!0,offset:t}},it(i),st(i),i.srcprop_register("provider"),i.srcprop_check=function(t,n){if("provider"==t){if(!(n instanceof X))throw new Error(`provider must be clockProvider ${e}`);return n}},i.srcprop_onchange=function(t,e){"provider"==t&&"reset"==e&&i.onchange()},i.rate=1*r,i.provider=e,i}({provider:i,...r})}return t.CollectionProvider=Z,t.Cursor=J,t.Layer=z,t.NearbyIndexBase=v,t.ObjectProvider=et,t.boolean=function(t){const e=new z;return e.index=new Ht(t.index),t.add_callback((t=>{e.onchange(t)})),Object.defineProperty(e,"numeric",{get:()=>!0}),e.src=t,e},t.clock=Ut,t.cursor_transform=function(t,e={}){if(!(t instanceof J))throw new Error(`src must be a Cursor ${t}`);const{numeric:n,valueFunc:r,stateFunc:i}=e,s=new J;return s.query=function(){return function(t,e={}){const{valueFunc:n,stateFunc:r}=e;return null!=n?(t.value=n(t.value),t):null!=r?r(t):t}(t.query(),{stateFunc:i,valueFunc:r})},Object.defineProperty(s,"numeric",{get:()=>null==n?t.numeric:n}),Object.defineProperty(s,"fixedRate",{get:()=>t.fixedRate}),t.fixedRate&&Object.defineProperty(s,"rate",{get:()=>t.rate}),t.add_callback((()=>{s.onchange()})),s},t.layer=zt,t.layer_from_cursor=function(t){if(!(t instanceof J))throw new Error(`src must be a Cursor ${t}`);const e=new z;return e.index=new Nt(t),Object.defineProperty(e,"numeric",{get:()=>t.numeric}),t.add_callback((t=>{e.onchange(t)})),e.src=t,e},t.layer_transform=function(t,e={}){if(!(t instanceof z))throw new Error(`src must be a Layer ${t}`);const n={};var r,i;n.valueFunc=(r=e.valueFunc,function({sources:t,states:e,offset:n}){return r(e[0].value)}),n.stateFunc=(i=e.stateFunc,function({sources:t,states:e,offset:n}){return i(e[0])});const s=new z(n);return s.index=new E(t),s.src=t,s.src.add_callback((t=>{s.onchange(t)})),Object.defineProperty(s,"numeric",{get:()=>t.numeric}),s},t.local_clock=M,t.logical_expr=Mt,t.logical_merge=function(t,e={}){const{expr:n}=e;let r;n&&(r=t=>n.eval(t));const i=new z,s=new qt(t);return i.index=new Ht(s,{condition:r}),t.map((t=>t.add_callback(i.onchange))),i.sources=t,Object.defineProperty(i,"numeric",{get:()=>!0}),i},t.merge=function(t,e={}){let{type:n="",...r}=e;n in Ct&&(r=Ct[n]);const i=new z(r);it(i),st(i),i.srcprop_register("sources"),i.srcprop_check=function(t,e){if("sources"==t){if(!Array.isArray(e))throw new Error(`sources must be array ${e}`);if(!e.map((t=>t instanceof z)).every((t=>t)))throw new Error(`sources must all be layers ${e}`)}return e},i.srcprop_onchange=function(t,e){"sources"==t&&("reset"==e&&(i.index=new qt(i.sources)),i.onchange())};const s=t.map((t=>t.numeric)).every((t=>t));return Object.defineProperty(i,"numeric",{get:()=>s}),i.sources=t,i},t.object=function(t={}){let{ctrl:e,src:n,...r}=t;return null==e&&(e=Ut()),null==n&&(n=zt(r)),Pt({ctrl:e,src:n})},t.playback=function(t={}){let{ctrl:e,src:n,...r}=t;return null==e&&(e=Ut()),null==n&&(n=zt(r)),It({ctrl:e,src:n})},t.record=function(t={}){const e=zt({mutable:!0});let{ctrl:n,src:r}=t;return null==n&&(n=Ut()),Rt({ctrl:n,src:r,dst:e})},t.render_cursor=function(t,e,n={}){const{delay:r=200,render:i,novalue:s}=n,o=document.querySelector(e);return t.bind((function(t){null==t.value&&null!=s&&(t.value=s),null!=i?i(t,o):o.textContent=null!=t.value?`${t.value}`:""}),r)},t.render_provider=function(t,e,n={}){const r=document.querySelector(e);return new Tt(t,r,n)},t.timeline_transform=function(t,e={}){const n=new z;return it(n),st(n),n.srcprop_register("src"),n.srcprop_check=function(t,e){if("src"==t){if(!(e instanceof z))throw new Error(`"src" must be Layer ${e}`);return e}},n.srcprop_onchange=function(t,r){"src"==t&&("reset"==r&&(this.index=new Dt(this.src,e)),n.onchange())},Object.defineProperty(n,"numeric",{get:()=>t.numeric}),n.src=t,n},t}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGVsYXllcnMuaWlmZS5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL2ludGVydmFscy5qcyIsIi4uLy4uL3NyYy9uZWFyYnlfYmFzZS5qcyIsIi4uLy4uL3NyYy91dGlsL2FwaV9ldmVudGlmeS5qcyIsIi4uLy4uL3NyYy91dGlsL2FwaV9jYWxsYmFjay5qcyIsIi4uLy4uL3NyYy91dGlsL2NvbW1vbi5qcyIsIi4uLy4uL3NyYy9sYXllcl9iYXNlLmpzIiwiLi4vLi4vc3JjL3V0aWwvY3Vyc29yX21vbml0b3IuanMiLCIuLi8uLi9zcmMvY3Vyc29yX2Jhc2UuanMiLCIuLi8uLi9zcmMvcHJvdmlkZXJfY2xvY2suanMiLCIuLi8uLi9zcmMvcHJvdmlkZXJfY29sbGVjdGlvbi5qcyIsIi4uLy4uL3NyYy9wcm92aWRlcl9vYmplY3QuanMiLCIuLi8uLi9zcmMvdXRpbC9hcGlfc3JjcHJvcC5qcyIsIi4uLy4uL3NyYy91dGlsL3NvcnRlZGFycmF5LmpzIiwiLi4vLi4vc3JjL25lYXJieV9pbmRleC5qcyIsIi4uLy4uL3NyYy91dGlsL3NlZ21lbnRzLmpzIiwiLi4vLi4vc3JjL2xheWVyX2xlYWYuanMiLCIuLi8uLi9zcmMvY3Vyc29yX3BsYXliYWNrLmpzIiwiLi4vLi4vc3JjL2N1cnNvcl9vYmplY3QuanMiLCIuLi8uLi9zcmMvb3BzL2xheWVyX2Zyb21fY3Vyc29yLmpzIiwiLi4vLi4vc3JjL29wcy9tZXJnZS5qcyIsIi4uLy4uL3NyYy9vcHMvYm9vbGVhbi5qcyIsIi4uLy4uL3NyYy9vcHMvbG9naWNhbF9tZXJnZS5qcyIsIi4uLy4uL3NyYy9vcHMvdGltZWxpbmVfdHJhbnNmb3JtLmpzIiwiLi4vLi4vc3JjL29wcy9yZWNvcmQuanMiLCIuLi8uLi9zcmMvdXRpbC9wcm92aWRlcl92aWV3ZXIuanMiLCIuLi8uLi9zcmMvaW5kZXguanMiLCIuLi8uLi9zcmMvY3Vyc29yX2Nsb2NrLmpzIiwiLi4vLi4vc3JjL29wcy90cmFuc2Zvcm0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAgICBcbiAgICBJTlRFUlZBTCBFTkRQT0lOVFNcblxuICAgICogaW50ZXJ2YWwgZW5kcG9pbnRzIGFyZSBkZWZpbmVkIGJ5IHRyaXBsZXQgW3ZhbHVlLCB0eXBlXVxuICAgICpcbiAgICAqICAgdGhlcmUgYXJlIDQgdHlwZXMgb2YgaW50ZXJ2YWwgZW5kcG9pbnRzIFxuICAgICogICAtIHYpIC0gaGlnaCBlbmRwb2ludCBhdCB2LCBub3QgaW5jbHVzaXZlXG4gICAgKiAgIC0gdl0gLSBoaWdoIGVuZHBvaW50IGF0IHYsIGluY2x1c2l2ZVxuICAgICogICAtIFt2IC0gbG93IGVuZHBvaW50IGF0IHYsIG5vdCBpbmNsdXNpdmVcbiAgICAqICAgLSAodiAtIGxvdyBlbmRwb2ludCBhdCB2LCBpbmNsdXNpdmVcbiAgICAqIFxuICAgICogICBBIHNpbmd1bGFyIGludGVydmFsIFsyLDIsdHJ1ZSx0cnVlXSB3aWxsIGhhdmUgZW5kcG9pbnRzIFsyIGFuZCAyXVxuICAgICogXG4gICAgKiAgIEFkZGl0aW9uYWxseSwgdG8gc2ltcGxpZnkgY29tcGFyaXNvbiBiZXR3ZWVuIGVuZHBvaW50cyBhbmQgbnVtYmVyc1xuICAgICogICB3aSBpbnRyb2R1Y2UgYSBzcGVjaWFsIGVuZHBvaW50IHR5cGUgLSBWQUxVRVxuICAgICogXG4gICAgKiAgIFRodXMgd2UgZGVmaW5lIDUgdHlwZXMgb2YgZW5kcG9pbnRzXG4gICAgKiBcbiAgICAqICAgSElHSF9PUEVOIDogdilcbiAgICAqICAgSElHSF9DTE9TRUQ6IHZdXG4gICAgKiAgIFZBTFVFOiB2XG4gICAgKiAgIExPV19DTE9TRUQ6IFt2XG4gICAgKiAgIExPV19PUEVOOiAodilcbiAgICAqIFxuICAgICogICBGb3IgdGhlIHB1cnBvc2Ugb2YgZW5kcG9pbnQgY29tcGFyaXNvbiB3ZSBtYWludGFpblxuICAgICogICBhIGxvZ2ljYWwgb3JkZXJpbmcgZm9yIGVuZHBvaW50cyB3aXRoIHRoZSBzYW1lIHZhbHVlLlxuICAgICogICBcbiAgICAqICAgdikgPCBbdiA9PSB2ID09IHZdIDwgKHZcbiAgICAqICBcbiAgICAqICAgV2UgYXNzaWduIG9yZGVyaW5nIHZhbHVlc1xuICAgICogICBcbiAgICAqICAgSElHSF9PUEVOOiAtMVxuICAgICogICBISUdIX0NMT1NFRCwgVkFMVUUsIExPV19DTE9TRUQ6IDBcbiAgICAqICAgTE9XX09QRU46IDFcbiAgICAqIFxuICAgICogICB2YWx1ZSBjYW4gYmUgbnVsbCBvciBudW1iZXIuIElmIHZhbHVlIGlzIG51bGwsIHRoaXMgbWVhbnMgdW5ib3VuZGVkIGVuZHBvaW50XG4gICAgKiAgIGkuZS4gbm8gb3RoZXIgZW5kcG9pbnQgY2FuIGJlIGxhcmdlciBvciBzbWFsbGVyLlxuICAgICogICBhbiB1bmJvdW5kZWQgbG93IGVuZHBvaW50IG1lYW5zIC1JbmZpbml0eVxuICAgICogICBhbiB1bmJvdW5kZWQgaGlnaCBlbmRwb2ludCBtZWFucyBJbmZpbml0eVxuICAgICpcbiovXG5cbmZ1bmN0aW9uIGlzTnVtYmVyKG4pIHtcbiAgICByZXR1cm4gdHlwZW9mIG4gPT0gXCJudW1iZXJcIjtcbn1cblxuY29uc3QgRVBfVFlQRSA9IE9iamVjdC5mcmVlemUoe1xuICAgIEhJR0hfT1BFTjogXCIpXCIsXG4gICAgSElHSF9DTE9TRUQ6IFwiXVwiLFxuICAgIFZBTFVFOiBcIlwiLFxuICAgIExPV19DTE9TRUQ6IFwiW1wiLFxuICAgIExPV19PUEVOOiBcIihcIlxufSk7XG5cbmZ1bmN0aW9uIGlzX0VQX1RZUEUodmFsdWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhFUF9UWVBFKS5pbmNsdWRlcyh2YWx1ZSk7XG59XG5cbmNvbnN0IEVQX09SREVSID0gbmV3IE1hcChbXG4gICAgW0VQX1RZUEUuSElHSF9PUEVOLCAtMV0sXG4gICAgW0VQX1RZUEUuSElHSF9DTE9TRUQsIDBdLFxuICAgIFtFUF9UWVBFLlZBTFVFLCAwXSxcbiAgICBbRVBfVFlQRS5MT1dfQ0xPU0VELCAwXSxcbiAgICBbRVBfVFlQRS5MT1dfT1BFTiwgMV1cbl0pO1xuXG5mdW5jdGlvbiBlbmRwb2ludF9pc19sb3coZXApIHtcbiAgICByZXR1cm4gZXBbMV0gPT0gRVBfVFlQRS5MT1dfQ0xPU0VEIHx8IGVwWzFdID09IEVQX1RZUEUuTE9XX09QRU47XG59XG5cbmZ1bmN0aW9uIGVuZHBvaW50X2lzX2hpZ2goZXApIHtcbiAgICByZXR1cm4gZXBbMV0gPT0gRVBfVFlQRS5ISUdIX0NMT1NFRCB8fCBlcFsxXSA9PSBFUF9UWVBFLkhJR0hfT1BFTjtcbn1cblxuLypcbiAgICByZXR1cm4gZW5kcG9pbnQgZnJvbSBpbnB1dFxuKi9cbmZ1bmN0aW9uIGVuZHBvaW50X2Zyb21faW5wdXQoZXApIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXApKSB7XG4gICAgICAgIGVwID0gW2VwLCBFUF9UWVBFLlZBTFVFXTtcbiAgICB9XG4gICAgaWYgKGVwLmxlbmd0aCAhPSAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuZHBvaW50IG11c3QgYmUgYSBsZW5ndGgtMiBhcnJheVwiLCBlcCk7XG4gICAgfVxuICAgIGxldCBbdix0XSA9IGVwO1xuICAgIGlmICghaXNfRVBfVFlQRSh0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBlbmRwb2ludCB0eXBlXCIsIHQpO1xuICAgIH1cbiAgICBpZiAodiA9PSAtSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBFUF9UWVBFLkxPV19DTE9TRURdO1xuICAgIH1cbiAgICBpZiAodiA9PSBJbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gW251bGwsIEVQX1RZUEUuSElHSF9DTE9TRURdO1xuICAgIH1cbiAgICBpZiAodiA9PSB1bmRlZmluZWQgfHwgdiA9PSBudWxsIHx8IGlzTnVtYmVyKHYpKSB7XG4gICAgICAgIHJldHVybiBbdiwgdF07XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcImVuZHBvaW50IG11c3QgYmUgbnVsbCBvciBudW1iZXJcIiwgdik7XG59XG5cbmNvbnN0IGVuZHBvaW50X1BPU19JTkYgPSBlbmRwb2ludF9mcm9tX2lucHV0KEluZmluaXR5KTtcbmNvbnN0IGVuZHBvaW50X05FR19JTkYgPSBlbmRwb2ludF9mcm9tX2lucHV0KC1JbmZpbml0eSk7XG5cbi8qKlxuICogSW50ZXJuYWwgcmVwcmVzZW50YXRpb24gXG4gKiByZXBsYWNpbmcgbnVsbCB2YWx1c2Ugd2l0aCAtSW5maW5pdHkgb3IgSW5maW5pdHlcbiAqIGluIG9yZGVyIHRvIHNpbXBsaWZ5IG51bWVyaWNhbCBjb21wYXJpc29uXG4gKi9cbmZ1bmN0aW9uIGVuZHBvaW50X2ludGVybmFsKGVwKSB7XG4gICAgaWYgKGVwWzBdICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtlcFswXSwgZXBbMV1dO1xuICAgIH1cbiAgICBpZiAoZW5kcG9pbnRfaXNfbG93KGVwKSkge1xuICAgICAgICByZXR1cm4gWy1JbmZpbml0eSwgRVBfVFlQRS5MT1dfQ0xPU0VEXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW0luZmluaXR5LCBFUF9UWVBFLkhJR0hfQ0xPU0VEXTtcbiAgICB9XG59XG5cbi8qKlxuICogQ29tcGFyaXNvbiBmdW5jdGlvbiBmb3IgbnVtYmVyc1xuICogYXZvaWQgc3VidHJhY3Rpb24gdG8gc3VwcG9ydCBJbmZpbml0eSB2YWx1ZXNcbiAqL1xuZnVuY3Rpb24gbnVtYmVyX2NtcChhLCBiKSB7XG4gICAgaWYgKGEgPCBiKSByZXR1cm4gLTE7IC8vIGNvcnJlY3Qgb3JkZXJcbiAgICBpZiAoYSA+IGIpIHJldHVybiAxOyAvLyB3cm9uZyBvcmRlclxuICAgIHJldHVybiAwOyAvLyBlcXVhbGl0eVxufVxuXG4vKlxuICAgIEVuZHBvaW50IGNvbXBhcmlzb25cbiAgICByZXR1cm5zIFxuICAgICAgICAtIG5lZ2F0aXZlIDogY29ycmVjdCBvcmRlclxuICAgICAgICAtIDAgOiBlcXVhbFxuICAgICAgICAtIHBvc2l0aXZlIDogd3Jvbmcgb3JkZXJcbiovIFxuZnVuY3Rpb24gZW5kcG9pbnRfY21wKGVwMSwgZXAyKSB7ICAgIFxuICAgIGNvbnN0IFt2MSwgdDFdID0gZW5kcG9pbnRfaW50ZXJuYWwoZXAxKTtcbiAgICBjb25zdCBbdjIsIHQyXSA9IGVuZHBvaW50X2ludGVybmFsKGVwMik7XG4gICAgY29uc3QgZGlmZiA9IG51bWJlcl9jbXAodjEsIHYyKTtcbiAgICBpZiAoZGlmZiA9PSAwKSB7XG4gICAgICAgIGNvbnN0IG8xID0gRVBfT1JERVIuZ2V0KHQxKTtcbiAgICAgICAgY29uc3QgbzIgPSBFUF9PUkRFUi5nZXQodDIpO1xuICAgICAgICByZXR1cm4gbnVtYmVyX2NtcChvMSwgbzIpO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZjtcbn1cblxuZnVuY3Rpb24gZW5kcG9pbnRfbHQgKHAxLCBwMikge1xuICAgIHJldHVybiBlbmRwb2ludF9jbXAocDEsIHAyKSA8IDBcbn1cbmZ1bmN0aW9uIGVuZHBvaW50X2xlIChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPD0gMFxufVxuZnVuY3Rpb24gZW5kcG9pbnRfZ3QgKHAxLCBwMikge1xuICAgIHJldHVybiBlbmRwb2ludF9jbXAocDEsIHAyKSA+IDBcbn1cbmZ1bmN0aW9uIGVuZHBvaW50X2dlIChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPj0gMFxufVxuZnVuY3Rpb24gZW5kcG9pbnRfZXEgKHAxLCBwMikge1xuICAgIHJldHVybiBlbmRwb2ludF9jbXAocDEsIHAyKSA9PSAwXG59XG5mdW5jdGlvbiBlbmRwb2ludF9taW4ocDEsIHAyKSB7XG4gICAgcmV0dXJuIChlbmRwb2ludF9sZShwMSwgcDIpKSA/IHAxIDogcDI7XG59XG5mdW5jdGlvbiBlbmRwb2ludF9tYXgocDEsIHAyKSB7XG4gICAgcmV0dXJuIChlbmRwb2ludF9nZShwMSwgcDIpKSA/IHAxIDogcDI7XG59XG5cbi8qKlxuICogZmxpcCBlbmRwb2ludDpcbiAqIC0gaWUuIGdldCBhZGphY2VudCBlbmRwb25pdCBvbiB0aGUgdGltZWxpbmVcbiAqIFxuICogdikgPC0+IFt2XG4gKiB2XSA8LT4gKHZcbiAqIFxuICogZmxpcHBpbmcgaGFzIG5vIGVmZmVjdCBvbiBlbmRwb2ludHMgd2l0aCB1bmJvdW5kZWQgdmFsdWVcbiAqL1xuXG5mdW5jdGlvbiBlbmRwb2ludF9mbGlwKGVwLCB0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInRhcmdldCBpcyBkZXByZWNhdGVkXCIpO1xuICAgIH1cbiAgICBsZXQgW3YsdF0gPSBlcDtcbiAgICBpZiAodiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBlcDtcbiAgICB9XG4gICAgaWYgKHQgPT0gRVBfVFlQRS5ISUdIX09QRU4pIHtcbiAgICAgICAgcmV0dXJuIFt2LCBFUF9UWVBFLkxPV19DTE9TRURdO1xuICAgIH0gZWxzZSBpZiAodCA9PSBFUF9UWVBFLkhJR0hfQ0xPU0VEKSB7XG4gICAgICAgIHJldHVybiBbdiwgRVBfVFlQRS5MT1dfT1BFTl07XG4gICAgfSBlbHNlIGlmICh0ID09IEVQX1RZUEUuTE9XX09QRU4pIHtcbiAgICAgICAgcmV0dXJuIFt2LCBFUF9UWVBFLkhJR0hfQ0xPU0VEXTtcbiAgICB9IGVsc2UgaWYgKHQgPT0gRVBfVFlQRS5MT1dfQ0xPU0VEKSB7XG4gICAgICAgIHJldHVybiBbdiwgRVBfVFlQRS5ISUdIX09QRU5dO1xuICAgIH0gZWxzZSB7XG4gICAgXHR0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGVuZHBvaW50IHR5cGVcIiwgdCk7XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuXG4vKlxuICAgIHJldHVybnMgbG93IGFuZCBoaWdoIGVuZHBvaW50cyBmcm9tIGludGVydmFsXG4qL1xuZnVuY3Rpb24gZW5kcG9pbnRzX2Zyb21faW50ZXJ2YWwoaXR2KSB7XG4gICAgY29uc3QgW2xvdywgaGlnaCwgbG93Q2xvc2VkLCBoaWdoQ2xvc2VkXSA9IGl0djtcbiAgICBjb25zdCBsb3dUeXBlID0gKGxvd0Nsb3NlZCkgPyAgRVBfVFlQRS5MT1dfQ0xPU0VEIDogRVBfVFlQRS5MT1dfT1BFTjtcbiAgICBjb25zdCBoaWdoVHlwZSA9IChoaWdoQ2xvc2VkKSA/ICBFUF9UWVBFLkhJR0hfQ0xPU0VEIDogRVBfVFlQRS5ISUdIX09QRU47XG4gICAgY29uc3QgbG93RXAgPSBlbmRwb2ludF9mcm9tX2lucHV0KFtsb3csIGxvd1R5cGVdKTtcbiAgICBjb25zdCBoaWdoRXAgPSBlbmRwb2ludF9mcm9tX2lucHV0KFtoaWdoLCBoaWdoVHlwZV0pO1xuICAgIHJldHVybiBbbG93RXAsIGhpZ2hFcF07XG59XG5cblxuLypcbiAgICBJTlRFUlZBTFNcblxuICAgIEludGVydmFscyBhcmUgW2xvdywgaGlnaCwgbG93Q2xvc2VkLCBoaWdoQ2xvc2VkXVxuXG4qLyBcblxuXG4vKlxuICAgIHJldHVybiB0cnVlIGlmIHBvaW50IG9yIGVuZHBvaW50IGlzIGNvdmVyZWQgYnkgaW50ZXJ2YWxcbiAgICBwb2ludCBwIGNhbiBiZSBudW1iZXIgdmFsdWUgb3IgYW4gZW5kcG9pbnRcbiovXG5mdW5jdGlvbiBpbnRlcnZhbF9jb3ZlcnNfZW5kcG9pbnQoaXR2LCBlcCkge1xuICAgIGNvbnN0IFtsb3dfZXAsIGhpZ2hfZXBdID0gZW5kcG9pbnRzX2Zyb21faW50ZXJ2YWwoaXR2KTtcbiAgICBlcCA9IGVuZHBvaW50X2Zyb21faW5wdXQoZXApO1xuICAgIC8vIGNvdmVyczogbG93IDw9IHAgPD0gaGlnaFxuICAgIHJldHVybiBlbmRwb2ludF9sZShsb3dfZXAsIGVwKSAmJiBlbmRwb2ludF9sZShlcCwgaGlnaF9lcCk7XG59XG4vLyBjb252ZW5pZW5jZVxuZnVuY3Rpb24gaW50ZXJ2YWxfY292ZXJzX3BvaW50KGl0diwgcCkge1xuICAgIHJldHVybiBpbnRlcnZhbF9jb3ZlcnNfZW5kcG9pbnQoaXR2LCBwKTtcbn1cblxuLypcbiAgICBSZXR1cm4gdHJ1ZSBpZiBpbnRlcnZhbCBlbmRwb2ludHMgYXJlIGVxdWFsXG4qL1xuZnVuY3Rpb24gaW50ZXJ2YWxfaXNfc2luZ3VsYXIoaW50ZXJ2YWwpIHtcbiAgICBjb25zdCBbbG93X2VwLCBoaWdoX2VwXSA9IGVuZHBvaW50c19mcm9tX2ludGVydmFsKGl0dik7XG4gICAgcmV0dXJuIGVuZHBvaW50X2VxKGxvd19lcCwgaGlnaF9lcCk7XG59XG5cbi8qXG4gICAgQ3JlYXRlIGludGVydmFsIGZyb20gZW5kcG9pbnRzXG4qL1xuZnVuY3Rpb24gaW50ZXJ2YWxfZnJvbV9lbmRwb2ludHMoZXAxLCBlcDIpIHtcbiAgICBsZXQgW3YxLCB0MV0gPSBlcDE7XG4gICAgbGV0IFt2MiwgdDJdID0gZXAyO1xuICAgIGlmICghZW5kcG9pbnRfaXNfbG93KGVwMSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBsb3cgZW5kcG9pbnRcIiwgZXAxKTtcbiAgICB9XG4gICAgaWYgKCFlbmRwb2ludF9pc19oaWdoKGVwMikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBoaWdoIGVuZHBvaW50XCIsIGVwMik7XG4gICAgfVxuICAgIHJldHVybiBbdjEsIHYyLCB0MSA9PSBFUF9UWVBFLkxPV19DTE9TRUQsIHQyID09IEVQX1RZUEUuSElHSF9DTE9TRURdO1xufVxuXG5cbmZ1bmN0aW9uIGludGVydmFsX2Zyb21faW5wdXQoaW5wdXQpe1xuICAgIGxldCBpdHYgPSBpbnB1dDtcbiAgICBpZiAoaXR2ID09IHVuZGVmaW5lZCB8fCBpdHYgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnB1dCBpcyB1bmRlZmluZWRcIik7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShpdHYpKSB7XG4gICAgICAgIGlmIChpc051bWJlcihpdHYpKSB7XG4gICAgICAgICAgICAvLyBpbnB1dCBpcyBzaW5ndWxhciBudW1iZXJcbiAgICAgICAgICAgIGl0diA9IFtpdHYsIGl0diwgdHJ1ZSwgdHJ1ZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGlucHV0OiAke2lucHV0fTogbXVzdCBiZSBBcnJheSBvciBOdW1iZXJgKVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBtYWtlIHN1cmUgaW50ZXJ2YWwgaXMgbGVuZ3RoIDRcbiAgICBpZiAoaXR2Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGl0diA9IFtpdHZbMF0sIGl0dlswXSwgdHJ1ZSwgdHJ1ZV07XG4gICAgfSBlbHNlIGlmIChpdHYubGVuZ3RoID09IDIpIHtcbiAgICAgICAgaXR2ID0gW2l0dlswXSwgaXR2WzFdLCB0cnVlLCBmYWxzZV07XG4gICAgfSBlbHNlIGlmIChpdHYubGVuZ3RoID09IDMpIHtcbiAgICAgICAgaXR2ID0gW2l0dlswXSwgaXR2WzFdLCBpdHZbMl0sIGZhbHNlXTtcbiAgICB9IGVsc2UgaWYgKGl0di5sZW5ndGggPiA0KSB7XG4gICAgICAgIGl0diA9IFtpdHZbMF0sIGl0dlsxXSwgaXR2WzJdLCBpdHZbNF1dO1xuICAgIH1cbiAgICBsZXQgW2xvdywgaGlnaCwgbG93SW5jbHVkZSwgaGlnaEluY2x1ZGVdID0gaXR2O1xuICAgIC8vIGJvdW5kYXJ5IGNvbmRpdGlvbnMgYXJlIG51bWJlciBvciBudWxsXG4gICAgaWYgKGxvdyA9PSB1bmRlZmluZWQgfHwgbG93ID09IC1JbmZpbml0eSkge1xuICAgICAgICBsb3cgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoaGlnaCA9PSB1bmRlZmluZWQgfHwgaGlnaCA9PSBJbmZpbml0eSkge1xuICAgICAgICBoaWdoID0gbnVsbDtcbiAgICB9XG4gICAgLy8gY2hlY2sgbG93XG4gICAgaWYgKGxvdyA9PSBudWxsKSB7XG4gICAgICAgIGxvd0luY2x1ZGUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaXNOdW1iZXIobG93KSkgdGhyb3cgbmV3IEVycm9yKFwibG93IG5vdCBhIG51bWJlclwiLCBsb3cpO1xuICAgIH1cbiAgICAvLyBjaGVjayBoaWdoXG4gICAgaWYgKGhpZ2ggPT0gbnVsbCkge1xuICAgICAgICBoaWdoSW5jbHVkZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFpc051bWJlcihoaWdoKSkgdGhyb3cgbmV3IEVycm9yKFwiaGlnaCBub3QgYSBudW1iZXJcIiwgaGlnaCk7XG4gICAgfSAgICBcbiAgICAvLyBjaGVjayB0aGF0IGxvdyA8PSBoaWdoXG4gICAgaWYgKGxvdyAhPSBudWxsICYmIGhpZ2ggIT0gbnVsbCkge1xuICAgICAgICBpZiAobG93ID4gaGlnaCkgdGhyb3cgbmV3IEVycm9yKFwibG93ID4gaGlnaFwiLCBsb3csIGhpZ2gpO1xuICAgICAgICAvLyBzaW5nbGV0b25cbiAgICAgICAgaWYgKGxvdyA9PSBoaWdoKSB7XG4gICAgICAgICAgICBsb3dJbmNsdWRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGhpZ2hJbmNsdWRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBjaGVjayB0aGF0IGxvd0luY2x1ZGUsIGhpZ2hJbmNsdWRlIGFyZSBib29sZWFuc1xuICAgIGlmICh0eXBlb2YgbG93SW5jbHVkZSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibG93SW5jbHVkZSBub3QgYm9vbGVhblwiKTtcbiAgICB9IFxuICAgIGlmICh0eXBlb2YgaGlnaEluY2x1ZGUgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImhpZ2hJbmNsdWRlIG5vdCBib29sZWFuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gW2xvdywgaGlnaCwgbG93SW5jbHVkZSwgaGlnaEluY2x1ZGVdO1xufVxuXG5leHBvcnQgY29uc3QgZW5kcG9pbnQgPSB7XG4gICAgbGU6IGVuZHBvaW50X2xlLFxuICAgIGx0OiBlbmRwb2ludF9sdCxcbiAgICBnZTogZW5kcG9pbnRfZ2UsXG4gICAgZ3Q6IGVuZHBvaW50X2d0LFxuICAgIGNtcDogZW5kcG9pbnRfY21wLFxuICAgIGVxOiBlbmRwb2ludF9lcSxcbiAgICBtaW46IGVuZHBvaW50X21pbixcbiAgICBtYXg6IGVuZHBvaW50X21heCxcbiAgICBmbGlwOiBlbmRwb2ludF9mbGlwLFxuICAgIGZyb21faW50ZXJ2YWw6IGVuZHBvaW50c19mcm9tX2ludGVydmFsLFxuICAgIGZyb21faW5wdXQ6IGVuZHBvaW50X2Zyb21faW5wdXQsXG4gICAgdHlwZXM6IHsuLi5FUF9UWVBFfSxcbiAgICBQT1NfSU5GIDogZW5kcG9pbnRfUE9TX0lORixcbiAgICBORUdfSU5GIDogZW5kcG9pbnRfTkVHX0lORlxufVxuZXhwb3J0IGNvbnN0IGludGVydmFsID0ge1xuICAgIGNvdmVyc19lbmRwb2ludDogaW50ZXJ2YWxfY292ZXJzX2VuZHBvaW50LFxuICAgIGNvdmVyc19wb2ludDogaW50ZXJ2YWxfY292ZXJzX3BvaW50LCBcbiAgICBpc19zaW5ndWxhcjogaW50ZXJ2YWxfaXNfc2luZ3VsYXIsXG4gICAgZnJvbV9lbmRwb2ludHM6IGludGVydmFsX2Zyb21fZW5kcG9pbnRzLFxuICAgIGZyb21faW5wdXQ6IGludGVydmFsX2Zyb21faW5wdXRcbn1cbiIsImltcG9ydCB7IGVuZHBvaW50LCBpbnRlcnZhbCB9IGZyb20gXCIuL3V0aWwvaW50ZXJ2YWxzLmpzXCI7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBORUFSQlkgSU5ERVhcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBBYnN0cmFjdCBzdXBlcmNsYXNzIGZvciBOZWFyYnlJbmRleGUuXG4gKiBcbiAqIFN1cGVyY2xhc3MgdXNlZCB0byBjaGVjayB0aGF0IGEgY2xhc3MgaW1wbGVtZW50cyB0aGUgbmVhcmJ5KCkgbWV0aG9kLCBcbiAqIGFuZCBwcm92aWRlIHNvbWUgY29udmVuaWVuY2UgbWV0aG9kcy5cbiAqIFxuICogTkVBUkJZIElOREVYXG4gKiBcbiAqIE5lYXJieUluZGV4IHByb3ZpZGVzIGluZGV4aW5nIHN1cHBvcnQgb2YgZWZmZWN0aXZlbHlcbiAqIGxvb2tpbmcgdXAgcmVnaW9ucyBieSBvZmZzZXQsIFxuICogZ2l2ZW4gdGhhdFxuICogKGkpIGVhY2ggcmVnaW9uIGlzIGFzc29jaWF0ZWQgd2l0aCBhbiBpbnRlcnZhbCBhbmQsXG4gKiAoaWkpIHJlZ2lvbnMgYXJlIG5vbi1vdmVybGFwcGluZy5cbiAqIFxuICogTkVBUkJZXG4gKiBUaGUgbmVhcmJ5IG1ldGhvZCByZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBuZWlnaGJvcmhvb2QgXG4gKiBhcm91bmQgZW5kcG9pbnQuIFxuICogXG4gKiBSZXR1cm5zIHtcbiAqICAgICAgY2VudGVyOiBsaXN0IG9mIG9iamVjdHMgY292ZXJlZCBieSByZWdpb24sXG4gKiAgICAgIGl0djogcmVnaW9uIGludGVydmFsIC0gdmFsaWRpdHkgb2YgY2VudGVyIFxuICogICAgICBsZWZ0OlxuICogICAgICAgICAgZmlyc3QgaW50ZXJ2YWwgZW5kcG9pbnQgdG8gdGhlIGxlZnQgXG4gKiAgICAgICAgICB3aGljaCB3aWxsIHByb2R1Y2UgZGlmZmVyZW50IHtjZW50ZXJ9XG4gKiAgICAgICAgICBhbHdheXMgYSBoaWdoLWVuZHBvaW50IG9yIGVuZHBvaW50Lk5FR19JTkZcbiAqICAgICAgcmlnaHQ6XG4gKiAgICAgICAgICBmaXJzdCBpbnRlcnZhbCBlbmRwb2ludCB0byB0aGUgcmlnaHRcbiAqICAgICAgICAgIHdoaWNoIHdpbGwgcHJvZHVjZSBkaWZmZXJlbnQge2NlbnRlcn1cbiAqICAgICAgICAgIGFsd2F5cyBhIGxvdy1lbmRwb2ludCBvciBlbmR0cG9pbnQuUE9TX0lORlxuICogXG4gKiBcbiAqIFRoZSBuZWFyYnkgc3RhdGUgaXMgd2VsbC1kZWZpbmVkIGZvciBldmVyeSBlbmRwb2ludFxuICogb24gdGhlIHRpbWVsaW5lLlxuICogXG4gKiBJTlRFUlZBTFNcbiAqIFxuICogW2xvdywgaGlnaCwgbG93SW5jbHVzaXZlLCBoaWdoSW5jbHVzaXZlXVxuICogXG4gKiBUaGlzIHJlcHJlc2VudGF0aW9uIGVuc3VyZXMgdGhhdCB0aGUgaW50ZXJ2YWwgZW5kcG9pbnRzIFxuICogYXJlIG9yZGVyZWQgYW5kIGFsbG93cyBpbnRlcnZhbHMgdG8gYmUgZXhjbHVzaXZlIG9yIGluY2x1c2l2ZSwgXG4gKiB5ZXQgY292ZXIgdGhlIGVudGlyZSByZWFsIGxpbmUgXG4gKiBcbiAqIFthLGJdLCAoYSxiKSwgW2EsYiksIFthLCBiKSBhcmUgYWxsIHZhbGlkIGludGVydmFsc1xuICogXG4gKiBcbiAqIElOVEVSVkFMIEVORFBPSU5UU1xuICogXG4gKiBpbnRlcnZhbCBlbmRwb2ludHMgYXJlIGRlZmluZWQgYnkgW3ZhbHVlLCB0eXBlXSwgZm9yIGV4YW1wbGVcbiAqIFxuICogNCkgLT4gWzQsXCIpXCJdIC0gaGlnaCBlbmRwb2ludCBsZWZ0IG9mIDRcbiAqIFs0IC0+IFs0LCBcIltcIl0gLSBsb3cgZW5kcG9pbnQgaW5jbHVkZXMgNFxuICogNCAgLT4gWzQsIFwiXCJdIC0gdmFsdWUgNFxuICogNF0gLT4gWzQsIFwiXVwiXSAtIGhpZ2ggZW5kcG9pbnQgaW5jbHVkZXMgNFxuICogKDQgLT4gWzQsIFwiKFwiXSAtIGxvdyBlbmRwb2ludCBpcyByaWdodCBvZiA0XG4gKiBcbiAqL1xuXG5cbi8qKlxuICogcmV0dXJuIGZpcnN0IGhpZ2ggZW5kcG9pbnQgb24gdGhlIGxlZnQgZnJvbSBuZWFyYnksXG4gKiB3aGljaCBpcyBub3QgaW4gY2VudGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZWZ0X2VuZHBvaW50IChuZWFyYnkpIHtcbiAgICBjb25zdCBsb3cgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKG5lYXJieS5pdHYpWzBdO1xuICAgIHJldHVybiBlbmRwb2ludC5mbGlwKGxvdyk7XG59XG5cbi8qKlxuICogcmV0dXJuIGZpcnN0IGxvdyBlbmRwb2ludCBvbiB0aGUgcmlnaHQgZnJvbSBuZWFyYnksXG4gKiB3aGljaCBpcyBub3QgaW4gY2VudGVyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJpZ2h0X2VuZHBvaW50IChuZWFyYnkpIHtcbiAgICBjb25zdCBoaWdoID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChuZWFyYnkuaXR2KVsxXTtcbiAgICByZXR1cm4gZW5kcG9pbnQuZmxpcChoaWdoKTtcbn1cblxuXG5cbmV4cG9ydCBjbGFzcyBOZWFyYnlJbmRleEJhc2Uge1xuXG5cbiAgICAvKiBcbiAgICAgICAgTmVhcmJ5IG1ldGhvZFxuICAgICovXG4gICAgbmVhcmJ5KG9mZnNldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuXG4gICAgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0KCkgPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qXG4gICAgICAgIHJldHVybiBsb3cgcG9pbnQgb2YgbGVmdG1vc3QgZW50cnlcbiAgICAqL1xuICAgIGZpcnN0KCkge1xuICAgICAgICBsZXQge2NlbnRlciwgcmlnaHR9ID0gdGhpcy5uZWFyYnkoZW5kcG9pbnQuTkVHX0lORik7XG4gICAgICAgIGlmIChjZW50ZXIubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgIHJldHVybiBlbmRwb2ludC5ORUdfSU5GO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmRwb2ludC5sdChyaWdodCwgZW5kcG9pbnQuUE9TX0lORikpIHtcbiAgICAgICAgICAgIHJldHVybiByaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgcmV0dXJuIGhpZ2ggcG9pbnQgb2YgcmlnaHRtb3N0IGVudHJ5XG4gICAgKi9cbiAgICBsYXN0KCkge1xuICAgICAgICBsZXQge2xlZnQsIGNlbnRlcn0gPSB0aGlzLm5lYXJieShlbmRwb2ludC5QT1NfSU5GKTtcbiAgICAgICAgaWYgKGNlbnRlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5kcG9pbnQuUE9TX0lORjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kcG9pbnQuZ3QobGVmdCwgZW5kcG9pbnQuTkVHX0lORikpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIHJldHVybiBuZWFyYnkgb2YgZmlyc3QgcmVnaW9uIHRvIHRoZSByaWdodFxuICAgICAqIHdoaWNoIGlzIG5vdCB0aGUgY2VudGVyIHJlZ2lvbi4gSWYgbm90IGV4aXN0cywgcmV0dXJuXG4gICAgICogdW5kZWZpbmVkLiBcbiAgICAgKi9cbiAgICByaWdodF9yZWdpb24obmVhcmJ5KSB7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gcmlnaHRfZW5kcG9pbnQobmVhcmJ5KTtcbiAgICAgICAgaWYgKHJpZ2h0WzBdID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubmVhcmJ5KHJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gbmVhcmJ5IG9mIGZpcnN0IHJlZ2lvbiB0byB0aGUgbGVmdFxuICAgICAqIHdoaWNoIGlzIG5vdCB0aGUgY2VudGVyIHJlZ2lvbi4gSWYgbm90IGV4aXN0cywgcmV0dXJuXG4gICAgICogdW5kZWZpbmVkLiBcbiAgICAgKi9cbiAgICBsZWZ0X3JlZ2lvbihuZWFyYnkpIHtcbiAgICAgICAgY29uc3QgbGVmdCA9IGxlZnRfZW5kcG9pbnQobmVhcmJ5KTtcbiAgICAgICAgaWYgKGxlZnRbMF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5uZWFyYnkobGVmdCk7ICAgIFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGZpbmQgZmlyc3QgcmVnaW9uIHRvIHRoZSBcInJpZ2h0XCIgb3IgXCJsZWZ0XCJcbiAgICAgKiB3aGljaCBpcyBub3QgdGhlIGNlbnRlciByZWdpb24sIGFuZCB3aGljaCBtZWV0c1xuICAgICAqIGEgY29uZGl0aW9uIG9uIG5lYXJieS5jZW50ZXIuXG4gICAgICogRGVmYXVsdCBjb25kaXRpb24gaXMgY2VudGVyIG5vbi1lbXB0eVxuICAgICAqIElmIG5vdCBleGlzdHMsIHJldHVybiB1bmRlZmluZWQuIFxuICAgICAqL1xuICAgIFxuICAgIGZpbmRfcmVnaW9uKG5lYXJieSwgb3B0aW9ucz17fSkge1xuICAgICAgICBsZXQge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gMSxcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IChjZW50ZXIpID0+IGNlbnRlci5sZW5ndGggPiAwXG4gICAgICAgIH0gPSBvcHRpb25zO1xuICAgICAgICBsZXQgbmV4dF9uZWFyYnk7XG4gICAgICAgIHdoaWxlKHRydWUpIHtcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gMSkge1xuICAgICAgICAgICAgICAgIG5leHRfbmVhcmJ5ID0gdGhpcy5yaWdodF9yZWdpb24obmVhcmJ5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dF9uZWFyYnkgPSB0aGlzLmxlZnRfcmVnaW9uKG5lYXJieSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dF9uZWFyYnkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25kaXRpb24obmV4dF9uZWFyYnkuY2VudGVyKSkge1xuICAgICAgICAgICAgICAgIC8vIGZvdW5kIHJlZ2lvbiBcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dF9uZWFyYnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZWdpb24gbm90IGZvdW5kXG4gICAgICAgICAgICAvLyBjb250aW51ZSBzZWFyY2hpbmcgdGhlIHJpZ2h0XG4gICAgICAgICAgICBuZWFyYnkgPSBuZXh0X25lYXJieTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZ2lvbnMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ2lvbkl0ZXJhdG9yKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cbi8qXG4gICAgSXRlcmF0ZSByZWdpb25zIG9mIGluZGV4IGZyb20gbGVmdCB0byByaWdodFxuXG4gICAgSXRlcmF0aW9uIGxpbWl0ZWQgdG8gaW50ZXJ2YWwgW3N0YXJ0LCBzdG9wXSBvbiB0aGUgdGltZWxpbmUuXG4gICAgUmV0dXJucyBsaXN0IG9mIGl0ZW0tbGlzdHMuXG4gICAgb3B0aW9uc1xuICAgIC0gc3RhcnRcbiAgICAtIHN0b3BcbiAgICAtIGluY2x1ZGVFbXB0eVxuKi9cblxuY2xhc3MgUmVnaW9uSXRlcmF0b3Ige1xuXG4gICAgY29uc3RydWN0b3IoaW5kZXgsIG9wdGlvbnM9e30pIHtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIHN0YXJ0PS1JbmZpbml0eSwgXG4gICAgICAgICAgICBzdG9wPUluZmluaXR5LCBcbiAgICAgICAgICAgIGluY2x1ZGVFbXB0eT10cnVlXG4gICAgICAgIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoc3RhcnQgPiBzdG9wKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IgKFwic3RvcCBtdXN0IGJlIGxhcmdlciB0aGFuIHN0YXJ0XCIsIHN0YXJ0LCBzdG9wKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuX3N0YXJ0ID0gZW5kcG9pbnQuZnJvbV9pbnB1dChzdGFydCk7XG4gICAgICAgIHRoaXMuX3N0b3AgPSBlbmRwb2ludC5mcm9tX2lucHV0KHN0b3ApO1xuXG4gICAgICAgIGlmIChpbmNsdWRlRW1wdHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmRpdGlvbiA9ICgpID0+IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb25kaXRpb24gPSAoY2VudGVyKSA9PiBjZW50ZXIubGVuZ3RoID4gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdXJyZW50O1xuICAgIH1cblxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gaW5pdGlhbHNlXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5faW5kZXgubmVhcmJ5KHRoaXMuX3N0YXJ0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb25kaXRpb24odGhpcy5fY3VycmVudC5jZW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTp0aGlzLl9jdXJyZW50LCBkb25lOmZhbHNlfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgb3B0aW9ucyA9IHtjb25kaXRpb246dGhpcy5fY29uZGl0aW9uLCBkaXJlY3Rpb246MX1cbiAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX2luZGV4LmZpbmRfcmVnaW9uKHRoaXMuX2N1cnJlbnQsIG9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsdWU6dW5kZWZpbmVkLCBkb25lOnRydWV9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTp0aGlzLl9jdXJyZW50LCBkb25lOmZhbHNlfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuLyoqXG4gKiBuZWFyYnlfZnJvbVxuICogXG4gKiB1dGlsaXR5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5lYXJieSBvYmplY3QgaW4gY2lyY3Vtc3RhbmNlc1xuICogd2hlcmUgdGhlcmUgYXJlIG92ZXJsYXBwaW5nIGludGVydmFscyBUaGlzIGNvdWxkIGJlIHdoZW4gYSBcbiAqIHN0YXRlcHJvdmlkZXIgZm9yIGEgbGF5ZXIgaGFzIG92ZXJsYXBwaW5nIGl0ZW1zIG9yIHdoZW4gXG4gKiBtdWx0aXBsZSBuZWFyYnkgaW5kZXhlcyBhcmUgbWVyZ2VkIGludG8gb25lLlxuICogXG4gKiBcbiAqIEBwYXJhbSB7Kn0gcHJldl9oaWdoIDogdGhlIHJpZ2h0bW9zdCBoaWdoLWVuZHBvaW50IGxlZnQgb2Ygb2Zmc2V0XG4gKiBAcGFyYW0geyp9IGNlbnRlcl9sb3dfbGlzdCA6IGxvdy1lbmRwb2ludHMgb2YgY2VudGVyXG4gKiBAcGFyYW0geyp9IGNlbnRlciA6IGNlbnRlclxuICogQHBhcmFtIHsqfSBjZW50ZXJfaGlnaF9saXN0IDogaGlnaC1lbmRwb2ludHMgb2YgY2VudGVyXG4gKiBAcGFyYW0geyp9IG5leHRfbG93IDogdGhlIGxlZnRtb3N0IGxvdy1lbmRwb2ludCByaWdodCBvZiBvZmZzZXRcbiAqIEByZXR1cm5zIFxuICovXG5cbmZ1bmN0aW9uIGNtcF9hc2NlbmRpbmcocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmNtcChwMSwgcDIpXG59XG5cbmZ1bmN0aW9uIGNtcF9kZXNjZW5kaW5nKHAxLCBwMikge1xuICAgIHJldHVybiBlbmRwb2ludC5jbXAocDIsIHAxKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmVhcmJ5X2Zyb20gKFxuICAgIHByZXZfaGlnaCwgXG4gICAgY2VudGVyX2xvd19saXN0LCBcbiAgICBjZW50ZXIsXG4gICAgY2VudGVyX2hpZ2hfbGlzdCxcbiAgICBuZXh0X2xvdykge1xuXG4gICAgLy8gbmVhcmJ5XG4gICAgY29uc3QgcmVzdWx0ID0ge2NlbnRlcn07XG5cbiAgICBpZiAoY2VudGVyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIC8vIGVtcHR5IGNlbnRlclxuICAgICAgICByZXN1bHQucmlnaHQgPSBuZXh0X2xvdztcbiAgICAgICAgcmVzdWx0LmxlZnQgPSBwcmV2X2hpZ2g7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm9uLWVtcHR5IGNlbnRlclxuICAgICAgICBcbiAgICAgICAgLy8gY2VudGVyIGhpZ2hcbiAgICAgICAgY2VudGVyX2hpZ2hfbGlzdC5zb3J0KGNtcF9hc2NlbmRpbmcpO1xuICAgICAgICBsZXQgbWluX2NlbnRlcl9oaWdoID0gY2VudGVyX2hpZ2hfbGlzdFswXTtcbiAgICAgICAgbGV0IG1heF9jZW50ZXJfaGlnaCA9IGNlbnRlcl9oaWdoX2xpc3Quc2xpY2UoLTEpWzBdO1xuICAgICAgICBsZXQgbXVsdGlwbGVfY2VudGVyX2hpZ2ggPSAhZW5kcG9pbnQuZXEobWluX2NlbnRlcl9oaWdoLCBtYXhfY2VudGVyX2hpZ2gpXG5cbiAgICAgICAgLy8gY2VudGVyIGxvd1xuICAgICAgICBjZW50ZXJfbG93X2xpc3Quc29ydChjbXBfZGVzY2VuZGluZyk7XG4gICAgICAgIGxldCBtYXhfY2VudGVyX2xvdyA9IGNlbnRlcl9sb3dfbGlzdFswXTtcbiAgICAgICAgbGV0IG1pbl9jZW50ZXJfbG93ID0gY2VudGVyX2xvd19saXN0LnNsaWNlKC0xKVswXTtcbiAgICAgICAgbGV0IG11bHRpcGxlX2NlbnRlcl9sb3cgPSAhZW5kcG9pbnQuZXEobWF4X2NlbnRlcl9sb3csIG1pbl9jZW50ZXJfbG93KVxuXG4gICAgICAgIC8vIG5leHQvcmlnaHRcbiAgICAgICAgaWYgKGVuZHBvaW50LmxlKG5leHRfbG93LCBtaW5fY2VudGVyX2hpZ2gpKSB7XG4gICAgICAgICAgICByZXN1bHQucmlnaHQgPSBuZXh0X2xvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5yaWdodCA9IGVuZHBvaW50LmZsaXAobWluX2NlbnRlcl9oaWdoKVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5uZXh0ID0gKG11bHRpcGxlX2NlbnRlcl9oaWdoKSA/IHJlc3VsdC5yaWdodCA6IG5leHRfbG93O1xuXG4gICAgICAgIC8vIHByZXYvbGVmdFxuICAgICAgICBpZiAoZW5kcG9pbnQuZ2UocHJldl9oaWdoLCBtYXhfY2VudGVyX2xvdykpIHtcbiAgICAgICAgICAgIHJlc3VsdC5sZWZ0ID0gcHJldl9oaWdoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LmxlZnQgPSBlbmRwb2ludC5mbGlwKG1heF9jZW50ZXJfbG93KTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucHJldiA9IChtdWx0aXBsZV9jZW50ZXJfbG93KSA/IHJlc3VsdC5sZWZ0IDogcHJldl9oaWdoO1xuXG4gICAgfVxuXG4gICAgLy8gaW50ZXJ2YWwgZnJvbSBsZWZ0L3JpZ2h0XG4gICAgbGV0IGxvdyA9IGVuZHBvaW50LmZsaXAocmVzdWx0LmxlZnQpO1xuICAgIGxldCBoaWdoID0gZW5kcG9pbnQuZmxpcChyZXN1bHQucmlnaHQpO1xuICAgIHJlc3VsdC5pdHYgPSBpbnRlcnZhbC5mcm9tX2VuZHBvaW50cyhsb3csIGhpZ2gpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhIE5lYXJieUluZGV4IGZvciBhIHNyYyBvYmplY3QgTGF5ZXIuXG4gKiBcbiAqIFRoZSBzcmMgb2JqZWN0IHJlc29sdmVzIHF1ZXJpZXMgZm9yIHRoZSBlbnRpcmUgdGltZWxpbmUuXG4gKiBJbiBvcmRlciBmb3IgdGhlIGRlZmF1bHQgTGF5ZXJDYWNoZSB0byB3b3JrLCBhblxuICogb2JqZWN0IHdpdGggYSAucXVlcnkob2Zmc2V0KSBtZXRob2QgaXMgbmVlZGVkIGluIFxuICogbmVhcmJ5LmNlbnRlci5cbiAqL1xuXG5leHBvcnQgY2xhc3MgTmVhcmJ5SW5kZXhTcmMgZXh0ZW5kcyBOZWFyYnlJbmRleEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3Ioc3JjKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3NyYyA9IHNyYztcbiAgICAgICAgdGhpcy5fY2FjaGUgPSBzcmMuY3JlYXRlQ2FjaGUoKTtcbiAgICB9XG5cbiAgICBuZWFyYnkob2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IG5lYXJieSA9IHRoaXMuX3NyYy5pbmRleC5uZWFyYnkob2Zmc2V0KTtcbiAgICAgICAgbmVhcmJ5LmNlbnRlciA9IFt0aGlzLl9jYWNoZV07XG4gICAgICAgIHJldHVybiBuZWFyYnk7XG4gICAgfVxufVxuIiwiLypcblx0Q29weXJpZ2h0IDIwMjBcblx0QXV0aG9yIDogSW5nYXIgQXJudHplblxuXG5cdFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBUaW1pbmdzcmMgbW9kdWxlLlxuXG5cdFRpbWluZ3NyYyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5cdGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHR0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG5cdFRpbWluZ3NyYyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHRidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHRNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5cdFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHRhbG9uZyB3aXRoIFRpbWluZ3NyYy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cblxuXG4vKlxuXHRFdmVudFxuXHQtIG5hbWU6IGV2ZW50IG5hbWVcblx0LSBwdWJsaXNoZXI6IHRoZSBvYmplY3Qgd2hpY2ggZGVmaW5lZCB0aGUgZXZlbnRcblx0LSBpbml0OiB0cnVlIGlmIHRoZSBldmVudCBzdXBwcG9ydHMgaW5pdCBldmVudHNcblx0LSBzdWJzY3JpcHRpb25zOiBzdWJzY3JpcHRpbnMgdG8gdGhpcyBldmVudFxuXG4qL1xuXG5jbGFzcyBFdmVudCB7XG5cblx0Y29uc3RydWN0b3IgKHB1Ymxpc2hlciwgbmFtZSwgb3B0aW9ucykge1xuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cdFx0dGhpcy5wdWJsaXNoZXIgPSBwdWJsaXNoZXI7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLmluaXQgPSAob3B0aW9ucy5pbml0ID09PSB1bmRlZmluZWQpID8gZmFsc2UgOiBvcHRpb25zLmluaXQ7XG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zID0gW107XG5cdH1cblxuXHQvKlxuXHRcdHN1YnNjcmliZSB0byBldmVudFxuXHRcdC0gc3Vic2NyaWJlcjogc3Vic2NyaWJpbmcgb2JqZWN0XG5cdFx0LSBjYWxsYmFjazogY2FsbGJhY2sgZnVuY3Rpb24gdG8gaW52b2tlXG5cdFx0LSBvcHRpb25zOlxuXHRcdFx0aW5pdDogaWYgdHJ1ZSBzdWJzY3JpYmVyIHdhbnRzIGluaXQgZXZlbnRzXG5cdCovXG5cdHN1YnNjcmliZSAoY2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0XHRpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYWxsYmFjayBub3QgYSBmdW5jdGlvblwiLCBjYWxsYmFjayk7XG5cdFx0fVxuXHRcdGNvbnN0IHN1YiA9IG5ldyBTdWJzY3JpcHRpb24odGhpcywgY2FsbGJhY2ssIG9wdGlvbnMpO1xuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHN1Yik7XG5cdCAgICAvLyBJbml0aWF0ZSBpbml0IGNhbGxiYWNrIGZvciB0aGlzIHN1YnNjcmlwdGlvblxuXHQgICAgaWYgKHRoaXMuaW5pdCAmJiBzdWIuaW5pdCkge1xuXHQgICAgXHRzdWIuaW5pdF9wZW5kaW5nID0gdHJ1ZTtcblx0ICAgIFx0bGV0IHNlbGYgPSB0aGlzO1xuXHQgICAgXHRQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgIFx0XHRjb25zdCBlQXJncyA9IHNlbGYucHVibGlzaGVyLmV2ZW50aWZ5SW5pdEV2ZW50QXJncyhzZWxmLm5hbWUpIHx8IFtdO1xuXHQgICAgXHRcdHN1Yi5pbml0X3BlbmRpbmcgPSBmYWxzZTtcblx0ICAgIFx0XHRmb3IgKGxldCBlQXJnIG9mIGVBcmdzKSB7XG5cdCAgICBcdFx0XHRzZWxmLnRyaWdnZXIoZUFyZywgW3N1Yl0sIHRydWUpO1xuXHQgICAgXHRcdH1cblx0ICAgIFx0fSk7XG5cdCAgICB9XG5cdFx0cmV0dXJuIHN1YlxuXHR9XG5cblx0Lypcblx0XHR0cmlnZ2VyIGV2ZW50XG5cblx0XHQtIGlmIHN1YiBpcyB1bmRlZmluZWQgLSBwdWJsaXNoIHRvIGFsbCBzdWJzY3JpcHRpb25zXG5cdFx0LSBpZiBzdWIgaXMgZGVmaW5lZCAtIHB1Ymxpc2ggb25seSB0byBnaXZlbiBzdWJzY3JpcHRpb25cblx0Ki9cblx0dHJpZ2dlciAoZUFyZywgc3VicywgaW5pdCkge1xuXHRcdGxldCBlSW5mbywgY3R4O1xuXHRcdGZvciAoY29uc3Qgc3ViIG9mIHN1YnMpIHtcblx0XHRcdC8vIGlnbm9yZSB0ZXJtaW5hdGVkIHN1YnNjcmlwdGlvbnNcblx0XHRcdGlmIChzdWIudGVybWluYXRlZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGVJbmZvID0ge1xuXHRcdFx0XHRzcmM6IHRoaXMucHVibGlzaGVyLFxuXHRcdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHRcdHN1Yjogc3ViLFxuXHRcdFx0XHRpbml0OiBpbml0XG5cdFx0XHR9XG5cdFx0XHRjdHggPSBzdWIuY3R4IHx8IHRoaXMucHVibGlzaGVyO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0c3ViLmNhbGxiYWNrLmNhbGwoY3R4LCBlQXJnLCBlSW5mbyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYEVycm9yIGluICR7dGhpcy5uYW1lfTogJHtzdWIuY2FsbGJhY2t9ICR7ZXJyfWApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qXG5cdHVuc3Vic2NyaWJlIGZyb20gZXZlbnRcblx0LSB1c2Ugc3Vic2NyaXB0aW9uIHJldHVybmVkIGJ5IHByZXZpb3VzIHN1YnNjcmliZVxuXHQqL1xuXHR1bnN1YnNjcmliZShzdWIpIHtcblx0XHRsZXQgaWR4ID0gdGhpcy5zdWJzY3JpcHRpb25zLmluZGV4T2Yoc3ViKTtcblx0XHRpZiAoaWR4ID4gLTEpIHtcblx0XHRcdHRoaXMuc3Vic2NyaXB0aW9ucy5zcGxpY2UoaWR4LCAxKTtcblx0XHRcdHN1Yi50ZXJtaW5hdGUoKTtcblx0XHR9XG5cdH1cbn1cblxuXG4vKlxuXHRTdWJzY3JpcHRpb24gY2xhc3NcbiovXG5cbmNsYXNzIFN1YnNjcmlwdGlvbiB7XG5cblx0Y29uc3RydWN0b3IoZXZlbnQsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblx0XHR0aGlzLmV2ZW50ID0gZXZlbnQ7XG5cdFx0dGhpcy5uYW1lID0gZXZlbnQubmFtZTtcblx0XHR0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2tcblx0XHR0aGlzLmluaXQgPSAob3B0aW9ucy5pbml0ID09PSB1bmRlZmluZWQpID8gdGhpcy5ldmVudC5pbml0IDogb3B0aW9ucy5pbml0O1xuXHRcdHRoaXMuaW5pdF9wZW5kaW5nID0gZmFsc2U7XG5cdFx0dGhpcy50ZXJtaW5hdGVkID0gZmFsc2U7XG5cdFx0dGhpcy5jdHggPSBvcHRpb25zLmN0eDtcblx0fVxuXG5cdHRlcm1pbmF0ZSgpIHtcblx0XHR0aGlzLnRlcm1pbmF0ZWQgPSB0cnVlO1xuXHRcdHRoaXMuY2FsbGJhY2sgPSB1bmRlZmluZWQ7XG5cdFx0dGhpcy5ldmVudC51bnN1YnNjcmliZSh0aGlzKTtcblx0fVxufVxuXG5cbi8qXG5cblx0RVZFTlRJRlkgSU5TVEFOQ0VcblxuXHRFdmVudGlmeSBicmluZ3MgZXZlbnRpbmcgY2FwYWJpbGl0aWVzIHRvIGFueSBvYmplY3QuXG5cblx0SW4gcGFydGljdWxhciwgZXZlbnRpZnkgc3VwcG9ydHMgdGhlIGluaXRpYWwtZXZlbnQgcGF0dGVybi5cblx0T3B0LWluIGZvciBpbml0aWFsIGV2ZW50cyBwZXIgZXZlbnQgdHlwZS5cblxuXHRldmVudGlmeUluaXRFdmVudEFyZ3MobmFtZSkge1xuXHRcdGlmIChuYW1lID09IFwiY2hhbmdlXCIpIHtcblx0XHRcdHJldHVybiBbdGhpcy5fdmFsdWVdO1xuXHRcdH1cblx0fVxuXG4qL1xuXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRpZnlJbnN0YW5jZSAob2JqZWN0KSB7XG5cdG9iamVjdC5fX2V2ZW50aWZ5X2V2ZW50TWFwID0gbmV3IE1hcCgpO1xuXHRvYmplY3QuX19ldmVudGlmeV9idWZmZXIgPSBbXTtcblx0cmV0dXJuIG9iamVjdDtcbn07XG5cblxuLypcblx0RVZFTlRJRlkgUFJPVE9UWVBFXG5cblx0QWRkIGV2ZW50aWZ5IGZ1bmN0aW9uYWxpdHkgdG8gcHJvdG90eXBlIG9iamVjdFxuKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50aWZ5UHJvdG90eXBlKF9wcm90b3R5cGUpIHtcblxuXHRmdW5jdGlvbiBldmVudGlmeUdldEV2ZW50KG9iamVjdCwgbmFtZSkge1xuXHRcdGNvbnN0IGV2ZW50ID0gb2JqZWN0Ll9fZXZlbnRpZnlfZXZlbnRNYXAuZ2V0KG5hbWUpO1xuXHRcdGlmIChldmVudCA9PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkV2ZW50IHVuZGVmaW5lZFwiLCBuYW1lKTtcblx0XHR9XG5cdFx0cmV0dXJuIGV2ZW50O1xuXHR9XG5cblx0Lypcblx0XHRERUZJTkUgRVZFTlRcblx0XHQtIHVzZWQgb25seSBieSBldmVudCBzb3VyY2Vcblx0XHQtIG5hbWU6IG5hbWUgb2YgZXZlbnRcblx0XHQtIG9wdGlvbnM6IHtpbml0OnRydWV9IHNwZWNpZmllcyBpbml0LWV2ZW50IHNlbWFudGljcyBmb3IgZXZlbnRcblx0Ki9cblx0ZnVuY3Rpb24gZXZlbnRpZnlEZWZpbmUobmFtZSwgb3B0aW9ucykge1xuXHRcdC8vIGNoZWNrIHRoYXQgZXZlbnQgZG9lcyBub3QgYWxyZWFkeSBleGlzdFxuXHRcdGlmICh0aGlzLl9fZXZlbnRpZnlfZXZlbnRNYXAuaGFzKG5hbWUpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJFdmVudCBhbHJlYWR5IGRlZmluZWRcIiwgbmFtZSk7XG5cdFx0fVxuXHRcdHRoaXMuX19ldmVudGlmeV9ldmVudE1hcC5zZXQobmFtZSwgbmV3IEV2ZW50KHRoaXMsIG5hbWUsIG9wdGlvbnMpKTtcblx0fTtcblxuXHQvKlxuXHRcdE9OXG5cdFx0LSB1c2VkIGJ5IHN1YnNjcmliZXJcblx0XHRyZWdpc3RlciBjYWxsYmFjayBvbiBldmVudC5cblx0Ki9cblx0ZnVuY3Rpb24gb24obmFtZSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gZXZlbnRpZnlHZXRFdmVudCh0aGlzLCBuYW1lKS5zdWJzY3JpYmUoY2FsbGJhY2ssIG9wdGlvbnMpO1xuXHR9O1xuXG5cdC8qXG5cdFx0T0ZGXG5cdFx0LSB1c2VkIGJ5IHN1YnNjcmliZXJcblx0XHRVbi1yZWdpc3RlciBhIGhhbmRsZXIgZnJvbSBhIHNwZWNmaWMgZXZlbnQgdHlwZVxuXHQqL1xuXHRmdW5jdGlvbiBvZmYoc3ViKSB7XG5cdFx0cmV0dXJuIGV2ZW50aWZ5R2V0RXZlbnQodGhpcywgc3ViLm5hbWUpLnVuc3Vic2NyaWJlKHN1Yik7XG5cdH07XG5cblxuXHRmdW5jdGlvbiBldmVudGlmeVN1YnNjcmlwdGlvbnMobmFtZSkge1xuXHRcdHJldHVybiBldmVudGlmeUdldEV2ZW50KHRoaXMsIG5hbWUpLnN1YnNjcmlwdGlvbnM7XG5cdH1cblxuXG5cblx0Lypcblx0XHRUcmlnZ2VyIGxpc3Qgb2YgZXZlbnRJdGVtcyBvbiBvYmplY3RcblxuXHRcdGV2ZW50SXRlbTogIHtuYW1lOi4uLCBlQXJnOi4ufVxuXG5cdFx0Y29weSBhbGwgZXZlbnRJdGVtcyBpbnRvIGJ1ZmZlci5cblx0XHRyZXF1ZXN0IGVtcHR5aW5nIHRoZSBidWZmZXIsIGkuZS4gYWN0dWFsbHkgdHJpZ2dlcmluZyBldmVudHMsXG5cdFx0ZXZlcnkgdGltZSB0aGUgYnVmZmVyIGdvZXMgZnJvbSBlbXB0eSB0byBub24tZW1wdHlcblx0Ki9cblx0ZnVuY3Rpb24gZXZlbnRpZnlUcmlnZ2VyQWxsKGV2ZW50SXRlbXMpIHtcblx0XHRpZiAoZXZlbnRJdGVtcy5sZW5ndGggPT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIG1ha2UgdHJpZ2dlciBpdGVtc1xuXHRcdC8vIHJlc29sdmUgbm9uLXBlbmRpbmcgc3Vic2NyaXB0aW9ucyBub3dcblx0XHQvLyBlbHNlIHN1YnNjcmlwdGlvbnMgbWF5IGNoYW5nZSBmcm9tIHBlbmRpbmcgdG8gbm9uLXBlbmRpbmdcblx0XHQvLyBiZXR3ZWVuIGhlcmUgYW5kIGFjdHVhbCB0cmlnZ2VyaW5nXG5cdFx0Ly8gbWFrZSBsaXN0IG9mIFtldiwgZUFyZywgc3Vic10gdHVwbGVzXG5cdFx0bGV0IHRyaWdnZXJJdGVtcyA9IGV2ZW50SXRlbXMubWFwKChpdGVtKSA9PiB7XG5cdFx0XHRsZXQge25hbWUsIGVBcmd9ID0gaXRlbTtcblx0XHRcdGxldCBldiA9IGV2ZW50aWZ5R2V0RXZlbnQodGhpcywgbmFtZSk7XG5cdFx0XHRsZXQgc3VicyA9IGV2LnN1YnNjcmlwdGlvbnMuZmlsdGVyKHN1YiA9PiBzdWIuaW5pdF9wZW5kaW5nID09IGZhbHNlKTtcblx0XHRcdHJldHVybiBbZXYsIGVBcmcsIHN1YnNdO1xuXHRcdH0sIHRoaXMpO1xuXG5cdFx0Ly8gYXBwZW5kIHRyaWdnZXIgSXRlbXMgdG8gYnVmZmVyXG5cdFx0Y29uc3QgbGVuID0gdHJpZ2dlckl0ZW1zLmxlbmd0aDtcblx0XHRjb25zdCBidWYgPSB0aGlzLl9fZXZlbnRpZnlfYnVmZmVyO1xuXHRcdGNvbnN0IGJ1Zl9sZW4gPSB0aGlzLl9fZXZlbnRpZnlfYnVmZmVyLmxlbmd0aDtcblx0XHQvLyByZXNlcnZlIG1lbW9yeSAtIHNldCBuZXcgbGVuZ3RoXG5cdFx0dGhpcy5fX2V2ZW50aWZ5X2J1ZmZlci5sZW5ndGggPSBidWZfbGVuICsgbGVuO1xuXHRcdC8vIGNvcHkgdHJpZ2dlckl0ZW1zIHRvIGJ1ZmZlclxuXHRcdGZvciAobGV0IGk9MDsgaTxsZW47IGkrKykge1xuXHRcdFx0YnVmW2J1Zl9sZW4raV0gPSB0cmlnZ2VySXRlbXNbaV07XG5cdFx0fVxuXHRcdC8vIHJlcXVlc3QgZW1wdHlpbmcgb2YgdGhlIGJ1ZmZlclxuXHRcdGlmIChidWZfbGVuID09IDApIHtcblx0XHRcdGxldCBzZWxmID0gdGhpcztcblx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAobGV0IFtldiwgZUFyZywgc3Vic10gb2Ygc2VsZi5fX2V2ZW50aWZ5X2J1ZmZlcikge1xuXHRcdFx0XHRcdC8vIGFjdHVhbCBldmVudCB0cmlnZ2VyaW5nXG5cdFx0XHRcdFx0ZXYudHJpZ2dlcihlQXJnLCBzdWJzLCBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZi5fX2V2ZW50aWZ5X2J1ZmZlciA9IFtdO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Lypcblx0XHRUcmlnZ2VyIG11bHRpcGxlIGV2ZW50cyBvZiBzYW1lIHR5cGUgKG5hbWUpXG5cdCovXG5cdGZ1bmN0aW9uIGV2ZW50aWZ5VHJpZ2dlckFsaWtlKG5hbWUsIGVBcmdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXZlbnRpZnlUcmlnZ2VyQWxsKGVBcmdzLm1hcChlQXJnID0+IHtcblx0XHRcdHJldHVybiB7bmFtZSwgZUFyZ307XG5cdFx0fSkpO1xuXHR9XG5cblx0Lypcblx0XHRUcmlnZ2VyIHNpbmdsZSBldmVudFxuXHQqL1xuXHRmdW5jdGlvbiBldmVudGlmeVRyaWdnZXIobmFtZSwgZUFyZykge1xuXHRcdHJldHVybiB0aGlzLmV2ZW50aWZ5VHJpZ2dlckFsbChbe25hbWUsIGVBcmd9XSk7XG5cdH1cblxuXHRfcHJvdG90eXBlLmV2ZW50aWZ5RGVmaW5lID0gZXZlbnRpZnlEZWZpbmU7XG5cdF9wcm90b3R5cGUuZXZlbnRpZnlUcmlnZ2VyID0gZXZlbnRpZnlUcmlnZ2VyO1xuXHRfcHJvdG90eXBlLmV2ZW50aWZ5VHJpZ2dlckFsaWtlID0gZXZlbnRpZnlUcmlnZ2VyQWxpa2U7XG5cdF9wcm90b3R5cGUuZXZlbnRpZnlUcmlnZ2VyQWxsID0gZXZlbnRpZnlUcmlnZ2VyQWxsO1xuXHRfcHJvdG90eXBlLmV2ZW50aWZ5U3Vic2NyaXB0aW9ucyA9IGV2ZW50aWZ5U3Vic2NyaXB0aW9ucztcblx0X3Byb3RvdHlwZS5vbiA9IG9uO1xuXHRfcHJvdG90eXBlLm9mZiA9IG9mZjtcbn07XG5cblxuZXhwb3J0IHtldmVudGlmeUluc3RhbmNlIGFzIGFkZFN0YXRlfTtcbmV4cG9ydCB7ZXZlbnRpZnlQcm90b3R5cGUgYXMgYWRkTWV0aG9kc307XG5cbi8qXG5cdEV2ZW50IFZhcmlhYmxlXG5cblx0T2JqZWN0cyB3aXRoIGEgc2luZ2xlIFwiY2hhbmdlXCIgZXZlbnRcbiovXG5cbmV4cG9ydCBjbGFzcyBFdmVudFZhcmlhYmxlIHtcblxuXHRjb25zdHJ1Y3RvciAodmFsdWUpIHtcblx0XHRldmVudGlmeUluc3RhbmNlKHRoaXMpO1xuXHRcdHRoaXMuX3ZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy5ldmVudGlmeURlZmluZShcImNoYW5nZVwiLCB7aW5pdDp0cnVlfSk7XG5cdH1cblxuXHRldmVudGlmeUluaXRFdmVudEFyZ3MobmFtZSkge1xuXHRcdGlmIChuYW1lID09IFwiY2hhbmdlXCIpIHtcblx0XHRcdHJldHVybiBbdGhpcy5fdmFsdWVdO1xuXHRcdH1cblx0fVxuXG5cdGdldCB2YWx1ZSAoKSB7cmV0dXJuIHRoaXMuX3ZhbHVlfTtcblx0c2V0IHZhbHVlICh2YWx1ZSkge1xuXHRcdGlmICh2YWx1ZSAhPSB0aGlzLl92YWx1ZSkge1xuXHRcdFx0dGhpcy5fdmFsdWUgPSB2YWx1ZTtcblx0XHRcdHRoaXMuZXZlbnRpZnlUcmlnZ2VyKFwiY2hhbmdlXCIsIHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cbmV2ZW50aWZ5UHJvdG90eXBlKEV2ZW50VmFyaWFibGUucHJvdG90eXBlKTtcblxuLypcblx0RXZlbnQgQm9vbGVhblxuXG5cblx0Tm90ZSA6IGltcGxlbWVudGF0aW9uIHVzZXMgZmFsc2luZXNzIG9mIGlucHV0IHBhcmFtZXRlciB0byBjb25zdHJ1Y3RvciBhbmQgc2V0KCkgb3BlcmF0aW9uLFxuXHRzbyBldmVudEJvb2xlYW4oLTEpIHdpbGwgYWN0dWFsbHkgc2V0IGl0IHRvIHRydWUgYmVjYXVzZVxuXHQoLTEpID8gdHJ1ZSA6IGZhbHNlIC0+IHRydWUgIVxuKi9cblxuZXhwb3J0IGNsYXNzIEV2ZW50Qm9vbGVhbiBleHRlbmRzIEV2ZW50VmFyaWFibGUge1xuXHRjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuXHRcdHN1cGVyKEJvb2xlYW4odmFsdWUpKTtcblx0fVxuXG5cdHNldCB2YWx1ZSAodmFsdWUpIHtcblx0XHRzdXBlci52YWx1ZSA9IEJvb2xlYW4odmFsdWUpO1xuXHR9XG5cdGdldCB2YWx1ZSAoKSB7cmV0dXJuIHN1cGVyLnZhbHVlfTtcbn1cblxuXG4vKlxuXHRtYWtlIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIEV2ZW50Qm9vbGVhbiBjaGFuZ2VzXG5cdHZhbHVlLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUHJvbWlzZShldmVudE9iamVjdCwgY29uZGl0aW9uRnVuYykge1xuXHRjb25kaXRpb25GdW5jID0gY29uZGl0aW9uRnVuYyB8fCBmdW5jdGlvbih2YWwpIHtyZXR1cm4gdmFsID09IHRydWV9O1xuXHRyZXR1cm4gbmV3IFByb21pc2UgKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHRsZXQgc3ViID0gZXZlbnRPYmplY3Qub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRpZiAoY29uZGl0aW9uRnVuYyh2YWx1ZSkpIHtcblx0XHRcdFx0cmVzb2x2ZSh2YWx1ZSk7XG5cdFx0XHRcdGV2ZW50T2JqZWN0Lm9mZihzdWIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn07XG5cbi8vIG1vZHVsZSBhcGlcbmV4cG9ydCBkZWZhdWx0IHtcblx0ZXZlbnRpZnlQcm90b3R5cGUsXG5cdGV2ZW50aWZ5SW5zdGFuY2UsXG5cdEV2ZW50VmFyaWFibGUsXG5cdEV2ZW50Qm9vbGVhbixcblx0bWFrZVByb21pc2Vcbn07XG5cbiIsIi8qXG4gICAgVGhpcyBkZWNvcmF0ZXMgYW4gb2JqZWN0L3Byb3RvdHlwZSB3aXRoIGJhc2ljIChzeW5jaHJvbm91cykgY2FsbGJhY2sgc3VwcG9ydC5cbiovXG5cbmNvbnN0IFBSRUZJWCA9IFwiX19jYWxsYmFja1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkU3RhdGUob2JqZWN0KSB7XG4gICAgb2JqZWN0W2Ake1BSRUZJWH1faGFuZGxlcnNgXSA9IFtdO1xufVxuXG5mdW5jdGlvbiBhZGRfY2FsbGJhY2sgKGhhbmRsZXIpIHtcbiAgICBsZXQgaGFuZGxlID0ge1xuICAgICAgICBoYW5kbGVyOiBoYW5kbGVyXG4gICAgfVxuICAgIHRoaXNbYCR7UFJFRklYfV9oYW5kbGVyc2BdLnB1c2goaGFuZGxlKTtcbiAgICByZXR1cm4gaGFuZGxlO1xufTtcblxuZnVuY3Rpb24gcmVtb3ZlX2NhbGxiYWNrIChoYW5kbGUpIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzW2Ake1BSRUZJWH1faGFuZGxlcnNgXS5pbmRleE9mKGhhbmRsZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpc1tgJHtQUkVGSVh9X2hhbmRsZXJzYF0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBub3RpZnlfY2FsbGJhY2tzIChlQXJnKSB7XG4gICAgdGhpc1tgJHtQUkVGSVh9X2hhbmRsZXJzYF0uZm9yRWFjaChmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgaGFuZGxlLmhhbmRsZXIoZUFyZyk7XG4gICAgfSk7XG59O1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRNZXRob2RzIChvYmopIHtcbiAgICBjb25zdCBhcGkgPSB7XG4gICAgICAgIGFkZF9jYWxsYmFjaywgcmVtb3ZlX2NhbGxiYWNrLCBub3RpZnlfY2FsbGJhY2tzXG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24ob2JqLCBhcGkpO1xufVxuXG4vKipcbiAqIHRlc3QgaWYgb2JqZWN0IGltcGxlbWVudHMgY2FsbGJhY2sgYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19jYWxsYmFja19hcGkgKG9iaikge1xuICAgIGlmIChvYmogPT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgbWV0aG9kcyA9IFtcImFkZF9jYWxsYmFja1wiLCBcInJlbW92ZV9jYWxsYmFja1wiXTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgbWV0aG9kcykge1xuICAgICAgICBpZiAoIShwcm9wIGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbcHJvcF0gIT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbiIsImltcG9ydCB7IGVuZHBvaW50LCBpbnRlcnZhbCB9IGZyb20gXCIuL2ludGVydmFsc1wiO1xuXG5cbi8vIG92dmVycmlkZSBtb2R1bG8gdG8gYmVoYXZlIGJldHRlciBmb3IgbmVnYXRpdmUgbnVtYmVyc1xuZXhwb3J0IGZ1bmN0aW9uIG1vZChuLCBtKSB7XG4gICAgcmV0dXJuICgobiAlIG0pICsgbSkgJSBtO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRpdm1vZCh4LCBiYXNlKSB7XG4gICAgbGV0IG4gPSBNYXRoLmZsb29yKHggLyBiYXNlKVxuICAgIGxldCByID0gbW9kKHgsIGJhc2UpO1xuICAgIHJldHVybiBbbiwgcl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc19maW5pdGVfbnVtYmVyKG9iaikge1xuICAgIHJldHVybiAodHlwZW9mIG9iaiA9PSAnbnVtYmVyJykgJiYgaXNGaW5pdGUob2JqKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrX251bWJlcihuYW1lLCBvYmopIHtcbiAgICBpZiAoIWlzX2Zpbml0ZV9udW1iZXIob2JqKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBmaW5pdGUgbnVtYmVyICR7b2JqfWApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBjb252ZW5pZW5jZSBmdW5jdGlvbiB0byByZW5kZXIgYSBjdXJzb3IgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJfY3Vyc29yIChjdXJzb3IsIHNlbGVjdG9yLCBvcHRpb25zPXt9KSB7XG4gICAgY29uc3Qge2RlbGF5PTIwMCwgcmVuZGVyLCBub3ZhbHVlfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICBmdW5jdGlvbiBfcmVuZGVyKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZS52YWx1ZSA9PSB1bmRlZmluZWQgJiYgbm92YWx1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gbm92YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVuZGVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVuZGVyKHN0YXRlLCBlbGVtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtcy50ZXh0Q29udGVudCA9IChzdGF0ZS52YWx1ZSAhPSB1bmRlZmluZWQpID8gYCR7c3RhdGUudmFsdWV9YCA6IFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1cnNvci5iaW5kKF9yZW5kZXIsIGRlbGF5KTtcbn1cblxuXG5cblxuLypcbiAgICBzaW1pbGFyIHRvIHJhbmdlIGZ1bmN0aW9uIGluIHB5dGhvblxuKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlIChzdGFydCwgZW5kLCBzdGVwID0gMSwgb3B0aW9ucz17fSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGNvbnN0IHtpbmNsdWRlX2VuZD1mYWxzZX0gPSBvcHRpb25zO1xuICAgIGlmIChzdGVwID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU3RlcCBjYW5ub3QgYmUgemVyby4nKTtcbiAgICB9XG4gICAgaWYgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA+IGVuZDsgaSAtPSBzdGVwKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluY2x1ZGVfZW5kKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGVuZCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cblxuLy8gd2VicGFnZSBjbG9jayAtIHBlcmZvcm1hbmNlIG5vdyAtIHNlY29uZHNcbmV4cG9ydCBjb25zdCBsb2NhbF9jbG9jayA9IGZ1bmN0aW9uIGxvY2FsX2Nsb2NrICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3c6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKS8xMDAwLjA7XG4gICAgICAgIH1cbiAgICB9XG59KCk7XG5cbi8vIHN5c3RlbSBjbG9jayAtIGVwb2NoIC0gc2Vjb25kc1xuZXhwb3J0IGNvbnN0IGxvY2FsX2Vwb2NoID0gZnVuY3Rpb24gbG9jYWxfZXBvY2ggKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5vdzogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkvMTAwMC4wO1xuICAgICAgICB9XG4gICAgfVxufSgpO1xuXG4vKipcbiAqIENyZWF0ZSBhIHNpbmdsZSBzdGF0ZSBmcm9tIGEgbGlzdCBvZiBzdGF0ZXMsIHVzaW5nIGEgdmFsdWVGdW5jXG4gKiBzdGF0ZTp7dmFsdWUsIGR5bmFtaWMsIG9mZnNldH1cbiAqIFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1N0YXRlKHNvdXJjZXMsIHN0YXRlcywgb2Zmc2V0LCBvcHRpb25zPXt9KSB7XG4gICAgbGV0IHt2YWx1ZUZ1bmMsIHN0YXRlRnVuYywgbnVtZXJpYz1mYWxzZSwgbWFza30gPSBvcHRpb25zOyBcbiAgICBsZXQgc3RhdGU7XG4gICAgaWYgKHZhbHVlRnVuYyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdmFsdWVGdW5jKHtzb3VyY2VzLCBzdGF0ZXMsIG9mZnNldH0pO1xuICAgICAgICBsZXQgZHluYW1pYyA9IHN0YXRlcy5tYXAoKHYpID0+IHYuZHltYW1pYykuc29tZShlPT5lKTtcbiAgICAgICAgc3RhdGUgPSB7dmFsdWUsIGR5bmFtaWMsIG9mZnNldH07XG4gICAgfSBlbHNlIGlmIChzdGF0ZUZ1bmMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0YXRlID0gey4uLnN0YXRlRnVuYyh7c291cmNlcywgc3RhdGVzLCBvZmZzZXR9KSwgb2Zmc2V0fTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICBzdGF0ZSA9IHt2YWx1ZTp1bmRlZmluZWQsIGR5bmFtaWM6ZmFsc2UsIG9mZnNldH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZSA9IHsuLi5zdGF0ZXNbMF0sIG9mZnNldH1cbiAgICB9XG4gICAgaWYgKG51bWVyaWMgJiYgc3RhdGUudmFsdWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICghaXNfZmluaXRlX251bWJlcihzdGF0ZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIHN0YXRlID0ge3ZhbHVlOm1hc2ssIGR5bmFtaWM6ZmFsc2UsIG9mZnNldH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja19pdGVtcyhpdGVtcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgbXVzdCBiZSBhbiBhcnJheVwiKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIC8vIG1ha2Ugc3VlciBpdGVtIGhhcyBpZFxuICAgICAgICBpdGVtLmlkID0gaXRlbS5pZCB8fCByYW5kb21fc3RyaW5nKDEwKTtcbiAgICAgICAgLy8gbWFrZSBzdXJlIGl0ZW0gaW50ZXJ2YWxzIGFyZSB3ZWxsIGZvcm1lZFxuICAgICAgICBpdGVtLml0diA9IGludGVydmFsLmZyb21faW5wdXQoaXRlbS5pdHYpO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbXM7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbV9zdHJpbmcobGVuZ3RoKSB7XG4gICAgdmFyIHRleHQgPSBcIlwiO1xuICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59XG5cbi8qKlxuICogSW1wcm92ZWQgc2V0X3RpbWVvdXRcbiAqIFxuICogVGltZW91dCBpcyBkZWZpbmVkIGJ5IGEgdGFyZ2V0X21zIHJlYWRpbmcgb2YgcGVyZm9ybWFuY2Uubm93KCkuXG4gKiBDYWxsYmFjayBpcyBub3QgaW52b2tlZCB1bnRpbCBwZXJmb3JtYW5jZS5ub3coKSA+PSB0YXJnZXRfbXMuIFxuICogXG4gKiBUaGlzIHByb3RlY3RzIGFnYWluc3QgYSB3ZWFrbmVzcyBpbiBiYXNpYyBzZXRUaW1lb3V0LCB3aGljaCBtYXlcbiAqIG9jY2F0aW9uYWxseSBpbnZva2UgdGhlIGNhbGxiYWNrIHRvbyBlYXJseS4gXG4gKiBcbiAqIHNjaGVkdWxlIHRpbWVvdXQgMSBtcyBsYXRlLCB0byByZWR1Y2UgdGhlIGxpa2VsaWhvb2Qgb2YgXG4gKiBoYXZpbmcgdG8gcmVzY2hlZHVsZSBhIHRpbWVvdXQgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfdGltZW91dCAoY2FsbGJhY2ssIGRlbHRhX21zKSB7XG4gICAgbGV0IHRzID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgZGVsdGFfbXMgPSBNYXRoLm1heChkZWx0YV9tcywgMCk7XG4gICAgbGV0IHRhcmdldF9tcyA9IHRzICsgZGVsdGFfbXM7XG4gICAgbGV0IHRpZDtcbiAgICBmdW5jdGlvbiBjYW5jZWxfdGltZW91dCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZV90aW1lb3V0KCkge1xuICAgICAgICBjb25zdCBkZWx0YV9tcyA9IHRhcmdldF9tcyAtIHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBpZiAoZGVsdGFfbXMgPiAwKSB7XG4gICAgICAgICAgICAvLyByZXNjaGVkdWxlIHRpbWVvdXRcbiAgICAgICAgICAgIHRpZCA9IHNldFRpbWVvdXQoaGFuZGxlX3RpbWVvdXQsIGRlbHRhX21zICsgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRpZCA9IHNldFRpbWVvdXQoaGFuZGxlX3RpbWVvdXQsIGRlbHRhX21zICsgMSk7XG4gICAgcmV0dXJuIHtjYW5jZWw6Y2FuY2VsX3RpbWVvdXR9O1xufVxuXG4vKipcbiAqICBJbXBsZW1lbnRzIGRldGVybWluaXN0aWMgcHJvamVjdGlvbiBiYXNlZCBvbiBpbml0aWFsIGNvbmRpdGlvbnMgXG4gKiAgLSBtb3Rpb24gdmVjdG9yIGRlc2NyaWJlcyBtb3Rpb24gdW5kZXIgY29uc3RhbnQgYWNjZWxlcmF0aW9uXG4gKlxuICogIG1vdGlvbiB0cmFuc2l0aW9uIFxuICogXG4gKiAgdHJhbnNpdGlvbiBmcm9tIHRpbWUgZG9tYWluIHRvIHBvc2l0aW9uIHVuZGVyIGNvbnN0YW50IGFjY2VsZXJhdGlvbiBpcyBnaXZlbiBieVxuICogIGdpdmVuIGluaXRpYWwgdmVjdG9yIFtwMCx2MCxhMCx0MF1cbiAqICBwKHQpID0gcDAgKyB2MCoodC10MCkgKyAwLjUqYTAqKHQtdDApKih0LXQwKVxuICogIHYodCkgPSB2MCArIGEwKih0LXQwKVxuICogIGEodCkgPSBhMFxuICogIHQodCkgPSB0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3Rpb25fY2FsY3VsYXRlKHZlY3Rvcix0KSB7XG4gICAgY29uc3QgW3AwLHYwLGEwLHQwXSA9IHZlY3RvcjtcbiAgICBjb25zdCBkID0gdCAtIHQwO1xuICAgIGNvbnN0IHAgPSBwMCArIHYwKmQgKyAwLjUqYTAqTWF0aC5wb3coZCwyKTtcbiAgICBjb25zdCB2ID0gdjAgKyBhMCpkO1xuICAgIGNvbnN0IGEgPSBhMDtcbiAgICByZXR1cm4gW3AsdixhLHRdO1xufVxuXG4vKipcbiAqIEdpdmVuIG1vdGlvbiBkZXRlcm1pbmVkIGZyb20gW3AwLHYwLGEwLHQwXS5cbiAqIEdpdmVuIGVxdWF0aW9uIHAodCkgPSBwMCArIHYwKih0LXQwKSArIDAuNSphMCoodC10MCleMiA9PSBwMVxuICogQ2FsY3VsYXRlIGlmIGVxdWF0aW9uIGhhcyBzb2x1dGlvbnMgZm9yIHNvbWUgcmVhbCBudW1iZXIgdC5cbiAqIEEgc29sdXRpb24gZXhpc3RzIGlmIGRldGVybWluYW50IG9mIHF1YWRyYXRpYyBlcXVhdGlvbiBpcyBub24tbmVnYXRpdmVcbiAqICh2MF4yIC0gMmEwKHAwLXAxKSkgPj0gMFxuICovXG5mdW5jdGlvbiBtb3Rpb25faGFzX3JlYWxfc29sdXRpb25zKHZlY3RvciwgcDEpIHtcbiAgICBjb25zdCBbcDAsdjAsYTAsdDBdID0gdmVjdG9yO1xuICAgIHJldHVybiAoTWF0aC5wb3codjAsMikgLSAyKmEwKihwMC1wMSkpID49IDAuMFxufTtcblxuLyoqXG4gKiBHaXZlbiBtb3Rpb24gZGV0ZXJtaW5lZCBmcm9tIFtwMCx2MCxhMCx0MF0uXG4gKiBHaXZlbiBlcXVhdGlvbiBwKHQpID0gcDAgKyB2MCoodC10MCkgKyAwLjUqYTAqKHQtdDApXjIgPT0gcDFcbiAqIENhbGN1bGF0ZSBhbmQgcmV0dXJuIHJlYWwgc29sdXRpb25zLCBpbiBhc2NlbmRpbmcgb3JkZXIuXG4qLyAgXG5mdW5jdGlvbiBtb3Rpb25fZ2V0X3JlYWxfc29sdXRpb25zICh2ZWN0b3IsIHAxKSB7XG4gICAgY29uc3QgW3AwLHYwLGEwLHQwXSA9IHZlY3RvcjtcbiAgICAvLyBDb25zdGFudCBQb3NpdGlvblxuICAgIGlmIChhMCA9PT0gMC4wICYmIHYwID09PSAwLjApIHtcbiAgICAgICAgaWYgKHAwICE9IHAxKSByZXR1cm4gW107XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gYW55IHQgaXMgYSBzb2x1dGlvblxuICAgICAgICAgICAgLy8gTk9URTogaGFzIHJlYWwgc29sdXRpb25zIGlzIHRydWVcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIENvbnN0YW50IG5vbi16ZXJvIFZlbG9jaXR5XG4gICAgaWYgKGEwID09PSAwLjApIHJldHVybiBbdDAgKyAocDEtcDApL3YwXTtcbiAgICAvLyBDb25zdGFudCBBY2NlbGVyYXRpb25cbiAgICBpZiAobW90aW9uX2hhc19yZWFsX3NvbHV0aW9ucyh2ZWN0b3IsIHAxKSA9PT0gZmFsc2UpIHJldHVybiBbXTtcbiAgICAvLyBFeGFjdGx5IG9uIHNvbHV0aW9uXG4gICAgdmFyIGRpc2NyaW1pbmFudCA9IE1hdGgucG93KHYwLDIpIC0gMiphMCoocDAtcDEpO1xuICAgIGlmIChkaXNjcmltaW5hbnQgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gW3QwLXYwL2EwXTtcbiAgICB9XG4gICAgdmFyIHNxcnQgPSBNYXRoLnNxcnQoTWF0aC5wb3codjAsMikgLSAyKmEwKihwMC1wMSkpO1xuICAgIHZhciBkMSA9IHQwICsgKC12MCArIHNxcnQpL2EwO1xuICAgIHZhciBkMiA9IHQwICsgKC12MCAtIHNxcnQpL2EwO1xuICAgIHJldHVybiBbTWF0aC5taW4oZDEsZDIpLE1hdGgubWF4KGQxLGQyKV07XG59O1xuXG4vKlxuICAgIGNhbGN1bGF0ZSB0aW1lIHJhbmdlIGZvciBnaXZlbiBwb3NpdGlvbiByYW5nZVxuXG4gICAgbW90aW9uIHRyYW5zaXRpb24gZnJvbSB0aW1lIHRvIHBvc2l0aW9uIGlzIGdpdmVuIGJ5XG4gICAgcCh0KSA9IHAwICsgdip0ICsgMC41KmEqdCp0XG4gICAgZmluZCBzb2x1dGlvbnMgZm9yIHQgc28gdGhhdCBcbiAgICBwKHQpID0gcG9zXG5cbiAgICBkbyB0aGlzIGZvciBib3RoIHZhbHVlcyBpbiByYW5nZSBbbG93LGhpZ2hdXG4gICAgYWNjdW11bGF0ZSBhbGwgY2FuZGlkYXRlIHNvbHV0aW9ucyB0IGluIGFzY2VuZGluZyBvcmRlclxuICAgIGF2b2lkIGR1cGxpY2F0ZXNcbiAgICB0aGlzIGNhbiBhY2N1bXVsYXRlIDAsMSwyLDMsNCBzb2x1dGlvblxuICAgIGlmIDAgc29sdXRpb25zIC0gdW5kZWZpbmVkIChtb3Rpb24gZG9lcyBub3QgaW50ZXJzZWN0IHdpdGggcmFuZ2UgZXZlcikgXG4gICAgaWYgMSBzb2x1dGlvbnMgLSB1ZGVmaW5lZCAobW90aW9uIG9ubHkgaW50ZXJzZWN0cyB3aXRoIHJhbmdlIHRhbmdlbnRpYWxseSBhdCBvbmUgdClcbiAgICBpZiAyIHNvbHV0aW9ucyAtIFswLDFdIChtb3Rpb24gaW50ZXJzZWN0cyB3aXRoIHJhbmdlIGF0IHR3byB0aW1lcylcbiAgICBpZiAzIHNvbHV0aW9ucyAtIFswLDJdIChtb3Rpb24gaW50ZXJzZWN0cyB3aXRoIHJhbmdlIGF0IHRocmVlIHRpbWVzKVxuICAgIGlmIDQgc29sdXRpb25zIC0gWzAsMV0gYW5kIFsyLDNdXG5cbiAgICByZXR1cm5zIGEgbGlzdCBvZiByYW5nZSBjYW5kaWRhdGVzIChhdCBtb3N0IHR3byBidXQgb25seSB3aXRoIGFjY2VsZXJhdGlvbilcbiovXG5mdW5jdGlvbiBtb3Rpb25fY2FsY3VsYXRlX3RpbWVfcmFuZ2VzKHZlY3RvciwgcG9zX3JhbmdlKSB7XG4gICAgY29uc3QgW3AwLHYwLGEwLHQwXSA9IHZlY3RvcjtcbiAgICBsZXQgW2xvdywgaGlnaF0gPSBwb3NfcmFuZ2U7XG4gICAgaWYgKGxvdyA9PSBudWxsKSBsb3cgPSAtSW5maW5pdHk7XG4gICAgaWYgKGhpZ2ggPT0gbnVsbCkgaGlnaCA9IEluZmluaXR5O1xuXG4gICAgLy8gWzwtLCAtPl1cbiAgICBpZiAobG93ID09IC1JbmZpbml0eSAmJiBoaWdoID09IEluZmluaXR5KSB7XG4gICAgICAgIC8vIG5vIHBvcyByYW5nZSA9PSBlbnRpcmUgdmFsdWUgc3BhY2UgPT4gdGltZSByYW5nZSBlbnRpcmUgdGltZWxpbmVcbiAgICAgICAgcmV0dXJuIFtbbnVsbCwgbnVsbF1dO1xuICAgIH0gXG5cbiAgICAvLyBbRkxBVCBMSU5FXVxuICAgIC8vIHBvcyBpcyBlaXRoZXIgd2l0aGluIHBvcyByYW5nZSBmb3IgYWxsIHQgb3IgbmV2ZXIgIFxuICAgIGlmICh2MCA9PT0gMC4wICYmIGEwID09PSAwLjApIHtcbiAgICAgICAgLy8gYm90aCBsb3cgYW5kIGhpZ2ggYm91bmRcbiAgICAgICAgcmV0dXJuIChwMCA+PSBsb3cgJiYgcDAgPD0gaGlnaCkgPyBbW251bGwsIG51bGxdXSA6IFtdO1xuICAgIH1cblxuICAgIC8vIGFnZ3JlZ2F0ZSBzb2x1dGlvbnNcbiAgICBsZXQgc29sdXRpb25zID0gW107XG4gICAgaWYgKC1JbmZpbml0eSA8IGxvdykge1xuICAgICAgICBzb2x1dGlvbnMucHVzaCguLi5tb3Rpb25fZ2V0X3JlYWxfc29sdXRpb25zKHZlY3RvciwgbG93KSk7XG4gICAgfSBcbiAgICBpZiAoaGlnaCA8IEluZmluaXR5KSB7XG4gICAgICAgIHNvbHV0aW9ucy5wdXNoKC4uLm1vdGlvbl9nZXRfcmVhbF9zb2x1dGlvbnModmVjdG9yLCBoaWdoKSk7XG4gICAgfVxuICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzXG4gICAgc29sdXRpb25zID0gWy4uLm5ldyBTZXQoc29sdXRpb25zKV07XG4gICAgLy8gc29ydCBpbiBhc2NlbmRpbmcgb3JkZXJcbiAgICBzb2x1dGlvbnMuc29ydCgoYSxiKSA9PiBhLWIpO1xuXG4gICAgLy8gWzwtLCBISUdIXVxuICAgIGlmIChsb3cgPT0gLUluZmluaXR5KSB7XG4gICAgICAgIC8vIG9ubHkgaGlnaCBib3VuZFxuICAgICAgICBpZiAoc29sdXRpb25zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAvLyBwYXJhYm9sYSBub3QgdG91Y2hpbmcgbG93XG4gICAgICAgICAgICAvLyBwb3MgPCBoaWdoIG9yIHBvcyA+IGhpZ2ggZm9yIGFsbCB0IC0ganVzdCB0ZXN0IHdpdGggdDBcbiAgICAgICAgICAgIHJldHVybiAocDAgPD0gaGlnaCkgPyBbW251bGwsIG51bGxdXSA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNvbHV0aW9ucy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgaWYgKGEwID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgLy8gcGFyYWJvbGEgLSB0b3VjaGluZyBoaWdoIGZyb20gb3ZlcnNpZGVcbiAgICAgICAgICAgICAgICAvLyBwb3MgPiBoaWdoIGZvciBhbGwgdFxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYTAgPCAwLjApIHtcbiAgICAgICAgICAgICAgICAvLyBwYXJhYm9sYSB0b3VjaGluZyBsb3cgZnJvbSB1bmRlcnNpZGVcbiAgICAgICAgICAgICAgICAvLyBwb3MgPCBoaWdoIGZvciBhbGwgdFxuICAgICAgICAgICAgICAgIHJldHVybiBbW251bGwsIG51bGxdXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYTAgPT0gMC4wID4gc3RyYWlndGggbGluZVxuICAgICAgICAgICAgICAgIGlmICh2MCA+IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwb3MgPD0gaGlnaCBmb3IgYWxsIHQgPD0gc29sdXRpb25zWzBdXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbW251bGwsIHNvbHV0aW9uc1swXV1dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvcyA8PSBoaWdoIGZvciB0ID49IHNvbHV0aW9uc1swXVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1tzb2x1dGlvbnNbMF0sIG51bGxdXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc29sdXRpb25zLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAvLyBwYXJhYm9sYVxuICAgICAgICAgICAgaWYgKGEwID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgLy8gb25lIHRpbWUgcmFuZ2UgYmV0d2VlbiBzb2x1dGlvbnNcbiAgICAgICAgICAgICAgICByZXR1cm4gW1tzb2x1dGlvbnNbMF0sIHNvbHV0aW9uc1sxXV1dO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhMCA8IDAuMCkge1xuICAgICAgICAgICAgICAgIC8vIG9uZSB0aW1lIHJhbmdlIG9uIGVhY2ggc2lkZSBcbiAgICAgICAgICAgICAgICByZXR1cm4gW1tudWxsLCBzb2x1dGlvbnNbMF1dLCBbc29sdXRpb25zWzFdLCBudWxsXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgLy8gW0xPVywgLT5dXG4gICAgfSBlbHNlIGlmIChoaWdoID09IEluZmluaXR5KSB7XG4gICAgICAgIC8vIG9ubHkgbG93IGJvdW5kXG4gICAgICAgIGlmIChzb2x1dGlvbnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIC8vIHBhcmFib2xhIG5vdCB0b3VjaGluZyBsb3dcbiAgICAgICAgICAgIC8vIHBvcyA+IGxvdyBvciBwb3MgPCBsb3cgZm9yIGFsbCB0IC0ganVzdCB0ZXN0IHdpdGggdDBcbiAgICAgICAgICAgIHJldHVybiAocDAgPj0gbG93KSA/IFtbbnVsbCwgbnVsbF1dIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc29sdXRpb25zLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBpZiAoYTAgPiAwLjApIHtcbiAgICAgICAgICAgICAgICAvLyBwYXJhYm9sYSAtIHRvdWNoaW5nIGxvdyBmcm9tIG92ZXJzaWRlXG4gICAgICAgICAgICAgICAgLy8gcG9zID4gbG93IGZvciBhbGwgdFxuICAgICAgICAgICAgICAgIHJldHVybiBbW251bGwsIG51bGxdXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYTAgPCAwLjApIHtcbiAgICAgICAgICAgICAgICAvLyBwYXJhYm9sYSB0b3VjaGluZyBsb3cgZnJvbSB1bmRlcnNpZGVcbiAgICAgICAgICAgICAgICAvLyBwb3MgPCBsb3cgZm9yIGFsbCB0XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhMCA9PSAwLjAgPiBzdHJhaWd0aCBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKHYwID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvcyA+PSBsb3cgZm9yIGFsbCB0ID49IHNvbHV0aW9uc1swXVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1tzb2x1dGlvbnNbMF0sIG51bGxdXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwb3MgPj0gbG93IGZvciB0IDw9IHNvbHV0aW9uc1swXVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1tudWxsLCBzb2x1dGlvbnNbMF1dXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc29sdXRpb25zLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAvLyBwYXJhYm9sYVxuICAgICAgICAgICAgaWYgKGEwID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgLy8gb25lIHRpbWUgcmFuZ2Ugb24gZWFjaCBzaWRlIFxuICAgICAgICAgICAgICAgIHJldHVybiBbW251bGwsIHNvbHV0aW9uc1swXV0sIFtzb2x1dGlvbnNbMV0sIG51bGxdXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYTAgPCAwLjApIHtcbiAgICAgICAgICAgICAgICAvLyBvbmUgdGltZSByYW5nZSBiZXR3ZWVuIHNvbHV0aW9uc1xuICAgICAgICAgICAgICAgIHJldHVybiBbW3NvbHV0aW9uc1swXSwgc29sdXRpb25zWzFdXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIC8vIFtMT1csIEhJR0hdXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYm90aCBsb3cgYW5kIGhpZ2ggYm91bmRcbiAgICAgICAgaWYgKHNvbHV0aW9ucy5sZW5ndGggPT0gMCkgcmV0dXJuIFtdO1xuICAgICAgICBpZiAoc29sdXRpb25zLmxlbmd0aCA9PSAxKSByZXR1cm4gW107XG4gICAgICAgIGlmIChzb2x1dGlvbnMubGVuZ3RoID09IDIpIHJldHVybiBbW3NvbHV0aW9uc1swXSwgc29sdXRpb25zWzFdXV07XG4gICAgICAgIGlmIChzb2x1dGlvbnMubGVuZ3RoID09IDMpIHJldHVybiBbW3NvbHV0aW9uc1swXSwgc29sdXRpb25zWzJdXV07XG4gICAgICAgIGlmIChzb2x1dGlvbnMubGVuZ3RoID09IDQpIHJldHVybiBbW3NvbHV0aW9uc1swXSwgc29sdXRpb25zWzFdXSwgW3NvbHV0aW9uc1syXSwgc29sdXRpb25zWzNdXV07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtb3Rpb25fY2hlY2tfcmFuZ2Uob2JqKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSAmJiBvYmoubGVuZ3RoICE9IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByYW5nZSBtdXN0IGhhdmUgdHdvIGVsZW1lbnRzICR7b2JqfWApO1xuICAgIH1cbiAgICBvYmpbMF0gPT0gbnVsbCB8fCBjaGVja19udW1iZXIoXCJsb3dcIiwgb2JqWzBdKTtcbiAgICBvYmpbMV0gPT0gbnVsbCB8fCBjaGVja19udW1iZXIoXCJoaWdoXCIsIG9ialsxXSk7XG59XG5cbmV4cG9ydCBjb25zdCBtb3Rpb25fdXRpbHMgPSB7XG4gICAgY2FsY3VsYXRlOiBtb3Rpb25fY2FsY3VsYXRlLFxuICAgIGhhc19yZWFsX3NvbHV0aW9uczogbW90aW9uX2hhc19yZWFsX3NvbHV0aW9ucyxcbiAgICBnZXRfcmVhbF9zb2x1dGlvbnM6IG1vdGlvbl9nZXRfcmVhbF9zb2x1dGlvbnMsXG4gICAgY2FsY3VsYXRlX3RpbWVfcmFuZ2VzOiBtb3Rpb25fY2FsY3VsYXRlX3RpbWVfcmFuZ2VzLFxuICAgIGNoZWNrX3JhbmdlOiBtb3Rpb25fY2hlY2tfcmFuZ2Vcbn1cbiIsImltcG9ydCAqIGFzIGV2ZW50aWZ5IGZyb20gXCIuL3V0aWwvYXBpX2V2ZW50aWZ5LmpzXCI7XG5pbXBvcnQgKiBhcyBjYWxsYmFjayBmcm9tIFwiLi91dGlsL2FwaV9jYWxsYmFjay5qc1wiO1xuaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tIFwiLi91dGlsL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgcmFuZ2UsIHRvU3RhdGUgfSBmcm9tIFwiLi91dGlsL2NvbW1vbi5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBMQVlFUlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBMYXllciBpcyBhYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBMYXllcnNcbiAqIFxuICogTGF5ZXIgaW50ZXJmYWNlIGlzIGRlZmluZWQgYnkgKGluZGV4LCBDYWNoZUNsYXNzLCBvcHRpb25zKVxuICogXG4gKiBDYWNoZUNsYXNzXG4gKiAtLS0tLS0tLS0tXG4gKiBUaGUgQ2FjaGVDbGFzcyBpbXBsZW1lbnRzIHRoZSBxdWVyeSBvcGVyYXRpb24gZm9yIHRoZSBsYXllciwgdXNpbmdcbiAqIHRoZSBpbmRleCBmb3IgbG9va3VwcyBvbiBjYWNoZSBtaXNzLiBMYXllciBoYXMgYSBwcml2YXRlIGNhY2hlLiBcbiAqIEFkZGl0aW9uYWxseSwgaWYgbGF5ZXIgaGFzIG11bHRpcGxlIGNvbnN1bWVycywgdGhleSBjYW4gZWFjaCBcbiAqIGNyZWF0ZSB0aGVpciBvd24gcHJpdmF0ZSBjYWNoZS4gXG4gKiBcbiAqIG9wdGlvbnNcbiAqIC0tLS0tLS1cbiAqIFRoZSB0aGUgcmVzdWx0IGZyb20gdGhlIHF1ZXJ5IG9wZXJhdGlvbiBjYW4gYmUgY29udHJvbGxlZCBieSBzdXBwbHlpbmdcbiAqIG9wdGlvbmFsIGN1c3RvbSBmdW5jdGlvbiwgZWl0aGVyIHZhbHVlRnVuYyBvciBhIHN0YXRlRnVuYyBcbiAqIHt2YWx1ZUZ1bmMsc3RhdGVGdW5jfVxuICogXG4gKiBpbmRleFxuICogLS0tLS1cbiAqIFRoZSBuZWFyYnkgaW5kZXggaXMgc3VwcGxpZWQgYnkgTGF5ZXIgaW1wbGVtZW50YXRpb25zLCBlaXRoZXIgYnkgXG4gKiBzdWJjbGFzc2luZyBpdCwgb3IgYnkgYXNzaWduaW5nIHRoZSBpbmRleC4gXG4gKi9cblxuZXhwb3J0IGNsYXNzIExheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM9e30pIHtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBDYWNoZUNsYXNzPUxheWVyQ2FjaGUsIFxuICAgICAgICAgICAgdmFsdWVGdW5jPXVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN0YXRlRnVuYz11bmRlZmluZWQsXG4gICAgICAgIH0gPSBvcHRpb25zOyBcblxuICAgICAgICAvLyBjYWxsYmFja3NcbiAgICAgICAgY2FsbGJhY2suYWRkU3RhdGUodGhpcyk7XG4gICAgICAgIC8vIGRlZmluZSBjaGFuZ2UgZXZlbnRcbiAgICAgICAgZXZlbnRpZnkuYWRkU3RhdGUodGhpcyk7XG4gICAgICAgIHRoaXMuZXZlbnRpZnlEZWZpbmUoXCJjaGFuZ2VcIiwge2luaXQ6dHJ1ZX0pO1xuXG4gICAgICAgIC8vIGluZGV4XG4gICAgICAgIHRoaXMuaW5kZXg7XG5cbiAgICAgICAgLy8gY2FjaGVcbiAgICAgICAgdGhpcy5fQ2FjaGVDbGFzcyA9IENhY2hlQ2xhc3M7XG4gICAgICAgIHRoaXMuX3ByaXZhdGVfY2FjaGU7XG4gICAgICAgIHRoaXMuX2NvbnN1bWVyX2NhY2hlcyA9IFtdO1xuXG4gICAgICAgIC8vIHByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5fdmFsdWVGdW5jID0gdmFsdWVGdW5jO1xuICAgICAgICB0aGlzLl9zdGF0ZUZ1bmMgPSBzdGF0ZUZ1bmM7XG4gICAgfVxuXG4gICAgLy8gcmVzdHJpY3Rpb25zIChkZWZhdWx0cylcbiAgICBnZXQgbnVtZXJpYyAoKSB7cmV0dXJuIGZhbHNlO31cbiAgICBnZXQgbXV0YWJsZSAoKSB7cmV0dXJuIGZhbHNlO31cbiAgICBnZXQgaXRlbXNPbmx5ICgpIHtyZXR1cm4gZmFsc2U7fVxuXG4gICAgLy8gcXVlcnkgb3B0aW9uc1xuICAgIGdldCB2YWx1ZUZ1bmMgKCkge3JldHVybiB0aGlzLl92YWx1ZUZ1bmM7fVxuICAgIGdldCBzdGF0ZUZ1bmMgKCkge3JldHVybiB0aGlzLl9zdGF0ZUZ1bmM7fVxuXG4gICAgLy8gcHJpdmF0ZSBjYWNoZVxuICAgIGdldCBjYWNoZSAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wcml2YXRlX2NhY2hlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fcHJpdmF0ZV9jYWNoZSA9IG5ldyB0aGlzLl9DYWNoZUNsYXNzKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wcml2YXRlX2NhY2hlO1xuICAgIH1cblxuICAgIC8vIGludm9rZWQgYnkgbGF5ZXIgY29uc3VtZXJcbiAgICBxdWVyeShvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUucXVlcnkob2Zmc2V0KTtcbiAgICB9XG5cbiAgICAvLyBpbnZva2VkIGJ5IGxheWVyIGNvbnN1bWVyXG4gICAgY3JlYXRlQ2FjaGUgKCkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyB0aGlzLl9DYWNoZUNsYXNzKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb25zdW1lcl9jYWNoZXMucHVzaChjYWNoZSk7XG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9XG4gICAgcmVsZWFzZUNhY2hlIChjYWNoZSkge1xuICAgICAgICBjb25zdCBpZHggPSB0aGlzLl9jb25zdW1lcl9jYWNoZXMuaW5kZXhPZihjYWNoZSk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fY29uc3VtZXJfY2FjaGVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyQ2FjaGVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNhY2hlIG9mIHRoaXMuX2NvbnN1bWVyX2NhY2hlcyl7XG4gICAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wcml2YXRlX2NhY2hlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fcHJpdmF0ZV9jYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaW52b2tlZCBieSBzdWJjbGFzcyB3aGVuZXZlciBsYXllciBoYXMgY2hhbmdlZFxuICAgIG9uY2hhbmdlKCkge1xuICAgICAgICB0aGlzLmNsZWFyQ2FjaGVzKCk7XG4gICAgICAgIHRoaXMubm90aWZ5X2NhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmV2ZW50aWZ5VHJpZ2dlcihcImNoYW5nZVwiKTsgICAgXG4gICAgfVxuXG4gICAgLy8gaXRlcmF0b3IgZm9yIHJlZ2lvbnMgb2YgdGhlIGxheWVyIGluZGV4XG4gICAgcmVnaW9ucyAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleC5yZWdpb25zKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICAgIFNhbXBsZSBsYXllciB2YWx1ZXMgYnkgdGltZWxpbmUgb2Zmc2V0IGluY3JlbWVudHNcbiAgICAgICAgcmV0dXJuIGxpc3Qgb2YgdHVwbGVzIFt2YWx1ZSwgb2Zmc2V0XVxuICAgICAgICBvcHRpb25zXG4gICAgICAgIC0gc3RhcnRcbiAgICAgICAgLSBzdG9wXG4gICAgICAgIC0gc3RlcFxuXG4gICAgICAgIFRPRE8gLSB0aGlzIHNob3VsZCBiZSBhbiBpdGVyYXRvclxuICAgICovXG4gICAgc2FtcGxlKG9wdGlvbnM9e30pIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXguZW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7c3RhcnQsIHN0b3AsIHN0ZXA9MX0gPSBvcHRpb25zO1xuICAgICAgICBcbiAgICAgICAgaWYgKHN0YXJ0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgaW5kZXguZmlyc3QgaXMgYSBudW1iZXJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5pbmRleC5maXJzdCgpO1xuICAgICAgICAgICAgaWYgKGZpcnN0WzBdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGZpcnN0WzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmRlZmluZWQgc3RhcnRcIik7XG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICB9XG4gICAgICAgIGlmIChzdG9wID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgaW5kZXgubGFzdCBpcyBhIG51bWJlclxuICAgICAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMuaW5kZXgubGFzdCgpO1xuICAgICAgICAgICAgaWYgKGxhc3RbMF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0b3AgPSBsYXN0WzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmRlZmluZWQgc3RvcFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQgPiBzdG9wKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IgKFwic3RvcCBtdXN0IGJlIGxhcmdlciB0aGFuIHN0YXJ0XCIsIHN0YXJ0LCBzdG9wKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jcmVhdGVDYWNoZSgpO1xuICAgICAgICBjb25zdCBzYW1wbGVzID0gcmFuZ2Uoc3RhcnQsIHN0b3AsIHN0ZXAsIHtpbmNsdWRlX2VuZDp0cnVlfSlcbiAgICAgICAgICAgIC5tYXAoKG9mZnNldCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBbY2FjaGUucXVlcnkob2Zmc2V0KS52YWx1ZSwgb2Zmc2V0XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbGVhc2VDYWNoZShjYWNoZSk7XG4gICAgICAgIHJldHVybiBzYW1wbGVzO1xuICAgIH1cbn1cbmNhbGxiYWNrLmFkZE1ldGhvZHMoTGF5ZXIucHJvdG90eXBlKTtcbmV2ZW50aWZ5LmFkZE1ldGhvZHMoTGF5ZXIucHJvdG90eXBlKTtcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBMQVlFUiBDQUNIRVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBMYXllciBDYWNoZSBpcyB0aGUgcmVndWxhciBjYWNoZSB0eXBlLCBpbnRlbmRlZCBmb3JcbiAqIF9kZXJpdmVkXyBMYXllcnMgLSB0aGF0IGlzIGEgbGF5ZXJzIHdoaWNoIGluZGV4IHJlZmVyZW5jZXNcbiAqIG90aGVyIHNvdXJjZSBsYXllcnMuXG4gKiBcbiAqIEEgcXVlcnkgaXMgcmVzb2x2ZWQgYnkgaWRlbnRpZnlpbmcgdGhlIHJlbGV2YW50IHJlZ2lvbiBpblxuICogdGhlIG5lYXJieSBpbmRleCAoaW5kZXgubmVhcmJ5KG9mZnNldCkpLCBhbmQgdGhlbiBxdWVyeWluZyBcbiAqIHRoZSBzdGF0ZSBvZiBhbGwgdGhlIG9iamVjdHMgZm91bmQgaW4gdGhlIHJlZ2lvbiAobmVhcmJ5LmNlbnRlcikuXG4gKiAgXG4gKiBPcHRpb25zIHt2YWx1ZUZ1bmMgb3Igc3RhdGVGdW5jfSBhcmUgdXNlZCB0byBjb21wdXRlIGEgXG4gKiBzaW5nbGUgcXVlcnkgcmVzdWx0IGZyb20gdGhlIGxpc3Qgb2Ygc3RhdGVzLlxuICogXG4gKiBUaGUgcmVzdWx0IHN0YXRlIGlzIG9ubHkgY2FjaGVkIGlmIGl0IGlzIHN0YXRpYy5cbiAqIENhY2hlIG1pc3MgaXMgdHJpZ2dlcmVkIGlmIG5vIHN0YXRlIGhhcyBiZWVuIGNhY2hlZCwgb3IgaWYgXG4gKiBvZmZzZXQgaXMgb3V0c2lkZSB0aGUgcmVnaW9uIG9mIHRoZSBjYWNoZWQgc3RhdGUuXG4gKiBcbiAqL1xuXG5leHBvcnQgY2xhc3MgTGF5ZXJDYWNoZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihsYXllcikge1xuICAgICAgICAvLyBjYWNoZSBiZWxvbmdzIHRvIGxheWVyXG4gICAgICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgICAgIC8vIGNhY2hlZCBuZWFyYnkgc3RhdGVcbiAgICAgICAgdGhpcy5fbmVhcmJ5O1xuICAgICAgICAvLyBjYWNoZWQgc3RhdGVcbiAgICAgICAgdGhpcy5fc3RhdGU7XG4gICAgICAgIC8vIHF1ZXJ5IG9wdGlvbnNcbiAgICAgICAgdGhpcy5fcXVlcnlfb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHZhbHVlRnVuYzogdGhpcy5fbGF5ZXIudmFsdWVGdW5jLFxuICAgICAgICAgICAgc3RhdGVGdW5jOiB0aGlzLl9sYXllci5zdGF0ZUZ1bmMsXG4gICAgICAgICAgICBudW1iZXJPbmx5OiB0aGlzLl9sYXllci5pc051bWJlck9ubHksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0IGxheWVyKCkge3JldHVybiB0aGlzLl9sYXllcn07XG5cbiAgICAvKipcbiAgICAgKiBxdWVyeSBjYWNoZVxuICAgICAqL1xuICAgIHF1ZXJ5KG9mZnNldCkge1xuICAgICAgICBjb25zdCBuZWVkX2luZGV4X2xvb2t1cCA9IChcbiAgICAgICAgICAgIHRoaXMuX25lYXJieSA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICFpbnRlcnZhbC5jb3ZlcnNfZW5kcG9pbnQodGhpcy5fbmVhcmJ5Lml0diwgb2Zmc2V0KVxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhbmVlZF9pbmRleF9sb29rdXAgJiYgXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICF0aGlzLl9zdGF0ZS5keW5hbWljXG4gICAgICAgICkge1xuICAgICAgICAgICAgLy8gY2FjaGUgaGl0XG4gICAgICAgICAgICByZXR1cm4gey4uLnRoaXMuX3N0YXRlLCBvZmZzZXR9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhY2hlIG1pc3NcbiAgICAgICAgaWYgKG5lZWRfaW5kZXhfbG9va3VwKSB7XG4gICAgICAgICAgICB0aGlzLl9uZWFyYnkgPSB0aGlzLl9sYXllci5pbmRleC5uZWFyYnkob2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtIHF1ZXJpZXNcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gdGhpcy5fbmVhcmJ5LmNlbnRlci5tYXAoKGNhY2hlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUucXVlcnkob2Zmc2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzaW5nbGUgcmVzdWx0IHN0YXRlXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdG9TdGF0ZSh0aGlzLl9uZWFyYnkuY2VudGVyLCBzdGF0ZXMsIG9mZnNldCwgdGhpcy5fcXVlcnlfb3B0aW9ucyk7XG4gICAgICAgIC8vIGNhY2hlIHN0YXRlIG9ubHkgaWYgbm90IGR5bmFtaWNcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAoc3RhdGUuZHluYW1pYykgPyB1bmRlZmluZWQgOiBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIHN0YXRlICAgIFxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9uZWFyYnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHsgbG9jYWxfY2xvY2sgfSBmcm9tIFwiLi9jb21tb24uanNcIjtcblxuLyoqXG4gKiBwb2xsaW5nIGEgY2FsbGJhY2sgZnVuY3Rpb24gcGVyaW9kaWNhbGx5IHdpdGggXG4gKiBhIGZpeGVkIGRlbGF5IChtcykuXG4gKiBJZiBkZWxheSBpcyAwLCB1c2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLFxuICogZWxzZSB1c2Ugc2V0VGltZW91dC5cbiAqIERlbGF5IGNhbiBiZSBzZXQgZHluYW1pY2FsbHkuIFBhdXNlIGFuZCByZXN1bWVcbiAqIGlzIG5lZWRlZCBmb3IgbmV3IGRlbGF5IHRvIHRha2UgZWZmZWN0LlxuICovXG5cbmNsYXNzIFBvbGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLl9oYW5kbGU7XG4gICAgICAgIHRoaXMuX2RlbGF5O1xuICAgIH1cbiAgICBcbiAgICBzZXQgZGVsYXkgKGRlbGF5X21zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGVsYXlfbXMgIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBkZWxheSBtdXN0IGJlIGEgbnVtYmVyICR7ZGVsYXlfbXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlbGF5ICE9IGRlbGF5X21zKSB7ICAgXG4gICAgICAgICAgICB0aGlzLl9kZWxheSA9IGRlbGF5X21zO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBkZWxheSAoKSB7cmV0dXJuIHRoaXMuX2RlbGF5O31cblxuICAgIGlzX3BvbGxpbmcgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlICE9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZS5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvbGwoKSB7XG4gICAgICAgIC8vIHBvbGwgY2FsbGJhY2tcbiAgICAgICAgdGhpcy5fY2FsbGJhY2soKTtcbiAgICAgICAgLy8gc2NoZWR1bGUgbmV4dCBwb2xsXG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgdGhpcy5yZXN1bWUoKTtcbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVsYXkgPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGZyYW1lcmF0ZVxuICAgICAgICAgICAgICAgIGNvbnN0IGFpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnBvbGwuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlID0ge2NhbmNlbDogKCkgPT4gY2FuY2VsQW5pbWF0aW9uRnJhbWUoYWlkKX07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRpbWVvdXRcbiAgICAgICAgICAgICAgICBjb25zdCB0aWQgPSBzZXRUaW1lb3V0KHRoaXMucG9sbC5iaW5kKHRoaXMpLCB0aGlzLl9kZWxheSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlID0ge2NhbmNlbDogKCkgPT4gY2xlYXJUaW1lb3V0KHRpZCl9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEN1cnNvciBNb25pdG9yXG4gKi9cblxuY2xhc3MgQ3Vyc29yTW9uaXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAgICBzZXQgb2YgYmluZGluZ3NcbiAgICAgICAgICAgIHBvbGwgY3Vyc29yICh3aGVuIGR5bmFtaWMpIHBlcmlvZGljYWxseSB3aXRoIGdpdmVuIChtaW5pbXVtKSBkZWxheSwgYW5kIGludm9rZSBjYWxsYmFjayB3aXRoIGN1cnNvciBzdGF0ZSBcbiAgICAgICAgICAgIGJpbmRpbmcgOiB7Y3Vyc29yLCBjYWxsYmFjaywgZGVsYXlfbXN9XG4gICAgICAgICAgICAtIGN1cnNvcjpcbiAgICAgICAgICAgIC0gY2FsbGJhY2s6IGZ1bmN0aW9uKHN0YXRlKVxuICAgICAgICAgICAgLSBkZWxheTogKG1zKSBiZXR3ZWVuIHNhbXBsZXMgKHdoZW4gdmFyaWFibGUgaXMgZHluYW1pYylcbiAgICAgICAgICAgIHRoZXJlIGNhbiBiZSBtdWx0aXBsZSBiaW5kaW5ncyBmb3IgdGhlIHNhbWUgY3Vyc29yXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuX2JpbmRpbmdfc2V0ID0gbmV3IFNldCgpO1xuXG4gICAgICAgIC8qXG4gICAgICAgICAgICBjdXJzb3JzXG4gICAgICAgICAgICBtYXA6IGN1cnNvciAtPiB7c3ViLCBwb2xsaW5nLCBiaW5kaW5nczpbXX1cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3Vyc29yX21hcCA9IG5ldyBNYXAoKTtcblxuICAgICAgICAvLyBQb2xsZXJcbiAgICAgICAgdGhpcy5fcG9sbGVyID0gbmV3IFBvbGxlcih0aGlzLm9ucG9sbC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBiaW5kKGN1cnNvciwgY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgICAgIC8vIGNoZWNrIGRlbGF5XG4gICAgICAgIGlmIChkZWxheSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGVsYXkgIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBkZWxheSBtdXN0IGJlIGEgbnVtYmVyICR7ZGVsYXl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVnaXN0ZXIgYmluZGluZ1xuICAgICAgICBsZXQgYmluZGluZyA9IHtjdXJzb3IsIGNhbGxiYWNrLCBkZWxheX07XG4gICAgICAgIHRoaXMuX2JpbmRpbmdfc2V0LmFkZChiaW5kaW5nKTtcbiAgICAgICAgLy8gcmVnaXN0ZXIgY3Vyc29yXG4gICAgICAgIGlmICghdGhpcy5fY3Vyc29yX21hcC5oYXMoY3Vyc29yKSkgeyBcbiAgICAgICAgICAgIGxldCBzdWIgPSBjdXJzb3Iub24oXCJjaGFuZ2VcIiwgdGhpcy5vbmN1cnNvcmNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvcl9tYXAuc2V0KGN1cnNvciwge1xuICAgICAgICAgICAgICAgIHN1YiwgcG9sbGluZzogZmFsc2UsIGJpbmRpbmdzOiBbYmluZGluZ11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yX21hcC5nZXQoY3Vyc29yKS5iaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiaW5kaW5nO1xuICAgIH1cblxuICAgIHJlbGVhc2UgKGJpbmRpbmcpIHtcbiAgICAgICAgLy8gdW5yZWdpc3RlciBiaW5kaW5nXG4gICAgICAgIGNvbnN0IHJlbW92ZWQgPSB0aGlzLl9iaW5kaW5nX3NldC5kZWxldGUoYmluZGluZyk7XG4gICAgICAgIGlmICghcmVtb3ZlZCkgcmV0dXJuO1xuICAgICAgICAvLyBjbGVhbnVwXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IGJpbmRpbmcuY3Vyc29yO1xuICAgICAgICBjb25zdCB7c3ViLCBiaW5kaW5nc30gPSB0aGlzLl9jdXJzb3JfbWFwLmdldChjdXJzb3IpO1xuICAgICAgICAvLyByZW1vdmUgYmluZGluZ1xuICAgICAgICBjb25zdCBpZHggPSBiaW5kaW5ncy5pbmRleE9mKGJpbmRpbmcpO1xuICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIGJpbmRpbmdzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiaW5kaW5ncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgLy8gbm8gbW9yZSBiaW5kaW5nc1xuICAgICAgICAgICAgY3Vyc29yLm9mZihzdWIpO1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yX21hcC5kZWxldGUoY3Vyc29yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGEgY3Vyc29yIGhhcyBjaGFuZ2VkXG4gICAgICogZm9yd2FyZCBjaGFuZ2UgZXZlbnQgdG8gYWxsIGNhbGxiYWNrcyBmb3IgdGhpcyBjdXJzb3IuXG4gICAgICogYW5kIHJlZXZhbHVhdGUgcG9sbGluZyBzdGF0dXMsIHBhdXNpbmcgb3IgcmVzdW1pbmdcbiAgICAgKiBwb2xsaW5nIGlmIG5lZWRlZC5cbiAgICAgKi9cbiAgICBvbmN1cnNvcmNoYW5nZShlQXJnLCBlSW5mbykge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSBlSW5mby5zcmM7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZUFyZztcbiAgICAgICAgLy8gcmVldmFsdWF0ZSBwb2xsaW5nIHN0YXR1c1xuICAgICAgICB0aGlzLl9jdXJzb3JfbWFwLmdldChjdXJzb3IpLnBvbGxpbmcgPSBzdGF0ZS5keW5hbWljO1xuICAgICAgICAvLyBmaW5kIGN1cnNvcnMgd2hpY2ggbmVlZCBwb2xsaW5nXG4gICAgICAgIGNvbnN0IHBvbGxpbmdfY3Vyc29ycyA9IFsuLi50aGlzLl9jdXJzb3JfbWFwLnZhbHVlcygpXVxuICAgICAgICAgICAgLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5wb2xsaW5nKTtcbiAgICAgICAgdGhpcy5yZWV2YWx1YXRlX3BvbGxpbmcocG9sbGluZ19jdXJzb3JzKTtcbiAgICAgICAgLy8gZm9yd2FyZCBjaGFuZ2UgZXZlbnQgdG8gYWxsIGZvciB0aGlzIGN1cnNvciBjYWxsYmFja3NcbiAgICAgICAgY29uc3Qge2JpbmRpbmdzfSA9IHRoaXMuX2N1cnNvcl9tYXAuZ2V0KGN1cnNvcik7XG4gICAgICAgIGZvciAoY29uc3QgYmluZGluZyBvZiBiaW5kaW5ncykge1xuICAgICAgICAgICAgYmluZGluZy5jYWxsYmFjayhzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbnBvbGwoKSB7XG4gICAgICAgIGNvbnN0IHRzID0gbG9jYWxfY2xvY2subm93KCk7XG4gICAgICAgIC8vIHBvbGwgYWxsIGN1cnNvcnMgd2l0aCBuZWVkIG9mIHBvbGxpbmdcbiAgICAgICAgZm9yIChjb25zdCBbY3Vyc29yLCBlbnRyeV0gb2YgdGhpcy5fY3Vyc29yX21hcCkge1xuICAgICAgICAgICAgaWYgKGVudHJ5LnBvbGxpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGN1cnNvci5xdWVyeSh0cyk7XG4gICAgICAgICAgICAgICAgLy8gZm9yd2FyZCBwb2xsZWQgc3RhdGUgdG8gYWxsIGNhbGxiYWNrcyBmb3IgdGhpcyBjdXJzb3JcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGJpbmRpbmcgb2YgZW50cnkuYmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZy5jYWxsYmFjayhzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVldmFsdWF0ZV9wb2xsaW5nKHBvbGxpbmdfY3Vyc29ycykge1xuICAgICAgICBpZiAocG9sbGluZ19jdXJzb3JzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9wb2xsZXIucGF1c2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZpbmQgbWluaW11bSBkZWxheVxuICAgICAgICAgICAgY29uc3QgZGVsYXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHBvbGxpbmdfY3Vyc29ycykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYmluZGluZyBvZiBlbnRyeS5iaW5kaW5ncykge1xuICAgICAgICAgICAgICAgICAgICBkZWxheXMucHVzaChiaW5kaW5nLmRlbGF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbWluX2RlbGF5ID0gTWF0aC5taW4oLi4uZGVsYXlzKTtcbiAgICAgICAgICAgIHRoaXMuX3BvbGxlci5kZWxheSA9IG1pbl9kZWxheTtcbiAgICAgICAgICAgIHRoaXMuX3BvbGxlci5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5fcG9sbGVyLnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBCSU5EIFJFTEVBU0VcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLy8gbW9uaXRvciBzaW5nbGV0b25cbmNvbnN0IG1vbml0b3IgPSBuZXcgQ3Vyc29yTW9uaXRvcigpO1xuXG5leHBvcnQgZnVuY3Rpb24gYmluZChjdXJzb3IsIGNhbGxiYWNrLCBkZWxheSkge1xuICAgIHJldHVybiBtb25pdG9yLmJpbmQoY3Vyc29yLCBjYWxsYmFjaywgZGVsYXkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2UoYmluZGluZykge1xuICAgIHJldHVybiBtb25pdG9yLnJlbGVhc2UoYmluZGluZyk7XG59XG5cbiIsImltcG9ydCAqIGFzIGV2ZW50aWZ5IGZyb20gXCIuL3V0aWwvYXBpX2V2ZW50aWZ5LmpzXCI7XG5pbXBvcnQgKiBhcyBjYWxsYmFjayBmcm9tIFwiLi91dGlsL2FwaV9jYWxsYmFjay5qc1wiO1xuaW1wb3J0IHsgYmluZCwgcmVsZWFzZSB9IGZyb20gXCIuL3V0aWwvY3Vyc29yX21vbml0b3IuanNcIjtcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDVVJTT1JcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICBcblxuLyoqXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBDdXJzb3IgaW50ZXJmYWNlXG4gKi9cblxuZXhwb3J0IGNsYXNzIEN1cnNvciB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIGNhbGxiYWNrc1xuICAgICAgICBjYWxsYmFjay5hZGRTdGF0ZSh0aGlzKTtcbiAgICAgICAgLy8gZGVmaW5lIGNoYW5nZSBldmVudFxuICAgICAgICBldmVudGlmeS5hZGRTdGF0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5ldmVudGlmeURlZmluZShcImNoYW5nZVwiLCB7aW5pdDp0cnVlfSk7XG4gICAgfVxuXG4gICAgLy8gcmVzdHJpY3Rpb24gZGVmYXVsdHNcbiAgICBnZXQgbXV0YWJsZSAoKSB7cmV0dXJuIGZhbHNlO31cbiAgICBnZXQgbnVtZXJpYyAoKSB7cmV0dXJuIGZhbHNlO307XG4gICAgZ2V0IGl0ZW1zT25seSAoKSB7cmV0dXJuIGZhbHNlO31cbiAgICBnZXQgZml4ZWRSYXRlICgpIHtyZXR1cm4gZmFsc2V9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqIFFVRVJZIEFQSVxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgcXVlcnkobG9jYWxfdHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicXVlcnkoKSBub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuICAgIGdldCB2YWx1ZSAoKSB7cmV0dXJuIHRoaXMucXVlcnkoKS52YWx1ZX07XG4gICAgZ2V0ICgpIHtyZXR1cm4gdGhpcy5xdWVyeSgpLnZhbHVlO31cblxuICAgIC8qKlxuICAgICAqIEV2ZW50aWZ5OiBpbW1lZGlhdGUgZXZlbnRzXG4gICAgICovXG4gICAgZXZlbnRpZnlJbml0RXZlbnRBcmdzKG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT0gXCJjaGFuZ2VcIikge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLnF1ZXJ5KCldO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogQklORCBSRUxFQVNFIChjb252ZW5pZW5jZSlcbiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIC8qKlxuICAgICAqIGFsdGVybmF0aXZlIHRvIGxpc3RlbmluZyB0byB0aGUgY2hhbmdlIGV2ZW50XG4gICAgICogYmluZCBzdWJzY3JpYmVzIHRvIHRoZSBjaGFuZ2UgZXZlbnQsIGJ1dCBhbHNvIGF1dG9tYXRpY2FsbHlcbiAgICAgKiB0dXJucyBsaXN0ZW5pbmcgb24gYW5kIG9mZiB3aGVuIGFzIHRoZSBjdXJzb3Igc3dpdGNoZXNcbiAgICAgKiBiZXR3ZWVuIGR5bmFtaWMgYW5kIG5vbi1keW5hbWljIGJlaGF2aW9yLlxuICAgICAqL1xuXG4gICAgYmluZChjYWxsYmFjaywgZGVsYXksIG9wdGlvbnM9e30pIHtcbiAgICAgICAgcmV0dXJuIGJpbmQodGhpcywgY2FsbGJhY2ssIGRlbGF5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmVsZWFzZShoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIHJlbGVhc2UoaGFuZGxlKTtcbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqIENIQU5HRSBOT1RJRklDQVRJT05cbiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIC8qKlxuICAgICAqIGludm9rZWQgYnkgY3Vyc29yIGltcGxlbWVudGF0aW9uIHRvIHNpZ25hbCBjaGFuZ2UgaW4gY3Vyc29yXG4gICAgICogYmVoYXZpb3IuXG4gICAgICovXG4gICAgb25jaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMubm90aWZ5X2NhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmV2ZW50aWZ5VHJpZ2dlcihcImNoYW5nZVwiLCB0aGlzLnF1ZXJ5KCkpO1xuICAgICAgICB0aGlzLmRldGVjdF9mdXR1cmVfZXZlbnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvdmVycmlkZSBieSBjdXJzb3IgaW1wbGVtZW50YXRpb24gaW4gb3JkZXIgdG8gZGV0ZWN0XG4gICAgICogYW5kIHRyaWdnZXIgZnV0dXJlIGNoYW5nZSBldmVudHMgLSB3aGljaCBhcmUgbm90IHRyaWdnZXJlZFxuICAgICAqIGJ5IHN0YXRlIGNoYW5nZXMgLSBidXQgY2F1c2VkIGJ5IHRpbWUgcHJvZ3Jlc3Npb25cbiAgICAgKiBvciBwbGF5YmFjay4gVGhpcyBmdW5jdGlvbiBpcyBpbnZva2VkIGFmdGVyIGVhY2ggXG4gICAgICogb25jaGFuZ2UoKSBldmVudC5cbiAgICAgKi9cbiAgICBkZXRlY3RfZnV0dXJlX2V2ZW50KCkge31cbn1cbmNhbGxiYWNrLmFkZE1ldGhvZHMoQ3Vyc29yLnByb3RvdHlwZSk7XG5ldmVudGlmeS5hZGRNZXRob2RzKEN1cnNvci5wcm90b3R5cGUpO1xuIiwiaW1wb3J0IHtsb2NhbF9jbG9jaywgY2hlY2tfbnVtYmVyfSBmcm9tIFwiLi91dGlsL2NvbW1vbi5qc1wiO1xuXG5cbi8qKlxuICogQ0xPQ0sgUFJPVklERVJcbiAqIFxuICogQSBDbG9ja1Byb3ZpZGVyIGNhbiBiZSBjcmVhdGVkIGluIHR3byB3YXlzXG4gKiAtIGVpdGhlciBieSBzdXBwbHlpbmcgYSBjbG9jayBvYmplY3RcbiAqIC0gb3IgYnkgc3VwcGx5aW5nIGEgdmVjdG9yIFxuICogXG4gKiBBICpjbG9jayogaXMgYW4gb2JqZWN0IHRoYXQgaGFzIGEgbm93KCkgbWV0aG9kIHdoaWNoIHJldHVybnMgdGhlIGN1cnJlbnQgdGltZS5cbiAqIEEgY2xvY2sgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdGltZXN0YW1wIGluIHNlY29uZHMsIG1vbml0b25pY2FsbHkgaW5jcmVhc2luZyBcbiAqIGF0IHJhdGUgMS4wIHNlYy9zZWMuIFxuICogXG4gKiBBICp2ZWN0b3IqIGluaXRpYWxpemVzIGEgZGV0ZXJtaXN0aWMgY2xvY2sgYmFzZWQgb24gdGhlIG9mZmljaWFsICpsb2NhbF9jbG9jayouIFxuICogLSB0cyAoc2VjKSAtIHRpbWVzdGFtcCBmcm9tIG9mZmljaWFsICpsb2NhbF9jbG9jaypcbiAqIC0gdmFsdWUgKHNlYykgLSB2YWx1ZSBvZiBjbG9jayBhdCB0aW1lIHRzXG4gKiAtIHJhdGUgKHNlYy9zZWMpIC0gcmF0ZSBvZiBjbG9jayAoZGVmYXVsdCAxLjApXG4gKiBDbG9jayBQcm92aWRlciB1c2VzIG9mZmljaWFsICpsb2NhbCBjbG9jayogKHBlcmZvcm1hY2Uubm93KCkvMTAwMC4wKVxuICogVGhlIG9mZmljaWFsIGNsb2NrIGlzIGV4cG9ydGVkIGJ5IHRoZSBzdGF0ZWxheWVycyBmcmFtZXdvcmssIHNvIGFwcGxpY2F0aW9uXG4gKiBjb2RlIGNhbiB1c2UgaXQgdG8gY3JlYXRlIGFuIGluaXRpYWwgdGltZXN0YW1wcy4gSWYgb21taXR0ZWQsIGNsb2NrXG4gKiBwcm92aWRlciBjcmVhdGVzIHRoZSB0aW1lc3RhbXAgLSB0aGVyZWJ5IGFzc3VtaW5nIHRoYXQgdGhlIHByb3ZpZGVkIHZhbHVlIHdhcyBcbiAqIHNhbXBsZWQgaW1tZWRpYXRlbHkgYmVmb3JlLlxuICogXG4gKiBcbiAqIFRoZSBrZXkgZGlmZmVyZW5jZSBiZXR3ZWVuICpjbG9jayogYW5kICp2ZWN0b3IqIGlzIHRoYXQgdGhlIGNsb2NrIG9iamVjdCBjYW4gZHJpZnQgXG4gKiByZWxhdGl2ZSB0byB0aGUgb2ZmaWNpYWwgKmxvY2FsX2Nsb2NrKiwgd2hpbGUgdGhlIHZlY3RvciBvYmplY3QgaXMgZm9yZXZlciBsb2NrZWQgdG9cbiAqIHRoZSBvZmZpY2lhbCAqbG9jYWxfY2xvY2sqLlxuICogICBcbiAqL1xuXG5mdW5jdGlvbiBpc19jbG9jayhvYmopIHtcbiAgICBpZiAoIShcIm5vd1wiIGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG9iai5ub3cgIT0gXCJmdW5jdGlvblwiKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBjbGFzcyBDbG9ja1Byb3ZpZGVyIHtcblxuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zPXt9KSB7XG4gICAgICAgIGNvbnN0IHtjbG9jaywgdmVjdG9yPUxPQ0FMX0NMT0NLX1ZFQ1RPUn0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmIChjbG9jayAhPT0gdW5kZWZpbmVkICYmIGlzX2Nsb2NrKGNsb2NrKSkge1xuICAgICAgICAgICAgdGhpcy5fY2xvY2sgPSB7XG4gICAgICAgICAgICAgICAgbm93OiAobG9jYWxfdHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgbG9jYWxfdHMgaXMgZGVmaW5lZCBpdCBkZWZpbmVzIGEgdGltZXN0YW1wIGZvclxuICAgICAgICAgICAgICAgICAgICAvLyBldmFsdWF0aW9uIG9mIHRoZSBjbG9jayAtIHdoaWNoIGlzIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgICAgICAvLyBhcyBub3cgLSBiYWNrLWRhdGUgY2xvY2sgYWNjb3JkaW5nbHlcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZl90cyA9IChsb2NhbF90cyAhPSB1bmRlZmluZWQpID8gbG9jYWxfY2xvY2subm93KCkgLSBsb2NhbF90cyA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbG9jay5ub3coKSAtIGRpZmZfdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAgICBcbiAgICAgICAgICAgIHRoaXMuX3JhdGUgPSAxLjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQge3RzLCB2YWx1ZSwgcmF0ZT0xLjB9ID0gdmVjdG9yO1xuICAgICAgICAgICAgaWYgKHRzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRzID0gbG9jYWxfY2xvY2subm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGVja19udW1iZXIoXCJ0c1wiLCB0cyk7XG4gICAgICAgICAgICBjaGVja19udW1iZXIoXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBjaGVja19udW1iZXIoXCJyYXRlXCIsIHJhdGUpO1xuICAgICAgICAgICAgdGhpcy5fdDAgPSB0cztcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yYXRlID0gcmF0ZTtcbiAgICAgICAgICAgIHRoaXMuX2Nsb2NrID0ge1xuICAgICAgICAgICAgICAgIG5vdzogKGxvY2FsX3RzID0gbG9jYWxfY2xvY2subm93KCkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlICsgKGxvY2FsX3RzIC0gdGhpcy5fdDApKnRoaXMuX3JhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbm93ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb2NrLm5vdygpO1xuICAgIH1cblxuICAgIGdldCByYXRlKCkge3JldHVybiB0aGlzLl9yYXRlO31cbn1cblxuXG4vLyBkZWZhdWx0IGNsb2NrIHByb3ZpZGVyICAgIFxuY29uc3QgTE9DQUxfQ0xPQ0tfVkVDVE9SID0ge1xuICAgIHRzOiBsb2NhbF9jbG9jay5ub3coKSxcbiAgICB2YWx1ZTogbmV3IERhdGUoKS8xMDAwLjAsIFxuICAgIHJhdGU6IDEuMFxufTtcbmNvbnN0IExPQ0FMX0NMT0NLX1BST1ZJREVSID0gbmV3IENsb2NrUHJvdmlkZXIoe3ZlY3RvcjpMT0NBTF9DTE9DS19WRUNUT1J9KTtcblxuZXhwb3J0IGNvbnN0IGNsb2NrX3Byb3ZpZGVyID0gKG9wdGlvbnM9e30pID0+IHtcblxuICAgIGNvbnN0IHtjbG9jaywgdmVjdG9yfSA9IG9wdGlvbnM7XG4gICAgaWYgKGNsb2NrID09IHVuZGVmaW5lZCAmJiB2ZWN0b3IgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBMT0NBTF9DTE9DS19QUk9WSURFUjtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDbG9ja1Byb3ZpZGVyKG9wdGlvbnMpOyBcbn0iLCJpbXBvcnQgKiBhcyBjYWxsYmFjayBmcm9tIFwiLi91dGlsL2FwaV9jYWxsYmFjay5qc1wiO1xuXG5cbi8qKlxuICogY29sbGVjdGlvbiBwcm92aWRlcnMgbXVzdCBwcm92aWRlIGdldF9hbGwgZnVuY3Rpb25cbiAqIGFuZCBhbHNvIGltcGxlbWVudCBjYWxsYmFjayBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2NvbGxlY3Rpb25fcHJvdmlkZXIob2JqKSB7XG4gICAgaWYgKCFjYWxsYmFjay5pc19jYWxsYmFja19hcGkob2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghKFwiZ2V0XCIgaW4gb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2Ygb2JqLmdldCAhPSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCEoXCJ1cGRhdGVcIiBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBvYmoudXBkYXRlICE9ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQ09MTEVDVElPTiBQUk9WSURFUlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIGxvY2FsIGNvbGxlY3Rpb24gcHJvdmlkZXJcbiAqIFxuICogXG4gKiBjaGFuZ2VzID0ge1xuICogICByZW1vdmU9W10sXG4gKiAgIGluc2VydD1bXSxcbiAqICAgcmVzZXQ9ZmFsc2UgXG4gKiB9XG4gKiBcbiovXG5cbmV4cG9ydCBjbGFzcyBDb2xsZWN0aW9uUHJvdmlkZXIge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz17fSkge1xuICAgICAgICBjYWxsYmFjay5hZGRTdGF0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBpbml0aWFsaXplXG4gICAgICAgIGxldCB7aXRlbXN9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKGl0ZW1zICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLnNldChpdGVtLmlkLCBpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvY2FsIHN0YXRlcHJvdmlkZXJzIGRlY291cGxlIHVwZGF0ZSByZXF1ZXN0IGZyb21cbiAgICAgKiB1cGRhdGUgcHJvY2Vzc2luZywgYW5kIHJldHVybnMgUHJvbWlzZS5cbiAgICAgKi9cbiAgICB1cGRhdGUgKGNoYW5nZXMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBkaWZmcztcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRpZmZzID0gdGhpcy5fdXBkYXRlKGNoYW5nZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5X2NhbGxiYWNrcyhkaWZmcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlmZnM7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF91cGRhdGUoY2hhbmdlcykge1xuICAgICAgICBjb25zdCBkaWZmX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIGluc2VydD1bXSxcbiAgICAgICAgICAgIHJlbW92ZT1bXSxcbiAgICAgICAgICAgIHJlc2V0PWZhbHNlXG4gICAgICAgIH0gPSBjaGFuZ2VzO1xuXG5cbiAgICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgaXRlbV0gb2YgdGhpcy5fbWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGRpZmZfbWFwLnNldChpZCwge2lkLCBuZXc6dW5kZWZpbmVkLCBvbGQ6aXRlbX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2xlYXIgYWxsIGl0ZW1zXG4gICAgICAgICAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgaXRlbXMgYnkgaWRcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgcmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl9tYXAuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZl9tYXAuc2V0KGl0ZW0uaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOml0ZW0uaWQsIG5ldzp1bmRlZmluZWQsIG9sZDppdGVtXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZGVsZXRlKGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5zZXJ0IGl0ZW1zXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaW5zZXJ0KSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gZGlmZl9tYXAuZ2V0KGl0ZW0uaWQpXG4gICAgICAgICAgICBjb25zdCBvbGQgPSAoZGlmZiAhPSB1bmRlZmluZWQpID8gZGlmZi5vbGQgOiB0aGlzLl9tYXAuZ2V0KGl0ZW0uaWQpO1xuICAgICAgICAgICAgZGlmZl9tYXAuc2V0KGl0ZW0uaWQsIHtpZDppdGVtLmlkLCBuZXc6aXRlbSwgb2xkfSk7XG4gICAgICAgICAgICB0aGlzLl9tYXAuc2V0KGl0ZW0uaWQsIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4uZGlmZl9tYXAudmFsdWVzKCldO1xuICAgIH1cblxuICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLl9tYXAudmFsdWVzKCldO1xuICAgIH07XG59XG5jYWxsYmFjay5hZGRNZXRob2RzKENvbGxlY3Rpb25Qcm92aWRlci5wcm90b3R5cGUpO1xuIiwiaW1wb3J0ICogYXMgY2FsbGJhY2sgZnJvbSBcIi4vdXRpbC9hcGlfY2FsbGJhY2suanNcIjtcblxuLyoqXG4gKiBvYmplY3QgcHJvdmlkZXJzIGltcGxlbWVudCBnZXQoKSBhbmQgc2V0KCkgbWV0aG9kc1xuICogYW5kIHRoZSBjYWxsYmFjayBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX29iamVjdF9wcm92aWRlcihvYmopIHtcbiAgICBpZiAoIWNhbGxiYWNrLmlzX2NhbGxiYWNrX2FwaShvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCEoXCJnZXRcIiBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBvYmouZ2V0ICE9ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIShcInNldFwiIGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG9iai5zZXQgIT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgT0JKRUNUIFBST1ZJREVSXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogT2JqZWN0UHJvdmlkZXIgc3RvcmVzIGFuIG9iamVjdCBvciB1bmRlZmluZWQuXG4gKi9cblxuZXhwb3J0IGNsYXNzIE9iamVjdFByb3ZpZGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM9e30pIHtcbiAgICAgICAgY29uc3Qge2l0ZW1zfSA9IG9wdGlvbnM7XG4gICAgICAgIGNhbGxiYWNrLmFkZFN0YXRlKHRoaXMpO1xuICAgICAgICB0aGlzLl9vYmplY3QgPSBpdGVtcztcbiAgICB9XG5cbiAgICBzZXQgKG9iaikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vYmplY3QgPSBvYmo7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlfY2FsbGJhY2tzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0O1xuICAgIH1cbn1cbmNhbGxiYWNrLmFkZE1ldGhvZHMoT2JqZWN0UHJvdmlkZXIucHJvdG90eXBlKTsiLCJpbXBvcnQgeyBpc19jYWxsYmFja19hcGkgfSBmcm9tIFwiLi9hcGlfY2FsbGJhY2suanNcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogU09VUkNFIFBST1BFUlRZIChTUkNQUk9QKVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBGdW5jdGlvbnMgZm9yIGV4dGVuZGluZyBhIGNsYXNzIHdpdGggc3VwcG9ydCBmb3IgXG4gKiBleHRlcm5hbCBzb3VyY2Ugb24gYSBuYW1lZCBwcm9wZXJ0eS5cbiAqIFxuICogb3B0aW9uOiBtdXRhYmxlOnRydWUgbWVhbnMgdGhhdCBwcm9wZXJ5IG1heSBiZSByZXNldCBcbiAqIFxuICogc291cmNlIG9iamVjdCBpcyBhc3N1bWVkIHRvIHN1cHBvcnQgdGhlIGNhbGxiYWNrIGludGVyZmFjZSxcbiAqIG9yIGJlIGEgbGlzdCBvZiBvYmplY3RzIGFsbCBzdXBwb3J0aW5nIHRoZSBjYWxsYmFjayBpbnRlcmZhY2VcbiAqL1xuXG5jb25zdCBOQU1FID0gXCJzcmNwcm9wXCI7XG5jb25zdCBQUkVGSVggPSBgX18ke05BTUV9YDtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFN0YXRlIChvYmplY3QpIHtcbiAgICBvYmplY3RbYCR7UFJFRklYfWBdID0gbmV3IE1hcCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkTWV0aG9kcyAob2JqZWN0KSB7XG5cbiAgICBmdW5jdGlvbiByZWdpc3Rlcihwcm9wTmFtZSwgb3B0aW9ucz17fSkge1xuICAgICAgICBsZXQge211dGFibGU9dHJ1ZX0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzW2Ake1BSRUZJWH1gXTsgXG4gICAgICAgIG1hcC5zZXQocHJvcE5hbWUsIHtcbiAgICAgICAgICAgIGluaXQ6ZmFsc2UsXG4gICAgICAgICAgICBtdXRhYmxlLFxuICAgICAgICAgICAgZW50aXR5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBoYW5kbGVzOiBbXVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZWdpc3RlciBnZXR0ZXJzIGFuZCBzZXR0ZXJzXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBwcm9wTmFtZSwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcC5nZXQocHJvcE5hbWUpLmVudGl0eTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc1tgJHtOQU1FfV9jaGVja2BdKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eSA9IHRoaXNbYCR7TkFNRX1fY2hlY2tgXShwcm9wTmFtZSwgZW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eSAhPSBtYXAuZ2V0KHByb3BOYW1lKS5lbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tgJHtQUkVGSVh9X2F0dGFjaGBdKHByb3BOYW1lLCBlbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR0YXRjaChwcm9wTmFtZSwgZW50aXR5KSB7XG5cbiAgICAgICAgY29uc3QgbWFwID0gdGhpc1tgJHtQUkVGSVh9YF07XG4gICAgICAgIGNvbnN0IHN0YXRlID0gbWFwLmdldChwcm9wTmFtZSlcblxuICAgICAgICBpZiAoc3RhdGUuaW5pdCAmJiAhc3RhdGUubXV0YWJsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Byb3BOYW1lfSBjYW4gbm90IGJlIHJlYXNzaWduZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVudGl0aWVzID0gKEFycmF5LmlzQXJyYXkoZW50aXR5KSkgPyBlbnRpdHkgOiBbZW50aXR5XTtcblxuICAgICAgICAvLyB1bnN1YnNjcmliZSBmcm9tIGVudGl0aWVzXG4gICAgICAgIGlmIChzdGF0ZS5oYW5kbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2lkeCwgZV0gb2YgT2JqZWN0LmVudHJpZXMoZW50aXRpZXMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzX2NhbGxiYWNrX2FwaShlKSkge1xuICAgICAgICAgICAgICAgICAgICBlLnJlbW92ZV9jYWxsYmFjayhzdGF0ZS5oYW5kbGVzW2lkeF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuaGFuZGxlcyA9IFtdO1xuXG4gICAgICAgIC8vIGF0dGF0Y2ggbmV3IGVudGl0eVxuICAgICAgICBzdGF0ZS5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgIHN0YXRlLmluaXQgPSB0cnVlO1xuXG4gICAgICAgIC8vIHN1YnNjcmliZSB0byBjYWxsYmFjayBmcm9tIHNvdXJjZVxuICAgICAgICBpZiAodGhpc1tgJHtOQU1FfV9vbmNoYW5nZWBdKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gZnVuY3Rpb24gKGVBcmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2Ake05BTUV9X29uY2hhbmdlYF0ocHJvcE5hbWUsIGVBcmcpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzX2NhbGxiYWNrX2FwaShlKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5oYW5kbGVzLnB1c2goZS5hZGRfY2FsbGJhY2soaGFuZGxlcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbYCR7TkFNRX1fb25jaGFuZ2VgXShwcm9wTmFtZSwgXCJyZXNldFwiKTsgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhcGkgPSB7fTtcbiAgICBhcGlbYCR7TkFNRX1fcmVnaXN0ZXJgXSA9IHJlZ2lzdGVyO1xuICAgIGFwaVtgJHtQUkVGSVh9X2F0dGFjaGBdID0gYXR0YXRjaDtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCwgYXBpKTtcbn1cblxuIiwiaW1wb3J0IHsgZW5kcG9pbnQgfSBmcm9tIFwiLi9pbnRlcnZhbHMuanNcIjtcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdFNPUlRFRCBBUlJBWVxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKlxuXHRTb3J0ZWQgYXJyYXkgb2YgZW5kcG9pbnRzIFt2YWx1ZSwgdHlwZV0uXG5cdC0gRWxlbWVudHMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuXG5cdC0gTm8gZHVwbGljYXRlcyBhcmUgYWxsb3dlZC5cblx0LSBCaW5hcnkgc2VhcmNoIHVzZWQgZm9yIGxvb2t1cFxuXG5cdHZhbHVlcyBjYW4gYmUgcmVndWxhciBudW1iZXIgdmFsdWVzIChmbG9hdCkgb3IgZW5kcG9pbnRzIFtmbG9hdCwgdHlwZV1cbiovXG5cbmV4cG9ydCBjbGFzcyBTb3J0ZWRBcnJheSB7XG5cblx0Y29uc3RydWN0b3IoKXtcblx0XHR0aGlzLl9hcnJheSA9IFtdO1xuXHR9XG5cblx0Z2V0IHNpemUoKSB7cmV0dXJuIHRoaXMuX2FycmF5Lmxlbmd0aDt9XG5cdGdldCBhcnJheSgpIHtyZXR1cm4gdGhpcy5fYXJyYXk7fVxuXG5cdC8qXG5cdFx0ZmluZCBpbmRleCBvZiBnaXZlbiB2YWx1ZVxuXG5cdFx0cmV0dXJuIFtmb3VuZCwgaW5kZXhdXG5cblx0XHRpZiBmb3VuZCBpcyB0cnVlLCB0aGVuIGluZGV4IGlzIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgb2JqZWN0XG5cdFx0aWYgZm91bmQgaXMgZmFsc2UsIHRoZW4gaW5kZXggaXMgdGhlIGluZGV4IHdoZXJlIHRoZSBvYmplY3Qgc2hvdWxkXG5cdFx0YmUgaW5zZXJ0ZWRcblxuXHRcdC0gdXNlcyBiaW5hcnkgc2VhcmNoXHRcdFxuXHRcdC0gYXJyYXkgZG9lcyBub3QgaW5jbHVkZSBhbnkgZHVwbGljYXRlIHZhbHVlc1xuXHQqL1xuXHRpbmRleE9mKHRhcmdldF92YWx1ZSkge1xuXHRcdGNvbnN0IHRhcmdldF9lcCA9IGVuZHBvaW50LmZyb21faW5wdXQodGFyZ2V0X3ZhbHVlKTtcblx0XHRsZXQgbGVmdF9pZHggPSAwO1xuXHRcdGxldCByaWdodF9pZHggPSB0aGlzLl9hcnJheS5sZW5ndGggLSAxO1xuXHRcdHdoaWxlIChsZWZ0X2lkeCA8PSByaWdodF9pZHgpIHtcblx0XHRcdGNvbnN0IG1pZF9pZHggPSBNYXRoLmZsb29yKChsZWZ0X2lkeCArIHJpZ2h0X2lkeCkgLyAyKTtcblx0XHRcdGxldCBtaWRfdmFsdWUgPSB0aGlzLl9hcnJheVttaWRfaWR4XTtcblx0XHRcdGlmIChlbmRwb2ludC5lcShtaWRfdmFsdWUsIHRhcmdldF9lcCkpIHtcblx0XHRcdFx0cmV0dXJuIFt0cnVlLCBtaWRfaWR4XTsgLy8gVGFyZ2V0IGFscmVhZHkgZXhpc3RzIGluIHRoZSBhcnJheVxuXHRcdFx0fSBlbHNlIGlmIChlbmRwb2ludC5sdChtaWRfdmFsdWUsIHRhcmdldF9lcCkpIHtcblx0XHRcdFx0ICBsZWZ0X2lkeCA9IG1pZF9pZHggKyAxOyAvLyBNb3ZlIHNlYXJjaCByYW5nZSB0byB0aGUgcmlnaHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCAgcmlnaHRfaWR4ID0gbWlkX2lkeCAtIDE7IC8vIE1vdmUgc2VhcmNoIHJhbmdlIHRvIHRoZSBsZWZ0XG5cdFx0XHR9XG5cdFx0fVxuXHQgIFx0cmV0dXJuIFtmYWxzZSwgbGVmdF9pZHhdOyAvLyBSZXR1cm4gdGhlIGluZGV4IHdoZXJlIHRhcmdldCBzaG91bGQgYmUgaW5zZXJ0ZWRcblx0fVxuXG5cdC8qXG5cdFx0ZmluZCBpbmRleCBvZiBzbWFsbGVzdCB2YWx1ZSB3aGljaCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGFyZ2V0IHZhbHVlXG5cdFx0cmV0dXJucyAtMSBpZiBubyBzdWNoIHZhbHVlIGV4aXN0c1xuXHQqL1xuXHRnZUluZGV4T2YodGFyZ2V0X3ZhbHVlKSB7XG5cdFx0bGV0IFtmb3VuZCwgaWR4XSA9IHRoaXMuaW5kZXhPZih0YXJnZXRfdmFsdWUpO1xuXHRcdHJldHVybiAoaWR4IDwgdGhpcy5fYXJyYXkubGVuZ3RoKSA/IGlkeCA6IC0xICBcblx0fVxuXG5cdC8qXG5cdFx0ZmluZCBpbmRleCBvZiBsYXJnZXN0IHZhbHVlIHdoaWNoIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0YXJnZXQgdmFsdWVcblx0XHRyZXR1cm5zIC0xIGlmIG5vIHN1Y2ggdmFsdWUgZXhpc3RzXG5cdCovXG5cdGxlSW5kZXhPZih0YXJnZXRfdmFsdWUpIHtcblx0XHRsZXQgW2ZvdW5kLCBpZHhdID0gdGhpcy5pbmRleE9mKHRhcmdldF92YWx1ZSk7XG5cdFx0aWR4ID0gKGZvdW5kKSA/IGlkeCA6IGlkeC0xO1xuXHRcdHJldHVybiAoaWR4ID49IDApID8gaWR4IDogLTE7XG5cdH1cblxuXHQvKlxuXHRcdGZpbmQgaW5kZXggb2Ygc21hbGxlc3QgdmFsdWUgd2hpY2ggaXMgZ3JlYXRlciB0aGFuIHRhcmdldCB2YWx1ZVxuXHRcdHJldHVybnMgLTEgaWYgbm8gc3VjaCB2YWx1ZSBleGlzdHNcblx0Ki9cblx0Z3RJbmRleE9mKHRhcmdldF92YWx1ZSkge1xuXHRcdGxldCBbZm91bmQsIGlkeF0gPSB0aGlzLmluZGV4T2YodGFyZ2V0X3ZhbHVlKTtcblx0XHRpZHggPSAoZm91bmQpID8gaWR4ICsgMSA6IGlkeDtcblx0XHRyZXR1cm4gKGlkeCA8IHRoaXMuX2FycmF5Lmxlbmd0aCkgPyBpZHggOiAtMSAgXG5cdH1cblxuXHQvKlxuXHRcdGZpbmQgaW5kZXggb2YgbGFyZ2VzdCB2YWx1ZSB3aGljaCBpcyBsZXNzIHRoYW4gdGFyZ2V0IHZhbHVlXG5cdFx0cmV0dXJucyAtMSBpZiBubyBzdWNoIHZhbHVlIGV4aXN0c1xuXHQqL1xuXHRsdEluZGV4T2YodGFyZ2V0X3ZhbHVlKSB7XG5cdFx0bGV0IFtmb3VuZCwgaWR4XSA9IHRoaXMuaW5kZXhPZih0YXJnZXRfdmFsdWUpO1xuXHRcdGlkeCA9IGlkeC0xO1xuXHRcdHJldHVybiAoaWR4ID49IDApID8gaWR4IDogLTE7XHRcblx0fVxuXG5cdC8qXG5cdFx0VVBEQVRFXG5cblx0XHRhcHByb2FjaCAtIG1ha2UgYWxsIG5lY2Nlc3NhcnkgY2hhbmdlcyBhbmQgdGhlbiBzb3J0XG5cblx0XHRhcyBhIHJ1bGUgb2YgdGh1bWIgLSBjb21wYXJlZCB0byByZW1vdmluZyBhbmQgaW5zZXJ0aW5nIGVsZW1lbnRzXG5cdFx0b25lIGJ5IG9uZSwgdGhpcyBpcyBtb3JlIGVmZmVjdGl2ZSBmb3IgbGFyZ2VyIGJhdGNoZXMsIHNheSA+IDEwMC5cblx0XHRFdmVuIHRob3VnaCB0aGlzIG1pZ2h0IG5vdCBiZSB0aGUgY29tbW9uIGNhc2UsIHBlbmFsdGllcyBmb3Jcblx0XHRjaG9vc2luZyB0aGUgd3JvbmcgYXBwcm9hY2ggaXMgaGlnaGVyIGZvciBsYXJnZXIgYmF0Y2hlcy5cblxuXHRcdHJlbW92ZSBpcyBwcm9jZXNzZWQgZmlyc3QsIHNvIGlmIGEgdmFsdWUgYXBwZWFycyBpbiBib3RoIFxuXHRcdHJlbW92ZSBhbmQgaW5zZXJ0LCBpdCB3aWxsIHJlbWFpbi5cblx0XHR1bmRlZmluZWQgdmFsdWVzIGNhbiBub3QgYmUgaW5zZXJ0ZWQgXG5cblx0Ki9cblxuXHR1cGRhdGUocmVtb3ZlX2xpc3Q9W10sIGluc2VydF9saXN0PVtdKSB7XG5cblx0XHQvKlxuXHRcdFx0cmVtb3ZlXG5cblx0XHRcdHJlbW92ZSBieSBmbGFnZ2luZyBlbGVtZW50cyBhcyB1bmRlZmluZWRcblx0XHRcdC0gY29sbGVjdCBhbGwgaW5kZXhlcyBmaXJzdFxuXHRcdFx0LSBmbGFnIGFzIHVuZGVmaW5lZCBvbmx5IGFmdGVyIGFsbCBpbmRleGVzIGhhdmUgYmVlbiBmb3VuZCxcblx0XHRcdCAgYXMgaW5zZXJ0aW5nIHVuZGVmaW5lZCB2YWx1ZXMgYnJlYWtlcyB0aGUgYXNzdW1wdGlvbiB0aGF0XG5cdFx0XHQgIHRoZSBhcnJheSBpcyBzb3J0ZWQuXG5cdFx0XHQtIGxhdGVyIHNvcnQgd2lsbCBtb3ZlIHRoZW0gdG8gdGhlIGVuZCwgd2hlcmUgdGhleSBjYW4gYmVcblx0XHRcdCAgdHJ1bmNhdGVkIG9mZlxuXHRcdCovXG5cdFx0bGV0IHJlbW92ZV9pZHhfbGlzdCA9IFtdO1xuXHRcdGZvciAobGV0IHZhbHVlIG9mIHJlbW92ZV9saXN0KSB7XG5cdFx0XHRsZXQgW2ZvdW5kLCBpZHhdID0gdGhpcy5pbmRleE9mKHZhbHVlKTtcblx0XHRcdGlmIChmb3VuZCkge1xuXHRcdFx0XHRyZW1vdmVfaWR4X2xpc3QucHVzaChpZHgpO1xuXHRcdFx0fVx0XHRcblx0XHR9XG5cdFx0Zm9yIChsZXQgaWR4IG9mIHJlbW92ZV9pZHhfbGlzdCkge1xuXHRcdFx0dGhpcy5fYXJyYXlbaWR4XSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0bGV0IGFueV9yZW1vdmVzID0gcmVtb3ZlX2lkeF9saXN0Lmxlbmd0aCA+IDA7XG5cblx0XHQvKlxuXHRcdFx0aW5zZXJ0XG5cblx0XHRcdGluc2VydCBtaWdodCBpbnRyb2R1Y2UgZHVwbGljYXRpb25zLCBlaXRoZXIgYmVjYXVzZVxuXHRcdFx0dGhlIGluc2VydCBsaXN0IGluY2x1ZGVzIGR1cGxpY2F0ZXMsIG9yIGJlY2F1c2UgdGhlXG5cdFx0XHRpbnNlcnQgbGlzdCBkdXBsaWNhdGVzIHByZWV4aXN0aW5nIHZhbHVlcy5cblxuXHRcdFx0SW5zdGVhZCBvZiBsb29raW5nIHVwIGFuZCBjaGVja2luZyBlYWNoIGluc2VydCB2YWx1ZSxcblx0XHRcdHdlIGluc3RlYWQgaW5zZXJ0IGV2ZXJ5dGhpbmcgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXksXG5cdFx0XHRhbmQgcmVtb3ZlIGR1cGxpY2F0ZXMgb25seSBhZnRlciB3ZSBoYXZlIHNvcnRlZC5cblx0XHQqL1xuXHRcdGxldCBhbnlfaW5zZXJ0cyA9IGluc2VydF9saXN0Lmxlbmd0aCA+IDA7XG5cdFx0aWYgKGFueV9pbnNlcnRzKSB7XG5cdFx0XHRjb25jYXRfaW5fcGxhY2UodGhpcy5fYXJyYXksIGluc2VydF9saXN0KTtcblx0XHR9XG5cblx0XHQvKlxuXHRcdFx0c29ydFxuXHRcdFx0dGhpcyBwdXNoZXMgYW55IHVuZGVmaW5lZCB2YWx1ZXMgdG8gdGhlIGVuZCBcblx0XHQqL1xuXHRcdGlmIChhbnlfcmVtb3ZlcyB8fCBhbnlfaW5zZXJ0cykge1xuXHRcdFx0dGhpcy5fYXJyYXkuc29ydChlbmRwb2ludC5jbXApO1xuXHRcdH1cblxuXHRcdC8qXG5cdFx0XHRyZW1vdmUgdW5kZWZpbmVkIFxuXHRcdFx0YWxsIHVuZGVmaW5lZCB2YWx1ZXMgYXJlIHB1c2hlZCB0byB0aGUgZW5kXG5cdFx0Ki9cblx0XHRpZiAoYW55X3JlbW92ZXMpIHtcblx0XHRcdHRoaXMuX2FycmF5Lmxlbmd0aCAtPSByZW1vdmVfaWR4X2xpc3QubGVuZ3RoO1xuXHRcdH1cblxuXHRcdC8qXG5cdFx0XHRyZW1vdmUgZHVwbGljYXRlcyBmcm9tIHNvcnRlZCBhcnJheVxuXHRcdFx0LSBhc3N1bWluZyB0aGVyZSBhcmUgZ29pbmcgdG8gYmUgZmV3IGR1cGxpY2F0ZXMsXG5cdFx0XHQgIGl0IGlzIG9rIHRvIHJlbW92ZSB0aGVtIG9uZSBieSBvbmVcblxuXHRcdCovXG5cdFx0aWYgKGFueV9pbnNlcnRzKSB7XG5cdFx0XHRyZW1vdmVfZHVwbGljYXRlcyh0aGlzLl9hcnJheSk7XG5cdFx0fVxuXHR9XG5cblx0Lypcblx0XHRnZXQgZWxlbWVudCBieSBpbmRleFxuXHQqL1xuXHRnZXRfYnlfaW5kZXgoaWR4KSB7XG5cdFx0aWYgKGlkeCA+IC0xICYmIGlkeCA8IHRoaXMuX2FycmF5Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2FycmF5W2lkeF07XG5cdFx0fVxuXHR9XG5cblx0Lypcblx0XHRsb29rdXAgdmFsdWVzIHdpdGhpbiBpbnRlcnZhbFxuXHQqL1xuXHRsb29rdXAoaXR2KSB7XG5cdFx0aWYgKGl0diA9PSB1bmRlZmluZWQpIHtcblx0XHRcdGl0diA9IFtudWxsLCBudWxsLCB0cnVlLCB0cnVlXTtcblx0XHR9XG5cdFx0bGV0IFtlcF8wLCBlcF8xXSA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXR2KTtcblx0XHRsZXQgaWR4XzAgPSB0aGlzLmdlSW5kZXhPZihlcF8wKTtcblx0XHRsZXQgaWR4XzEgPSB0aGlzLmxlSW5kZXhPZihlcF8xKTtcblx0XHRpZiAoaWR4XzAgPT0gLTEgfHwgaWR4XzEgPT0gLTEpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2FycmF5LnNsaWNlKGlkeF8wLCBpZHhfMSsxKTtcblx0XHR9XG5cdH1cblxuXHRsdCAob2Zmc2V0KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0X2J5X2luZGV4KHRoaXMubHRJbmRleE9mKG9mZnNldCkpO1xuXHR9XG5cdGxlIChvZmZzZXQpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRfYnlfaW5kZXgodGhpcy5sZUluZGV4T2Yob2Zmc2V0KSk7XG5cdH1cblx0Z2V0IChvZmZzZXQpIHtcblx0XHRsZXQgW2ZvdW5kLCBpZHhdID0gdGhpcy5pbmRleE9mKG9mZnNldCk7XG5cdFx0aWYgKGZvdW5kKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fYXJyYXlbaWR4XTtcblx0XHR9IFxuXHR9XG5cdGd0IChvZmZzZXQpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRfYnlfaW5kZXgodGhpcy5ndEluZGV4T2Yob2Zmc2V0KSk7XG5cdH1cblx0Z2UgKG9mZnNldCkge1xuXHRcdHJldHVybiB0aGlzLmdldF9ieV9pbmRleCh0aGlzLmdlSW5kZXhPZihvZmZzZXQpKTtcblx0fVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0VVRJTFNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLypcblx0Q29uY2F0aW5hdGUgdHdvIGFycmF5cyBieSBhcHBlbmRpbmcgdGhlIHNlY29uZCBhcnJheSB0byB0aGUgZmlyc3QgYXJyYXkuIFxuKi9cblxuZnVuY3Rpb24gY29uY2F0X2luX3BsYWNlKGZpcnN0X2Fyciwgc2Vjb25kX2Fycikge1xuXHRjb25zdCBmaXJzdF9hcnJfbGVuZ3RoID0gZmlyc3RfYXJyLmxlbmd0aDtcblx0Y29uc3Qgc2Vjb25kX2Fycl9sZW5ndGggPSBzZWNvbmRfYXJyLmxlbmd0aDtcbiAgXHRmaXJzdF9hcnIubGVuZ3RoICs9IHNlY29uZF9hcnJfbGVuZ3RoO1xuICBcdGZvciAobGV0IGkgPSAwOyBpIDwgc2Vjb25kX2Fycl9sZW5ndGg7IGkrKykge1xuICAgIFx0Zmlyc3RfYXJyW2ZpcnN0X2Fycl9sZW5ndGggKyBpXSA9IHNlY29uZF9hcnJbaV07XG4gIFx0fVxufVxuXG4vKlxuXHRyZW1vdmUgZHVwbGljYXRlcyBpbiBhIHNvcnRlZCBhcnJheVxuKi9cbmZ1bmN0aW9uIHJlbW92ZV9kdXBsaWNhdGVzKHNvcnRlZF9hcnIpIHtcblx0bGV0IGkgPSAwO1xuXHR3aGlsZSAodHJ1ZSkge1xuXHRcdGlmIChpICsgMSA+PSBzb3J0ZWRfYXJyLmxlbmd0aCkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGlmIChlbmRwb2ludC5lcShzb3J0ZWRfYXJyW2ldLCBzb3J0ZWRfYXJyW2kgKyAxXSkpIHtcblx0XHRcdHNvcnRlZF9hcnIuc3BsaWNlKGkgKyAxLCAxKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aSArPSAxO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgZW5kcG9pbnQgfSBmcm9tIFwiLi91dGlsL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgTmVhcmJ5SW5kZXhCYXNlLCBuZWFyYnlfZnJvbSB9IGZyb20gXCIuL25lYXJieV9iYXNlLmpzXCI7XG5pbXBvcnQgeyBTb3J0ZWRBcnJheSB9IGZyb20gXCIuL3V0aWwvc29ydGVkYXJyYXkuanNcIjtcbmltcG9ydCB7IGlzX2NvbGxlY3Rpb25fcHJvdmlkZXIgfSBmcm9tIFwiLi9wcm92aWRlcl9jb2xsZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBpc19vYmplY3RfcHJvdmlkZXIgfSBmcm9tIFwiLi9wcm92aWRlcl9vYmplY3QuanNcIjtcblxuY29uc3Qge0xPV19DTE9TRUQsIExPV19PUEVOLCBISUdIX0NMT1NFRCwgSElHSF9PUEVOfSA9IGVuZHBvaW50LnR5cGVzO1xuY29uc3QgRVBfVFlQRVMgPSBbTE9XX0NMT1NFRCwgTE9XX09QRU4sIEhJR0hfQ0xPU0VELCBISUdIX09QRU5dO1xuXG5cbi8vIFNldCBvZiB1bmlxdWUgW3YsIHRdIGVuZHBvaW50c1xuY2xhc3MgRW5kcG9pbnRTZXQge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLl9tYXAgPSBuZXcgTWFwKFtcblx0XHRcdFtMT1dfQ0xPU0VELCBuZXcgU2V0KCldLFxuXHRcdFx0W0xPV19PUEVOLCBuZXcgU2V0KCldLCBcblx0XHRcdFtISUdIX0NMT1NFRCwgbmV3IFNldCgpXSwgXG5cdFx0XHRbSElHSF9PUEVOLCBuZXcgU2V0KCldXG5cdFx0XSk7XG5cdH1cblx0YWRkKGVwKSB7XG5cdFx0Y29uc3QgW3ZhbHVlLCB0eXBlXSA9IGVwO1xuXHRcdHJldHVybiB0aGlzLl9tYXAuZ2V0KHR5cGUpLmFkZCh2YWx1ZSk7XG5cdH1cblx0aGFzIChlcCkge1xuXHRcdGNvbnN0IFt2YWx1ZSwgdHlwZV0gPSBlcDtcblx0XHRyZXR1cm4gdGhpcy5fbWFwLmdldCh0eXBlKS5oYXModmFsdWUpO1xuXHR9XG5cdGdldChlcCkge1xuXHRcdGNvbnN0IFt2YWx1ZSwgdHlwZV0gPSBlcDtcblx0XHRyZXR1cm4gdGhpcy5fbWFwLmdldCh0eXBlKS5nZXQodmFsdWUpO1xuXHR9XG5cblx0bGlzdCgpIHtcblx0XHRjb25zdCBsaXN0cyA9IEVQX1RZUEVTLm1hcCgodHlwZSkgPT4ge1xuXHRcdFx0cmV0dXJuIFsuLi50aGlzLl9tYXAuZ2V0KHR5cGUpLnZhbHVlcygpXVxuXHRcdFx0XHQubWFwKCh2YWx1ZSkgPT4gW3ZhbHVlLCB0eXBlXSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIFtdLmNvbmNhdCguLi5saXN0cyk7XG5cdH1cbn1cblxuLyoqXG4gKiBJVEVNUyBNQVBcbiAqIFxuICogbWFwIGVuZHBvaW50IC0+IHtcbiAqIFx0bG93OiBbaXRlbXNdLCBcbiAqICBhY3RpdmU6IFtpdGVtc10sIFxuICogIGhpZ2g6W2l0ZW1zXVxuICogfVxuICogXG4gKiBpbiBvcmRlciB0byB1c2UgZW5kcG9pbnQgW3YsdF0gYXMgYSBtYXAga2V5IHdlIGNyZWF0ZSBhIHR3byBsZXZlbFxuICogbWFwIC0gdXNpbmcgdCBhcyB0aGUgZmlyc3QgdmFyaWFibGUuIFxuICogXG4gKi9cblxuXG5jb25zdCBMT1cgPSBcImxvd1wiO1xuY29uc3QgQUNUSVZFID0gXCJhY3RpdmVcIjtcbmNvbnN0IEhJR0ggPSBcImhpZ2hcIjtcblxuXG5jbGFzcyBJdGVtc01hcCB7XG5cblx0Y29uc3RydWN0b3IgKCkge1xuXHRcdC8vIG1hcCBlbmRwb2ludCAtPiB7bG93OiBbaXRlbXNdLCBhY3RpdmU6IFtpdGVtc10sIGhpZ2g6W2l0ZW1zXX1cblx0XHR0aGlzLl9tYXAgPSBuZXcgTWFwKFtcblx0XHRcdFtMT1dfQ0xPU0VELCBuZXcgTWFwKCldLFxuXHRcdFx0W0xPV19PUEVOLCBuZXcgTWFwKCldLCBcblx0XHRcdFtISUdIX0NMT1NFRCwgbmV3IE1hcCgpXSwgXG5cdFx0XHRbSElHSF9PUEVOLCBuZXcgTWFwKCldXG5cdFx0XSk7XG5cdH1cblxuXHRnZXRfaXRlbXNfYnlfcm9sZSAoZXAsIHJvbGUpIHtcblx0XHRjb25zdCBbdmFsdWUsIHR5cGVdID0gZXA7XG5cdFx0Y29uc3QgZW50cnkgPSB0aGlzLl9tYXAuZ2V0KHR5cGUpLmdldCh2YWx1ZSk7XG5cdFx0cmV0dXJuIChlbnRyeSAhPSB1bmRlZmluZWQpID8gZW50cnlbcm9sZV0gOiBbXTtcblx0fVxuXG5cdC8qXG5cdFx0cmVnaXN0ZXIgaXRlbSB3aXRoIGVuZHBvaW50IChpZGVtcG90ZW50KVxuXHRcdHJldHVybiB0cnVlIGlmIHRoaXMgd2FzIHRoZSBmaXJzdCBMT1cgb3IgSElHSCBcblx0ICovXG5cdHJlZ2lzdGVyKGVwLCBpdGVtLCByb2xlKSB7XG5cdFx0Y29uc3QgW3ZhbHVlLCB0eXBlXSA9IGVwO1xuXHRcdGNvbnN0IHR5cGVfbWFwID0gdGhpcy5fbWFwLmdldCh0eXBlKTtcblx0XHRpZiAoIXR5cGVfbWFwLmhhcyh2YWx1ZSkpIHtcblx0XHRcdHR5cGVfbWFwLnNldCh2YWx1ZSwge2xvdzogW10sIGFjdGl2ZTpbXSwgaGlnaDpbXX0pO1xuXHRcdH1cblx0XHRjb25zdCBlbnRyeSA9IHR5cGVfbWFwLmdldCh2YWx1ZSk7XG5cdFx0Y29uc3Qgd2FzX2VtcHR5ID0gZW50cnlbTE9XXS5sZW5ndGggKyBlbnRyeVtISUdIXS5sZW5ndGggPT0gMDtcblx0XHRsZXQgaWR4ID0gZW50cnlbcm9sZV0uZmluZEluZGV4KChfaXRlbSkgPT4ge1xuXHRcdFx0cmV0dXJuIF9pdGVtLmlkID09IGl0ZW0uaWQ7XG5cdFx0fSk7XG5cdFx0aWYgKGlkeCA9PSAtMSkge1xuXHRcdFx0ZW50cnlbcm9sZV0ucHVzaChpdGVtKTtcblx0XHR9XG5cdFx0Y29uc3QgaXNfZW1wdHkgPSBlbnRyeVtMT1ddLmxlbmd0aCArIGVudHJ5W0hJR0hdLmxlbmd0aCA9PSAwO1xuXHRcdHJldHVybiB3YXNfZW1wdHkgJiYgIWlzX2VtcHR5O1xuXHR9XG5cblx0Lypcblx0XHR1bnJlZ2lzdGVyIGl0ZW0gd2l0aCBlbmRwb2ludCAoaW5kZXBlbmRlbnQgb2Ygcm9sZSlcblx0XHRyZXR1cm4gdHJ1ZSBpZiB0aGlzIHJlbW92ZWQgbGFzdCBMT1cgb3IgSElHSFxuXHQgKi9cblx0dW5yZWdpc3RlcihlcCwgaXRlbSkge1xuXHRcdGNvbnN0IFt2YWx1ZSwgdHlwZV0gPSBlcDtcblx0XHRjb25zdCB0eXBlX21hcCA9IHRoaXMuX21hcC5nZXQodHlwZSk7XG5cdFx0Y29uc3QgZW50cnkgPSB0eXBlX21hcC5nZXQodmFsdWUpO1xuXHRcdGlmIChlbnRyeSAhPSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IHdhc19lbXB0eSA9IGVudHJ5W0xPV10ubGVuZ3RoICsgZW50cnlbSElHSF0ubGVuZ3RoID09IDA7XG5cdFx0XHQvLyByZW1vdmUgYWxsIG1lbnRpb25lcyBvZiBpdGVtXG5cdFx0XHRmb3IgKGNvbnN0IHJvbGUgb2YgW0xPVywgQUNUSVZFLCBISUdIXSkge1xuXHRcdFx0XHRsZXQgaWR4ID0gZW50cnlbcm9sZV0uZmluZEluZGV4KChfaXRlbSkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBfaXRlbS5pZCA9PSBpdGVtLmlkO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKGlkeCA+IC0xKSB7XG5cdFx0XHRcdFx0ZW50cnlbcm9sZV0uc3BsaWNlKGlkeCwgMSk7XG5cdFx0XHRcdH1cdFxuXHRcdFx0fVxuXHRcdFx0Y29uc3QgaXNfZW1wdHkgPSBlbnRyeVtMT1ddLmxlbmd0aCArIGVudHJ5W0hJR0hdLmxlbmd0aCA9PSAwO1xuXHRcdFx0aWYgKCF3YXNfZW1wdHkgJiYgaXNfZW1wdHkpIHtcblx0XHRcdFx0Ly8gY2xlYW4gdXAgZW50cnlcblx0XHRcdFx0dHlwZV9tYXAuZGVsZXRlKHZhbHVlKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5cbi8qKlxuICogTmVhcmJ5SW5kZXhcbiAqIFxuICogTmVhcmJ5SW5kZXggZm9yIENvbGxlY3Rpb25Qcm92aWRlciBvciBWYXJpYWJsZVByb3ZpZGVyXG4gKi9cblxuZXhwb3J0IGNsYXNzIE5lYXJieUluZGV4IGV4dGVuZHMgTmVhcmJ5SW5kZXhCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHN0YXRlUHJvdmlkZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcdFx0XG5cblx0XHRpZiAoXG5cdFx0XHQhaXNfY29sbGVjdGlvbl9wcm92aWRlcihzdGF0ZVByb3ZpZGVyKSAmJlxuXHRcdFx0IWlzX29iamVjdF9wcm92aWRlcihzdGF0ZVByb3ZpZGVyKVxuXHRcdCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBzdGF0ZVByb3ZpZGVyIG11c3QgYmUgY29sbGVjdGlvblByb3ZpZGVyIG9yIHZhcmlhYmxlUHJvdmlkZXIgJHtzdGF0ZVByb3ZpZGVyfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NwID0gc3RhdGVQcm92aWRlcjtcblx0XHR0aGlzLl9pbml0aWFsaXNlKCk7XG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cdH1cblxuICAgIGdldCBzcmMgKCkge3JldHVybiB0aGlzLl9zcDt9XG5cblxuXHRfaW5pdGlhbGlzZSgpIHtcblx0XHQvLyByZWdpc3RlciBpdGVtcyB3aXRoIGVuZHBvaW50c1xuXHRcdHRoaXMuX2l0ZW1zbWFwID0gbmV3IEl0ZW1zTWFwKCk7XG5cdFx0Ly8gc29ydGVkIGluZGV4XG5cdFx0dGhpcy5fZW5kcG9pbnRzID0gbmV3IFNvcnRlZEFycmF5KCk7XG5cdFx0Ly8gc3dpcGUgaW5kZXhcblx0XHR0aGlzLl9pbmRleCA9IFtdO1xuXHR9XG5cblxuXHRyZWZyZXNoKGRpZmZzKSB7XG5cblx0XHRjb25zdCByZW1vdmVfZW5kcG9pbnRzID0gbmV3IEVuZHBvaW50U2V0KCk7XG5cdFx0Y29uc3QgaW5zZXJ0X2VuZHBvaW50cyA9IG5ldyBFbmRwb2ludFNldCgpO1xuXG5cdFx0bGV0IGluc2VydF9pdGVtcyA9IFtdO1xuXHRcdGxldCByZW1vdmVfaXRlbXMgPSBbXTtcblxuXHRcdGlmIChkaWZmcyA9PSB1bmRlZmluZWQpIHtcblx0XHRcdGluc2VydF9pdGVtcyA9IHRoaXMuc3JjLmdldCgpIHx8IFtdO1xuXHRcdFx0Ly8gY2xlYXIgYWxsIHN0YXRlXG5cdFx0XHR0aGlzLl9pbml0aWFsaXNlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGNvbGxlY3QgaW5zZXJ0IGl0ZW1zIGFuZCByZW1vdmUgaXRlbXNcblx0XHRcdGZvciAoY29uc3QgZGlmZiBvZiBkaWZmcykge1xuXHRcdFx0XHRpZiAoZGlmZi5uZXcgIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0aW5zZXJ0X2l0ZW1zLnB1c2goZGlmZi5uZXcpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChkaWZmLm9sZCAhPSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZW1vdmVfaXRlbXMucHVzaChkaWZmLm9sZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKlxuXHRcdFx0dW5yZWdpc3RlciByZW1vdmUgaXRlbXMgYWNyb3NzIGFsbCBlbmRwb2ludHMgXG5cdFx0XHR3aGVyZSB0aGV5IHdlcmUgcmVnaXN0ZXJlZCAoTE9XLCBBQ1RJVkUsIEhJR0gpIFxuXHRcdCovXG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIHJlbW92ZV9pdGVtcykge1x0XHRcdFxuXHRcdFx0Zm9yIChjb25zdCBlcCBvZiB0aGlzLl9lbmRwb2ludHMubG9va3VwKGl0ZW0uaXR2KSkge1xuXHRcdFx0XHQvLyBUT0RPOiBjaGVjayBpZiB0aGlzIGlzIGNvcnJlY3Rcblx0XHRcdFx0Y29uc3QgYmVjYW1lX2VtcHR5ID0gdGhpcy5faXRlbXNtYXAudW5yZWdpc3RlcihlcCwgaXRlbSk7XG5cdFx0XHRcdGlmIChiZWNhbWVfZW1wdHkpIHJlbW92ZV9lbmRwb2ludHMuYWRkKGVwKTtcblx0XHRcdH1cdFxuXHRcdH1cblxuXHRcdC8qXG5cdFx0XHRyZWdpc3RlciBuZXcgaXRlbXMgYWNyb3NzIGFsbCBlbmRwb2ludHMgXG5cdFx0XHR3aGVyZSB0aGV5IHNob3VsZCBiZSByZWdpc3RlcmVkIChMT1csIEhJR0gpIFxuXHRcdCovXG5cdFx0bGV0IGJlY2FtZV9ub25lbXB0eTtcblx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgaW5zZXJ0X2l0ZW1zKSB7XG5cdFx0XHRjb25zdCBbbG93LCBoaWdoXSA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXRlbS5pdHYpO1xuXHRcdFx0YmVjYW1lX25vbmVtcHR5ID0gdGhpcy5faXRlbXNtYXAucmVnaXN0ZXIobG93LCBpdGVtLCBMT1cpO1xuXHRcdFx0aWYgKGJlY2FtZV9ub25lbXB0eSkgaW5zZXJ0X2VuZHBvaW50cy5hZGQobG93KTtcblx0XHRcdGJlY2FtZV9ub25lbXB0eSA9IHRoaXMuX2l0ZW1zbWFwLnJlZ2lzdGVyKGhpZ2gsIGl0ZW0sIEhJR0gpO1xuXHRcdFx0aWYgKGJlY2FtZV9ub25lbXB0eSkgaW5zZXJ0X2VuZHBvaW50cy5hZGQoaGlnaCk7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHRcdHJlZnJlc2ggc29ydGVkIGVuZHBvaW50c1xuXHRcdFx0cG9zc2libGUgdGhhdCBhbiBlbmRwb2ludCBpcyBwcmVzZW50IGluIGJvdGggbGlzdHNcblx0XHRcdHRoaXMgaXMgcHJlc3VtYWJseSBub3QgYSBwcm9ibGVtIHdpdGggU29ydGVkQXJyYXkuXG5cdFx0Ki9cblx0XHR0aGlzLl9lbmRwb2ludHMudXBkYXRlKFxuXHRcdFx0cmVtb3ZlX2VuZHBvaW50cy5saXN0KCksIFxuXHRcdFx0aW5zZXJ0X2VuZHBvaW50cy5saXN0KClcblx0XHQpO1xuXG5cdFx0Lypcblx0XHRcdHN3aXBlIG92ZXIgdG8gZW5zdXJlIHRoYXQgYWxsIGl0ZW1zIGFyZSBhY3RpdmF0ZVxuXHRcdCovXG5cdFx0Y29uc3QgYWN0aXZlU2V0ID0gbmV3IFNldCgpO1xuXHRcdGZvciAoY29uc3QgZXAgb2YgdGhpcy5fZW5kcG9pbnRzLmFycmF5KSB7XHRcblx0XHRcdC8vIEFkZCBpdGVtcyB3aXRoIGVwIGFzIGxvdyBwb2ludFxuXHRcdFx0Zm9yIChsZXQgaXRlbSBvZiB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcCwgTE9XKSkge1xuXHRcdFx0XHRhY3RpdmVTZXQuYWRkKGl0ZW0pO1xuXHRcdFx0fTtcblx0XHRcdC8vIGFjdGl2YXRlIHVzaW5nIGFjdGl2ZVNldFxuXHRcdFx0Zm9yIChsZXQgaXRlbSBvZiBhY3RpdmVTZXQpIHtcblx0XHRcdFx0dGhpcy5faXRlbXNtYXAucmVnaXN0ZXIoZXAsIGl0ZW0sIEFDVElWRSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBSZW1vdmUgaXRlbXMgd2l0aCBwMSBhcyBoaWdoIHBvaW50XG5cdFx0XHRmb3IgKGxldCBpdGVtIG9mIHRoaXMuX2l0ZW1zbWFwLmdldF9pdGVtc19ieV9yb2xlKGVwLCBISUdIKSkge1xuXHRcdFx0XHRhY3RpdmVTZXQuZGVsZXRlKGl0ZW0pO1xuXHRcdFx0fTtcdFxuXHRcdH1cblx0fVxuXG5cdF9jb3ZlcnMgKG9mZnNldCkge1xuXHRcdGNvbnN0IGVwID0gZW5kcG9pbnQuZnJvbV9pbnB1dChvZmZzZXQpO1xuXHRcdGNvbnN0IGVwMSA9IHRoaXMuX2VuZHBvaW50cy5sZShlcCkgfHwgZW5kcG9pbnQuTkVHX0lORjtcblx0XHRjb25zdCBlcDIgPSB0aGlzLl9lbmRwb2ludHMuZ2UoZXApIHx8IGVuZHBvaW50LlBPU19JTkY7XG5cdFx0aWYgKGVuZHBvaW50LmVxKGVwMSwgZXAyKSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2l0ZW1zbWFwLmdldF9pdGVtc19ieV9yb2xlKGVwMSwgQUNUSVZFKTtcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBnZXQgaXRlbXMgZm9yIGJvdGggZW5kcG9pbnRzXG5cdFx0XHRjb25zdCBpdGVtczEgPSB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcDEsIEFDVElWRSk7XG5cdFx0XHRjb25zdCBpdGVtczIgPSB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcDIsIEFDVElWRSk7XG5cdFx0XHQvLyByZXR1cm4gYWxsIGl0ZW1zIHRoYXQgYXJlIGFjdGl2ZSBpbiBib3RoIGVuZHBvaW50c1xuXHRcdFx0Y29uc3QgaWRTZXQgPSBuZXcgU2V0KGl0ZW1zMS5tYXAoaXRlbSA9PiBpdGVtLmlkKSk7XG5cdFx0XHRyZXR1cm4gaXRlbXMyLmZpbHRlcihpdGVtID0+IGlkU2V0LmhhcyhpdGVtLmlkKSk7XG5cdFx0fVxuXHR9XG5cbiAgICAvKlxuXHRcdG5lYXJieSAob2Zmc2V0KVxuICAgICovXG5cdG5lYXJieShvZmZzZXQpIHtcblx0XHRjb25zdCBlcCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcblxuXHRcdC8vIGNlbnRlclxuXHRcdGxldCBjZW50ZXIgPSB0aGlzLl9jb3ZlcnMoZXApXG5cdFx0Y29uc3QgY2VudGVyX2hpZ2hfbGlzdCA9IFtdO1xuXHRcdGNvbnN0IGNlbnRlcl9sb3dfbGlzdCA9IFtdO1xuXHRcdGZvciAoY29uc3QgaXRlbSBvZiBjZW50ZXIpIHtcblx0XHRcdGNvbnN0IFtsb3csIGhpZ2hdID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChpdGVtLml0dik7XG5cdFx0XHRjZW50ZXJfaGlnaF9saXN0LnB1c2goaGlnaCk7XG5cdFx0XHRjZW50ZXJfbG93X2xpc3QucHVzaChsb3cpOyAgICBcblx0XHR9XG5cblx0XHQvLyBwcmV2IGhpZ2hcblx0XHRsZXQgcHJldl9oaWdoID0gZXA7XG5cdFx0bGV0IGl0ZW1zO1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRwcmV2X2hpZ2ggPSB0aGlzLl9lbmRwb2ludHMubHQocHJldl9oaWdoKSB8fCBlbmRwb2ludC5ORUdfSU5GO1xuXHRcdFx0aWYgKHByZXZfaGlnaFswXSA9PSBudWxsKSB7XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0XHRpdGVtcyA9IHRoaXMuX2l0ZW1zbWFwLmdldF9pdGVtc19ieV9yb2xlKHByZXZfaGlnaCwgSElHSCk7XG5cdFx0XHRpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIG5leHQgbG93XG5cdFx0bGV0IG5leHRfbG93ID0gZXA7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdG5leHRfbG93ID0gdGhpcy5fZW5kcG9pbnRzLmd0KG5leHRfbG93KSB8fCBlbmRwb2ludC5QT1NfSU5GXG5cdFx0XHRpZiAobmV4dF9sb3dbMF0gPT0gbnVsbCkge1xuXHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdFx0aXRlbXMgPSB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShuZXh0X2xvdywgTE9XKTtcblx0XHRcdGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5lYXJieV9mcm9tKFxuXHRcdFx0cHJldl9oaWdoLCBcblx0XHRcdGNlbnRlcl9sb3dfbGlzdCwgXG5cdFx0XHRjZW50ZXIsXG5cdFx0XHRjZW50ZXJfaGlnaF9saXN0LFxuXHRcdFx0bmV4dF9sb3dcblx0XHQpO1xuXHR9XG59IiwiaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tIFwiLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IG1vdGlvbl91dGlscyB9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkJBU0UgU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLypcblx0QWJzdHJhY3QgQmFzZSBDbGFzcyBmb3IgU2VnbWVudHNcblxuICAgIGNvbnN0cnVjdG9yKGludGVydmFsKVxuXG4gICAgLSBpbnRlcnZhbDogaW50ZXJ2YWwgb2YgdmFsaWRpdHkgb2Ygc2VnbWVudFxuICAgIC0gZHluYW1pYzogdHJ1ZSBpZiBzZWdtZW50IGlzIGR5bmFtaWNcbiAgICAtIHZhbHVlKG9mZnNldCk6IHZhbHVlIG9mIHNlZ21lbnQgYXQgb2Zmc2V0XG4gICAgLSBxdWVyeShvZmZzZXQpOiBzdGF0ZSBvZiBzZWdtZW50IGF0IG9mZnNldFxuKi9cblxuZXhwb3J0IGNsYXNzIEJhc2VTZWdtZW50IHtcblxuXHRjb25zdHJ1Y3RvcihpdHYpIHtcblx0XHR0aGlzLl9pdHYgPSBpdHY7XG5cdH1cblxuXHRnZXQgaXR2KCkge3JldHVybiB0aGlzLl9pdHY7fVxuXG4gICAgLyoqIFxuICAgICAqIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzXG4gICAgICogcmV0dXJucyB7dmFsdWUsIGR5bmFtaWN9O1xuICAgICovXG4gICAgc3RhdGUob2Zmc2V0KSB7XG4gICAgXHR0aHJvdyBuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY29udmVuaWVuY2UgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBzdGF0ZSBvZiB0aGUgc2VnbWVudFxuICAgICAqIEBwYXJhbSB7Kn0gb2Zmc2V0IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHF1ZXJ5KG9mZnNldCkge1xuICAgICAgICBpZiAoaW50ZXJ2YWwuY292ZXJzX3BvaW50KHRoaXMuX2l0diwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHsuLi50aGlzLnN0YXRlKG9mZnNldCksIG9mZnNldH07XG4gICAgICAgIH0gXG4gICAgICAgIHJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZHluYW1pYzpmYWxzZSwgb2Zmc2V0fTtcbiAgICB9XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIFNUQVRJQyBTRUdNRU5UXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCBjbGFzcyBTdGF0aWNTZWdtZW50IGV4dGVuZHMgQmFzZVNlZ21lbnQge1xuXG5cdGNvbnN0cnVjdG9yKGl0diwgZGF0YSkge1xuICAgICAgICBzdXBlcihpdHYpO1xuXHRcdHRoaXMuX3ZhbHVlID0gZGF0YTtcblx0fVxuXG5cdHN0YXRlKCkge1xuICAgICAgICByZXR1cm4ge3ZhbHVlOiB0aGlzLl92YWx1ZSwgZHluYW1pYzpmYWxzZX1cblx0fVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIE1PVElPTiBTRUdNRU5UXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCBjbGFzcyBNb3Rpb25TZWdtZW50IGV4dGVuZHMgQmFzZVNlZ21lbnQge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKGl0diwgZGF0YSkge1xuICAgICAgICBzdXBlcihpdHYpO1xuICAgICAgICB0aGlzLl92ZWN0b3IgPSBkYXRhO1xuICAgIH1cblxuICAgIHN0YXRlKG9mZnNldCkge1xuICAgICAgICBjb25zdCBbcCx2LGEsdF0gPSBtb3Rpb25fdXRpbHMuY2FsY3VsYXRlKHRoaXMuX3ZlY3Rvciwgb2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBwLCBkeW5hbWljOiAodiAhPSAwIHx8IGEgIT0gMCApLFxuICAgICAgICAgICAgdmVjdG9yOiBbcCwgdiwgYSwgdF0sXG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgVFJBTlNJVElPTiBTRUdNRU5UXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qXG4gICAgU3VwcG9ydGVkIGVhc2luZyBmdW5jdGlvbnNcbiAgICBcImVhc2UtaW5cIjpcbiAgICBcImVhc2Utb3V0XCI6XG4gICAgXCJlYXNlLWluLW91dFwiXG4qL1xuXG5mdW5jdGlvbiBlYXNlaW4gKHRzKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHRzLDIpOyAgXG59XG5mdW5jdGlvbiBlYXNlb3V0ICh0cykge1xuICAgIHJldHVybiAxIC0gZWFzZWluKDEgLSB0cyk7XG59XG5mdW5jdGlvbiBlYXNlaW5vdXQgKHRzKSB7XG4gICAgaWYgKHRzIDwgLjUpIHtcbiAgICAgICAgcmV0dXJuIGVhc2VpbigyICogdHMpIC8gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKDIgLSBlYXNlaW4oMiAqICgxIC0gdHMpKSkgLyAyO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyYW5zaXRpb25TZWdtZW50IGV4dGVuZHMgQmFzZVNlZ21lbnQge1xuXG5cdGNvbnN0cnVjdG9yKGl0diwgZGF0YSkge1xuXHRcdHN1cGVyKGl0dik7XG4gICAgICAgIGxldCB7djAsIHYxLCBlYXNpbmd9ID0gZGF0YTtcbiAgICAgICAgbGV0IFt0MCwgdDFdID0gdGhpcy5faXR2LnNsaWNlKDAsMik7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSB0cmFuc2l0aW9uIGZ1bmN0aW9uXG4gICAgICAgIHRoaXMuX2R5bmFtaWMgPSB2MS12MCAhPSAwO1xuICAgICAgICB0aGlzLl90cmFucyA9IGZ1bmN0aW9uICh0cykge1xuICAgICAgICAgICAgLy8gY29udmVydCB0cyB0byBbdDAsdDFdLXNwYWNlXG4gICAgICAgICAgICAvLyAtIHNoaWZ0IGZyb20gW3QwLHQxXS1zcGFjZSB0byBbMCwodDEtdDApXS1zcGFjZVxuICAgICAgICAgICAgLy8gLSBzY2FsZSBmcm9tIFswLCh0MS10MCldLXNwYWNlIHRvIFswLDFdLXNwYWNlXG4gICAgICAgICAgICB0cyA9IHRzIC0gdDA7XG4gICAgICAgICAgICB0cyA9IHRzL3BhcnNlRmxvYXQodDEtdDApO1xuICAgICAgICAgICAgLy8gZWFzaW5nIGZ1bmN0aW9ucyBzdHJldGNoZXMgb3IgY29tcHJlc3NlcyB0aGUgdGltZSBzY2FsZSBcbiAgICAgICAgICAgIGlmIChlYXNpbmcgPT0gXCJlYXNlLWluXCIpIHtcbiAgICAgICAgICAgICAgICB0cyA9IGVhc2Vpbih0cyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVhc2luZyA9PSBcImVhc2Utb3V0XCIpIHtcbiAgICAgICAgICAgICAgICB0cyA9IGVhc2VvdXQodHMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlYXNpbmcgPT0gXCJlYXNlLWluLW91dFwiKSB7XG4gICAgICAgICAgICAgICAgdHMgPSBlYXNlaW5vdXQodHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbGluZWFyIHRyYW5zaXRpb24gZnJvbSB2MCB0byB2MSwgZm9yIHRpbWUgdmFsdWVzIFswLDFdXG4gICAgICAgICAgICB0cyA9IE1hdGgubWF4KHRzLCAwKTtcbiAgICAgICAgICAgIHRzID0gTWF0aC5taW4odHMsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHYwICsgKHYxLXYwKSp0cztcbiAgICAgICAgfVxuXHR9XG5cblx0c3RhdGUob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7dmFsdWU6IHRoaXMuX3RyYW5zKG9mZnNldCksIGR5bmFtaWM6dGhpcy5fZHluYW1pY31cblx0fVxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgSU5URVJQT0xBVElPTiBTRUdNRU5UXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogRnVuY3Rpb24gdG8gY3JlYXRlIGFuIGludGVycG9sYXRvciBmb3IgbmVhcmVzdCBuZWlnaGJvciBpbnRlcnBvbGF0aW9uIHdpdGhcbiAqIGV4dHJhcG9sYXRpb24gc3VwcG9ydC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSB0dXBsZXMgLSBBbiBhcnJheSBvZiBbdmFsdWUsIG9mZnNldF0gcGFpcnMsIHdoZXJlIHZhbHVlIGlzIHRoZVxuICogcG9pbnQncyB2YWx1ZSBhbmQgb2Zmc2V0IGlzIHRoZSBjb3JyZXNwb25kaW5nIG9mZnNldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4gb2Zmc2V0IGFuZCByZXR1cm5zIHRoZVxuICogaW50ZXJwb2xhdGVkIG9yIGV4dHJhcG9sYXRlZCB2YWx1ZS5cbiAqL1xuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZSh0dXBsZXMpIHtcblxuICAgIGlmICh0dXBsZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gaW50ZXJwb2xhdG9yICgpIHtyZXR1cm4gdW5kZWZpbmVkO31cbiAgICB9IGVsc2UgaWYgKHR1cGxlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gaW50ZXJwb2xhdG9yICgpIHtyZXR1cm4gdHVwbGVzWzBdWzBdO31cbiAgICB9XG5cbiAgICAvLyBTb3J0IHRoZSB0dXBsZXMgYnkgdGhlaXIgb2Zmc2V0c1xuICAgIGNvbnN0IHNvcnRlZFR1cGxlcyA9IFsuLi50dXBsZXNdLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKTtcbiAgXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludGVycG9sYXRvcihvZmZzZXQpIHtcbiAgICAgIC8vIEhhbmRsZSBleHRyYXBvbGF0aW9uIGJlZm9yZSB0aGUgZmlyc3QgcG9pbnRcbiAgICAgIGlmIChvZmZzZXQgPD0gc29ydGVkVHVwbGVzWzBdWzFdKSB7XG4gICAgICAgIGNvbnN0IFt2YWx1ZTEsIG9mZnNldDFdID0gc29ydGVkVHVwbGVzWzBdO1xuICAgICAgICBjb25zdCBbdmFsdWUyLCBvZmZzZXQyXSA9IHNvcnRlZFR1cGxlc1sxXTtcbiAgICAgICAgcmV0dXJuIHZhbHVlMSArICgob2Zmc2V0IC0gb2Zmc2V0MSkgKiAodmFsdWUyIC0gdmFsdWUxKSAvIChvZmZzZXQyIC0gb2Zmc2V0MSkpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBIYW5kbGUgZXh0cmFwb2xhdGlvbiBhZnRlciB0aGUgbGFzdCBwb2ludFxuICAgICAgaWYgKG9mZnNldCA+PSBzb3J0ZWRUdXBsZXNbc29ydGVkVHVwbGVzLmxlbmd0aCAtIDFdWzFdKSB7XG4gICAgICAgIGNvbnN0IFt2YWx1ZTEsIG9mZnNldDFdID0gc29ydGVkVHVwbGVzW3NvcnRlZFR1cGxlcy5sZW5ndGggLSAyXTtcbiAgICAgICAgY29uc3QgW3ZhbHVlMiwgb2Zmc2V0Ml0gPSBzb3J0ZWRUdXBsZXNbc29ydGVkVHVwbGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gdmFsdWUxICsgKChvZmZzZXQgLSBvZmZzZXQxKSAqICh2YWx1ZTIgLSB2YWx1ZTEpIC8gKG9mZnNldDIgLSBvZmZzZXQxKSk7XG4gICAgICB9XG4gIFxuICAgICAgLy8gRmluZCB0aGUgbmVhcmVzdCBwb2ludHMgdG8gdGhlIGxlZnQgYW5kIHJpZ2h0XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZFR1cGxlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKG9mZnNldCA+PSBzb3J0ZWRUdXBsZXNbaV1bMV0gJiYgb2Zmc2V0IDw9IHNvcnRlZFR1cGxlc1tpICsgMV1bMV0pIHtcbiAgICAgICAgICBjb25zdCBbdmFsdWUxLCBvZmZzZXQxXSA9IHNvcnRlZFR1cGxlc1tpXTtcbiAgICAgICAgICBjb25zdCBbdmFsdWUyLCBvZmZzZXQyXSA9IHNvcnRlZFR1cGxlc1tpICsgMV07XG4gICAgICAgICAgLy8gTGluZWFyIGludGVycG9sYXRpb24gZm9ybXVsYTogeSA9IHkxICsgKCAoeCAtIHgxKSAqICh5MiAtIHkxKSAvICh4MiAtIHgxKSApXG4gICAgICAgICAgcmV0dXJuIHZhbHVlMSArICgob2Zmc2V0IC0gb2Zmc2V0MSkgKiAodmFsdWUyIC0gdmFsdWUxKSAvIChvZmZzZXQyIC0gb2Zmc2V0MSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gIFxuICAgICAgLy8gSW4gY2FzZSB0aGUgb2Zmc2V0IGRvZXMgbm90IGZhbGwgd2l0aGluIGFueSByYW5nZSAoc2hvdWxkIGJlIGNvdmVyZWQgYnkgdGhlIHByZXZpb3VzIGNvbmRpdGlvbnMpXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG59XG4gIFxuXG5leHBvcnQgY2xhc3MgSW50ZXJwb2xhdGlvblNlZ21lbnQgZXh0ZW5kcyBCYXNlU2VnbWVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihpdHYsIHR1cGxlcykge1xuICAgICAgICBzdXBlcihpdHYpO1xuICAgICAgICAvLyBzZXR1cCBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uXG4gICAgICAgIHRoaXMuX3RyYW5zID0gaW50ZXJwb2xhdGUodHVwbGVzKTtcbiAgICB9XG5cbiAgICBzdGF0ZShvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogdGhpcy5fdHJhbnMob2Zmc2V0KSwgZHluYW1pYzp0cnVlfTtcbiAgICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIExPQUQgU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZF9zZWdtZW50KGl0diwgaXRlbSkge1xuICAgIGxldCB7dHlwZT1cInN0YXRpY1wiLCBkYXRhfSA9IGl0ZW07XG4gICAgaWYgKHR5cGUgPT0gXCJzdGF0aWNcIikge1xuICAgICAgICByZXR1cm4gbmV3IFN0YXRpY1NlZ21lbnQoaXR2LCBkYXRhKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJ0cmFuc2l0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uU2VnbWVudChpdHYsIGRhdGEpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImludGVycG9sYXRpb25cIikge1xuICAgICAgICByZXR1cm4gbmV3IEludGVycG9sYXRpb25TZWdtZW50KGl0diwgZGF0YSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwibW90aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb3Rpb25TZWdtZW50KGl0diwgZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJ1bnJlY29nbml6ZWQgc2VnbWVudCB0eXBlXCIsIHR5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIHNyY3Byb3AgZnJvbSBcIi4vdXRpbC9hcGlfc3JjcHJvcC5qc1wiO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tIFwiLi9sYXllcl9iYXNlLmpzXCI7XG5pbXBvcnQgeyBpc19jb2xsZWN0aW9uX3Byb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXJfY29sbGVjdGlvbi5qc1wiO1xuaW1wb3J0IHsgaXNfb2JqZWN0X3Byb3ZpZGVyfSBmcm9tIFwiLi9wcm92aWRlcl9vYmplY3QuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4IH0gZnJvbSBcIi4vbmVhcmJ5X2luZGV4LmpzXCI7XG5pbXBvcnQgeyBsb2FkX3NlZ21lbnQgfSBmcm9tIFwiLi91dGlsL3NlZ21lbnRzLmpzXCI7XG5pbXBvcnQgeyB0b1N0YXRlLCBpc19maW5pdGVfbnVtYmVyLCBjaGVja19pdGVtcywgY2hlY2tfbnVtYmVyfSBmcm9tIFwiLi91dGlsL2NvbW1vbi5qc1wiO1xuaW1wb3J0IHsgZW5kcG9pbnQsIGludGVydmFsIH0gZnJvbSBcIi4vdXRpbC9pbnRlcnZhbHMuanNcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gaXNfbGVhZl9sYXllcihvYmopIHtcbiAgICByZXR1cm4gKChvYmogaW5zdGFuY2VvZiBMYXllcikgJiYgb2JqLmlzTGVhZik7XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBMRUFGIExBWUVSXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZWFmX2xheWVyKG9wdGlvbnM9e30pIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgIG51bWVyaWM9ZmFsc2UsIFxuICAgICAgICBtdXRhYmxlPXRydWUsIFxuICAgICAgICBtYXNrLFxuICAgICAgICAuLi5vcHRzfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCBsYXllciA9IG5ldyBMYXllcih7XG4gICAgICAgIENhY2hlQ2xhc3M6TGVhZkxheWVyQ2FjaGUsIFxuICAgICAgICAuLi5vcHRzLFxuICAgIH0pO1xuXG4gICAgLy8gcmVzdHJpY3Rpb25zXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGxheWVyLCBcIm51bWVyaWNcIiwge2dldDogKCkgPT4gbnVtZXJpY30pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXllciwgXCJtdXRhYmxlXCIsIHtnZXQ6ICgpID0+IG11dGFibGV9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobGF5ZXIsIFwiaXRlbXNPbmx5XCIsIHtnZXQ6ICgpID0+IHRydWV9KTtcblxuICAgIC8vIG51bWVyaWMgbWFzayAtIHJlcGxhY2VzIHVuZGVmaW5lZCBmb3IgbnVtZXJpYyBsYXllcnNcbiAgICBpZiAobWFzayAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2hlY2tfbnVtYmVyKFwibWFza1wiLCBtYXNrKTtcbiAgICB9XG4gICAgbGF5ZXIubWFzayA9IG1hc2s7XG5cbiAgICAvLyBzZXR1cCBwcm92aWRlciBhcyBwcm9wZXJ0eVxuICAgIHNyY3Byb3AuYWRkU3RhdGUobGF5ZXIpO1xuICAgIHNyY3Byb3AuYWRkTWV0aG9kcyhsYXllcik7XG4gICAgbGF5ZXIuc3JjcHJvcF9yZWdpc3RlcihcInByb3ZpZGVyXCIpO1xuICAgIGxheWVyLnNyY3Byb3BfY2hlY2sgPSBmdW5jdGlvbiAocHJvcE5hbWUsIG9iaikge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJwcm92aWRlclwiKSB7XG4gICAgICAgICAgICBpZiAoIShpc19jb2xsZWN0aW9uX3Byb3ZpZGVyKG9iaikpICYmICEoaXNfb2JqZWN0X3Byb3ZpZGVyKG9iaikpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcIm9ialwiIG11c3QgY29sbGVjdGlvblByb3ZpZGVyIG9yIG9iamVjdFByb3ZpZGVyICR7b2JqfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajsgICAgXG4gICAgICAgIH1cbiAgICB9XG4gICAgbGF5ZXIuc3JjcHJvcF9vbmNoYW5nZSA9IGZ1bmN0aW9uIChwcm9wTmFtZSwgZUFyZykge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJwcm92aWRlclwiKSB7XG4gICAgICAgICAgICBpZiAoZUFyZyA9PSBcInJlc2V0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNfY29sbGVjdGlvbl9wcm92aWRlcihsYXllci5wcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuaW5kZXggPSBuZXcgTmVhcmJ5SW5kZXgobGF5ZXIucHJvdmlkZXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNfb2JqZWN0X3Byb3ZpZGVyKGxheWVyLnByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBsYXllci5pbmRleCA9IG5ldyBOZWFyYnlJbmRleChsYXllci5wcm92aWRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGlmIChsYXllci5pbmRleCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNfY29sbGVjdGlvbl9wcm92aWRlcihsYXllci5wcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuaW5kZXgucmVmcmVzaChlQXJnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzX29iamVjdF9wcm92aWRlcihsYXllci5wcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuaW5kZXgucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXllci5vbmNoYW5nZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ICAgICAgICBcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIGNvbnZlbmllbmNlIG1ldGhvZCBmb3IgZ2V0dGluZyBpdGVtcyB2YWxpZCBhdCBvZmZzZXRcbiAgICAgKiBvbmx5IGl0ZW1zIGxheWVyIHN1cHBvcnRzIHRoaXMgbWV0aG9kXG4gICAgICovXG4gICAgbGF5ZXIuZ2V0X2l0ZW1zID0gZnVuY3Rpb24gZ2V0X2l0ZW1zKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gWy4uLmxheWVyLmluZGV4Lm5lYXJieShvZmZzZXQpLmNlbnRlcl07XG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqIExBWUVSIFVQREFURSBBUElcbiAgICAgKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICBpZiAoIWxheWVyLnJlYWRPbmx5KSB7XG4gICAgICAgIGxheWVyLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXJfdXBkYXRlKGxheWVyLCBjaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICBsYXllci5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoaXRlbXMsIG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIGxheWVyX2FwcGVuZChsYXllciwgaXRlbXMsIG9mZnNldCk7XG4gICAgICAgIH0gICAgXG4gICAgfVxuIFxuICAgIC8vIGluaXRpYWxpc2VcbiAgICBsYXllci5wcm92aWRlciA9IHByb3ZpZGVyO1xuXG4gICAgcmV0dXJuIGxheWVyO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBMRUFGIExBWUVSIENBQ0hFXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qXG4gICAgTGVhZkxheWVycyBoYXZlIGEgQ29sbGVjdGlvblByb3ZpZGVyIG9yIGEgT2JqZWN0UHJvdmlkZXIgYXMgcHJvdmlkZXIgXG4gICAgYW5kIHVzZSBhIHNwZWNpZmljIGNhY2hlIGltcGxlbWVudGF0aW9uLCBhcyBvYmplY3RzIGluIHRoZSBcbiAgICBpbmRleCBhcmUgYXNzdW1lZCB0byBiZSBpdGVtcyBmcm9tIHRoZSBwcm92aWRlciwgbm90IG90aGVyIGxheWVyIG9iamVjdHMuIFxuICAgIE1vcmVvdmVyLCBxdWVyaWVzIGFyZSBub3QgcmVzb2x2ZWQgZGlyZWN0bHkgb24gdGhlIGl0ZW1zIGluIHRoZSBpbmRleCwgYnV0XG4gICAgcmF0aGVyIGZyb20gY29ycmVzcG9uZGluZyBzZWdtZW50IG9iamVjdHMsIGluc3RhbnRpYXRlZCBmcm9tIGl0ZW1zLlxuXG4gICAgQ2FjaGluZyBoZXJlIGFwcGxpZXMgdG8gbmVhcmJ5IHN0YXRlIGFuZCBzZWdtZW50IG9iamVjdHMuXG4qL1xuXG5jbGFzcyBMZWFmTGF5ZXJDYWNoZSB7XG4gICAgY29uc3RydWN0b3IobGF5ZXIpIHtcbiAgICAgICAgLy8gbGF5ZXJcbiAgICAgICAgdGhpcy5fbGF5ZXIgPSBsYXllcjtcbiAgICAgICAgLy8gY2FjaGVkIG5lYXJieSBvYmplY3RcbiAgICAgICAgdGhpcy5fbmVhcmJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBjYWNoZWQgc2VnbWVudFxuICAgICAgICB0aGlzLl9zZWdtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBxdWVyeSBvcHRpb25zXG4gICAgICAgIHRoaXMuX3F1ZXJ5X29wdGlvbnMgPSB7XG4gICAgICAgICAgICB2YWx1ZUZ1bmM6IHRoaXMuX2xheWVyLnZhbHVlRnVuYyxcbiAgICAgICAgICAgIHN0YXRlRnVuYzogdGhpcy5fbGF5ZXIuc3RhdGVGdW5jLFxuICAgICAgICAgICAgbnVtZXJpYzogdGhpcy5fbGF5ZXIubnVtZXJpYyxcbiAgICAgICAgICAgIG1hc2s6IHRoaXMuX2xheWVyLm1hc2tcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXQgc3JjKCkge3JldHVybiB0aGlzLl9sYXllcn07XG4gICAgZ2V0IHNlZ21lbnQoKSB7cmV0dXJuIHRoaXMuX3NlZ21lbnR9O1xuXG4gICAgcXVlcnkob2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IG5lZWRfaW5kZXhfbG9va3VwID0gKFxuICAgICAgICAgICAgdGhpcy5fbmVhcmJ5ID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgIWludGVydmFsLmNvdmVyc19lbmRwb2ludCh0aGlzLl9uZWFyYnkuaXR2LCBvZmZzZXQpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChuZWVkX2luZGV4X2xvb2t1cCkge1xuICAgICAgICAgICAgLy8gY2FjaGUgbWlzc1xuICAgICAgICAgICAgdGhpcy5fbmVhcmJ5ID0gdGhpcy5fbGF5ZXIuaW5kZXgubmVhcmJ5KG9mZnNldCk7XG4gICAgICAgICAgICBsZXQge2l0diwgY2VudGVyfSA9IHRoaXMuX25lYXJieTtcbiAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRzID0gY2VudGVyLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkX3NlZ21lbnQoaXR2LCBpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBlcmZvcm0gcXVlcmllc1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSB0aGlzLl9zZWdtZW50cy5tYXAoKHNlZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNlZy5xdWVyeShvZmZzZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHNpbmdsZSByZXN1bHQgc3RhdGVcbiAgICAgICAgcmV0dXJuIHRvU3RhdGUodGhpcy5fc2VnbWVudHMsIHN0YXRlcywgb2Zmc2V0LCB0aGlzLl9xdWVyeV9vcHRpb25zKTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbmVhcmJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zZWdtZW50ID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIExBWUVSIFVQREFURVxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIE5PVEUgLSBsYXllciB1cGRhdGUgaXMgZXNzZW50aWFsbHkgYWJvdXQgc3RhdGVQcm92aWRlciB1cGRhdGUuXG4gKiBzbyB0aGVzZSBtZXRob2RzIGNvdWxkIChmb3IgdGhlIG1vc3QgcGFydCkgYmUgbW92ZWQgdG8gdGhlIHByb3ZpZGVyLlxuICogSG93ZXZlciwgdXBkYXRlX2FwcGVuZCBiZW5lZml0cyBmcm9tIHVzaW5nIHRoZSBpbmRleCBvZiB0aGUgbGF5ZXIsXG4gKiBzbyB3ZSBrZWVwIGl0IGhlcmUgZm9yIG5vdy4gXG4gKi9cblxuLypcbiAgICBJdGVtcyBMYXllciBmb3J3YXJkcyB1cGRhdGUgdG8gc3RhdGVQcm92aWRlclxuKi9cbmZ1bmN0aW9uIGxheWVyX3VwZGF0ZShsYXllciwgY2hhbmdlcz17fSkge1xuXG4gICAgLy8gY2hlY2sgaXRlbXMgdG8gYmUgaW5zZXJ0ZWRcbiAgICBsZXQge2luc2VydD1bXX0gPSBjaGFuZ2VzO1xuICAgIGNoYW5nZXMuaW5zZXJ0ID0gY2hlY2tfaXRlbXMoaW5zZXJ0KTtcblxuICAgIC8vIGNoZWNrIG51bWJlciByZXN0cmljdGlvblxuICAgIC8vIGNoZWNrIHRoYXQgc3RhdGljIGl0ZW1zIGFyZSByZXN0cmljdGVkIHRvIG51bWJlcnNcbiAgICAvLyBvdGhlciBpdGVtIHR5cGVzIGFyZSByZXN0cmljdGVkIHRvIG51bWJlcnMgYnkgZGVmYXVsdFxuICAgIGlmIChsYXllci5pc051bWJlck9ubHkpIHtcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBjaGFuZ2VzLmluc2VydCkge1xuICAgICAgICAgICAgaXRlbS50eXBlID8/PSBcInN0YXRpY1wiO1xuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PSBcInN0YXRpY1wiICYmICFpc19maW5pdGVfbnVtYmVyKGl0ZW0uZGF0YSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYExheWVyIGlzIG51bWJlciBvbmx5LCBidXQgaXRlbSAke2l0ZW19IGlzIG5vdCBhIG51bWJlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzX2NvbGxlY3Rpb25fcHJvdmlkZXIobGF5ZXIucHJvdmlkZXIpKSB7XG4gICAgICAgIHJldHVybiBsYXllci5wcm92aWRlci51cGRhdGUoY2hhbmdlcyk7XG4gICAgfSBlbHNlIGlmIChpc19vYmplY3RfcHJvdmlkZXIobGF5ZXIucHJvdmlkZXIpKSB7ICAgICBcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIGluc2VydD1bXSxcbiAgICAgICAgICAgIHJlbW92ZT1bXSxcbiAgICAgICAgICAgIHJlc2V0PWZhbHNlXG4gICAgICAgIH0gPSBjaGFuZ2VzO1xuICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXllci5wcm92aWRlci5zZXQoaW5zZXJ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKGxheWVyLnByb3ZpZGVyLmdldCgpIHx8IFtdKVxuICAgICAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IFtpdGVtLmlkLCBpdGVtXSkpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlXG4gICAgICAgICAgICByZW1vdmUuZm9yRWFjaCgoaWQpID0+IG1hcC5kZWxldGUoaWQpKTtcbiAgICAgICAgICAgIC8vIGluc2VydFxuICAgICAgICAgICAgaW5zZXJ0LmZvckVhY2goKGl0ZW0pID0+IG1hcC5zZXQoaXRlbS5pZCwgaXRlbSkpO1xuICAgICAgICAgICAgLy8gc2V0XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IEFycmF5LmZyb20obWFwLnZhbHVlcygpKTtcbiAgICAgICAgICAgIHJldHVybiBsYXllci5wcm92aWRlci5zZXQoaXRlbXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuICAgIFxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTEFZRVIgQVBQRU5EXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogYXBwZW5kIGl0ZW1zIHRvIGxheWVyIGF0IG9mZnNldFxuICogXG4gKiBhcHBlbmQgaW1wbGllcyB0aGF0IHByZS1leGlzdGluZyBpdGVtcyBiZXlvbmQgb2Zmc2V0LFxuICogd2lsbCBlaXRoZXIgYmUgcmVtb3ZlZCBvciB0cnVuY2F0ZWQsIHNvIHRoYXQgdGhlIGxheWVyXG4gKiBpcyBlbXB0eSBhZnRlciBvZmZzZXQuXG4gKiBcbiAqIGl0ZW1zIHdpbGwgb25seSBiZSBpbnNlcnRlZCBhZnRlciBvZmZzZXQsIHNvIGFueSBuZXdcbiAqIGl0ZW0gYmVmb3JlIG9mZnNldCB3aWxsIGJlIHRydW5jYXRlZCBvciBkcm9wcGVkLlxuICogXG4gKiBuZXcgaXRlbXMgd2lsbCBvbmx5IGJlIGJlIGFwcGxpZWQgZm9yIHQgPj0gb2Zmc2V0XG4gKiBvbGQgaXRlbXMgd2lsbCBiZSBrZXB0IGZvciB0IDwgb2Zmc2V0XG4gKiBcbiAqIFxuICovXG5mdW5jdGlvbiBsYXllcl9hcHBlbmQobGF5ZXIsIGl0ZW1zLCBvZmZzZXQpIHtcbiAgICBjb25zdCBlcCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcbiAgICBcbiAgICAvLyB0cnVuY2F0ZSBvciByZW1vdmUgbmV3IGl0ZW1zIGJlZm9yZSBvZmZzZXRcbiAgICBjb25zdCBpbnNlcnRfaXRlbXMgPSBpdGVtc1xuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAvLyBrZWVwIG9ubHkgaXRlbXMgd2l0aCBpdHYuaGlnaCA+PSBvZmZzZXRcbiAgICAgICAgICAgIGNvbnN0IGhpZ2hFcCA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXRlbS5pdHYpWzFdO1xuICAgICAgICAgICAgcmV0dXJuIGVuZHBvaW50LmdlKGhpZ2hFcCwgZXApO1xuICAgICAgICB9KVxuICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAvLyB0cnVuY2F0ZSBpdGVtIG92ZXJsYXBwaW5nIG9mZnNldCBpdHYubG93PW9mZnNldFxuICAgICAgICAgICAgaWYgKGludGVydmFsLmNvdmVyc19lbmRwb2ludChpdGVtLml0diwgZXApKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3X2l0ZW0gPSB7Li4uaXRlbX07XG4gICAgICAgICAgICAgICAgbmV3X2l0ZW0uaXR2ID0gW29mZnNldCwgaXRlbS5pdHZbMV0sIHRydWUsIGl0ZW0uaXR2WzNdXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3X2l0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgLy8gY29uc29sZS5sb2coXCJpbnNlcnRcIiwgaW5zZXJ0X2l0ZW1zKTtcblxuICAgIC8vIHRydW5jYXRlIHByZS1leGlzdGluZyBpdGVtcyBvdmVybGFwcGluZyBvZmZzZXRcbiAgICBjb25zdCBtb2RpZnlfaXRlbXMgPSBsYXllci5pbmRleC5uZWFyYnkob2Zmc2V0KS5jZW50ZXIubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld19pdGVtID0gey4uLml0ZW19O1xuICAgICAgICBuZXdfaXRlbS5pdHYgPSBbaXRlbS5pdHZbMF0sIG9mZnNldCwgaXRlbS5pdHZbMl0sIGZhbHNlXTtcbiAgICAgICAgcmV0dXJuIG5ld19pdGVtO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIGNvbnNvbGUubG9nKFwibW9kaWZ5XCIsIG1vZGlmeV9pdGVtcyk7XG5cbiAgICAvLyByZW1vdmUgcHJlLWV4aXN0aW5nIGZ1dHVyZSAtIGl0ZW1zIGNvdmVyaW5nIGl0di5sb3cgPiBvZmZzZXRcbiAgICBjb25zdCByZW1vdmUgPSBsYXllci5wcm92aWRlci5nZXQoKVxuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb3dFcCA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXRlbS5pdHYpWzBdO1xuICAgICAgICAgICAgcmV0dXJuIGVuZHBvaW50Lmd0KGxvd0VwLCBlcCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkO1xuICAgICAgICB9KTtcblxuICAgIC8vIGNvbnNvbGUubG9nKFwicmVtb3ZlXCIsIHJlbW92ZSk7XG5cbiAgICAvLyBsYXllciB1cGRhdGVcbiAgICBjb25zdCBpbnNlcnQgPSBbLi4ubW9kaWZ5X2l0ZW1zLCAuLi5pbnNlcnRfaXRlbXNdO1xuICAgIHJldHVybiBsYXllcl91cGRhdGUobGF5ZXIsIHtyZW1vdmUsIGluc2VydCwgcmVzZXQ6ZmFsc2V9KVxufVxuXG5cblxuIiwiaW1wb3J0IHsgQ3Vyc29yIH0gZnJvbSBcIi4vY3Vyc29yX2Jhc2UuanNcIjtcbmltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4vbGF5ZXJfYmFzZS5qc1wiO1xuaW1wb3J0ICogYXMgc3JjcHJvcCBmcm9tIFwiLi91dGlsL2FwaV9zcmNwcm9wLmpzXCI7XG5pbXBvcnQgeyBjaGVja19udW1iZXIsIHNldF90aW1lb3V0fSBmcm9tIFwiLi91dGlsL2NvbW1vbi5qc1wiO1xuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogUExBWUJBQ0sgQ1VSU09SXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogZ2VuZXJpYyBwbGF5YmFjayBjdXJzb3JcbiAqIFxuICogXCJzcmNcIiBpcyBhIGxheWVyXG4gKiBcImN0cmxcIiBpcyBjdXJzb3IgKE51bWJlcilcbiAqIHJldHVybnMgYSBjdXJzb3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGxheWJhY2tfY3Vyc29yKG9wdGlvbnM9e30pIHtcblxuICAgIGNvbnN0IHtjdHJsLCBzcmMsIFxuICAgICAgICBtdXRhYmxlPWZhbHNlfSA9IG9wdGlvbnM7XG5cbiAgICBsZXQgc3JjX2NhY2hlOyAvLyBjYWNoZSBmb3Igc3JjIGxheWVyXG4gICAgbGV0IHRpZDsgLy8gdGltZW91dFxuICAgIGxldCBwaWQ7IC8vIHBvbGxpbmdcblxuICAgIGNvbnN0IGN1cnNvciA9IG5ldyBDdXJzb3IoKTtcblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogUkVTVFJJQ1RJT05TXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3Vyc29yLCBcIm51bWVyaWNcIiwge2dldDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gKGN1cnNvci5zcmMgIT0gdW5kZWZpbmVkKSA/IGN1cnNvci5zcmMubnVtZXJpYyA6IGZhbHNlO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3Vyc29yLCBcIm11dGFibGVcIiwge2dldDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gKGN1cnNvci5zcmMgIT0gdW5kZWZpbmVkKSA/IChjdXJzb3Iuc3JjLm11dGFibGUgJiYgbXV0YWJsZSkgOiBmYWxzZTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1cnNvciwgXCJpdGVtc09ubHlcIiwge2dldDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gKGN1cnNvci5zcmMgIT0gdW5kZWZpbmVkKSA/IGN1cnNvci5zcmMuaXRlbXNPbmx5IDogZmFsc2U7XG4gICAgfX0pO1xuXG4gICAgXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKiBTUkMgQU5EIENUUkwgUFJPUEVSVElFU1xuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgc3JjcHJvcC5hZGRTdGF0ZShjdXJzb3IpO1xuICAgIHNyY3Byb3AuYWRkTWV0aG9kcyhjdXJzb3IpO1xuICAgIGN1cnNvci5zcmNwcm9wX3JlZ2lzdGVyKFwiY3RybFwiKTtcbiAgICBjdXJzb3Iuc3JjcHJvcF9yZWdpc3RlcihcInNyY1wiKTtcblxuICAgIGN1cnNvci5zcmNwcm9wX2NoZWNrID0gZnVuY3Rpb24gKHByb3BOYW1lLCBvYmopIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwiY3RybFwiKSB7XG4gICAgICAgICAgICBpZiAoIShvYmogaW5zdGFuY2VvZiBDdXJzb3IpIHx8IG9iai5udW1lcmljID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcImN0cmxcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbnVtZXJpYyBjdXJzb3IgJHtvYmp9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PSBcInNyY1wiKSB7XG4gICAgICAgICAgICBpZiAoIShvYmogaW5zdGFuY2VvZiBMYXllcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFwic3JjXCIgcHJvcGVydHkgbXVzdCBiZSBhIGxheWVyICR7b2JqfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjdXJzb3Iuc3JjcHJvcF9vbmNoYW5nZSA9IGZ1bmN0aW9uIChwcm9wTmFtZSwgZUFyZykge1xuICAgICAgICBpZiAoY3Vyc29yLnNyYyA9PSB1bmRlZmluZWQgfHwgY3Vyc29yLmN0cmwgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIGlmIChlQXJnID09IFwicmVzZXRcIikge1xuICAgICAgICAgICAgICAgIHNyY19jYWNoZSA9IGN1cnNvci5zcmMuY3JlYXRlQ2FjaGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3JjX2NhY2hlLmNsZWFyKCk7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN1cnNvci5vbmNoYW5nZSgpO1xuICAgIH1cblxuICAgIGN1cnNvci5xdWVyeSA9IGZ1bmN0aW9uIHF1ZXJ5KGxvY2FsX3RzKSB7XG4gICAgICAgIGxldCBvZmZzZXQgPSBjdXJzb3IuY3RybC5xdWVyeShsb2NhbF90cykudmFsdWU7XG4gICAgICAgIC8vIHNob3VsZCBub3QgaGFwcGVuXG4gICAgICAgIGNoZWNrX251bWJlcihcImN1cnNvci5jdHJsLm9mZnNldFwiLCBvZmZzZXQpO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHNyY19jYWNoZS5xdWVyeShvZmZzZXQpO1xuICAgICAgICAvLyBpZiAoc3JjKSBsYXllciBpcyBudW1lcmljLCBkZWZhdWx0IHZhbHVlIDAgXG4gICAgICAgIC8vIGlzIGFzc3VtZWQgaW4gcmVnaW9ucyB3aGVyZSB0aGUgbGF5ZXIgaXMgdW5kZWZpbmVkXG4gICAgICAgIGlmIChjdXJzb3Iuc3JjLm51bWVyaWMgJiYgc3RhdGUudmFsdWUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IDAuMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgY3Vyc29yLmFjdGl2ZV9pdGVtcyA9IGZ1bmN0aW9uIGdldF9pdGVtKGxvY2FsX3RzKSB7XG4gICAgICAgIGlmIChjdXJzb3IuaXRlbXNPbmx5KSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBjdXJzb3IuY3RybC5xdWVyeShsb2NhbF90cykudmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gY3Vyc29yLnNyYy5pbmRleC5uZWFyYnkob2Zmc2V0KS5jZW50ZXI7ICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKiBERVRFQ1QgRlVUVVJFIEVWRU5UXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAvKipcbiAgICAgKiBmaXhlZCByYXRlIGN1cnNvcnMgbmV2ZXIgY2hhbmdlIHRoZWlyIGJlaGF2aW9yIC0gYW5kXG4gICAgICogY29uc2VxdWVudGx5IG5ldmVyIGhhcyB0byBpbnZva2UgYW55IGNhbGxiYWNrcyAvIGV2ZW50c1xuICAgICAqIFxuICAgICAqIE90aGVyIGN1cnNvcnMgbWF5IGNoYW5nZSBiZWhhdmlvdXIgYXQgYSBmdXR1cmUgdGltZS5cbiAgICAgKiBJZiB0aGlzIGZ1dHVyZSBjaGFuZ2UgaXMgY2F1c2VkIGJ5IGEgc3RhdGUgY2hhbmdlIC0gXG4gICAgICogZWl0aGVyIGluIChzcmMpIGxheWVyIG9yIChjdHJsKSBjdXJzb3IgLSBldmVudHMgd2lsbCBiZSBcbiAgICAgKiB0cmlnZ2VyZWQgaW4gcmVzcG9uc2UgdG8gdGhpcy4gXG4gICAgICogXG4gICAgICogSG93ZXZlciwgY3Vyc29ycyBtYXkgYWxzbyBjaGFuZ2UgYmVoYXZpb3VyIGF0IGEgZnV0dXJlIHRpbWUgbW9tZW50XG4gICAgICogaW4gdGltZSwgd2l0aG91dCBhbnkgY2F1c2luZyBzdGF0ZSBjaGFuZ2UuIFRoaXMgbWF5IGhhcHBlbiBkdXJpbmcgXG4gICAgICogcGxheWJhY2ssIGFzIHRoZSAoY3RybCkgY3Vyc29yIGxlYXZlcyB0aGUgY3VycmVudCByZWdpb24gXG4gICAgICogb2YgdGhlIChzcmMpIGxheWVyIGFuZCBlbnRlcnMgaW50byB0aGUgbmV4dCByZWdpb24uXG4gICAgICogXG4gICAgICogVGhpcyBldmVudCBtdXN0IGJlIGRldGVjdGVkLCBpZGVhbGx5IGF0IHRoZSByaWdodCBtb21lbnQsIFxuICAgICAqIHNvIHRoYXQgdGhlIGN1cnNvciBjYW4gZ2VuZXJhdGUgZXZlbnRzLCBhbGxvd2luZyBvYnNlcnZlcnMgdG9cbiAgICAgKiByZWFjdCB0byB0aGUgY2hhbmdlLiBJZiB0aGUgKGN0cmwpIGN1cnNvciBiZWhhdmVzIGRldGVybWluaXN0aWNhbGx5LCBcbiAgICAgKiB0aGlzIGZ1dHVyZSBldmVudCBjYW4gYmUgY2FsY3VsYXRlZCBhaGVhZCBvZiB0aW1lLCBcbiAgICAgKiBhbmQgZGV0ZWN0ZWQgYnkgdGltZW91dC4gT3RoZXJ3aXNlLCB0aGUgZmFsbGJhY2sgc29sdXRpb24gaXMgdG9cbiAgICAgKiBkZXRlY3Qgc3VjaCBmdXR1cmUgZXZlbnRzIGJ5IHBvbGxpbmcuXG4gICAgICogXG4gICAgICogTk9URSBjb25zdW1lcnMgb2YgY3Vyc29ycyBtaWdodCBwb2xsIHRoZSBjdXJzb3IgdGhlbXNlbHZlcywgdGh1cyBcbiAgICAgKiBjYXVzaW5nIHRoZSBldmVudCB0byBiZSBkZXRlY3RlZCB0aGF0IHdheS4gSG93ZXZlciwgdGhlcmUgaXMgbm8gXG4gICAgICogZ3VhcmFudGVlIHRoYXQgdGhpcyB3aWxsIGhhcHBlbi4gRm9yIGV4YW1wbGUsIGluIGNpcmN1bXN0YW5jZXMgXG4gICAgICogd2hlcmUgdGhlIChzcmMpIGxheWVyIHJlZ2lvbiBpcyBzdGF0aWMsIGNvbnN1bWVycyB3aWxsIHR1cm5cbiAgICAgKiBwb2xsaW5nIG9mZiwgYW5kIGRlcGVuZCBvbiB0aGUgY2hhbmdlIGV2ZW50IGZyb20gdGhlIGN1cnNvciwgaW4gb3JkZXIgXG4gICAgICogdG8gZGV0ZWN0IHRoZSBjaGFuZ2UgaW4gYmVoYXZpb3IuXG4gICAgICogXG4gICAgICovXG4gICAgY3Vyc29yLmRldGVjdF9mdXR1cmVfZXZlbnQgPSBmdW5jdGlvbiBkZXRlY3RfZnV0dXJlX2V2ZW50KCkge1xuXG4gICAgICAgIGNhbmNlbF90aW1lb3V0KCk7XG4gICAgICAgIGNhbmNlbF9wb2xsaW5nKCk7XG5cbiAgICAgICAgLy8gbm8gZnV0dXJlIHRpbWVvdXQgaWYgY3Vyc29yIGl0c2VsZiBpcyBmaXhlZFJhdGVcbiAgICAgICAgaWYgKGN1cnNvci5maXhlZFJhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsbCBvdGhlciBjdXJzb3JzIG11c3QgaGF2ZSAoc3JjKSBhbmQgKGN0cmwpXG4gICAgICAgIGlmIChjdXJzb3IuY3RybCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImN1cnNvci5jdHJsIGNhbiBub3QgYmUgdW5kZWZpbmVkIHdpdGggaXNGaXhlZFJhdGU9ZmFsc2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnNvci5zcmMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjdXJzb3Iuc3JjIGNhbiBub3QgYmUgdW5kZWZpbmVkIHdpdGggaXNGaXhlZFJhdGU9ZmFsc2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjdXJyZW50IHN0YXRlIG9mIGN1cnNvci5jdHJsIFxuICAgICAgICBjb25zdCB7dmFsdWU6cG9zMCwgZHluYW1pYywgb2Zmc2V0OnRzMH0gPSBjdXJzb3IuY3RybC5xdWVyeSgpO1xuXG4gICAgICAgIC8vIG5vIGZ1dHVyZSB0aW1lb3V0IGlmIGN1cnNvci5jdHJsIGlzIHN0YXRpY1xuICAgICAgICBpZiAoIWR5bmFtaWMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGN1cnJlbnQgcmVnaW9uIG9mIGN1cnNvci5zcmNcbiAgICAgICAgY29uc3Qgc3JjX25lYXJieSA9IGN1cnNvci5zcmMuaW5kZXgubmVhcmJ5KHBvczApO1xuICAgICAgICBjb25zdCBzcmNfcmVnaW9uX2xvdyA9IHNyY19uZWFyYnkuaXR2WzBdID8/IC1JbmZpbml0eTtcbiAgICAgICAgY29uc3Qgc3JjX3JlZ2lvbl9oaWdoID0gc3JjX25lYXJieS5pdHZbMV0gPz8gSW5maW5pdHk7XG5cbiAgICAgICAgaWYgKHNyY19yZWdpb25fbG93ID09IC1JbmZpbml0eSAmJiBzcmNfcmVnaW9uX2hpZ2ggPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIC8vIHVuYm91bmRlZCBzcmMgcmVnaW9uIC0gbm8gZXZlbnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIGNvbmRpdGlvbiBmb3IgY2xvY2sgdGltZW91dCBpcyBtZXRcbiAgICAgICAgaWYgKGN1cnNvci5jdHJsLmZpeGVkUmF0ZSkge1xuICAgICAgICAgICAgLyogXG4gICAgICAgICAgICAgICAgY3Vyc29yLmN0cmwgaXMgZml4ZWQgcmF0ZSAoY2xvY2spXG4gICAgICAgICAgICAgICAgZnV0dXJlIHRpbWVvdXQgd2hlbiBjdXJzb3IuY3RybCBsZWF2ZXMgc3JjX3JlZ2lvbiAob24gdGhlIHJpZ2h0KVxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHZlY3RvciA9IFtwb3MwLCBjdXJzb3IuY3RybC5yYXRlLCAwLCB0czBdO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gc3JjX3JlZ2lvbl9oaWdoXG4gICAgICAgICAgICBzY2hlZHVsZV90aW1lb3V0KHZlY3RvciwgdGFyZ2V0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIGNvbmRpdGlvbnMgZm9yIG1vdGlvbiB0aW1lb3V0IGFyZSBtZXRcbiAgICAgICAgLy8gY3Vyc29yLmN0cmwuY3RybCBtdXN0IGJlIGZpeGVkIHJhdGVcbiAgICAgICAgLy8gY3Vyc29yLmN0cmwuc3JjIG11c3QgaGF2ZSBpdGVtc09ubHkgPT0gdHJ1ZSBcbiAgICAgICAgaWYgKGN1cnNvci5jdHJsLmN0cmwuZml4ZWRSYXRlICYmIGN1cnNvci5jdHJsLnNyYy5pdGVtc09ubHkpIHtcbiAgICAgICAgICAgIC8qIFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlIHRpbWVvdXQgYXNzb2NpYXRlZCB3aXRoIGxlYXZpbmcgcmVnaW9uXG4gICAgICAgICAgICAgICAgdGhyb3VnaCBlaXRoZXIgcmVnaW9uX2xvdyBvciByZWdpb25faGlnaC5cblxuICAgICAgICAgICAgICAgIEhvd2V2ZXIsIHRoaXMgY2FuIG9ubHkgYmUgcHJlZGljdGVkIGlmIGN1cnNvci5jdHJsXG4gICAgICAgICAgICAgICAgaW1wbGVtZW50cyBhIGRldGVybWluaXN0aWMgZnVuY3Rpb24gb2YgdGltZS5cbiAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSBrbm93biBvbmx5IGlmIGN1cnNvci5jdHJsLnNyYyBpcyBhIGxheWVyIHdpdGggaXRlbXMuXG4gICAgICAgICAgICAgICAgYW5kIGEgc2luZ2xlIGFjdGl2ZSBpdGVtIGRlc2NyaWJlcyBlaXRoZXIgYSBtb3Rpb24gb3IgYSB0cmFuc2l0aW9uIFxuICAgICAgICAgICAgICAgICh3aXRoIGxpbmVhciBlYXNpbmcpLiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVfaXRlbXMgPSBjdXJzb3IuY3RybC5zcmMuZ2V0X2l0ZW1zKHRzMCk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlX2l0ZW1zLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlX2l0ZW0gPSBhY3RpdmVfaXRlbXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZV9pdGVtLnR5cGUgPT0gXCJtb3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbcCx2LGEsdF0gPSBhY3RpdmVfaXRlbS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGNhbGN1bGF0ZSB0aW1lb3V0IHdpdGggYWNjZWxlcmF0aW9uIHRvb1xuICAgICAgICAgICAgICAgICAgICBpZiAoYSA9PSAwLjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgd2hpY2ggcmVnaW9uIGJvdW5kYXJ5IHdlIGhpdCBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKHYgPiAwKSA/IHNyY19yZWdpb25faGlnaCA6IHNyY19yZWdpb25fbG93O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVjdG9yID0gW3BvczAsIHYsIDAsIHRzMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZV90aW1lb3V0KHZlY3RvciwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlX2l0ZW0udHlwZSA9PSBcInRyYW5zaXRpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7djAsIHYxLCB0MCwgdDEsIGVhc2luZz1cImxpbmVhclwifSA9IGFjdGl2ZV9pdGVtLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlYXNpbmcgPT0gXCJsaW5lYXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGluZWFyIHRyYW5zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSAodjEtdjApLyh0MS10MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAodiA+IDApID8gc3JjX3JlZ2lvbl9oaWdoIDogc3JjX3JlZ2lvbl9sb3c7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZWN0b3IgPSBbcG9zMCwgdiwgMCwgdHMwXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlX3RpbWVvdXQodmVjdG9yLCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9ICAgICAgICAgICAgXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRldGVjdGlvbiBvZiBsZWF2ZSBldmVudHMgZmFsbHMgYmFjayBvbiBwb2xsaW5nXG4gICAgICAgICAqL1xuICAgICAgICBzdGFydF9wb2xsaW5nKHNyY19yZWdpb25fbG93LCBzcmNfcmVnaW9uX2hpZ2gpO1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogVElNRU9VVFxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgZnVuY3Rpb24gc2NoZWR1bGVfdGltZW91dCh2ZWN0b3IsIHRhcmdldCkge1xuICAgICAgICBjb25zdCBbcCx2LGEsdF0gPSB2ZWN0b3I7XG4gICAgICAgIGlmIChhICE9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRpbWVvdXQgbm90IHlldCBpbXBsZW1lbnRlZCBmb3IgYWNjZWxlcmF0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXQgPT0gSW5maW5pdHkgfHwgdGFyZ2V0ID09IC1JbmZpbml0eSkge1xuICAgICAgICAgICAgLy8gbm8gdGltZW91dFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlbHRhX3NlYyA9ICh0YXJnZXQgLSBwKSAvIHY7XG4gICAgICAgIGlmIChkZWx0YV9zZWMgPD0gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXYXJuaW5nIC0gdGltZW91dCA8PSAwIC0gZHJvcHBpbmdcIiwgZGVsdGFfc2VjKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidmVjdG9yXCIsIHZlY3Rvcik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRhcmdldFwiLCB0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRpZCA9IHNldF90aW1lb3V0KGhhbmRsZV90aW1lb3V0LCBkZWx0YV9zZWMgKiAxMDAwLjApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZV90aW1lb3V0KCkge1xuICAgICAgICAvLyBldmVudCBkZXRlY3RlZFxuICAgICAgICBjdXJzb3Iub25jaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5jZWxfdGltZW91dCgpIHtcbiAgICAgICAgaWYgKHRpZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRpZC5jYW5jZWwoKTsgXG4gICAgICAgIH0gICAgXG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKiBQT0xMSU5HXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICBmdW5jdGlvbiBzdGFydF9wb2xsaW5nKHRhcmdldExvdywgdGFyZ2V0SGlnaCkge1xuICAgICAgICBwaWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVfcG9sbGluZyh0YXJnZXRMb3csIHRhcmdldEhpZ2gpO1xuICAgICAgICB9LCAxMDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZV9wb2xsaW5nKHRhcmdldExvdywgdGFyZ2V0SGlnaCkge1xuICAgICAgICBsZXQgcG9zID0gY3Vyc29yLmN0cmwudmFsdWU7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICh0YXJnZXRMb3cgPiAtSW5maW5pdHkgJiYgcG9zIDwgdGFyZ2V0TG93KSB8fFxuICAgICAgICAgICAgKHRhcmdldEhpZ2ggPCBJbmZpbml0eSAmJiBwb3MgPiB0YXJnZXRIaWdoKVxuICAgICAgICApeyBcbiAgICAgICAgICAgIC8vIGV2ZW50IGRldGVjdGVkXG4gICAgICAgICAgICBjdXJzb3Iub25jaGFuZ2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbmNlbF9wb2xsaW5nKCkge1xuICAgICAgICBpZiAocGlkICE9IHVuZGVmaW5lZCkgeyBcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocGlkKTsgXG4gICAgICAgIH1cbiAgICB9XG4gXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKiBJTklUSUFMSVpBVElPTlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIGN1cnNvci5jdHJsID0gY3RybDtcbiAgICBjdXJzb3Iuc3JjID0gc3JjO1xuICAgIHJldHVybiBjdXJzb3I7XG59XG5cbiIsImltcG9ydCB7IHBsYXliYWNrX2N1cnNvciB9IGZyb20gXCIuL2N1cnNvcl9wbGF5YmFjay5qc1wiO1xuaW1wb3J0IHsgcmFuZG9tX3N0cmluZywgY2hlY2tfbnVtYmVyLCBtb3Rpb25fdXRpbHMgfSBmcm9tIFwiLi91dGlsL2NvbW1vbi5qc1wiO1xuaW1wb3J0IHsgbG9hZF9zZWdtZW50IH0gZnJvbSBcIi4vdXRpbC9zZWdtZW50cy5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIE9CSkVDVCBDVVJTT1JcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBjdXJzb3Igb2JqZWN0IHN1cHBvcnRpbmcgdXBkYXRlc1xuICogIFxuICogXCJzcmNcIiBpcyBhIGxheWVyIHdoaWNoIGlzIG11dGFibGVcbiAqIFwiY3RybFwiIGlzIGZpeGVkLXJhdGUgY3Vyc29yXG4gKiBcbiAqIG9iamVjdF9jdXJzb3IgbWF5IGFsc28gc3VwcG9ydCByZWNvcmRpbmdcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0X2N1cnNvcihvcHRpb25zPXt9KSB7XG5cbiAgICBjb25zdCB7Y3RybCwgc3JjLCByZWNvcmQ9ZmFsc2V9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IGN1cnNvciA9IG5ldyBwbGF5YmFja19jdXJzb3Ioe2N0cmwsIHNyYywgbXV0YWJsZTogdHJ1ZX0pO1xuXG4gICAgLyoqXG4gICAgICogb3ZlcnJpZGUgdG8gaW1wbGVtZW50IGFkZGl0aW9uYWwgcmVzdHJpY3Rpb25zIFxuICAgICAqIG9uIHNyYyBhbmQgY3RybFxuICAgICAqL1xuICAgIGNvbnN0IG9yaWdpbmFsX3NyY3Byb3BfY2hlY2sgPSBjdXJzb3Iuc3JjcHJvcF9jaGVjaztcblxuICAgIGN1cnNvci5zcmNwcm9wX2NoZWNrID0gZnVuY3Rpb24gKHByb3BOYW1lLCBvYmopIHtcbiAgICAgICAgb2JqID0gb3JpZ2luYWxfc3JjcHJvcF9jaGVjayhwcm9wTmFtZSwgb2JqKTtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwiY3RybFwiKSB7XG4gICAgICAgICAgICBpZiAoIW9iai5maXhlZFJhdGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFwiY3RybFwiIHByb3BlcnR5IG11c3QgYmUgYSBmaXhlZHJhdGUgY3Vyc29yICR7b2JqfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzcmNcIikge1xuICAgICAgICAgICAgaWYgKCFvYmoubXV0YWJsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXCJzcmNcIiBwcm9wZXJ0eSBtdXN0IGJlIG11dGFibGUgbGF5ZXIgJHtvYmp9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfVxuICAgICAgICBcblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogVVBEQVRFIEFQSVxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIGN1cnNvci5zZXQgPSAodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBjcmVhdGVfc2V0X2l0ZW1zKGN1cnNvciwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gY3Vyc29yLnVwZGF0ZShpdGVtcyk7XG4gICAgfVxuICAgIGN1cnNvci5tb3Rpb24gPSAodmVjdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gY3JlYXRlX21vdGlvbl9pdGVtcyhjdXJzb3IsIHZlY3Rvcik7XG4gICAgICAgIHJldHVybiBjdXJzb3IudXBkYXRlKGl0ZW1zKTtcbiAgICB9XG4gICAgY3Vyc29yLnRyYW5zaXRpb24gPSAoe3RhcmdldCwgZHVyYXRpb24sIGVhc2luZ30pID0+IHsgXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gY3JlYXRlX3RyYW5zaXRpb25faXRlbXMoY3Vyc29yLCB0YXJnZXQsIGR1cmF0aW9uLCBlYXNpbmcpO1xuICAgICAgICByZXR1cm4gY3Vyc29yLnVwZGF0ZShpdGVtcyk7XG5cbiAgICB9XG4gICAgY3Vyc29yLmludGVycG9sYXRlID0gKHt0dXBsZXMsIGR1cmF0aW9ufSkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtcyA9IGNyZWF0ZV9pbnRlcnBvbGF0aW9uX2l0ZW1zKGN1cnNvciwgdHVwbGVzLCBkdXJhdGlvbik7XG4gICAgICAgIHJldHVybiBjdXJzb3IudXBkYXRlKGl0ZW1zKTtcbiAgICB9XG4gICAgXG4gICAgY3Vyc29yLnVwZGF0ZSA9IChpdGVtcykgPT4ge1xuICAgICAgICBpZiAoaXRlbXMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAocmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvci5zcmMuYXBwZW5kKGl0ZW1zLCBjdXJzb3IuY3RybC52YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3Iuc3JjLnVwZGF0ZSh7aW5zZXJ0Oml0ZW1zLCByZXNldDp0cnVlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3Vyc29yO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENVUlNPUiBVUERBVEUgQVBJXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogY3JlYWF0ZSBpdGVtcyBmb3Igc2V0IG9wZXJhdGlvblxuKi9cbmZ1bmN0aW9uIGNyZWF0ZV9zZXRfaXRlbXMoY3Vyc29yLCB2YWx1ZSkge1xuICAgIGxldCBpdGVtcyA9IFtdO1xuICAgIGlmICh2YWx1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXRlbXMgPSBbe1xuICAgICAgICAgICAgaWQ6IHJhbmRvbV9zdHJpbmcoMTApLFxuICAgICAgICAgICAgaXR2OiBbbnVsbCwgbnVsbCwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgZGF0YTogdmFsdWUgICAgICAgICAgICAgIFxuICAgICAgICB9XTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1zO1xufVxuXG4vKipcbiAqIGNyZWF0ZSBpdGVtcyBmb3IgbW90aW9uIG9wZXJhdGlvblxuICogIFxuICogbW90aW9uIG9ubHkgbWFrZXMgc2Vuc2UgaWYgb2JqZWN0IGN1cnNvciBpcyByZXN0cmljdGVkIHRvIG51bWJlciB2YWx1ZXMsXG4gKiB3aGljaCBpbiB0dXJuIGltcGxpZXMgdGhhdCB0aGUgY3Vyc29yLnNyYyAoSXRlbXMgTGF5ZXIpIHNob3VsZCBiZVxuICogcmVzdHJpY3RlZCB0byBudW1iZXIgdmFsdWVzLiBcbiAqIElmIG5vbi1udW1iZXIgdmFsdWVzIG9jY3VyIC0gd2Ugc2ltcGx5IHJlcGxhY2Ugd2l0aCAwLlxuICogQWxzbywgaXRlbXMgbGF5ZXIgc2hvdWxkIGhhdmUgYSBzaW5nbGUgaXRlbSBpbiBuZWFyYnkgY2VudGVyLlxuICogXG4gKiBpZiBwb3NpdGlvbiBpcyBvbWl0dGVkIGluIHZlY3RvciAtIGN1cnJlbnQgcG9zaXRpb24gd2lsbCBiZSBhc3N1bWVkXG4gKiBpZiB0aW1lc3RhbXAgaXMgb21pdHRlZCBpbiB2ZWN0b3IgLSBjdXJyZW50IHRpbWVzdGFtcCB3aWxsIGJlIGFzc3VtZWRcbiAqIGlmIHZlbG9jaXR5IGFuZCBhY2NlbGVyYXRpb24gYXJlIG9tbWl0dGVkIGluIHZlY3RvciBcbiAqIC0gdGhlc2Ugd2lsbCBiZSBzZXQgdG8gemVyby5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX21vdGlvbl9pdGVtcyhjdXJzb3IsIHZlY3Rvcj17fSkge1xuICAgIC8vIGdldCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY3Vyc29yXG4gICAgbGV0IHt2YWx1ZTpwMCwgb2Zmc2V0OnQwfSA9IGN1cnNvci5xdWVyeSgpO1xuICAgIC8vIGVuc3VyZSB0aGF0IHAwIGlzIG51bWJlciB0eXBlXG4gICAgaWYgKHR5cGVvZiBwMCAhPT0gJ251bWJlcicgfHwgIWlzRmluaXRlKHAwKSkge1xuICAgICAgICBwMCA9IDA7XG4gICAgfVxuICAgIC8vIGZldGNoIG5ldyB2YWx1ZXMgZnJvbSB2ZWN0b3JcbiAgICBjb25zdCB7XG4gICAgICAgIHBvc2l0aW9uOnAxPXAwLFxuICAgICAgICB2ZWxvY2l0eTp2MT0wLFxuICAgICAgICBhY2NlbGVyYXRpb246YTE9MCxcbiAgICAgICAgdGltZXN0YW1wOnQxPXQwLFxuICAgICAgICByYW5nZT1bbnVsbCwgbnVsbF1cbiAgICB9ID0gdmVjdG9yO1xuICAgIG1vdGlvbl91dGlscy5jaGVja19yYW5nZShyYW5nZSk7XG4gICAgY2hlY2tfbnVtYmVyKFwicG9zaXRpb25cIiwgcDEpO1xuICAgIGNoZWNrX251bWJlcihcInZlbG9jaXR5XCIsIHYxKTtcbiAgICBjaGVja19udW1iZXIoXCJhY2NlbGVyYXRpb25cIiwgYTEpO1xuICAgIGNoZWNrX251bWJlcihcInRpbWVzdGFtcFwiLCB0MSk7XG5cbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogaWYgcG9zIHJhbmdlIGlzIGJvdW5kZWQgbG93IG9yIGhpZ2ggb3IgYm90aCxcbiAgICAgKiB0aGlzIHBvdGVudGlhbGx5IGNvcnJlc3BvbmRzIHRvIG11bHRpcGxlIHRpbWUgcmFuZ2VzIFtbdDAsIHQxXV0gXG4gICAgICogd2hlcmUgdGhlIG1vdGlvbiBwb3NpdGlvbiBpcyBsZWdhbCAgXG4gICAgICogbG93IDw9IHAgPD0gaGlnaCBcbiAgICAgKi9cbiAgICBjb25zdCBjdHIgPSBtb3Rpb25fdXRpbHMuY2FsY3VsYXRlX3RpbWVfcmFuZ2VzO1xuICAgIGNvbnN0IHRpbWVfcmFuZ2VzID0gY3RyKFtwMSx2MSxhMSx0MV0sIHJhbmdlKTtcbiAgICAvLyBwaWNrIGEgdGltZSByYW5nZSB3aGljaCBjb250YWlucyB0MVxuICAgIGNvbnN0IHRzID0gY3Vyc29yLmN0cmwudmFsdWU7XG5cbiAgICBjb25zdCB0aW1lX3JhbmdlID0gdGltZV9yYW5nZXMuZmluZCgodHIpID0+IHtcbiAgICAgICAgY29uc3QgbG93ID0gdHJbMF0gPz8gLUluZmluaXR5O1xuICAgICAgICBjb25zdCBoaWdoID0gdHJbMV0gPz8gSW5maW5pdHk7XG4gICAgICAgIHJldHVybiBsb3cgPD0gdHMgJiYgdHMgPD0gaGlnaDtcbiAgICB9KTtcbiAgICBpZiAodGltZV9yYW5nZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgW2xvdywgaGlnaF0gPSB0aW1lX3JhbmdlO1xuICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiByYW5kb21fc3RyaW5nKDEwKSxcbiAgICAgICAgICAgIGl0djogW2xvdywgaGlnaCwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgICAgICB0eXBlOiBcIm1vdGlvblwiLFxuICAgICAgICAgICAgZGF0YTogW3AxLCB2MSwgYTEsIHQxXVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gYWRkIGxlZnQgaWYgbmVlZGVkXG4gICAgICAgIGlmIChsb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHJhbmRvbV9zdHJpbmcoMTApLFxuICAgICAgICAgICAgICAgIGl0djogW251bGwsIGxvdywgdHJ1ZSwgZmFsc2VdLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RhdGljXCIsXG4gICAgICAgICAgICAgICAgZGF0YTogcmFuZ2VbMF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCByaWdodCBpZiBuZWVkZWRcbiAgICAgICAgaWYgKGhpZ2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHJhbmRvbV9zdHJpbmcoMTApLFxuICAgICAgICAgICAgICAgIGl0djogW2hpZ2gsIG51bGwsIGZhbHNlLCB0cnVlXSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJhbmdlWzFdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIFxuICAgICAgICAgICAgbm8gdGltZV9yYW5nZSBmb3VuZFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwMSBpcyBvdXRzaWRlIHRoZSBwb3NfcmFuZ2VcbiAgICAgICAgICAgIGlmIHAxIGlzIGxlc3MgdGhhbiBsb3csIHRoZW4gdXNlIGxvd1xuICAgICAgICAgICAgaWYgcDEgaXMgZ3JlYXRlciB0aGFuIGhpZ2gsIHRoZW4gdXNlIGhpZ2hcbiAgICAgICAgKi9cbiAgICAgICAgY29uc3QgdmFsID0gKHAxIDwgcmFuZ2VbMF0pID8gcmFuZ2VbMF0gOiByYW5nZVsxXTtcbiAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICBpZDogcmFuZG9tX3N0cmluZygxMCksXG4gICAgICAgICAgICBpdHY6IFtudWxsLCBudWxsLCB0cnVlLCB0cnVlXSxcbiAgICAgICAgICAgIHR5cGU6IFwic3RhdGljXCIsXG4gICAgICAgICAgICBkYXRhOiB2YWxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVtcztcbn1cblxuLyoqXG4gKiBjcmVhdGUgaXRlbXMgZm9yIHRyYW5zaXRpb24gb3BlcmF0aW9uXG4gKiAgXG4gKiB0cmFuc2l0aW9uIHRvIHRhcmdldCBwb3NpdGlvbiB1c2luZyBpbiA8ZHVyYXRpb24+IHNlY29uZHMuXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlX3RyYW5zaXRpb25faXRlbXMoY3Vyc29yLCB0YXJnZXQsIGR1cmF0aW9uLCBlYXNpbmcpIHtcblxuICAgIGNvbnN0IHt2YWx1ZTp2MCwgb2Zmc2V0OnQwfSA9IGN1cnNvci5xdWVyeSgpO1xuICAgIGNvbnN0IHYxID0gdGFyZ2V0O1xuICAgIGNvbnN0IHQxID0gdDAgKyBkdXJhdGlvbjtcbiAgICBpZiAodjEgPT0gdjApIHtcbiAgICAgICAgLy8gbm9vcFxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNoZWNrX251bWJlcihcInBvc2l0aW9uXCIsIHYwKTtcbiAgICBjaGVja19udW1iZXIoXCJwb3NpdGlvblwiLCB2MSk7XG4gICAgY2hlY2tfbnVtYmVyKFwicG9zaXRpb25cIiwgdDApO1xuICAgIGNoZWNrX251bWJlcihcInBvc2l0aW9uXCIsIHQxKTtcbiAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgICBpZDogcmFuZG9tX3N0cmluZygxMCksXG4gICAgICAgICAgICBpdHY6IFtudWxsLCB0MCwgdHJ1ZSwgZmFsc2VdLFxuICAgICAgICAgICAgdHlwZTogXCJzdGF0aWNcIixcbiAgICAgICAgICAgIGRhdGE6IHYwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiByYW5kb21fc3RyaW5nKDEwKSxcbiAgICAgICAgICAgIGl0djogW3QwLCB0MSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgICAgICB0eXBlOiBcInRyYW5zaXRpb25cIixcbiAgICAgICAgICAgIGRhdGE6IHt2MCwgdjEsIHQwLCB0MSwgZWFzaW5nfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpZDogcmFuZG9tX3N0cmluZygxMCksXG4gICAgICAgICAgICBpdHY6IFt0MSwgbnVsbCwgZmFsc2UsIHRydWVdLFxuICAgICAgICAgICAgdHlwZTogXCJzdGF0aWNcIixcbiAgICAgICAgICAgIGRhdGE6IHYxXG4gICAgICAgIH1cbiAgICBdO1xufVxuXG4vKipcbiAqIGNyZWF0ZSBpdGVtcyBmb3IgaW50ZXJwb2xhdGlvbiBvcGVyYXRpb25cbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVfaW50ZXJwb2xhdGlvbl9pdGVtcyhjdXJzb3IsIHR1cGxlcywgZHVyYXRpb24pIHtcblxuICAgIGNvbnN0IG5vdyA9IGN1cnNvci5jdHJsLnZhbHVlO1xuICAgIHR1cGxlcyA9IHR1cGxlcy5tYXAoKFt2LHRdKSA9PiB7XG4gICAgICAgIGNoZWNrX251bWJlcihcInRzXCIsIHQpO1xuICAgICAgICBjaGVja19udW1iZXIoXCJ2YWxcIiwgdik7XG4gICAgICAgIHJldHVybiBbdiwgbm93ICsgdF07XG4gICAgfSlcblxuICAgIC8vIGluZmxhdGUgc2VnbWVudCB0byBjYWxjdWxhdGUgYm91bmRhcnkgY29uZGl0aW9uc1xuICAgIGNvbnN0IHNlZyA9IGxvYWRfc2VnbWVudChbbnVsbCwgbnVsbCwgdHJ1ZSwgdHJ1ZV0sIHtcbiAgICAgICAgdHlwZTogXCJpbnRlcnBvbGF0aW9uXCIsXG4gICAgICAgIGRhdGE6IHR1cGxlc1xuICAgIH0pO1xuXG4gICAgY29uc3QgdDAgPSBub3c7XG4gICAgY29uc3QgdDEgPSB0MCArIGR1cmF0aW9uO1xuICAgIGNvbnN0IHYwID0gc2VnLnN0YXRlKHQwKS52YWx1ZTtcbiAgICBjb25zdCB2MSA9IHNlZy5zdGF0ZSh0MSkudmFsdWU7XG4gICAgcmV0dXJuIFtcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6IHJhbmRvbV9zdHJpbmcoMTApLFxuICAgICAgICAgICAgaXR2OiBbLUluZmluaXR5LCB0MCwgdHJ1ZSwgZmFsc2VdLFxuICAgICAgICAgICAgdHlwZTogXCJzdGF0aWNcIixcbiAgICAgICAgICAgIGRhdGE6IHYwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiByYW5kb21fc3RyaW5nKDEwKSxcbiAgICAgICAgICAgIGl0djogW3QwLCB0MSwgdHJ1ZSwgZmFsc2VdLFxuICAgICAgICAgICAgdHlwZTogXCJpbnRlcnBvbGF0aW9uXCIsXG4gICAgICAgICAgICBkYXRhOiB0dXBsZXNcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6IHJhbmRvbV9zdHJpbmcoMTApLFxuICAgICAgICAgICAgaXR2OiBbdDEsIEluZmluaXR5LCB0cnVlLCB0cnVlXSxcbiAgICAgICAgICAgIHR5cGU6IFwic3RhdGljXCIsXG4gICAgICAgICAgICBkYXRhOiB2MVxuICAgICAgICB9XG4gICAgXTtcbn1cbiIsImltcG9ydCB7IGVuZHBvaW50fSBmcm9tIFwiLi4vdXRpbC9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4QmFzZSB9IGZyb20gXCIuLi9uZWFyYnlfYmFzZS5qc1wiO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tIFwiLi4vbGF5ZXJfYmFzZS5qc1wiXG5pbXBvcnQgeyBDdXJzb3IgfSBmcm9tIFwiLi4vY3Vyc29yX2Jhc2UuanNcIjtcblxuLyoqXG4gKiBUaGlzIHdyYXBzIGEgY3Vyc29yIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgYXMgYSBsYXllci5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGF5ZXJfZnJvbV9jdXJzb3Ioc3JjKSB7XG5cbiAgICBpZiAoIShzcmMgaW5zdGFuY2VvZiBDdXJzb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc3JjIG11c3QgYmUgYSBDdXJzb3IgJHtzcmN9YCk7XG4gICAgfVxuIFxuICAgIGNvbnN0IGxheWVyID0gbmV3IExheWVyKCk7XG4gICAgbGF5ZXIuaW5kZXggPSBuZXcgQ3Vyc29ySW5kZXgoc3JjKTtcblxuICAgIC8vIHJlc3RyaWN0aW9uc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXllciwgXCJudW1lcmljXCIsIHtnZXQ6ICgpID0+IHNyYy5udW1lcmljfSk7XG5cbiAgICAvLyBzdWJzY3JpYmVcbiAgICBzcmMuYWRkX2NhbGxiYWNrKChlQXJnKSA9PiB7XG4gICAgICAgIGxheWVyLm9uY2hhbmdlKGVBcmcpO1xuICAgIH0pO1xuXG4gICAgLy8gaW5pdGlhbGlzZVxuICAgIGxheWVyLnNyYyA9IHNyYztcbiAgICByZXR1cm4gbGF5ZXI7XG59IFxuXG5cbi8qKlxuICogQ3JlYXRlIGEgTmVhcmJ5SW5kZXggZm9yIHRoZSBDdXJzb3IuXG4gKiBcbiAqIFRoZSBjdXJzb3IgdmFsdWUgaXMgaW5kZXBlbmRlbnQgb2YgdGltZWxpbmUgb2Zmc2V0LCBcbiAqIHdoaWNoIGlzIHRvIHNheSB0aGF0IGl0IGhhcyB0aGUgc2FtZSB2YWx1ZSBmb3IgYWxsIFxuICogdGltZWxpbmUgb2Zmc2V0cy5cbiAqIFxuICogSW4gb3JkZXIgZm9yIHRoZSBkZWZhdWx0IExheWVyQ2FjaGUgdG8gd29yaywgYW5cbiAqIG9iamVjdCB3aXRoIGEgLnF1ZXJ5KG9mZnNldCkgbWV0aG9kIGlzIG5lZWRlZCBpbiBcbiAqIG5lYXJieS5jZW50ZXIuIFNpbmNlIGN1cnNvcnMgc3VwcG9ydCB0aGlzIG1ldGhvZFxuICogKGlnbm9yaW5nIHRoZSBvZmZzZXQpLCB3ZSBjYW4gdXNlIHRoZSBjdXJzb3IgZGlyZWN0bHkuXG4gKi9cblxuY2xhc3MgQ3Vyc29ySW5kZXggZXh0ZW5kcyBOZWFyYnlJbmRleEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoY3Vyc29yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2N1cnNvciA9IGN1cnNvcjtcbiAgICB9XG5cbiAgICBuZWFyYnkob2Zmc2V0KSB7XG4gICAgICAgIC8vIGN1cnNvciBpbmRleCBpcyBkZWZpbmVkIGZvciBlbnRpcmUgdGltZWxpbmVcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGl0djogW251bGwsIG51bGwsIHRydWUsIHRydWVdLFxuICAgICAgICAgICAgY2VudGVyOiBbdGhpcy5fY3Vyc29yXSxcbiAgICAgICAgICAgIGxlZnQ6IGVuZHBvaW50Lk5FR19JTkYsXG4gICAgICAgICAgICBwcmV2OiBlbmRwb2ludC5ORUdfSU5GLFxuICAgICAgICAgICAgcmlnaHQ6IGVuZHBvaW50LlBPU19JTkYsXG4gICAgICAgICAgICBuZXh0OiBlbmRwb2ludC5QT1NfSU5GLFxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJpbXBvcnQgKiBhcyBzcmNwcm9wIGZyb20gXCIuLi91dGlsL2FwaV9zcmNwcm9wLmpzXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuLi9sYXllcl9iYXNlLmpzXCJcbmltcG9ydCB7IGVuZHBvaW50IH0gZnJvbSBcIi4uL3V0aWwvaW50ZXJ2YWxzLmpzXCI7XG5pbXBvcnQgeyBOZWFyYnlJbmRleEJhc2UsIG5lYXJieV9mcm9tIH0gZnJvbSBcIi4uL25lYXJieV9iYXNlLmpzXCI7XG5cblxuLyoqXG4gKiBDb252ZW5pZW5jZSBtZXJnZSBvcHRpb25zXG4gKi9cbmNvbnN0IE1FUkdFX09QVElPTlMgPSB7XG4gICAgc3VtOiB7XG4gICAgICAgIHZhbHVlRnVuYzogZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgICAgIC8vIHJldHVybnMgdGhlIHN1bSBvZiB2YWx1ZXMgb2YgYWN0aXZlIGxheWVyc1xuICAgICAgICAgICAgcmV0dXJuIGluZm8uc3RhdGVzXG4gICAgICAgICAgICAgICAgLm1hcChzdGF0ZSA9PiBzdGF0ZS52YWx1ZSkgXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB2YWx1ZSkgPT4gYWNjICsgdmFsdWUsIDApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzdGFjazoge1xuICAgICAgICBzdGF0ZUZ1bmM6IGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgICAgICAvLyByZXR1cm5zIHZhbHVlcyBmcm9tIGZpcnN0IGFjdGl2ZSBsYXllclxuICAgICAgICAgICAgcmV0dXJuIHsuLi5pbmZvLnN0YXRlc1swXX1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXJyYXk6IHtcbiAgICAgICAgdmFsdWVGdW5jOiBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgLy8gcmV0dXJucyBhbiBhcnJheSB3aXRoIHZhbHVlcyBmcm9tIGFjdGl2ZSBsYXllcnNcbiAgICAgICAgICAgIHJldHVybiBpbmZvLnN0YXRlcy5tYXAoc3RhdGUgPT4gc3RhdGUudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFxuICogVGhpcyBpbXBsZW1lbnRzIGEgbWVyZ2Ugb3BlcmF0aW9uIGZvciBsYXllcnMuXG4gKiBMaXN0IG9mIHNvdXJjZXMgaXMgaW1tdXRhYmxlLlxuICogXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlX2xheWVyIChzb3VyY2VzLCBvcHRpb25zPXt9KSB7XG4gICAgbGV0IHt0eXBlPVwiXCIsIC4uLm9wdHN9ID0gb3B0aW9ucztcblxuICAgIC8vIHR5cGUgc3BlY2lmaWVzIHByZWRlZmluZWQgb3B0aW9ucyBmb3IgTGF5ZXJcbiAgICBpZiAodHlwZSBpbiBNRVJHRV9PUFRJT05TKSB7XG4gICAgICAgIG9wdHMgPSBNRVJHRV9PUFRJT05TW3R5cGVdO1xuICAgIH1cbiAgICBjb25zdCBsYXllciA9IG5ldyBMYXllcihvcHRzKTsgICAgXG5cbiAgICAvLyBzZXR1cCBzb3VyY2VzIHByb3BlcnR5XG4gICAgc3JjcHJvcC5hZGRTdGF0ZShsYXllcik7XG4gICAgc3JjcHJvcC5hZGRNZXRob2RzKGxheWVyKTtcbiAgICBsYXllci5zcmNwcm9wX3JlZ2lzdGVyKFwic291cmNlc1wiKTtcblxuICAgIGxheWVyLnNyY3Byb3BfY2hlY2sgPSBmdW5jdGlvbihwcm9wTmFtZSwgc291cmNlcykge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzb3VyY2VzXCIpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIHRoYXQgc291cmNlcyBpcyBhcnJheSBvZiBsYXllcnNcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzb3VyY2VzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc291cmNlcyBtdXN0IGJlIGFycmF5ICR7c291cmNlc31gKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWxsX2xheWVycyA9IHNvdXJjZXMubWFwKChlKSA9PiBlIGluc3RhbmNlb2YgTGF5ZXIpLmV2ZXJ5KGUgPT4gZSk7XG4gICAgICAgICAgICBpZiAoIWFsbF9sYXllcnMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHNvdXJjZXMgbXVzdCBhbGwgYmUgbGF5ZXJzICR7c291cmNlc31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlcztcbiAgICB9XG5cbiAgICBsYXllci5zcmNwcm9wX29uY2hhbmdlID0gZnVuY3Rpb24ocHJvcE5hbWUsIGVBcmcpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic291cmNlc1wiKSB7XG4gICAgICAgICAgICBpZiAoZUFyZyA9PSBcInJlc2V0XCIpIHtcbiAgICAgICAgICAgICAgICBsYXllci5pbmRleCA9IG5ldyBOZWFyYnlJbmRleE1lcmdlKGxheWVyLnNvdXJjZXMpXG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgbGF5ZXIub25jaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlc3RyaWN0aW9uc1xuICAgIGNvbnN0IG51bWVyaWMgPSBzb3VyY2VzLm1hcCgoc3JjKSA9PiBzcmMubnVtZXJpYykuZXZlcnkoZT0+ZSkgIFxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXllciwgXCJudW1lcmljXCIsIHtnZXQ6ICgpID0+IG51bWVyaWN9KTtcblxuICAgIC8vIGluaXRpYWxpc2VcbiAgICBsYXllci5zb3VyY2VzID0gc291cmNlcztcblxuICAgIHJldHVybiBsYXllclxufVxuXG5cblxuLyoqXG4gKiBDcmVhdGluZyBhIG1lcmdlZCBOZWFyYnlJbmRleCBmb3Igc2V0IG9mIExheWVycy5cbiAqICBcbiAqIEEgcmVnaW9uIHdpdGhpbiB0aGUgbWVyZ2VkIGluZGV4IHdpbGwgY29udGFpblxuICogYSBsaXN0IG9mIHJlZmVyZW5jZXMgdG8gKGNhY2hlIG9iamVjdHMpIGZvciBcbiAqIHRoZSBMYXllcnMgd2hpY2ggYXJlIGRlZmluZWQgaW4gdGhpcyByZWdpb24uXG4gKiBcbiAqIEltcGxlbWVudGF0aW9uIGlzIHN0YXRlbGVzcy5cbiAqIFNldCBvZiBsYXllcnMgaXMgYXNzdW1lZCB0byBiZSBzdGF0aWMuXG4gKi9cblxuZnVuY3Rpb24gY21wX2FzY2VuZGluZyhwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuY21wKHAxLCBwMilcbn1cblxuZnVuY3Rpb24gY21wX2Rlc2NlbmRpbmcocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmNtcChwMiwgcDEpXG59XG5cbmV4cG9ydCBjbGFzcyBOZWFyYnlJbmRleE1lcmdlIGV4dGVuZHMgTmVhcmJ5SW5kZXhCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fc291cmNlcyA9IHNvdXJjZXM7XG4gICAgICAgIHRoaXMuX2NhY2hlcyA9IG5ldyBNYXAoc291cmNlcy5tYXAoKHNyYykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFtzcmMsIHNyYy5jcmVhdGVDYWNoZSgpXTtcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIG5lYXJieShvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gZW5kcG9pbnQuZnJvbV9pbnB1dChvZmZzZXQpO1xuICAgICAgICAvLyBhY2N1bXVsYXRlIG5lYXJieSBmcm9tIGFsbCBzb3VyY2VzXG4gICAgICAgIGNvbnN0IHByZXZfbGlzdCA9IFtdLCBuZXh0X2xpc3QgPSBbXTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gW107XG4gICAgICAgIGNvbnN0IGNlbnRlcl9oaWdoX2xpc3QgPSBbXTtcbiAgICAgICAgY29uc3QgY2VudGVyX2xvd19saXN0ID0gW11cbiAgICAgICAgZm9yIChsZXQgc3JjIG9mIHRoaXMuX3NvdXJjZXMpIHtcbiAgICAgICAgICAgIGxldCBuZWFyYnkgPSBzcmMuaW5kZXgubmVhcmJ5KG9mZnNldCk7XG4gICAgICAgICAgICBsZXQgcHJldl9yZWdpb24gPSBzcmMuaW5kZXguZmluZF9yZWdpb24obmVhcmJ5LCB7ZGlyZWN0aW9uOi0xfSk7XG4gICAgICAgICAgICBsZXQgbmV4dF9yZWdpb24gPSBzcmMuaW5kZXguZmluZF9yZWdpb24obmVhcmJ5LCB7ZGlyZWN0aW9uOjF9KTtcbiAgICAgICAgICAgIGlmIChwcmV2X3JlZ2lvbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwcmV2X2xpc3QucHVzaChlbmRwb2ludC5mcm9tX2ludGVydmFsKHByZXZfcmVnaW9uLml0dilbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHRfcmVnaW9uICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG5leHRfbGlzdC5wdXNoKGVuZHBvaW50LmZyb21faW50ZXJ2YWwobmV4dF9yZWdpb24uaXR2KVswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmVhcmJ5LmNlbnRlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY2VudGVyLnB1c2godGhpcy5fY2FjaGVzLmdldChzcmMpKTtcbiAgICAgICAgICAgICAgICBsZXQgW2xvdywgaGlnaF0gPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKG5lYXJieS5pdHYpO1xuICAgICAgICAgICAgICAgIGNlbnRlcl9oaWdoX2xpc3QucHVzaChoaWdoKTtcbiAgICAgICAgICAgICAgICBjZW50ZXJfbG93X2xpc3QucHVzaChsb3cpOyAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gZmluZCBjbG9zZXN0IGVuZHBvaW50IHRvIHRoZSByaWdodCAobm90IGluIGNlbnRlcilcbiAgICAgICAgbmV4dF9saXN0LnNvcnQoY21wX2FzY2VuZGluZyk7XG4gICAgICAgIGNvbnN0IG5leHRfbG93ID0gbmV4dF9saXN0WzBdIHx8IGVuZHBvaW50LlBPU19JTkY7XG5cbiAgICAgICAgLy8gZmluZCBjbG9zZXN0IGVuZHBvaW50IHRvIHRoZSBsZWZ0IChub3QgaW4gY2VudGVyKVxuICAgICAgICBwcmV2X2xpc3Quc29ydChjbXBfZGVzY2VuZGluZyk7XG4gICAgICAgIGNvbnN0IHByZXZfaGlnaCA9IHByZXZfbGlzdFswXSB8fCBlbmRwb2ludC5ORUdfSU5GO1xuXG4gICAgICAgIHJldHVybiBuZWFyYnlfZnJvbShcbiAgICAgICAgICAgICAgICBwcmV2X2hpZ2gsIFxuICAgICAgICAgICAgICAgIGNlbnRlcl9sb3dfbGlzdCwgXG4gICAgICAgICAgICAgICAgY2VudGVyLFxuICAgICAgICAgICAgICAgIGNlbnRlcl9oaWdoX2xpc3QsXG4gICAgICAgICAgICAgICAgbmV4dF9sb3dcbiAgICAgICAgICAgICk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGludGVydmFsLCBlbmRwb2ludH0gZnJvbSBcIi4uL3V0aWwvaW50ZXJ2YWxzLmpzXCI7XG5pbXBvcnQgeyBOZWFyYnlJbmRleEJhc2UgfSBmcm9tIFwiLi4vbmVhcmJ5X2Jhc2UuanNcIjtcbmltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4uL2xheWVyX2Jhc2UuanNcIlxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQk9PTEVBTiBMQVlFUlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKiBcbiAgICBCb29sZWFuIExheWVyIGlzIHJldHVybnMgdmFsdWVzIDAvMSAtIG1ha2luZyBpdCBhIG51bWVyaWMgbGF5ZXJcbiovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGJvb2xlYW5fbGF5ZXIoc3JjKSB7XG5cbiAgICBjb25zdCBsYXllciA9IG5ldyBMYXllcigpO1xuICAgIGxheWVyLmluZGV4ID0gbmV3IE5lYXJieUluZGV4Qm9vbGVhbihzcmMuaW5kZXgpO1xuICAgIFxuICAgIC8vIHN1YnNjcmliZVxuICAgIHNyYy5hZGRfY2FsbGJhY2soKGVBcmcpID0+IHtcbiAgICAgICAgbGF5ZXIub25jaGFuZ2UoZUFyZyk7XG4gICAgfSk7XG5cblxuICAgIC8vIHJlc3RyaWN0aW9uc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXllciwgXCJudW1lcmljXCIsIHtnZXQ6ICgpID0+IHRydWV9KTtcblxuICAgIC8vIGluaXRpYWxpc2VcbiAgICBsYXllci5zcmMgPSBzcmM7XG4gICAgcmV0dXJuIGxheWVyO1xufSBcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQk9PTEVBTiBORUFSQlkgSU5ERVhcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBXcmFwcGVyIEluZGV4IHdoZXJlIHJlZ2lvbnMgYXJlIHRydWUvZmFsc2UsIGJhc2VkIG9uIFxuICogY29uZGl0aW9uIG9uIG5lYXJieS5jZW50ZXIuXG4gKiBCYWNrLXRvLWJhY2sgcmVnaW9ucyB3aGljaCBhcmUgdHJ1ZSBhcmUgY29sbGFwc2VkIFxuICogaW50byBvbmUgcmVnaW9uXG4gKiBcbiAqL1xuXG5mdW5jdGlvbiBxdWVyeU9iamVjdCAodmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeTogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZSwgZHluYW1pYzpmYWxzZSwgb2Zmc2V0fTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lYXJieUluZGV4Qm9vbGVhbiBleHRlbmRzIE5lYXJieUluZGV4QmFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihpbmRleCwgb3B0aW9ucz17fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xuICAgICAgICBsZXQge2NvbmRpdGlvbiA9IChjZW50ZXIpID0+IGNlbnRlci5sZW5ndGggPiAwfSA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2NvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICB9XG5cbiAgICBuZWFyYnkob2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcbiAgICAgICAgY29uc3QgbmVhcmJ5ID0gdGhpcy5faW5kZXgubmVhcmJ5KG9mZnNldCk7XG4gICAgICAgIFxuICAgICAgICBsZXQgZXZhbHVhdGlvbiA9IHRoaXMuX2NvbmRpdGlvbihuZWFyYnkuY2VudGVyKTsgXG4gICAgICAgIC8qIFxuICAgICAgICAgICAgc2VlayBsZWZ0IGFuZCByaWdodCBmb3IgZmlyc3QgcmVnaW9uXG4gICAgICAgICAgICB3aGljaCBkb2VzIG5vdCBoYXZlIHRoZSBzYW1lIGV2YWx1YXRpb24gXG4gICAgICAgICovXG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IChjZW50ZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25kaXRpb24oY2VudGVyKSAhPSBldmFsdWF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXhwYW5kIHJpZ2h0XG4gICAgICAgIGxldCByaWdodDtcbiAgICAgICAgbGV0IHJpZ2h0X25lYXJieSA9IHRoaXMuX2luZGV4LmZpbmRfcmVnaW9uKG5lYXJieSwge1xuICAgICAgICAgICAgZGlyZWN0aW9uOjEsIGNvbmRpdGlvblxuICAgICAgICB9KTsgICAgICAgIFxuICAgICAgICBpZiAocmlnaHRfbmVhcmJ5ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmlnaHQgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKHJpZ2h0X25lYXJieS5pdHYpWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXhwYW5kIGxlZnRcbiAgICAgICAgbGV0IGxlZnQ7XG4gICAgICAgIGxldCBsZWZ0X25lYXJieSA9IHRoaXMuX2luZGV4LmZpbmRfcmVnaW9uKG5lYXJieSwge1xuICAgICAgICAgICAgZGlyZWN0aW9uOi0xLCBjb25kaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChsZWZ0X25lYXJieSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxlZnQgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGxlZnRfbmVhcmJ5Lml0dilbMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBleHBhbmQgdG8gaW5maW5pdHlcbiAgICAgICAgbGVmdCA9IGxlZnQgfHwgZW5kcG9pbnQuTkVHX0lORjtcbiAgICAgICAgcmlnaHQgPSByaWdodCB8fCBlbmRwb2ludC5QT1NfSU5GO1xuICAgICAgICBjb25zdCBsb3cgPSBlbmRwb2ludC5mbGlwKGxlZnQpO1xuICAgICAgICBjb25zdCBoaWdoID0gZW5kcG9pbnQuZmxpcChyaWdodClcbiAgICAgICAgY29uc3QgdmFsdWUgPSBldmFsdWF0aW9uID8gMSA6IDA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpdHY6IGludGVydmFsLmZyb21fZW5kcG9pbnRzKGxvdywgaGlnaCksXG4gICAgICAgICAgICBjZW50ZXIgOiBbcXVlcnlPYmplY3QodmFsdWUpXSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4uL2xheWVyX2Jhc2UuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4Qm9vbGVhbiB9IGZyb20gXCIuL2Jvb2xlYW4uanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4TWVyZ2UgfSBmcm9tIFwiLi9tZXJnZS5qc1wiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dpY2FsX21lcmdlX2xheWVyKHNvdXJjZXMsIG9wdGlvbnM9e30pIHtcblxuICAgIGNvbnN0IHtleHByfSA9IG9wdGlvbnM7XG4gICAgbGV0IGNvbmRpdGlvbjtcbiAgICBpZiAoZXhwcikge1xuICAgICAgICBjb25kaXRpb24gPSAoY2VudGVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZXhwci5ldmFsKGNlbnRlcik7XG4gICAgICAgIH0gICAgXG4gICAgfVxuXG4gICAgY29uc3QgbGF5ZXIgPSBuZXcgTGF5ZXIoKTtcbiAgICBjb25zdCBpbmRleCA9IG5ldyBOZWFyYnlJbmRleE1lcmdlKHNvdXJjZXMpO1xuICAgIGxheWVyLmluZGV4ID0gbmV3IE5lYXJieUluZGV4Qm9vbGVhbihpbmRleCwge2NvbmRpdGlvbn0pO1xuXG4gICAgLy8gc3Vic2NyaWJlIHRvIGNhbGxiYWNrcyBmcm9tIHNvdXJjZXNcbiAgICBzb3VyY2VzLm1hcCgoc3JjKSA9PiB7XG4gICAgICAgIHJldHVybiBzcmMuYWRkX2NhbGxiYWNrKGxheWVyLm9uY2hhbmdlKTtcbiAgICB9KTtcbiAgICBcbiAgICBsYXllci5zb3VyY2VzID0gc291cmNlcztcblxuICAgIC8vIHJlc3RyaWN0aW9uc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXllciwgXCJudW1lcmljXCIsIHtnZXQ6ICgpID0+IHRydWV9KTtcblxuICAgIHJldHVybiBsYXllcjtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gbG9naWNhbF9leHByIChzcmMpIHtcbiAgICBpZiAoIShzcmMgaW5zdGFuY2VvZiBMYXllcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtdXN0IGJlIGxheWVyICR7c3JjfWApXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGV2YWw6IGZ1bmN0aW9uIChjZW50ZXIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNhY2hlIG9mIGNlbnRlcikge1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZS5zcmMgPT0gc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubG9naWNhbF9leHByLmFuZCA9IGZ1bmN0aW9uIGFuZCguLi5leHBycykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGV2YWw6IGZ1bmN0aW9uIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBleHBycy5ldmVyeSgoZXhwcikgPT4gZXhwci5ldmFsKGNlbnRlcikpO1xuICAgICAgICB9ICAgIFxuICAgIH1cbn1cblxubG9naWNhbF9leHByLm9yID0gZnVuY3Rpb24gb3IoLi4uZXhwcnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBldmFsOiBmdW5jdGlvbiAoY2VudGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwcnMuc29tZSgoZXhwcikgPT4gZXhwci5ldmFsKGNlbnRlcikpO1xuICAgICAgICB9ICAgIFxuICAgIH1cbn1cblxubG9naWNhbF9leHByLnhvciA9IGZ1bmN0aW9uIHhvcihleHByMSwgZXhwcjIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBldmFsOiBmdW5jdGlvbiAoY2VudGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwcjEuZXZhbChjZW50ZXIpICE9IGV4cHIyLmV2YWwoY2VudGVyKTtcbiAgICAgICAgfSAgICBcbiAgICB9XG59XG5cbmxvZ2ljYWxfZXhwci5ub3QgPSBmdW5jdGlvbiBub3QoZXhwcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGV2YWw6IGZ1bmN0aW9uIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAhZXhwci5ldmFsKGNlbnRlcik7XG4gICAgICAgIH0gICAgXG4gICAgfVxufVxuXG5cblxuXG4iLCJpbXBvcnQgeyBlbmRwb2ludCB9IGZyb20gXCIuLi91dGlsL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgTmVhcmJ5SW5kZXhCYXNlIH0gZnJvbSBcIi4uL25lYXJieV9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuLi9sYXllcl9iYXNlLmpzXCJcbmltcG9ydCAqIGFzIHNyY3Byb3AgZnJvbSBcIi4uL3V0aWwvYXBpX3NyY3Byb3AuanNcIjtcblxuXG4vKipcbiAqIGFmZmluZSB0cmFuc2Zvcm0gMUQgYnkgc2hpZnQgYW5kIHNjYWxlIGZhY3RvclxuICovXG5cbmZ1bmN0aW9uIHRyYW5zZm9ybShwLCB7c2hpZnQ9MCwgc2NhbGU9MX0pIHtcbiAgICBpZiAocCA9PSB1bmRlZmluZWQgfHwgIWlzRmluaXRlKHApKSB7XG4gICAgICAgIC8vIHAgLSBub29wXG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIC8vIHAgaXMgbnVtYmVyIC0gdHJhbnNmb3JtXG4gICAgICAgIHJldHVybiAocCpzY2FsZSkgKyBzaGlmdDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocCkgJiYgcC5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIHAgaXMgZW5kcG9pbnQgLSB0cmFuc2Zvcm0gdmFsdWVcbiAgICAgICAgbGV0IFt2YWwsIGJyYWNrZXRdID0gcDtcbiAgICAgICAgcmV0dXJuIGVuZHBvaW50LmZyb21faW5wdXQoWyh2YWwqc2NhbGUpK3NoaWZ0LCBicmFja2V0XSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZXZlcnNlKHAsIHtzaGlmdD0wLCBzY2FsZT0xfSkge1xuICAgIGlmIChwID09IHVuZGVmaW5lZCB8fCAhaXNGaW5pdGUocCkpIHtcbiAgICAgICAgLy8gcCAtIG5vb3BcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBwID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgLy8gcCBpcyBudW1iZXIgLSB0cmFuc2Zvcm1cbiAgICAgICAgcmV0dXJuIChwLXNoaWZ0KS9zY2FsZTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocCkgJiYgcC5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIHAgaXMgZW5kcG9pbnQgLSB0cmFuc2Zvcm0gdmFsdWVcbiAgICAgICAgbGV0IFt2YWwsIGJyYWNrZXRdID0gcDtcbiAgICAgICAgcmV0dXJuIGVuZHBvaW50LmZyb21faW5wdXQoWygodmFsLXNoaWZ0KS9zY2FsZSksIGJyYWNrZXRdKTtcbiAgICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIE5FQVJCWSBJTkRFWCAtIEFGRklORSBUSU1FTElORSBUUkFOU0ZPUk1cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuY2xhc3MgTmVhcmJ5SW5kZXhBVFQgZXh0ZW5kcyBOZWFyYnlJbmRleEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IgKGxheWVyLCBvcHRpb25zPXt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMuX2NhY2hlID0gbGF5ZXIuY3JlYXRlQ2FjaGUoKTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIFxuICAgICAgICAvLyB0cmFuc2Zvcm0gY2FjaGVcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtX2NhY2hlID0ge1xuICAgICAgICAgICAgcXVlcnk6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAvLyByZXZlcnNlIHRyYW5zZm9ybSBxdWVyeVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fY2FjaGUucXVlcnkocmV2ZXJzZShvZmZzZXQsIHRoaXMuX29wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICAvLyBrZWVwIG9yaWdpbmFsIG9mZnNldCAoaW5zdGVhZCBvZiByZXZlcnNpbmcgcmVzdWx0KVxuICAgICAgICAgICAgICAgIHJldHVybiB7Li4uc3RhdGUsIG9mZnNldH07XG4gICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBuZWFyYnkob2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcbiAgICAgICAgLy8gcmV2ZXJzZSB0cmFuc2Zvcm0gcXVlcnkgb2Zmc2V0XG4gICAgICAgIGNvbnN0IG5lYXJieSA9IHRoaXMuX2xheWVyLmluZGV4Lm5lYXJieShyZXZlcnNlKG9mZnNldCwgdGhpcy5fb3B0aW9ucykpO1xuICAgICAgICAvLyB0cmFuc2Zvcm0gcXVlcnkgcmVzdWx0IFxuICAgICAgICBjb25zdCBpdHYgPSBuZWFyYnkuaXR2LnNsaWNlKCk7XG4gICAgICAgIGl0dlswXSA9IHRyYW5zZm9ybShuZWFyYnkuaXR2WzBdLCB0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgaXR2WzFdID0gdHJhbnNmb3JtKG5lYXJieS5pdHZbMV0sIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXR2LFxuICAgICAgICAgICAgbGVmdDogdHJhbnNmb3JtKG5lYXJieS5sZWZ0LCB0aGlzLl9vcHRpb25zKSxcbiAgICAgICAgICAgIHJpZ2h0OiB0cmFuc2Zvcm0obmVhcmJ5LnJpZ2h0LCB0aGlzLl9vcHRpb25zKSxcbiAgICAgICAgICAgIGNlbnRlcjogbmVhcmJ5LmNlbnRlci5tYXAoKCkgPT4gdGhpcy5fdHJhbnNmb3JtX2NhY2hlKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBUSU1FTElORSBUUkFOU0ZPUk0gTEFZRVJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBTaGlmdGluZyBhbmQgc2NhbGluZyB0aGUgdGltZWxpbmUgb2YgYSBsYXllclxuICogXG4gKiBvcHRpb25zOlxuICogLSBzaGlmdDogYSB2YWx1ZSBvZiAyIGVmZmVjdGl2ZWx5IG1lYW5zIHRoYXQgbGF5ZXIgY29udGVudHMgXG4gKiAgIGFyZSBzaGlmdGVkIHRvIHRoZSByaWdodCBvbiB0aGUgdGltZWxpbmUsIGJ5IDIgdW5pdHNcbiAqIC0gc2NhbGU6IGEgdmFsdWUgb2YgMiBtZWFucyB0aGF0IHRoZSBsYXllciBpcyBzdHJldGNoZWRcbiAqICAgYnkgYSBmYWN0b3Igb2YgMlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lbGluZV90cmFuc2Zvcm0gKHNyYywgb3B0aW9ucz17fSkge1xuXG4gICAgY29uc3QgbGF5ZXIgPSBuZXcgTGF5ZXIoKTtcblxuICAgIC8vIHNldHVwIHNyYyBwcm9wZXJ0eVxuICAgIHNyY3Byb3AuYWRkU3RhdGUobGF5ZXIpO1xuICAgIHNyY3Byb3AuYWRkTWV0aG9kcyhsYXllcik7XG4gICAgbGF5ZXIuc3JjcHJvcF9yZWdpc3RlcihcInNyY1wiKTtcbiAgICAgICAgXG4gICAgbGF5ZXIuc3JjcHJvcF9jaGVjayA9IGZ1bmN0aW9uKHByb3BOYW1lLCBzcmMpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIGlmICghKHNyYyBpbnN0YW5jZW9mIExheWVyKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXCJzcmNcIiBtdXN0IGJlIExheWVyICR7c3JjfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNyYzsgICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsYXllci5zcmNwcm9wX29uY2hhbmdlID0gZnVuY3Rpb24ocHJvcE5hbWUsIGVBcmcpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIGlmIChlQXJnID09IFwicmVzZXRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBuZXcgTmVhcmJ5SW5kZXhBVFQodGhpcy5zcmMsIG9wdGlvbnMpXG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgbGF5ZXIub25jaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlc3RyaWN0aW9uc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXllciwgXCJudW1lcmljXCIsIHtnZXQ6ICgpID0+IHNyYy5udW1lcmljfSk7XG5cbiAgICAvLyBpbml0aWFsaXNlXG4gICAgbGF5ZXIuc3JjID0gc3JjO1xuXG5cblxuICAgIFxuICAgIHJldHVybiBsYXllcjtcbn1cblxuIiwiaW1wb3J0IHsgQ3Vyc29yIH0gZnJvbSBcIi4uL2N1cnNvcl9iYXNlLmpzXCI7XG5pbXBvcnQgeyBsb2NhbF9jbG9jayB9IGZyb20gXCIuLi91dGlsL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIHJlY29yZCBjdXJzb3IgaW50byBsYXllclxuICogXG4gKiAgIE1BSU4gSURFQVxuICogLSByZWNvcmQgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYSBjdXJzb3IgKHNyYykgaW50byBhIGxheWVyIChkc3QpXG4gKiBcbiAqIC0gcmVjb3JkaW5nIGlzIGVzc2VudGlhbGx5IGEgY29weSBvcGVyYXRpb24gZnJvbSB0aGVcbiAqICAgc3RhdGVQcm92aWRlciBvZiBhIGN1cnNvciAoc3JjKSB0byB0aGUgc3RhdGVQcm92aWRlciBvZiB0aGUgbGF5ZXIgKGRzdCkuXG4gKiAtIG1vcmUgZ2VuZXJhbGx5IGNvcHkgc3RhdGUgKGl0ZW1zKSBmcm9tIGN1cnNvciB0byBsYXllci4gXG4gKiAtIHJlY29yZGluZyB0aGVyZWZvciBvbmx5IGFwcGxpZXMgdG8gY3Vyc29ycyB0aGF0IHJ1biBkaXJlY3RseSBvbiBhIGxheWVyIHdpdGggaXRlbXNcbiAqIC0gbW9yZW92ZXIsIHRoZSB0YXJnZXQgbGF5ZXIgbXVzdCBoYXZlIGl0ZW1zICh0eXBpY2FsbHkgYSBsZWFmbGF5ZXIpXG4gKlxuICogXG4gKiAgIFRJTUVGUkFNRVMgXG4gKiAtIHRoZSByZWNvcmRpbmcgdG8gKGRzdCkgbGF5ZXIgaXMgZHJpdmVuIGJ5IGEgY2xvY2sgKGN0cmwpOiA8RFNUX0NMT0NLPlxuICogLSBkdXJpbmcgcmVjb3JkaW5nIC0gY3VycmVudCB2YWx1ZSBvZiB0aGUgc3JjIGN1cnNvciB3aWxsIGJlIGNvcGllZCwgYW5kXG4gKiAgIGNvbnZlcnRlZCBpbnRvIHRoZSB0aW1lbGluZSBvZiB0aGUgPERTVF9DTE9DSz5cbiAqIC0gcmVjb3JkaW5nIGlzIGFjdGl2ZSBvbmx5IHdoZW4gPERTVF9DTE9DSz4gaXMgcHJvZ3Jlc3Npbmcgd2l0aCByYXRlPT0xLjBcbiAqIC0gdGhpcyBvcGVucyBmb3IgTElWRSByZWNvcmRpbmcgKDxEU1RfQ0xPQ0s+IGlzIGZpeGVkUmF0ZSBjdXJzb3IpIG9yXG4gKiAgIGl0ZXJhdGl2ZSByZWNvcmRpbmcgdXNpbmcgYSAoTnVtYmVyaWNWYXJpYWJsZSksIGFsbG93aW5nIG11bHRpcGxlIHRha2VzLCBcbiAqIFxuICogXG4gKiAgIFJFQ09SRElOR1xuICogLSByZWNvcmRpbmcgaXMgZG9uZSBieSBhcHBlbmRpbmcgaXRlbXMgdG8gdGhlIGRzdCBsYXllciBcbiAqIC0gd2hlbiB0aGUgY3Vyc29yIHN0YXRlIGNoYW5nZXMgKGVudGlyZSBjdXJzb3Iuc3JjIGxheWVyIGlzIHJlc2V0KSBcbiAqIC0gdGhlIHBhcnQgd2hpY2ggZGVzY3JpYmVzIHRoZSBmdXR1cmUgd2lsbCBvdmVyd3JpdGUgdGhlIHJlbGV2YW50XG4gKiAtIHBhcnQgb2YgdGhlIHRoZSBsYXllciB0aW1lbGluZVxuICogLSB0aGUgZGVsaW5lYXRpb24gYmV0d2VlbiBwYXN0IGFuZCBmdXR1cmUgaXMgZGV0ZXJtaW5lZCBieSBcbiAqIC0gZnJlc2ggdGltZXN0YW1wIDxUUz4gZnJvbSA8RFNUX0NMT0NLPlxuICogLSBpZiBhbiBpdGVtIG92ZXJsYXBzIHdpdGggPFRTPiBpdCB3aWxsIGJlIHRydW5jYXRlcyBzbyB0aGF0IG9ubHkgdGhlIHBhcnRcbiAqIC0gdGhhdCBpcyBpbiB0aGUgZnV0dXJlIHdpbGwgYmUgcmVjb3JkZWQgKGNvcGllZCkgdG8gdGhlIGxheWVyLlxuICogLSBpbiBjYXNlIChjdHJsKSBpcyBhIG1lZGlhIGNvbnRyb2wgLSByZWNvcmRpbmcgY2FuIG9ubHkgaGFwcGVuXG4gKiAgIHdoZW4gdGhlIChjdHJsKSBpcyBtb3ZpbmcgZm9yd2FyZFxuICogXG4gKiAgIElOUFVUXG4gKiAtIChjdHJsKVxuICogICAgICAtIG51bWVyaWMgY3Vyc29yIChjdHJsLmZpeGVkUmF0ZSwgb3IgXG4gKiAgICAgIC0gbWVkaWEgY29udHJvbCAoY3RybC5jdHJsLmZpeGVkUmF0ZSAmJiBjdHJsLnNyYy5pdGVtc09ubHkpXG4gKiAtIChzcmMpIC0gY3Vyc29yIHdpdGggbGF5ZXIgd2l0aCBpdGVtcyAoc3JjLml0ZW1zT25seSkgXG4gKiAtIChkc3QpIC0gbGF5ZXIgb2YgaXRlbXMgKGRzdC5pdGVtc09ubHkgJiYgZHN0Lm11dGFibGUpXG4gKlxuICogICBOT1RFXG4gKiAtIGltcGxlbWVudGF0aW9uIGFzc3VtZXMgXG4gKiAgICAgIC0gKGRzdCkgbGF5ZXIgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSAoc3JjKSBsYXllclxuICogICAgICAtIChzcmMpIGN1cnNvciBjYW4gbm90IGJlIGNsb2NrIGN1cnNvciAobWFrZXMgbm8gc2Vuc2UgdG8gcmVjb3JkIGEgY2xvY2tcbiAqICAgXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gbGF5ZXJfcmVjb3JkZXIob3B0aW9ucz17fSkge1xuICAgIGNvbnN0IHtjdHJsLCBzcmMsIGRzdH0gPSBvcHRpb25zO1xuXG4gICAgLy8gY2hlY2sgLSBjdHJsXG4gICAgaWYgKCEoY3RybCBpbnN0YW5jZW9mIEN1cnNvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjdHJsIG11c3QgYmUgYSBjdXJzb3IgJHtjdHJsfWApO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAgICFjdHJsLmZpeGVkUmF0ZSAmJiAhY3RybC5jdHJsLmZpeGVkUmF0ZVxuICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGN0cmwgb3IgY3RybC5jdHJsIG11c3QgYmUgZml4ZWRSYXRlICR7Y3RybH1gKTtcbiAgICB9XG4gICAgaWYgKCFjdHJsLmZpeGVkUmF0ZSkge1xuICAgICAgICBpZiAoY3RybC5jdHJsLmZpeGVkUmF0ZSAmJiAhY3RybC5pdGVtc09ubHkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZ2l2ZW4gY3RybC5jdHJsLmZpeGVkUmF0ZSwgY3RybCBtdXN0IGJlIGl0ZW1zT25seSAke2N0cmx9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjaGVjayAtIHNyY1xuICAgIGlmICghKHNyYyBpbnN0YW5jZW9mIEN1cnNvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzcmMgbXVzdCBiZSBhIGN1cnNvciAke3NyY31gKTtcbiAgICB9XG4gICAgaWYgKChzcmMuZml4ZWRSYXRlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGN1cnNvciBzcmMgY2FuIG5vdCBiZSBmaXhlZFJhdGUgY3Vyc29yICR7c3JjfWApO1xuICAgIH1cbiAgICBpZiAoIXNyYy5pdGVtc09ubHkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjdXJzb3Igc3JjIG11c3QgYmUgaXRlbXNPbmx5ICR7c3JjfWApO1xuICAgIH1cbiAgICBpZiAoIXNyYy5tdXRhYmxlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY3Vyc29yIHNyYyBtdXN0IGJlIG11dGFibGUgJHtzcmN9YCk7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgLSBzdGF0ZVByb3ZpZGVyc1xuICAgIGNvbnN0IHNyY19zdGF0ZVByb3ZpZGVyID0gc3JjLnNyYy5wcm92aWRlcjtcbiAgICBjb25zdCBkc3Rfc3RhdGVQcm92aWRlciA9IGRzdC5wcm92aWRlcjtcbiAgICBpZiAoc3JjX3N0YXRlUHJvdmlkZXIgPT09IGRzdF9zdGF0ZVByb3ZpZGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc3JjIGFuZCBkc3QgY2FuIG5vdCBoYXZlIHRoZSBzYW1lIHN0YXRlUHJvdmlkZXJgKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIHR1cm4gdGhpcyBhcm91bmQ/XG4gICAgICogaGF2ZSBzdGFydCBhbmQgc3RvcCByZWNvcmRpbmdcbiAgICAgKiBtZXRob2RzIGRpcmVjdCB0aGUgY29udHJvbD9cbiAgICAgKiBcbiAgICAgKiByZWNvcmRpbmcgd2l0aCBsaXZlIGNsb2NrIHJlcXVpcmVzXG4gICAgICogc3RhcnQgYW5kIHN0b3AgbWV0aG9kc1xuICAgICAqIFxuICAgICAqIHdoYXQgYWJvdXQgYSBtZWRpYSBjbG9jayA/XG4gICAgICogc2hvdWxkIGJlIGEgbWVkaWEgY2xvY2sgdGhhdCBjYW4gb25seSBtb3ZlIGZvcndhcmRcbiAgICAgKiBpdCBhY3R1YWxseSBtYWtlcyBzZW5zZSB0byBiZSBpbiByZWNvcmQgbW9kZSBldmVuIGlmIG1lZGlhY2xvY2sgaXMgcGF1c2VkXG4gICAgICogYmVjYXVzZSByZWNvcmRpbmcgb25seSBoYXBwZW5zIG9uIHN0YXRlIGNoYW5nZVxuICAgICAqIHBhdXNlZCBtZWFucyB5b3Ugb3ZlcndyaXRlIG9uIHRoZSBzYW1lIHNwb3RcbiAgICAgKiBza2lwcGluZyBiYWNrIHdoaWxlIGluIHJlY29yZCBtb2RlIC0gc2hvdWxkIHRoYXQgdHJpZ2dlciB3cml0ZSBjdXJyZW50XG4gICAgICogc3RhdGUgbG9uZ2VyIGJhY2tcbiAgICAgKiBcbiAgICAgKiBza2lwcGluZyBhbHdheXMgZXhpdCByZWNvcmQgbW9kZVxuICAgICAqIHJlY29yZCBtb2RlIGFsd2F5cyBzdGFydHNcbiAgICAgKiBtZWRpYSBjb250cm9sIG1heSBiZSBjb250cm9sbGVkIGV4dGVybmFsbHlcbiAgICAgKiBcbiAgICAgKiBzcGxpdCBiZXR3ZWVuIGEgbGl2ZSBhbmQgYSBtZWRpYSBjbG9jayByZWNvcmRlcj9cbiAgICAgKiBcbiAgICAgKi9cblxuICAgIC8vIGludGVybmFsIHN0YXRlXG4gICAgbGV0IGlzX3JlY29yZGluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogc3RhdGUgY2hhbmdlIGluIHNyYyBzdGF0ZVByb3ZpZGVyXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBvbl9zcmNfY2hhbmdlICgpIHtcbiAgICAgICAgaWYgKCFpc19yZWNvcmRpbmcpIHJldHVybjtcbiAgICAgICAgcmVjb3JkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc3RhdGUgY2hhbmdlIGluIGN0cmxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbl9jdHJsX2NoYW5nZSAoKSB7XG4gICAgICAgIC8vIGZpZ3VyZSBvdXQgaWYgcmVjb3JkaW5nIHN0YXJ0cyBvciBzdG9wc1xuICAgICAgICBjb25zdCB3YXNfcmVjb3JkaW5nID0gaXNfcmVjb3JkaW5nO1xuICAgICAgICBpc19yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKGN0cmwuZml4ZWRSYXRlKSB7XG4gICAgICAgICAgICBpc19yZWNvcmRpbmcgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY3RybF90cyA9IGN0cmwuY3RybC52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gY3RybC5zcmMuaW5kZXgubmVhcmJ5KGN0cmxfdHMpLmNlbnRlcjtcbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT0gMSlcbiAgICAgICAgICAgICAgICBpZiAoaXRlbXNbMF0udHlwZSA9PSBcIm1vdGlvblwiICkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbcCx2LGEsdF0gPSBpdGVtc1swXS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBpZiAodiA+IDAgfHwgdiA9PSAwICYmIGEgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc19yZWNvcmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF3YXNfcmVjb3JkaW5nICYmIGlzX3JlY29yZGluZykge1xuICAgICAgICAgICAgc3RhcnRfcmVjb3JkaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAod2FzX3JlY29yZGluZyAmJiAhaXNfcmVjb3JkaW5nKSB7XG4gICAgICAgICAgICBzdG9wX3JlY29yZGluZygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVjb3JkXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhcnRfcmVjb3JkaW5nKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0IHJlY29yZGluZ1wiKVxuICAgICAgICByZWNvcmQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9wX3JlY29yZGluZygpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJzdG9wIHJlY29yZGluZ1wiKVxuICAgICAgICAvLyBjbG9zZSBsYXN0IGl0ZW1cbiAgICAgICAgY29uc3QgdHMgPSBsb2NhbF9jbG9jay5ub3coKTtcbiAgICAgICAgY29uc3QgZHN0X29mZnNldCA9IGN0cmwucXVlcnkodHMpLnZhbHVlO1xuICAgICAgICBjb25zdCBpdGVtcyA9IGRzdC5pbmRleC5uZWFyYnkoZHN0X29mZnNldCkuY2VudGVyO1xuICAgICAgICBjb25zdCBpbnNlcnQgPSBpdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld19pdGVtID0gey4uLml0ZW19O1xuICAgICAgICAgICAgbmV3X2l0ZW0uaXR2WzFdID0gZHN0X29mZnNldDtcbiAgICAgICAgICAgIG5ld19pdGVtLml0dlszXSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIG5ld19pdGVtO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRzdC51cGRhdGUoe2luc2VydCwgcmVzZXQ6ZmFsc2V9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlY29yZCgpIHtcbiAgICAgICAgY29uc3QgdHMgPSBsb2NhbF9jbG9jay5ub3coKTtcbiAgICAgICAgY29uc3Qgc3JjX29mZnNldCA9IHNyYy5xdWVyeSh0cykub2Zmc2V0O1xuICAgICAgICBjb25zdCBkc3Rfb2Zmc2V0ID0gY3RybC5xdWVyeSh0cykudmFsdWU7XG4gICAgICAgIC8vIGdldCBjdXJyZW50IHNyYyBpdGVtc1xuICAgICAgICAvLyBjcnVjaWFsIHRvIGNsb25lIHRoZSBpdGVtcyBiZWZvcmUgY2hhbmdpbmcgYW5kXG4gICAgICAgIC8vIHN0b3JpbmcgdGhlbSBpbiB0aGUgZHN0IGxheWVyXG4gICAgICAgIGxldCBzcmNfaXRlbXMgPSBzdHJ1Y3R1cmVkQ2xvbmUoc3JjX3N0YXRlUHJvdmlkZXIuZ2V0KCkpO1xuXG4gICAgICAgIC8vIHJlLWVuY29kZSBpdGVtcyBpbiBkc3QgdGltZWZyYW1lLCBpZiBuZWVkZWRcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZHN0X29mZnNldCAtIHNyY19vZmZzZXQ7XG4gICAgICAgIGlmIChvZmZzZXQgIT0gMCkge1xuICAgICAgICAgICAgY29uc3QgZHN0X2l0ZW1zID0gc3JjX2l0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aW1lc2hpZnRfaXRlbShpdGVtLCBvZmZzZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkc3QuYXBwZW5kKGRzdF9pdGVtcywgZHN0X29mZnNldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkc3QuYXBwZW5kKHNyY19pdGVtcywgc3JjX29mZnNldCk7XG4gICAgICAgIH0gICAgICAgIFxuICAgIH1cblxuICAgIC8vIHJlZ2lzdGVyIGNhbGxiYWNrc1xuICAgIHNyY19zdGF0ZVByb3ZpZGVyLmFkZF9jYWxsYmFjayhvbl9zcmNfY2hhbmdlKTtcbiAgICBjdHJsLmFkZF9jYWxsYmFjayhvbl9jdHJsX2NoYW5nZSk7XG4gICAgb25fY3RybF9jaGFuZ2UoKTtcblxuICAgIHJldHVybiBkc3Q7XG59XG5cblxuLyoqXG4gKiB0aW1lc2hpZnQgcGFyYW1ldGVycyBvZiB0aW1lIGJ5IG9mZnNldFxuICovXG5mdW5jdGlvbiB0aW1lc2hpZnRfaXRlbSAoaXRlbSwgb2Zmc2V0KSB7XG4gICAgaXRlbSA9IHsuLi5pdGVtfTtcbiAgICBpdGVtLml0dlswXSA9IChpdGVtLml0dlswXSAhPSBudWxsKSA/IGl0ZW0uaXR2WzBdICsgb2Zmc2V0IDogbnVsbDtcbiAgICBpdGVtLml0dlsxXSA9IChpdGVtLml0dlsxXSAhPSBudWxsKSA/IGl0ZW0uaXR2WzFdICsgb2Zmc2V0IDogbnVsbDtcbiAgICAvLyBUT0RPIC0gcGVyaGFwcyBjaGFuZ2UgaW1wbGVtZW50YXRpb24gb2YgbW90aW9uIGFuZCB0cmFuc2l0aW9uIHNlZ21lbnRcbiAgICAvLyB0byB1c2UgdGltZXN0YW1wcyByZWxhdGl2ZSB0byB0aGUgc3RhcnQgb2YgdGhlIHNlZ21lbnQsXG4gICAgLy8gc2ltaWxhciB0byBpbnRlcnBvbGF0aW9uP1xuICAgIGlmIChpdGVtLnR5cGUgPT0gXCJtb3Rpb25cIikge1xuICAgICAgICBpdGVtLmRhdGEudGltZXN0YW1wID0gaXRlbS5kYXRhLnRpbWVzdGFtcCArIG9mZnNldDtcbiAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PSBcInRyYW5zaXRpb25cIikge1xuICAgICAgICBpdGVtLmRhdGEudDAgPSBpdGVtLmRhdGEudDAgKyBvZmZzZXQ7XG4gICAgICAgIGl0ZW0uZGF0YS50MSA9IGl0ZW0uZGF0YS50MSArIG9mZnNldDtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW07XG59XG5cblxuXG4iLCJpbXBvcnQge2VuZHBvaW50fSBmcm9tIFwiLi9pbnRlcnZhbHMuanNcIjtcblxuLypcbiAgICBTdGF0ZSBQcm92aWRlciBWaWV3ZXJcbiovXG5cbmZ1bmN0aW9uIGl0ZW0yc3RyaW5nKGl0ZW0sIG9wdGlvbnMpIHtcbiAgICAvLyB0eHRcbiAgICBjb25zdCBpZF90eHQgPSBpdGVtLmlkO1xuICAgIGNvbnN0IHR5cGVfdHh0ID0gaXRlbS50eXBlO1xuICAgIGxldCBpdHZfdHh0ID0gXCJcIjtcbiAgICBpZiAoaXRlbS5pdHYgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IFtsb3csIGhpZ2gsIGxvd0luY2x1ZGUsIGhpZ2hJbmNsdWRlXSA9IGl0ZW0uaXR2O1xuICAgICAgICBjb25zdCBsb3dfdHh0ID0gKGxvdyA9PSBudWxsKSA/IFwibnVsbFwiIDogbG93LnRvRml4ZWQoMik7XG4gICAgICAgIGNvbnN0IGhpZ2hfdHh0ID0gKGhpZ2ggPT0gbnVsbCkgPyBcIm51bGxcIiA6IGhpZ2gudG9GaXhlZCgyKTtcbiAgICAgICAgaXR2X3R4dCA9IGBbJHtsb3dfdHh0fSwke2hpZ2hfdHh0fSwke2xvd0luY2x1ZGV9LCR7aGlnaEluY2x1ZGV9XWA7IFxuICAgIH1cbiAgICBsZXQgZGF0YV90eHQgPSBKU09OLnN0cmluZ2lmeShpdGVtLmRhdGEpO1xuXG4gICAgLy8gaHRtbFxuICAgIGxldCBpZF9odG1sID0gYDxzcGFuIGNsYXNzPVwiaXRlbS1pZFwiPiR7aWRfdHh0fTwvc3Bhbj5gO1xuICAgIGxldCBpdHZfaHRtbCA9IGA8c3BhbiBjbGFzcz1cIml0ZW0taXR2XCI+JHtpdHZfdHh0fTwvc3Bhbj5gO1xuICAgIGxldCB0eXBlX2h0bWwgPSBgPHNwYW4gY2xhc3M9XCJpdGVtLXR5cGVcIj4ke3R5cGVfdHh0fTwvc3Bhbj5gXG4gICAgbGV0IGRhdGFfaHRtbCA9IGA8c3BhbiBjbGFzcz1cIml0ZW0tZGF0YVwiPiR7ZGF0YV90eHR9PC9zcGFuPmA7XG4gICAgXG4gICAgLy8gZGVsZXRlIEJ1dHRvblxuICAgIGNvbnN0IHtkZWxldGVfYWxsb3dlZD1mYWxzZX0gPSBvcHRpb25zO1xuICAgIGlmIChkZWxldGVfYWxsb3dlZCkge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRlbGV0ZVwiPlg8L2J1dHRvbj5cbiAgICAgICAgICAgICR7aWRfaHRtbH06ICR7dHlwZV9odG1sfSAke2l0dl9odG1sfSAke2RhdGFfaHRtbH1cbiAgICAgICAgPC9kaXY+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgJHtpZF9odG1sfTogJHt0eXBlX2h0bWx9ICR7aXR2X2h0bWx9ICR7ZGF0YV9odG1sfVxuICAgICAgICA8L2Rpdj5gOyAgICAgICAgXG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBTdGF0ZVByb3ZpZGVyVmlld2VyIHtcblxuICAgIGNvbnN0cnVjdG9yKHN0YXRlUHJvdmlkZXIsIGVsZW0sIG9wdGlvbnM9e30pIHtcbiAgICAgICAgdGhpcy5fc3AgPSBzdGF0ZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLl9lbGVtID0gZWxlbTtcbiAgICAgICAgdGhpcy5faGFuZGxlID0gdGhpcy5fc3AuYWRkX2NhbGxiYWNrKHRoaXMuX29uY2hhbmdlLmJpbmQodGhpcykpOyBcblxuICAgICAgICAvLyBvcHRpb25zXG4gICAgICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIHRvU3RyaW5nOml0ZW0yc3RyaW5nXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB7Li4uZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuXG4gICAgICAgIC8qXG4gICAgICAgICAgICBTdXBwb3J0IGRlbGV0ZVxuICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5kZWxldGVfYWxsb3dlZCkge1xuICAgICAgICAgICAgLy8gbGlzdGVuIGZvciBjbGljayBldmVudHMgb24gcm9vdCBlbGVtZW50XG4gICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNhdGNoIGNsaWNrIGV2ZW50IGZyb20gZGVsZXRlIGJ1dHRvblxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIjZGVsZXRlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChkZWxldGVCdG4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdEl0ZW0gPSBkZWxldGVCdG4uY2xvc2VzdChcIi5saXN0LWl0ZW1cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3AudXBkYXRlKHtyZW1vdmU6W2xpc3RJdGVtLmlkXX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIHJlbmRlciBpbml0aWFsIHN0YXRlXG4gICAgICAgICovIFxuICAgICAgICB0aGlzLl9vbmNoYW5nZSgpO1xuICAgIH1cblxuICAgIF9vbmNoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLl9zcC5nZXQoKSB8fCBbXTtcblxuICAgICAgICAvLyBzb3J0IGJ5IGxvdyBlbmRwb2ludFxuICAgICAgICBpdGVtcy5zb3J0KChpdGVtX2EsIGl0ZW1fYikgPT4ge1xuICAgICAgICAgICAgbGV0IGxvd0VwX2EgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGl0ZW1fYS5pdHYpWzBdO1xuICAgICAgICAgICAgbGV0IGxvd0VwX2IgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGl0ZW1fYi5pdHYpWzBdO1xuICAgICAgICAgICAgcmV0dXJuIGVuZHBvaW50LmNtcChsb3dFcF9hLCBsb3dFcF9iKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY2xlYXJcbiAgICAgICAgdGhpcy5fZWxlbS5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICAgICAgLy8gcmVidWlsZFxuICAgICAgICBjb25zdCB7dG9TdHJpbmd9ID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgLy8gYWRkXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMuX2VsZW0ucXVlcnlTZWxlY3RvcihgIyR7aXRlbS5pZH1gKTtcbiAgICAgICAgICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShcImlkXCIsIGl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZChcImxpc3QtaXRlbVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSB0b1N0cmluZyhpdGVtLCB0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyX3Byb3ZpZGVyKHN0YXRlUHJvdmlkZXIsIHNlbGVjdG9yLCBvcHRpb25zPXt9KSB7XG4gICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICByZXR1cm4gbmV3IFN0YXRlUHJvdmlkZXJWaWV3ZXIoc3RhdGVQcm92aWRlciwgZWxlbXMsIG9wdGlvbnMpO1xufVxuIiwiLy8gY2xhc3Nlc1xuaW1wb3J0IHsgTmVhcmJ5SW5kZXhCYXNlIH0gZnJvbSBcIi4vbmVhcmJ5X2Jhc2UuanNcIjtcbmltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4vbGF5ZXJfYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yIH0gZnJvbSBcIi4vY3Vyc29yX2Jhc2UuanNcIjtcblxuLy8gc3RhdGVQcm92aWRlcnNcbmltcG9ydCB7IGNsb2NrX3Byb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXJfY2xvY2suanNcIjtcbmltcG9ydCB7IENvbGxlY3Rpb25Qcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyX2NvbGxlY3Rpb24uanNcIjtcbmltcG9ydCB7IE9iamVjdFByb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXJfb2JqZWN0LmpzXCI7XG5cbi8vIGZhY3RvcnkgZnVuY3Rpb25zXG5pbXBvcnQgeyBsZWFmX2xheWVyIH0gZnJvbSBcIi4vbGF5ZXJfbGVhZi5qc1wiO1xuaW1wb3J0IHsgY2xvY2tfY3Vyc29yIH0gZnJvbSBcIi4vY3Vyc29yX2Nsb2NrLmpzXCJcbmltcG9ydCB7IG9iamVjdF9jdXJzb3IgfSBmcm9tIFwiLi9jdXJzb3Jfb2JqZWN0LmpzXCI7XG5pbXBvcnQgeyBwbGF5YmFja19jdXJzb3IgfSBmcm9tIFwiLi9jdXJzb3JfcGxheWJhY2suanNcIjtcbmltcG9ydCB7IGxheWVyX2Zyb21fY3Vyc29yIH0gZnJvbSBcIi4vb3BzL2xheWVyX2Zyb21fY3Vyc29yLmpzXCI7XG5pbXBvcnQgeyBtZXJnZV9sYXllciB9IGZyb20gXCIuL29wcy9tZXJnZS5qc1wiO1xuaW1wb3J0IHsgYm9vbGVhbl9sYXllciB9IGZyb20gXCIuL29wcy9ib29sZWFuLmpzXCJcbmltcG9ydCB7IGxvZ2ljYWxfbWVyZ2VfbGF5ZXIsIGxvZ2ljYWxfZXhwcn0gZnJvbSBcIi4vb3BzL2xvZ2ljYWxfbWVyZ2UuanNcIjtcbmltcG9ydCB7IHRpbWVsaW5lX3RyYW5zZm9ybSB9IGZyb20gXCIuL29wcy90aW1lbGluZV90cmFuc2Zvcm0uanNcIjtcbmltcG9ydCB7IGN1cnNvcl90cmFuc2Zvcm0sIGxheWVyX3RyYW5zZm9ybSB9IGZyb20gXCIuL29wcy90cmFuc2Zvcm0uanNcIjtcbmltcG9ydCB7IGxheWVyX3JlY29yZGVyIH0gZnJvbSBcIi4vb3BzL3JlY29yZC5qc1wiO1xuXG5cbi8vIHV0aWxcbmltcG9ydCB7IGxvY2FsX2Nsb2NrLCByZW5kZXJfY3Vyc29yLCBjaGVja19pdGVtcyB9IGZyb20gXCIuL3V0aWwvY29tbW9uLmpzXCI7XG5pbXBvcnQgeyByZW5kZXJfcHJvdmlkZXIgfSBmcm9tIFwiLi91dGlsL3Byb3ZpZGVyX3ZpZXdlci5qc1wiO1xuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBMQVlFUiBGQUNUT1JJRVNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZnVuY3Rpb24gbGF5ZXIob3B0aW9ucz17fSkge1xuICAgIGxldCB7c3JjLCBwcm92aWRlciwgaXRlbXM9W10sIHZhbHVlLCAuLi5vcHRzfSA9IG9wdGlvbnM7XG4gICAgaWYgKHNyYyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHNyYyBpbnN0YW5jZW9mIExheWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3JjO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwcm92aWRlciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBjaGVja19pdGVtcyhbe1xuICAgICAgICAgICAgICAgIGl0djogW251bGwsIG51bGwsIHRydWUsIHRydWVdLFxuICAgICAgICAgICAgICAgIGRhdGE6IHZhbHVlXG4gICAgICAgICAgICB9XSlcbiAgICAgICAgICAgIHByb3ZpZGVyID0gbmV3IE9iamVjdFByb3ZpZGVyKHtpdGVtc30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbXMgPSBjaGVja19pdGVtcyhpdGVtcyk7XG4gICAgICAgICAgICBwcm92aWRlciA9IG5ldyBDb2xsZWN0aW9uUHJvdmlkZXIoe2l0ZW1zfSk7XG4gICAgICAgIH0gXG4gICAgfVxuICAgIHJldHVybiBsZWFmX2xheWVyKHtwcm92aWRlciwgLi4ub3B0c30pOyBcbn1cblxuZnVuY3Rpb24gcmVjb3JkIChvcHRpb25zPXt9KSB7XG4gICAgY29uc3QgZHN0ID0gbGF5ZXIoe211dGFibGU6dHJ1ZX0pO1xuICAgIGxldCB7Y3RybCwgc3JjfSA9IG9wdGlvbnM7XG4gICAgaWYgKGN0cmwgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGN0cmwgPSBjbG9jaygpO1xuICAgIH1cbiAgICByZXR1cm4gbGF5ZXJfcmVjb3JkZXIoe2N0cmwsIHNyYywgZHN0fSk7XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBDVVJTT1IgRkFDVE9SSUVTXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmZ1bmN0aW9uIGNsb2NrKG9wdGlvbnM9e30pIHtcbiAgICBjb25zdCB7Y2xvY2ssIHZlY3RvciwgLi4ub3B0c30gPSBvcHRpb25zO1xuICAgIGNvbnN0IHByb3ZpZGVyID0gY2xvY2tfcHJvdmlkZXIoe2Nsb2NrLCB2ZWN0b3J9KTtcbiAgICByZXR1cm4gY2xvY2tfY3Vyc29yKHtwcm92aWRlciwgLi4ub3B0c30pO1xufVxuXG5mdW5jdGlvbiBvYmplY3Qob3B0aW9ucz17fSkge1xuICAgIGxldCB7Y3RybCwgc3JjLCAuLi5zcmNfb3B0c30gPSBvcHRpb25zO1xuICAgIGlmIChjdHJsID09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdHJsID0gY2xvY2soKTtcbiAgICB9XG4gICAgaWYgKHNyYyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3JjID0gbGF5ZXIoc3JjX29wdHMpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0X2N1cnNvcih7Y3RybCwgc3JjfSk7XG59XG5cbmZ1bmN0aW9uIHBsYXliYWNrKG9wdGlvbnM9e30pIHtcbiAgICBsZXQge2N0cmwsIHNyYywgLi4uc3JjX29wdHN9ID0gb3B0aW9ucztcbiAgICBpZiAoY3RybCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY3RybCA9IGNsb2NrKCk7XG4gICAgfVxuICAgIGlmIChzcmMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNyYyA9IGxheWVyKHNyY19vcHRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHBsYXliYWNrX2N1cnNvcih7Y3RybCwgc3JjfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIEVYUE9SVFNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZXhwb3J0IHtcbiAgICBDb2xsZWN0aW9uUHJvdmlkZXIsIE9iamVjdFByb3ZpZGVyLFxuICAgIGxvY2FsX2Nsb2NrLFxuICAgIExheWVyLCBDdXJzb3IsIE5lYXJieUluZGV4QmFzZSxcbiAgICBsYXllciwgXG4gICAgY2xvY2ssXG4gICAgb2JqZWN0LFxuICAgIHBsYXliYWNrLFxuICAgIHJlY29yZCxcbiAgICBtZXJnZV9sYXllciBhcyBtZXJnZSwgXG4gICAgYm9vbGVhbl9sYXllciBhcyBib29sZWFuLFxuICAgIGxvZ2ljYWxfbWVyZ2VfbGF5ZXIgYXMgbG9naWNhbF9tZXJnZSwgXG4gICAgbG9naWNhbF9leHByLFxuICAgIGxheWVyX2Zyb21fY3Vyc29yLFxuICAgIGxheWVyX3RyYW5zZm9ybSxcbiAgICBjdXJzb3JfdHJhbnNmb3JtLFxuICAgIHRpbWVsaW5lX3RyYW5zZm9ybSxcbiAgICByZW5kZXJfcHJvdmlkZXIsXG4gICAgcmVuZGVyX2N1cnNvclxufSIsImltcG9ydCB7IEN1cnNvciB9IGZyb20gXCIuL2N1cnNvcl9iYXNlLmpzXCI7XG5pbXBvcnQgeyBDbG9ja1Byb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXJfY2xvY2suanNcIjtcbmltcG9ydCAqIGFzIHNyY3Byb3AgZnJvbSBcIi4vdXRpbC9hcGlfc3JjcHJvcC5qc1wiO1xuaW1wb3J0IHsgbG9jYWxfY2xvY2sgfSBmcm9tIFwiLi91dGlsL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIENsb2NrIEN1cnNvciBpcyBhIGN1cnNvciB0aGF0IHdyYXBzIGEgY2xvY2sgcHJvdmlkZXIsIHdoaWNoIGlzIGF2YWlsYWJsZSBcbiAqIG9uIHRoZSBwcm92aWRlciBwcm9wZXJ0eS5cbiAqIFxuICogQ2xvY2sgY3Vyc29yIGRvZXMgbm90IGRlcGVuZCBvbiBhIHNyYyBsYXllciBvciBhIGN0cmwgY3Vyc29yLiBcbiAqIENsb2NrIGN1cnNvciBpcyBGaXhlZFJhdGUgQ3Vyc29yIChicG0gMSlcbiAqIENsb2NrIGN1cnNvciBpcyBOdW1iZXJPbmx5XG4gKiBcbiAqIENsb2NrIGN1cnNvciB0YWtlIG9wdGlvbnMge3NrZXcsIHNjYWxlfSB0byB0cmFuc2Zvcm0gdGhlIGNsb2NrIHZhbHVlLlxuICogU2NhbGUgaXMgbXVsdGlwbGllciB0byB0aGUgY2xvY2sgdmFsdWUsIGFwcGxpZWQgYmVmb3JlIHRoZSBza2V3IHNvIHRoYXRcbiAqIGl0IHByZXNlcnZlcyB0aGUgemVybyBwb2ludC5cbiAqIFxuICogVGhlIENsb2NrIGN1cnNvciBnZW5lcmFsbHkgZG9lcyBub3QgaW52b2tlIGFueSBjYWxsYmFjaywgYXMgaXQgaXMgYWx3YXlzIGluIGR5bmFtaWMgc3RhdGUuXG4gKiBIb3dldmVyLCBhIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCBpZiB0aGUgY2xvY2twcm92aWRlciBpcyBjaGFuZ2VkIHRocm91Z2ggXG4gKiBhc3NpZ25tZW50IG9mIHRoZSBwcm92aWRlciBwcm9wZXJ0eS5cbiAqIFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9ja19jdXJzb3Iob3B0aW9ucz17fSkge1xuXG4gICAgY29uc3Qge3Byb3ZpZGVyLCBzaGlmdD0wLCBzY2FsZT0xLjB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IGN1cnNvciA9IG5ldyBDdXJzb3IoKTtcblxuICAgIC8vIHJlc3RyaWN0aW9uc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdXJzb3IsIFwibnVtZXJpY1wiLCB7Z2V0OiAoKSA9PiB0cnVlfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1cnNvciwgXCJmaXhlZFJhdGVcIiwge2dldDogKCkgPT4gdHJ1ZX0pO1xuXG4gICAgLy8gcXVlcnlcbiAgICBjdXJzb3IucXVlcnkgPSBmdW5jdGlvbiAobG9jYWxfdHM9bG9jYWxfY2xvY2subm93KCkpIHtcbiAgICAgICAgY29uc3QgY2xvY2tfdHMgPSBwcm92aWRlci5ub3cobG9jYWxfdHMpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IChjbG9ja190cyAqIHNjYWxlKSArIHNoaWZ0O1xuICAgICAgICByZXR1cm4ge3ZhbHVlLCBkeW5hbWljOnRydWUsIG9mZnNldDpsb2NhbF90c307XG4gICAgfVxuXG4gICAgLy8gc2V0dXAgcHJvdmlkZXIgYXMgc2V0dGFibGUgcHJvcGVydHlcbiAgICBzcmNwcm9wLmFkZFN0YXRlKGN1cnNvcik7XG4gICAgc3JjcHJvcC5hZGRNZXRob2RzKGN1cnNvcik7XG4gICAgY3Vyc29yLnNyY3Byb3BfcmVnaXN0ZXIoXCJwcm92aWRlclwiKTtcbiAgICBjdXJzb3Iuc3JjcHJvcF9jaGVjayA9IGZ1bmN0aW9uIChwcm9wTmFtZSwgb2JqKSB7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PSBcInByb3ZpZGVyXCIpIHtcbiAgICAgICAgICAgIGlmICghKG9iaiBpbnN0YW5jZW9mIENsb2NrUHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwcm92aWRlciBtdXN0IGJlIGNsb2NrUHJvdmlkZXIgJHtwcm92aWRlcn1gKTtcbiAgICAgICAgICAgIH0gICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIG9iajsgICAgXG4gICAgICAgIH1cbiAgICB9XG4gICAgY3Vyc29yLnNyY3Byb3Bfb25jaGFuZ2UgPSBmdW5jdGlvbiAocHJvcE5hbWUsIGVBcmcpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwicHJvdmlkZXJcIikge1xuICAgICAgICAgICAgaWYgKGVBcmcgPT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgY3Vyc29yLm9uY2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gICAgICAgIFxuICAgIH1cblxuICAgIC8vIGluaXRpYWxpc2VcbiAgICBjdXJzb3IucmF0ZSA9IDEuMCAqIHNjYWxlO1xuICAgIGN1cnNvci5wcm92aWRlciA9IHByb3ZpZGVyO1xuICAgIHJldHVybiBjdXJzb3I7XG59XG4iLCJpbXBvcnQgeyBDdXJzb3IgfSBmcm9tIFwiLi4vY3Vyc29yX2Jhc2UuanNcIjtcbmltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4uL2xheWVyX2Jhc2UuanNcIlxuaW1wb3J0IHsgTmVhcmJ5SW5kZXhTcmMgfSBmcm9tIFwiLi4vbmVhcmJ5X2Jhc2UuanNcIlxuXG5cblxuLy8gVE9ETyAtIGVudXN1cmUgbnVtZXJpYyBpZiBzZXQgdG8gdHJ1ZVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1TdGF0ZShzdGF0ZSwgb3B0aW9ucz17fSkge1xuICAgIGNvbnN0IHt2YWx1ZUZ1bmMsIHN0YXRlRnVuY30gPSBvcHRpb25zO1xuICAgIGlmICh2YWx1ZUZ1bmMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0YXRlLnZhbHVlID0gdmFsdWVGdW5jKHN0YXRlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0gZWxzZSBpZiAoc3RhdGVGdW5jICE9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3RhdGVGdW5jKHN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG4vKipcbiAqIEN1cnNvciBUcmFuc2Zvcm1cbiAqIENyZWF0ZSBhIG5ldyBDdXJzb3Igd2hpY2ggaXMgYSB0cmFuc2Zvcm1hdGlvbiBvZiBhIHNyYyBDdXJzb3IuXG4gKiBcbiAqIFRoZSBuZXcgdHJhbnNmb3JtZWQgQ3Vyc29yIGRvZXMgbm90IGhhdmUgYSBzcmMgKGxheWVyKSBhbmQgYW5kIGEgY3RybCAoY3Vyc29yKVxuICogcHJvcGVydHksIHNpbmNlIGl0IG9ubHkgZGVwZW5kcyBvbiB0aGUgc3JjIGN1cnNvci5cbiAqIFxuICogQWxzbywgdGhlIG5ldyB0cmFuc2Zvcm1lZCBjdXJzb3IgZG9lcyBub3QgbmVlZCBhbnkgcGxheWJhY2sgbG9naWMgb24gaXRzIG93blxuICogYXMgbG9uZyBhcyB0aGUgbmF0dXJlIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbiBpcyBhIHBsYWluIHZhbHVlL3N0YXRlIHRyYW5zaXRpb24uIFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3Vyc29yX3RyYW5zZm9ybShzcmMsIG9wdGlvbnM9e30pIHtcblxuICAgIGlmICghKHNyYyBpbnN0YW5jZW9mIEN1cnNvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzcmMgbXVzdCBiZSBhIEN1cnNvciAke3NyY31gKTtcbiAgICB9XG5cbiAgICBjb25zdCB7bnVtZXJpYywgdmFsdWVGdW5jLCBzdGF0ZUZ1bmN9ID0gb3B0aW9ucztcbiAgICBjb25zdCBjdXJzb3IgPSBuZXcgQ3Vyc29yKCk7XG5cbiAgICAvLyBpbXBsZW1lbnQgcXVlcnlcbiAgICBjdXJzb3IucXVlcnkgPSBmdW5jdGlvbiBxdWVyeSgpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBzcmMucXVlcnkoKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybVN0YXRlKHN0YXRlLCB7c3RhdGVGdW5jLCB2YWx1ZUZ1bmN9KTtcbiAgICB9XG5cbiAgICAvLyBudW1iZXJpYyBjYW4gYmUgc2V0IHRvIHRydWUgYnkgb3B0aW9uc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdXJzb3IsIFwibnVtZXJpY1wiLCB7Z2V0OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiAobnVtZXJpYyA9PSB1bmRlZmluZWQpID8gc3JjLm51bWVyaWMgOiBudW1lcmljOyBcbiAgICB9fSk7XG4gICAgLy8gZml4ZWRSYXRlIGlzIGluaGVyaXRlZCBmcm9tIHNyY1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdXJzb3IsIFwiZml4ZWRSYXRlXCIsIHtnZXQ6ICgpID0+IHNyYy5maXhlZFJhdGV9KTtcblxuICAgIGlmIChzcmMuZml4ZWRSYXRlKSB7XG4gICAgICAgIC8vIHByb3BhZ2F0ZSByYXRlIHByb3BlcnR5IGZyb20gc3JjXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdXJzb3IsIFwicmF0ZVwiLCB7Z2V0OiAoKSA9PiBzcmMucmF0ZX0pO1xuICAgIH1cblxuICAgIC8vIGNhbGxiYWNrcyBmcm9tIHNyYy1jdXJzb3JcbiAgICBzcmMuYWRkX2NhbGxiYWNrKCgpID0+IHtjdXJzb3Iub25jaGFuZ2UoKX0pO1xuICAgIHJldHVybiBjdXJzb3I7XG59XG5cblxuLyoqXG4gKiBMYXllciBUcmFuc2Zvcm1cbiAqIENyZWF0ZSBhIG5ldyBMYXllciB3aGljaCBpcyBhIHRyYW5zZm9ybWF0aW9uIG9mIHRoZSBzcmMgTGF5ZXJcbiAqL1xuXG5mdW5jdGlvbiB3cmFwcGVkVmFsdWVGdW5jKHZhbHVlRnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoe3NvdXJjZXMsIHN0YXRlcywgb2Zmc2V0fSkge1xuICAgICAgICByZXR1cm4gdmFsdWVGdW5jKHN0YXRlc1swXS52YWx1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB3cmFwcGVkU3RhdGVGdW5jKHN0YXRlRnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoe3NvdXJjZXMsIHN0YXRlcywgb2Zmc2V0fSkge1xuICAgICAgICByZXR1cm4gc3RhdGVGdW5jKHN0YXRlc1swXSk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbGF5ZXJfdHJhbnNmb3JtKHNyYywgb3B0aW9ucz17fSkge1xuXG4gICAgaWYgKCEoc3JjIGluc3RhbmNlb2YgTGF5ZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc3JjIG11c3QgYmUgYSBMYXllciAke3NyY31gKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHMgPSB7fTtcbiAgICBvcHMudmFsdWVGdW5jID0gd3JhcHBlZFZhbHVlRnVuYyhvcHRpb25zLnZhbHVlRnVuYyk7XG4gICAgb3BzLnN0YXRlRnVuYyA9IHdyYXBwZWRTdGF0ZUZ1bmMob3B0aW9ucy5zdGF0ZUZ1bmMpO1xuXG4gICAgY29uc3QgbGF5ZXIgPSBuZXcgTGF5ZXIob3BzKTtcbiAgICBsYXllci5pbmRleCA9IG5ldyBOZWFyYnlJbmRleFNyYyhzcmMpO1xuICAgIGxheWVyLnNyYyA9IHNyYztcbiAgICBsYXllci5zcmMuYWRkX2NhbGxiYWNrKChlQXJnKSA9PiB7bGF5ZXIub25jaGFuZ2UoZUFyZyl9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXllciwgXCJudW1lcmljXCIsIHtnZXQ6ICgpID0+IHNyYy5udW1lcmljfSk7XG5cbiAgICByZXR1cm4gbGF5ZXI7XG59XG5cblxuXG4iXSwibmFtZXMiOlsiaXNOdW1iZXIiLCJuIiwiRVBfVFlQRSIsIk9iamVjdCIsImZyZWV6ZSIsIkhJR0hfT1BFTiIsIkhJR0hfQ0xPU0VEIiwiVkFMVUUiLCJMT1dfQ0xPU0VEIiwiTE9XX09QRU4iLCJFUF9PUkRFUiIsIk1hcCIsImVuZHBvaW50X2lzX2xvdyIsImVwIiwiZW5kcG9pbnRfZnJvbV9pbnB1dCIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsIkVycm9yIiwidiIsInQiLCJ2YWx1ZSIsInZhbHVlcyIsImluY2x1ZGVzIiwiSW5maW5pdHkiLCJ1bmRlZmluZWQiLCJlbmRwb2ludF9QT1NfSU5GIiwiZW5kcG9pbnRfTkVHX0lORiIsImVuZHBvaW50X2ludGVybmFsIiwibnVtYmVyX2NtcCIsImEiLCJiIiwiZW5kcG9pbnRfY21wIiwiZXAxIiwiZXAyIiwidjEiLCJ0MSIsInYyIiwidDIiLCJkaWZmIiwiZ2V0IiwiZW5kcG9pbnRfbGUiLCJwMSIsInAyIiwiZW5kcG9pbnRfZ2UiLCJlbmRwb2ludF9lcSIsImVuZHBvaW50c19mcm9tX2ludGVydmFsIiwiaXR2IiwibG93IiwiaGlnaCIsImxvd0Nsb3NlZCIsImhpZ2hDbG9zZWQiLCJsb3dUeXBlIiwiaGlnaFR5cGUiLCJpbnRlcnZhbF9jb3ZlcnNfZW5kcG9pbnQiLCJsb3dfZXAiLCJoaWdoX2VwIiwiZW5kcG9pbnQiLCJsZSIsImx0IiwiZ2UiLCJndCIsImNtcCIsImVxIiwibWluIiwibWF4IiwiZmxpcCIsInRhcmdldCIsImZyb21faW50ZXJ2YWwiLCJmcm9tX2lucHV0IiwidHlwZXMiLCJQT1NfSU5GIiwiTkVHX0lORiIsImludGVydmFsIiwiY292ZXJzX2VuZHBvaW50IiwiY292ZXJzX3BvaW50IiwicCIsImlzX3Npbmd1bGFyIiwiZnJvbV9lbmRwb2ludHMiLCJpbnB1dCIsImxvd0luY2x1ZGUiLCJoaWdoSW5jbHVkZSIsIk5lYXJieUluZGV4QmFzZSIsIm5lYXJieSIsIm9mZnNldCIsImVtcHR5IiwidGhpcyIsImZpcnN0IiwiY2VudGVyIiwicmlnaHQiLCJsYXN0IiwibGVmdCIsInJpZ2h0X3JlZ2lvbiIsInJpZ2h0X2VuZHBvaW50IiwibGVmdF9yZWdpb24iLCJsZWZ0X2VuZHBvaW50IiwiZmluZF9yZWdpb24iLCJvcHRpb25zIiwibmV4dF9uZWFyYnkiLCJkaXJlY3Rpb24iLCJjb25kaXRpb24iLCJyZWdpb25zIiwiUmVnaW9uSXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsImluZGV4Iiwic3RhcnQiLCJzdG9wIiwiaW5jbHVkZUVtcHR5IiwiX2luZGV4IiwiX3N0YXJ0IiwiX3N0b3AiLCJfY29uZGl0aW9uIiwiX2N1cnJlbnQiLCJuZXh0IiwiZG9uZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY21wX2FzY2VuZGluZyIsImNtcF9kZXNjZW5kaW5nIiwibmVhcmJ5X2Zyb20iLCJwcmV2X2hpZ2giLCJjZW50ZXJfbG93X2xpc3QiLCJjZW50ZXJfaGlnaF9saXN0IiwibmV4dF9sb3ciLCJyZXN1bHQiLCJzb3J0IiwibWluX2NlbnRlcl9oaWdoIiwibWF4X2NlbnRlcl9oaWdoIiwic2xpY2UiLCJtdWx0aXBsZV9jZW50ZXJfaGlnaCIsIm1heF9jZW50ZXJfbG93IiwibWluX2NlbnRlcl9sb3ciLCJtdWx0aXBsZV9jZW50ZXJfbG93IiwicHJldiIsIk5lYXJieUluZGV4U3JjIiwic3JjIiwic3VwZXIiLCJfc3JjIiwiX2NhY2hlIiwiY3JlYXRlQ2FjaGUiLCJFdmVudCIsInB1Ymxpc2hlciIsIm5hbWUiLCJpbml0Iiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmliZSIsImNhbGxiYWNrIiwic3ViIiwiU3Vic2NyaXB0aW9uIiwicHVzaCIsImluaXRfcGVuZGluZyIsInNlbGYiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJlQXJncyIsImV2ZW50aWZ5SW5pdEV2ZW50QXJncyIsImVBcmciLCJ0cmlnZ2VyIiwic3VicyIsImVJbmZvIiwiY3R4IiwidGVybWluYXRlZCIsImNhbGwiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidW5zdWJzY3JpYmUiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwidGVybWluYXRlIiwiZXZlbnQiLCJldmVudGlmeUluc3RhbmNlIiwib2JqZWN0IiwiX19ldmVudGlmeV9ldmVudE1hcCIsIl9fZXZlbnRpZnlfYnVmZmVyIiwiZXZlbnRpZnlQcm90b3R5cGUiLCJfcHJvdG90eXBlIiwiZXZlbnRpZnlHZXRFdmVudCIsImV2ZW50aWZ5RGVmaW5lIiwiaGFzIiwic2V0IiwiZXZlbnRpZnlUcmlnZ2VyIiwiZXZlbnRpZnlUcmlnZ2VyQWxsIiwiZXZlbnRpZnlUcmlnZ2VyQWxpa2UiLCJtYXAiLCJldmVudEl0ZW1zIiwidHJpZ2dlckl0ZW1zIiwiaXRlbSIsImV2IiwiZmlsdGVyIiwibGVuIiwiYnVmIiwiYnVmX2xlbiIsImkiLCJldmVudGlmeVN1YnNjcmlwdGlvbnMiLCJvbiIsIm9mZiIsIl92YWx1ZSIsInByb3RvdHlwZSIsIlBSRUZJWCIsImFkZFN0YXRlIiwiYWRkX2NhbGxiYWNrIiwiaGFuZGxlciIsImhhbmRsZSIsInJlbW92ZV9jYWxsYmFjayIsIm5vdGlmeV9jYWxsYmFja3MiLCJmb3JFYWNoIiwiYWRkTWV0aG9kcyIsIm9iaiIsImFwaSIsImFzc2lnbiIsImlzX2NhbGxiYWNrX2FwaSIsIm1ldGhvZHMiLCJwcm9wIiwiaXNfZmluaXRlX251bWJlciIsImlzRmluaXRlIiwiY2hlY2tfbnVtYmVyIiwibG9jYWxfY2xvY2siLCJub3ciLCJwZXJmb3JtYW5jZSIsInRvU3RhdGUiLCJzb3VyY2VzIiwic3RhdGVzIiwic3RhdGUiLCJ2YWx1ZUZ1bmMiLCJzdGF0ZUZ1bmMiLCJudW1lcmljIiwibWFzayIsImR5bmFtaWMiLCJkeW1hbWljIiwic29tZSIsImUiLCJjaGVja19pdGVtcyIsIml0ZW1zIiwiaWQiLCJyYW5kb21fc3RyaW5nIiwidGV4dCIsInBvc3NpYmxlIiwiY2hhckF0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibW90aW9uX2hhc19yZWFsX3NvbHV0aW9ucyIsInZlY3RvciIsInAwIiwidjAiLCJhMCIsInQwIiwicG93IiwibW90aW9uX2dldF9yZWFsX3NvbHV0aW9ucyIsInNxcnQiLCJkMSIsImQyIiwibW90aW9uX3V0aWxzIiwiY2FsY3VsYXRlIiwiZCIsImhhc19yZWFsX3NvbHV0aW9ucyIsImdldF9yZWFsX3NvbHV0aW9ucyIsImNhbGN1bGF0ZV90aW1lX3JhbmdlcyIsInBvc19yYW5nZSIsInNvbHV0aW9ucyIsIlNldCIsImNoZWNrX3JhbmdlIiwiTGF5ZXIiLCJDYWNoZUNsYXNzIiwiTGF5ZXJDYWNoZSIsImNhbGxiYWNrLmFkZFN0YXRlIiwiZXZlbnRpZnkuYWRkU3RhdGUiLCJfQ2FjaGVDbGFzcyIsIl9wcml2YXRlX2NhY2hlIiwiX2NvbnN1bWVyX2NhY2hlcyIsIl92YWx1ZUZ1bmMiLCJfc3RhdGVGdW5jIiwibXV0YWJsZSIsIml0ZW1zT25seSIsImNhY2hlIiwicXVlcnkiLCJyZWxlYXNlQ2FjaGUiLCJjbGVhckNhY2hlcyIsImNsZWFyIiwib25jaGFuZ2UiLCJzYW1wbGUiLCJzdGVwIiwic2FtcGxlcyIsImVuZCIsImluY2x1ZGVfZW5kIiwicmFuZ2UiLCJjYWxsYmFjay5hZGRNZXRob2RzIiwiZXZlbnRpZnkuYWRkTWV0aG9kcyIsImxheWVyIiwiX2xheWVyIiwiX25lYXJieSIsIl9zdGF0ZSIsIl9xdWVyeV9vcHRpb25zIiwibnVtYmVyT25seSIsImlzTnVtYmVyT25seSIsIm5lZWRfaW5kZXhfbG9va3VwIiwiUG9sbGVyIiwiX2NhbGxiYWNrIiwiX2hhbmRsZSIsIl9kZWxheSIsImRlbGF5IiwiZGVsYXlfbXMiLCJpc19wb2xsaW5nIiwicGF1c2UiLCJjYW5jZWwiLCJwb2xsIiwicmVzdW1lIiwiYWlkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwidGlkIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsIm1vbml0b3IiLCJfYmluZGluZ19zZXQiLCJfY3Vyc29yX21hcCIsIl9wb2xsZXIiLCJvbnBvbGwiLCJjdXJzb3IiLCJiaW5kaW5nIiwiYWRkIiwiYmluZGluZ3MiLCJvbmN1cnNvcmNoYW5nZSIsInBvbGxpbmciLCJyZWxlYXNlIiwiZGVsZXRlIiwicG9sbGluZ19jdXJzb3JzIiwiZW50cnkiLCJyZWV2YWx1YXRlX3BvbGxpbmciLCJ0cyIsImRlbGF5cyIsIm1pbl9kZWxheSIsIkN1cnNvciIsImZpeGVkUmF0ZSIsImxvY2FsX3RzIiwiZGV0ZWN0X2Z1dHVyZV9ldmVudCIsIkNsb2NrUHJvdmlkZXIiLCJjbG9jayIsIkxPQ0FMX0NMT0NLX1ZFQ1RPUiIsIl9jbG9jayIsImRpZmZfdHMiLCJfcmF0ZSIsInJhdGUiLCJfdDAiLCJEYXRlIiwiTE9DQUxfQ0xPQ0tfUFJPVklERVIiLCJpc19jb2xsZWN0aW9uX3Byb3ZpZGVyIiwiY2FsbGJhY2suaXNfY2FsbGJhY2tfYXBpIiwidXBkYXRlIiwiQ29sbGVjdGlvblByb3ZpZGVyIiwiX21hcCIsImNoYW5nZXMiLCJkaWZmcyIsIl91cGRhdGUiLCJkaWZmX21hcCIsImluc2VydCIsInJlbW92ZSIsInJlc2V0IiwiZW50cmllcyIsIm5ldyIsIm9sZCIsImlzX29iamVjdF9wcm92aWRlciIsIk9iamVjdFByb3ZpZGVyIiwiX29iamVjdCIsIk5BTUUiLCJwcm9wTmFtZSIsImVudGl0eSIsImhhbmRsZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImVudGl0aWVzIiwiU29ydGVkQXJyYXkiLCJfYXJyYXkiLCJzaXplIiwiYXJyYXkiLCJ0YXJnZXRfdmFsdWUiLCJ0YXJnZXRfZXAiLCJsZWZ0X2lkeCIsInJpZ2h0X2lkeCIsIm1pZF9pZHgiLCJtaWRfdmFsdWUiLCJnZUluZGV4T2YiLCJmb3VuZCIsImxlSW5kZXhPZiIsImd0SW5kZXhPZiIsImx0SW5kZXhPZiIsInJlbW92ZV9saXN0IiwiaW5zZXJ0X2xpc3QiLCJyZW1vdmVfaWR4X2xpc3QiLCJhbnlfcmVtb3ZlcyIsImFueV9pbnNlcnRzIiwiZmlyc3RfYXJyIiwic2Vjb25kX2FyciIsImZpcnN0X2Fycl9sZW5ndGgiLCJzZWNvbmRfYXJyX2xlbmd0aCIsImNvbmNhdF9pbl9wbGFjZSIsInNvcnRlZF9hcnIiLCJyZW1vdmVfZHVwbGljYXRlcyIsImdldF9ieV9pbmRleCIsImxvb2t1cCIsImVwXzAiLCJlcF8xIiwiaWR4XzAiLCJpZHhfMSIsIkVQX1RZUEVTIiwiRW5kcG9pbnRTZXQiLCJ0eXBlIiwibGlzdCIsImxpc3RzIiwiY29uY2F0IiwiTE9XIiwiQUNUSVZFIiwiSElHSCIsIkl0ZW1zTWFwIiwiZ2V0X2l0ZW1zX2J5X3JvbGUiLCJyb2xlIiwicmVnaXN0ZXIiLCJ0eXBlX21hcCIsImFjdGl2ZSIsIndhc19lbXB0eSIsImZpbmRJbmRleCIsIl9pdGVtIiwiaXNfZW1wdHkiLCJ1bnJlZ2lzdGVyIiwiTmVhcmJ5SW5kZXgiLCJzdGF0ZVByb3ZpZGVyIiwiX3NwIiwiX2luaXRpYWxpc2UiLCJyZWZyZXNoIiwiX2l0ZW1zbWFwIiwiX2VuZHBvaW50cyIsInJlbW92ZV9lbmRwb2ludHMiLCJpbnNlcnRfZW5kcG9pbnRzIiwiYmVjYW1lX25vbmVtcHR5IiwiaW5zZXJ0X2l0ZW1zIiwicmVtb3ZlX2l0ZW1zIiwiYWN0aXZlU2V0IiwiX2NvdmVycyIsIml0ZW1zMSIsIml0ZW1zMiIsImlkU2V0IiwiQmFzZVNlZ21lbnQiLCJfaXR2IiwiU3RhdGljU2VnbWVudCIsImRhdGEiLCJNb3Rpb25TZWdtZW50IiwiX3ZlY3RvciIsImVhc2VpbiIsIlRyYW5zaXRpb25TZWdtZW50IiwiZWFzaW5nIiwiX2R5bmFtaWMiLCJfdHJhbnMiLCJwYXJzZUZsb2F0IiwiZWFzZW91dCIsImVhc2Vpbm91dCIsIkludGVycG9sYXRpb25TZWdtZW50IiwidHVwbGVzIiwic29ydGVkVHVwbGVzIiwidmFsdWUxIiwib2Zmc2V0MSIsInZhbHVlMiIsIm9mZnNldDIiLCJpbnRlcnBvbGF0ZSIsImxvYWRfc2VnbWVudCIsImxlYWZfbGF5ZXIiLCJwcm92aWRlciIsIm9wdHMiLCJMZWFmTGF5ZXJDYWNoZSIsInNyY3Byb3AuYWRkU3RhdGUiLCJzcmNwcm9wLmFkZE1ldGhvZHMiLCJzcmNwcm9wX3JlZ2lzdGVyIiwic3JjcHJvcF9jaGVjayIsInNyY3Byb3Bfb25jaGFuZ2UiLCJnZXRfaXRlbXMiLCJyZWFkT25seSIsImxheWVyX3VwZGF0ZSIsImFwcGVuZCIsImhpZ2hFcCIsIm5ld19pdGVtIiwibW9kaWZ5X2l0ZW1zIiwibG93RXAiLCJsYXllcl9hcHBlbmQiLCJfc2VnbWVudCIsInNlZ21lbnQiLCJfc2VnbWVudHMiLCJzZWciLCJmcm9tIiwicGxheWJhY2tfY3Vyc29yIiwiY3RybCIsInNyY19jYWNoZSIsInBpZCIsInNjaGVkdWxlX3RpbWVvdXQiLCJkZWx0YV9zZWMiLCJkZWx0YV9tcyIsInRhcmdldF9tcyIsImhhbmRsZV90aW1lb3V0Iiwic2V0X3RpbWVvdXQiLCJhY3RpdmVfaXRlbXMiLCJjbGVhckludGVydmFsIiwicG9zMCIsInRzMCIsInNyY19uZWFyYnkiLCJzcmNfcmVnaW9uX2xvdyIsInNyY19yZWdpb25faGlnaCIsImFjdGl2ZV9pdGVtIiwidGFyZ2V0TG93IiwidGFyZ2V0SGlnaCIsInNldEludGVydmFsIiwicG9zIiwiaGFuZGxlX3BvbGxpbmciLCJvYmplY3RfY3Vyc29yIiwicmVjb3JkIiwib3JpZ2luYWxfc3JjcHJvcF9jaGVjayIsImNyZWF0ZV9zZXRfaXRlbXMiLCJtb3Rpb24iLCJwb3NpdGlvbiIsInZlbG9jaXR5IiwiYWNjZWxlcmF0aW9uIiwiYTEiLCJ0aW1lc3RhbXAiLCJ0aW1lX3JhbmdlcyIsImN0ciIsInRpbWVfcmFuZ2UiLCJmaW5kIiwidHIiLCJ2YWwiLCJjcmVhdGVfbW90aW9uX2l0ZW1zIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiY3JlYXRlX3RyYW5zaXRpb25faXRlbXMiLCJjcmVhdGVfaW50ZXJwb2xhdGlvbl9pdGVtcyIsIkN1cnNvckluZGV4IiwiX2N1cnNvciIsIk1FUkdFX09QVElPTlMiLCJzdW0iLCJpbmZvIiwicmVkdWNlIiwiYWNjIiwic3RhY2siLCJOZWFyYnlJbmRleE1lcmdlIiwiX3NvdXJjZXMiLCJfY2FjaGVzIiwicHJldl9saXN0IiwibmV4dF9saXN0IiwicHJldl9yZWdpb24iLCJuZXh0X3JlZ2lvbiIsInF1ZXJ5T2JqZWN0IiwiTmVhcmJ5SW5kZXhCb29sZWFuIiwiZXZhbHVhdGlvbiIsInJpZ2h0X25lYXJieSIsImxlZnRfbmVhcmJ5IiwibG9naWNhbF9leHByIiwiZXZhbCIsInRyYW5zZm9ybSIsInNoaWZ0Iiwic2NhbGUiLCJicmFja2V0IiwicmV2ZXJzZSIsImFuZCIsImV4cHJzIiwiZXZlcnkiLCJleHByIiwib3IiLCJ4b3IiLCJleHByMSIsImV4cHIyIiwibm90IiwiTmVhcmJ5SW5kZXhBVFQiLCJfb3B0aW9ucyIsIl90cmFuc2Zvcm1fY2FjaGUiLCJsYXllcl9yZWNvcmRlciIsImRzdCIsInNyY19zdGF0ZVByb3ZpZGVyIiwiZHN0X3N0YXRlUHJvdmlkZXIiLCJpc19yZWNvcmRpbmciLCJvbl9jdHJsX2NoYW5nZSIsIndhc19yZWNvcmRpbmciLCJjdHJsX3RzIiwiZHN0X29mZnNldCIsInN0b3BfcmVjb3JkaW5nIiwic3JjX29mZnNldCIsInNyY19pdGVtcyIsInN0cnVjdHVyZWRDbG9uZSIsImRzdF9pdGVtcyIsInRpbWVzaGlmdF9pdGVtIiwiaXRlbTJzdHJpbmciLCJpZF90eHQiLCJ0eXBlX3R4dCIsIml0dl90eHQiLCJ0b0ZpeGVkIiwiaWRfaHRtbCIsIml0dl9odG1sIiwidHlwZV9odG1sIiwiZGF0YV9odG1sIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlbGV0ZV9hbGxvd2VkIiwiU3RhdGVQcm92aWRlclZpZXdlciIsImVsZW0iLCJfZWxlbSIsIl9vbmNoYW5nZSIsImRlZmF1bHRzIiwidG9TdHJpbmciLCJhZGRFdmVudExpc3RlbmVyIiwiZGVsZXRlQnRuIiwiY2xvc2VzdCIsImxpc3RJdGVtIiwic3RvcFByb3BhZ2F0aW9uIiwiaXRlbV9hIiwiaXRlbV9iIiwibG93RXBfYSIsImxvd0VwX2IiLCJyZXBsYWNlQ2hpbGRyZW4iLCJub2RlIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiY2xvY2tfcHJvdmlkZXIiLCJjbG9ja19jdXJzb3IiLCJ0cmFuc2Zvcm1TdGF0ZSIsIm9wcyIsInNyY19vcHRzIiwic2VsZWN0b3IiLCJyZW5kZXIiLCJub3ZhbHVlIiwiZWxlbXMiLCJ0ZXh0Q29udGVudCJdLCJtYXBwaW5ncyI6InlDQTJDQSxTQUFTQSxFQUFTQyxHQUNkLE1BQW1CLGlCQUFMQSxDQUNsQixDQUVBLE1BQU1DLEVBQVVDLE9BQU9DLE9BQU8sQ0FDMUJDLFVBQVcsSUFDWEMsWUFBYSxJQUNiQyxNQUFPLEdBQ1BDLFdBQVksSUFDWkMsU0FBVSxNQU9kLE1BQU1DLEVBQVcsSUFBSUMsSUFBSSxDQUNyQixDQUFDVCxFQUFRRyxXQUFZLEdBQ3JCLENBQUNILEVBQVFJLFlBQWEsR0FDdEIsQ0FBQ0osRUFBUUssTUFBTyxHQUNoQixDQUFDTCxFQUFRTSxXQUFZLEdBQ3JCLENBQUNOLEVBQVFPLFNBQVUsS0FHdkIsU0FBU0csRUFBZ0JDLEdBQ3JCLE9BQU9BLEVBQUcsSUFBTVgsRUFBUU0sWUFBY0ssRUFBRyxJQUFNWCxFQUFRTyxRQUMzRCxDQVNBLFNBQVNLLEVBQW9CRCxHQUl6QixHQUhLRSxNQUFNQyxRQUFRSCxLQUNmQSxFQUFLLENBQUNBLEVBQUlYLEVBQVFLLFFBRUwsR0FBYk0sRUFBR0ksT0FDSCxNQUFNLElBQUlDLE1BQU0sb0NBQXFDTCxHQUV6RCxJQUFLTSxFQUFFQyxHQUFLUCxFQUNaLEdBL0JnQlEsRUErQkFELEdBOUJUakIsT0FBT21CLE9BQU9wQixHQUFTcUIsU0FBU0YsR0ErQm5DLE1BQU0sSUFBSUgsTUFBTSw0QkFBNkJFLEdBaENyRCxJQUFvQkMsRUFrQ2hCLEdBQUlGLElBQU1LLElBQ04sTUFBTyxDQUFDLEtBQU10QixFQUFRTSxZQUUxQixHQUFJVyxHQUFLSyxJQUNMLE1BQU8sQ0FBQyxLQUFNdEIsRUFBUUksYUFFMUIsR0FBU21CLE1BQUxOLEdBQXVCLE1BQUxBLEdBQWFuQixFQUFTbUIsR0FDeEMsTUFBTyxDQUFDQSxFQUFH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

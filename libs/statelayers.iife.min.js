var STATELAYERS=function(t){"use strict";function e(t){return"number"==typeof t}const n=Object.freeze({HIGH_OPEN:")",HIGH_CLOSED:"]",VALUE:"",LOW_CLOSED:"[",LOW_OPEN:"("});const r=new Map([[n.HIGH_OPEN,-1],[n.HIGH_CLOSED,0],[n.VALUE,0],[n.LOW_CLOSED,0],[n.LOW_OPEN,1]]);function i(t){return t[1]==n.LOW_CLOSED||t[1]==n.LOW_OPEN}function s(t){if(Array.isArray(t)||(t=[t,n.VALUE]),2!=t.length)throw new Error("Endpoint must be a length-2 array",t);let[r,i]=t;if(s=i,!Object.values(n).includes(s))throw new Error("Unsupported endpoint type",i);var s;if(r==-1/0)return[null,n.LOW_CLOSED];if(r==1/0)return[null,n.HIGH_CLOSED];if(null==r||null==r||e(r))return[r,i];throw new Error("endpoint must be null or number",r)}const o=s(1/0),c=s(-1/0);function l(t){return null!=t[0]?[t[0],t[1]]:i(t)?[-1/0,n.LOW_CLOSED]:[1/0,n.HIGH_CLOSED]}function u(t,e){return t<e?-1:t>e?1:0}function a(t,e){const[n,i]=l(t),[s,o]=l(e),c=u(n,s);if(0==c){return u(r.get(i),r.get(o))}return c}function h(t,e){return a(t,e)<=0}function f(t,e){return a(t,e)>=0}function _(t,e){return 0==a(t,e)}function d(t){const[e,r,i,o]=t,c=i?n.LOW_CLOSED:n.LOW_OPEN,l=o?n.HIGH_CLOSED:n.HIGH_OPEN;return[s([e,c]),s([r,l])]}function p(t,e){const[n,r]=d(t);return h(n,e=s(e))&&h(e,r)}const g={le:h,lt:function(t,e){return a(t,e)<0},ge:f,gt:function(t,e){return a(t,e)>0},cmp:a,eq:_,min:function(t,e){return h(t,e)?t:e},max:function(t,e){return f(t,e)?t:e},flip:function(t,e){if(e)throw new Error("target is deprecated");let[r,i]=t;if(null==r)return t;if(i==n.HIGH_OPEN)return[r,n.LOW_CLOSED];if(i==n.HIGH_CLOSED)return[r,n.LOW_OPEN];if(i==n.LOW_OPEN)return[r,n.HIGH_CLOSED];if(i==n.LOW_CLOSED)return[r,n.HIGH_OPEN];throw new Error("illegal endpoint type",i)},from_interval:d,from_input:s,types:{...n},POS_INF:o,NEG_INF:c},m={covers_endpoint:p,covers_point:function(t,e){return p(t,e)},is_singular:function(t){const[e,n]=d(itv);return _(e,n)},from_endpoints:function(t,e){let[r,s]=t,[o,c]=e;if(!i(t))throw new Error("illegal low endpoint",t);if((l=e)[1]!=n.HIGH_CLOSED&&l[1]!=n.HIGH_OPEN)throw new Error("illegal high endpoint",e);var l;return[r,o,s==n.LOW_CLOSED,c==n.HIGH_CLOSED]},from_input:function(t){let n=t;if(null==n||null==n)throw new Error("input is undefined");if(!Array.isArray(n)){if(!e(n))throw new Error(`input: ${t}: must be Array or Number`);n=[n,n,!0,!0]}1==n.length?n=[n[0],n[0],!0,!0]:2==n.length?n=[n[0],n[1],!0,!1]:3==n.length?n=[n[0],n[1],n[2],!1]:n.length>4&&(n=[n[0],n[1],n[2],n[4]]);let[r,i,s,o]=n;if(null!=r&&r!=-1/0||(r=null),null!=i&&i!=1/0||(i=null),null==r)s=!0;else if(!e(r))throw new Error("low not a number",r);if(null==i)o=!0;else if(!e(i))throw new Error("high not a number",i);if(null!=r&&null!=i){if(r>i)throw new Error("low > high",r,i);r==i&&(s=!0,o=!0)}if("boolean"!=typeof s)throw new Error("lowInclude not boolean");if("boolean"!=typeof o)throw new Error("highInclude not boolean");return[r,i,s,o]}};class v{nearby(t){throw new Error("Not implemented")}empty(){return null==this.first()}first(){let{center:t,right:e}=this.nearby(g.NEG_INF);return t.length>0?g.NEG_INF:g.lt(e,g.POS_INF)?e:void 0}last(){let{left:t,center:e}=this.nearby(g.POS_INF);return e.length>0?g.POS_INF:g.gt(t,g.NEG_INF)?t:void 0}right_region(t){const e=function(t){const e=g.from_interval(t.itv)[1];return g.flip(e)}(t);if(null!=e[0])return this.nearby(e)}left_region(t){const e=function(t){const e=g.from_interval(t.itv)[0];return g.flip(e)}(t);if(null!=e[0])return this.nearby(e)}find_region(t,e={}){let n,{direction:r=1,condition:i=t=>t.length>0}=e;for(;;){if(n=1==r?this.right_region(t):this.left_region(t),null==n)return;if(i(n.center))return n;t=n}}regions(t){return new y(this,t)}}class y{constructor(t,e={}){let{start:n=-1/0,stop:r=1/0,includeEmpty:i=!0}=e;if(n>r)throw new Error("stop must be larger than start",n,r);this._index=t,this._start=g.from_input(n),this._stop=g.from_input(r),this._condition=i?()=>!0:t=>t.length>0,this._current}next(){if(null==this._current&&(this._current=this._index.nearby(this._start),this._condition(this._current.center)))return{value:this._current,done:!1};let t={condition:this._condition,direction:1};return this._current=this._index.find_region(this._current,t),null==this._current?{value:void 0,done:!0}:{value:this._current,done:!1}}[Symbol.iterator](){return this}}function w(t,e){return g.cmp(t,e)}function b(t,e){return g.cmp(e,t)}function E(t,e,n,r,i){const s={center:n};if(0==n.length)s.right=i,s.left=t;else{r.sort(w);let n=r[0],o=r.slice(-1)[0],c=!g.eq(n,o);e.sort(b);let l=e[0],u=e.slice(-1)[0],a=!g.eq(l,u);g.le(i,n)?s.right=i:s.right=g.flip(n),s.next=c?s.right:i,g.ge(t,l)?s.left=t:s.left=g.flip(l),s.prev=a?s.left:t}let o=g.flip(s.left),c=g.flip(s.right);return s.itv=m.from_endpoints(o,c),s}class x extends v{constructor(t){super(),this._src=t,this._cache=t.createCache()}nearby(t){const e=this._src.index.nearby(t);return e.center=[this._cache],e}}class O{constructor(t,e,n){n=n||{},this.publisher=t,this.name=e,this.init=void 0!==n.init&&n.init,this.subscriptions=[]}subscribe(t,e){if(!t||"function"!=typeof t)throw new Error("Callback not a function",t);const n=new $(this,t,e);if(this.subscriptions.push(n),this.init&&n.init){n.init_pending=!0;let t=this;Promise.resolve().then((function(){const e=t.publisher.eventifyInitEventArgs(t.name)||[];n.init_pending=!1;for(let r of e)t.trigger(r,[n],!0)}))}return n}trigger(t,e,n){let r,i;for(const s of e)if(!s.terminated){r={src:this.publisher,name:this.name,sub:s,init:n},i=s.ctx||this.publisher;try{s.callback.call(i,t,r)}catch(t){console.log(`Error in ${this.name}: ${s.callback} ${t}`)}}}unsubscribe(t){let e=this.subscriptions.indexOf(t);e>-1&&(this.subscriptions.splice(e,1),t.terminate())}}class ${constructor(t,e,n){n=n||{},this.event=t,this.name=t.name,this.callback=e,this.init=void 0===n.init?this.event.init:n.init,this.init_pending=!1,this.terminated=!1,this.ctx=n.ctx}terminate(){this.terminated=!0,this.callback=void 0,this.event.unsubscribe(this)}}function I(t){return t.__eventify_eventMap=new Map,t.__eventify_buffer=[],t}function k(t){function e(t,e){const n=t.__eventify_eventMap.get(e);if(null==n)throw new Error("Event undefined",e);return n}t.eventifyDefine=function(t,e){if(this.__eventify_eventMap.has(t))throw new Error("Event already defined",t);this.__eventify_eventMap.set(t,new O(this,t,e))},t.eventifyTrigger=function(t,e){return this.eventifyTriggerAll([{name:t,eArg:e}])},t.eventifyTriggerAlike=function(t,e){return this.eventifyTriggerAll(e.map((e=>({name:t,eArg:e}))))},t.eventifyTriggerAll=function(t){if(0==t.length)return;let n=t.map((t=>{let{name:n,eArg:r}=t,i=e(this,n),s=i.subscriptions.filter((t=>0==t.init_pending));return[i,r,s]}),this);const r=n.length,i=this.__eventify_buffer,s=this.__eventify_buffer.length;this.__eventify_buffer.length=s+r;for(let t=0;t<r;t++)i[s+t]=n[t];if(0==s){let t=this;Promise.resolve().then((function(){for(let[e,n,r]of t.__eventify_buffer)e.trigger(n,r,!1);t.__eventify_buffer=[]}))}},t.eventifySubscriptions=function(t){return e(this,t).subscriptions},t.on=function(t,n,r){return e(this,t).subscribe(n,r)},t.off=function(t){return e(this,t.name).unsubscribe(t)}}k(class{constructor(t){I(this),this._value=t,this.eventifyDefine("change",{init:!0})}eventifyInitEventArgs(t){if("change"==t)return[this._value]}get value(){return this._value}set value(t){t!=this._value&&(this._value=t,this.eventifyTrigger("change",t))}}.prototype);const C="__callback";function S(t){t[`${C}_handlers`]=[]}function L(t){let e={handler:t};return this[`${C}_handlers`].push(e),e}function N(t){let e=this[`${C}_handlers`].indexOf(t);e>-1&&this[`${C}_handlers`].splice(e,1)}function q(t){this[`${C}_handlers`].forEach((function(e){e.handler(t)}))}function F(t){const e={add_callback:L,remove_callback:N,notify_callbacks:q};Object.assign(t,e)}function P(t){if(null==t)return!1;const e=["add_callback","remove_callback"];for(const n of e){if(!(n in t))return!1;if("function"!=typeof t[n])return!1}return!0}function M(t){return"number"==typeof t&&isFinite(t)}function A(t,e){if(!M(e))throw new Error(`${t} must be finite number ${e}`)}const H={now:()=>performance.now()/1e3},G={now:()=>new Date/1e3};function D(t,e,n,r={}){let{valueFunc:i,stateFunc:s}=r;if(null!=i){return{value:i({sources:t,states:e,offset:n}),dynamic:e.map((t=>t.dymamic)).some((t=>t)),offset:n}}return null!=s?{...s({sources:t,states:e,offset:n}),offset:n}:0==e.length?{value:void 0,dynamic:!1,offset:n}:{...e[0],offset:n}}function W(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;r<t;r++)e+=n.charAt(Math.floor(52*Math.random()));return e}function T(t,e){let n,r=performance.now()+(e=Math.max(e,0));return n=setTimeout((function e(){const i=r-performance.now();i>0?n=setTimeout(e,i+1):t()}),e+1),{cancel:function(){clearTimeout(n)}}}function j(t,e){const[n,r,i,s]=t;return Math.pow(r,2)-2*i*(n-e)>=0}function z(t,e){const[n,r,i,s]=t;if(0===i&&0===r)return n!=e?[]:void 0;if(0===i)return[s+(e-n)/r];if(!1===j(t,e))return[];if(0===Math.pow(r,2)-2*i*(n-e))return[s-r/i];var o=Math.sqrt(Math.pow(r,2)-2*i*(n-e)),c=s+(-r+o)/i,l=s+(-r-o)/i;return[Math.min(c,l),Math.max(c,l)]}const U={calculate:function(t,e){const[n,r,i,s]=t,o=e-s;return[n+r*o+.5*i*Math.pow(o,2),r+i*o,i,e]},has_real_solutions:j,get_real_solutions:z,calculate_time_ranges:function(t,e){const[n,r,i,s]=t;let[o,c]=e;if(null==o&&(o=-1/0),null==c&&(c=1/0),o==-1/0&&c==1/0)return[[null,null]];if(0===r&&0===i)return n>=o&&n<=c?[[null,null]]:[];let l=[];if(-1/0<o&&l.push(...z(t,o)),c<1/0&&l.push(...z(t,c)),l=[...new Set(l)],l.sort(((t,e)=>t-e)),o==-1/0){if(0==l.length)return n<=c?[[null,null]]:[];if(1==l.length)return i>0?[]:i<0?[[null,null]]:r>0?[[null,l[0]]]:[[l[0],null]];if(2==l.length){if(i>0)return[[l[0],l[1]]];if(i<0)return[[null,l[0]],[l[1],null]]}}else if(c==1/0){if(0==l.length)return n>=o?[[null,null]]:[];if(1==l.length)return i>0?[[null,null]]:i<0?[]:r>0?[[l[0],null]]:[[null,l[0]]];if(2==l.length){if(i>0)return[[null,l[0]],[l[1],null]];if(i<0)return[[l[0],l[1]]]}}else{if(0==l.length)return[];if(1==l.length)return[];if(2==l.length)return[[l[0],l[1]]];if(3==l.length)return[[l[0],l[2]]];if(4==l.length)return[[l[0],l[1]],[l[2],l[3]]]}},check_range:function(t){if(Array.isArray(t)&&2!=t.length)throw new Error(`range must have two elements ${t}`);null==t[0]||A("low",t[0]),null==t[1]||A("high",t[1])}};class V{constructor(t={}){let{CacheClass:e=B,...n}=t;this._options=n,S(this),I(this),this.eventifyDefine("change",{init:!0}),this.index,this._CacheClass=e,this._private_cache,this._consumer_caches=[]}get options(){return this._options}get cache(){return null==this._private_cache&&(this._private_cache=new this._CacheClass(this)),this._private_cache}query(t){return this.cache.query(t)}createCache(){const t=new this._CacheClass(this);return this._consumer_caches.push(t),t}releaseCache(t){const e=this._consumer_caches.indexOf(t);e>-1&&this._consumer_caches.splice(e,1)}clearCaches(){for(const t of this._consumer_caches)t.clear();null!=this._private_cache&&this._private_cache.clear()}onchange(){this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change")}regions(t){return this.index.regions(t)}sample(t={}){if(this.index.empty())return[];let{start:e,stop:n,step:r=1}=t;if(null==e){const t=this.index.first();if(null==t[0])throw new Error("undefined start");e=t[0]}if(null==n){const t=this.index.last();if(null==t[0])throw new Error("undefined stop");n=t[0]}if(e>n)throw new Error("stop must be larger than start",e,n);const i=this.createCache(),s=function(t,e,n=1,r={}){const i=[],{include_end:s=!1}=r;if(0===n)throw new Error("Step cannot be zero.");if(t<e)for(let r=t;r<e;r+=n)i.push(r);else if(t>e)for(let r=t;r>e;r-=n)i.push(r);return s&&i.push(e),i}(e,n,r,{include_end:!0}).map((t=>[i.query(t).value,t]));return this.releaseCache(i),s}}F(V.prototype),k(V.prototype);class B{constructor(t){this._layer=t,this._nearby,this._state}get layer(){return this._layer}query(t){const e=null==this._nearby||!m.covers_endpoint(this._nearby.itv,t);if(!e&&null!=this._state&&!this._state.dynamic)return{...this._state,offset:t};e&&(this._nearby=this._layer.index.nearby(t));const n=this._nearby.center.map((e=>e.query(t))),r=D(this._nearby.center,n,t,this._layer.options);return this._state=r.dynamic?void 0:r,r}clear(){this._nearby=void 0,this._state=void 0}}class J{constructor(t){this._callback=t,this._handle,this._delay}set delay(t){if("number"!=typeof t)throw new Error(`delay must be a number ${t}`);this._delay!=t&&(this._delay=t)}get delay(){return this._delay}is_polling(){return null!=this._handle}pause(){null!=this._handle&&(this._handle.cancel(),this._handle=void 0)}poll(){this._callback(),this.pause(),this.resume()}resume(){if(null==this._handle)if(0==this._delay){const t=requestAnimationFrame(this.poll.bind(this));this._handle={cancel:()=>cancelAnimationFrame(t)}}else{const t=setTimeout(this.poll.bind(this),this._delay);this._handle={cancel:()=>clearTimeout(t)}}}}const R=new class{constructor(){this._binding_set=new Set,this._cursor_map=new Map,this._poller=new J(this.onpoll.bind(this))}bind(t,e,n){if(null==n)n=0;else if("number"!=typeof n)throw new Error(`delay must be a number ${n}`);let r={cursor:t,callback:e,delay:n};if(this._binding_set.add(r),this._cursor_map.has(t))this._cursor_map.get(t).bindings.push(r);else{let e=t.on("change",this.oncursorchange.bind(this));this._cursor_map.set(t,{sub:e,polling:!1,bindings:[r]})}return r}release(t){if(!this._binding_set.delete(t))return;const e=t.cursor,{sub:n,bindings:r}=this._cursor_map.get(e),i=r.indexOf(t);i>=0&&r.splice(i,1),0==r.length&&(e.off(n),this._cursor_map.delete(e))}oncursorchange(t,e){const n=e.src,r=t;this._cursor_map.get(n).polling=r.dynamic;const i=[...this._cursor_map.values()].filter((t=>t.polling));this.reevaluate_polling(i);const{bindings:s}=this._cursor_map.get(n);for(const t of s)t.callback(r)}onpoll(){const t=H.now();for(const[e,n]of this._cursor_map)if(n.polling){const r=e.query(t);for(const t of n.bindings)t.callback(r)}}reevaluate_polling(t){if(0==t.length)this._poller.pause();else{const e=[];for(const n of t)for(const t of n.bindings)e.push(t.delay);const n=Math.min(...e);this._poller.delay=n,this._poller.pause(),this._poller.resume()}}};function X(t,e){const n=t.ctrl.query(e);if(!M(n.value))throw new Error(`warning: cursor ctrl value must be number ${n.value}`);return n}class Y{constructor(){S(this),I(this),this.eventifyDefine("change",{init:!0})}query(){throw new Error("query() not implemented")}get value(){return this.query().value}get(){return this.query().value}eventifyInitEventArgs(t){if("change"==t)return[this.query()]}bind(t,e,n={}){return function(t,e,n){return R.bind(t,e,n)}(this,t,e)}release(t){return e=t,R.release(e);var e}onchange(){this.notify_callbacks(),this.eventifyTrigger("change",this.query())}}function K(t){return null!=t&&("now"in t&&"function"==typeof t.now)}F(Y.prototype),k(Y.prototype);const Q=function(){const t=H.now(),e=G.now();return{now:(n=H.now())=>e+(n-t)}}();function Z(t){return t.itv=m.from_input(t.itv),t.id=t.id||W(10),t}function tt(t){return!!P(t)&&("get"in t&&("function"==typeof t.get&&("update"in t&&"function"==typeof t.update)))}class et{constructor(t={}){S(this),this._map=new Map;let{insert:e}=t;null!=e&&this._update({insert:e,reset:!0})}update(t){return Promise.resolve().then((()=>{let e;return null!=t&&(e=this._update(t),this.notify_callbacks(e)),e}))}_update(t){const e=new Map;let{insert:n=[],remove:r=[],reset:i=!1}=t;if(i){for(const[t,n]of this._map.entries())e.set(t,{id:t,new:void 0,old:n});this._map=new Map}else for(const t of r){let n=this._map.get(t);null!=n&&(e.set(n.id,{id:n.id,new:void 0,old:n}),this._map.delete(t))}for(let t of n){t=Z(t);const n=e.get(t.id),r=null!=n?n.old:this._map.get(t.id);e.set(t.id,{id:t.id,new:t,old:r}),this._map.set(t.id,t)}return[...e.values()]}get(){return[...this._map.values()]}}function nt(t){return!!P(t)&&("get"in t&&("function"==typeof t.get&&("set"in t&&"function"==typeof t.set)))}F(et.prototype);class rt{constructor(t={}){S(this),this._items=[];const{value:e}=t;null!=e&&(this._items=[{id:W(10),itv:[null,null,!0,!0],type:"static",data:e}])}set(t){return Promise.resolve().then((()=>{this._items=t,this.notify_callbacks()}))}get(){return this._items}}F(rt.prototype);const it="srcprop",st=`__${it}`;function ot(t){t[`${st}`]=new Map}function ct(t){const e={};e[`${it}_register`]=function(t,e={}){let{mutable:n=!0}=e;const r=this[`${st}`];r.set(t,{init:!1,mutable:n,entity:void 0,handles:[]}),Object.defineProperty(this,t,{get:function(){return r.get(t).entity},set:function(e){this[`${it}_check`]&&(e=this[`${it}_check`](t,e)),e!=r.get(t).entity&&this[`${st}_attach`](t,e)}})},e[`${st}_attach`]=function(t,e){const n=this[`${st}`].get(t);if(n.init&&!n.mutable)throw new Error(`${t} can not be reassigned`);const r=Array.isArray(e)?e:[e];if(n.handles.length>0)for(const[t,e]of Object.entries(r))P(e)&&e.remove_callback(n.handles[t]);if(n.handles=[],n.entity=e,n.init=!0,this[`${it}_onchange`]){const e=function(e){this[`${it}_onchange`](t,e)}.bind(this);for(const t of r)P(t)&&n.handles.push(t.add_callback(e));this[`${it}_onchange`](t,"reset")}},Object.assign(t,e)}class lt{constructor(){this._array=[]}get size(){return this._array.length}get array(){return this._array}indexOf(t){const e=g.from_input(t);let n=0,r=this._array.length-1;for(;n<=r;){const t=Math.floor((n+r)/2);let i=this._array[t];if(g.eq(i,e))return[!0,t];g.lt(i,e)?n=t+1:r=t-1}return[!1,n]}geIndexOf(t){let[e,n]=this.indexOf(t);return n<this._array.length?n:-1}leIndexOf(t){let[e,n]=this.indexOf(t);return n=e?n:n-1,n>=0?n:-1}gtIndexOf(t){let[e,n]=this.indexOf(t);return n=e?n+1:n,n<this._array.length?n:-1}ltIndexOf(t){let[e,n]=this.indexOf(t);return n-=1,n>=0?n:-1}update(t=[],e=[]){let n=[];for(let e of t){let[t,r]=this.indexOf(e);t&&n.push(r)}for(let t of n)this._array[t]=void 0;let r=n.length>0,i=e.length>0;i&&function(t,e){const n=t.length,r=e.length;t.length+=r;for(let i=0;i<r;i++)t[n+i]=e[i]}(this._array,e),(r||i)&&this._array.sort(g.cmp),r&&(this._array.length-=n.length),i&&function(t){let e=0;for(;!(e+1>=t.length);)g.eq(t[e],t[e+1])?t.splice(e+1,1):e+=1}(this._array)}get_by_index(t){if(t>-1&&t<this._array.length)return this._array[t]}lookup(t){null==t&&(t=[null,null,!0,!0]);let[e,n]=g.from_interval(t),r=this.geIndexOf(e),i=this.leIndexOf(n);return-1==r||-1==i?[]:this._array.slice(r,i+1)}lt(t){return this.get_by_index(this.ltIndexOf(t))}le(t){return this.get_by_index(this.leIndexOf(t))}get(t){let[e,n]=this.indexOf(t);if(e)return this._array[n]}gt(t){return this.get_by_index(this.gtIndexOf(t))}ge(t){return this.get_by_index(this.geIndexOf(t))}}const{LOW_CLOSED:ut,LOW_OPEN:at,HIGH_CLOSED:ht,HIGH_OPEN:ft}=g.types,_t=[ut,at,ht,ft];class dt{constructor(){this._map=new Map([[ut,new Set],[at,new Set],[ht,new Set],[ft,new Set]])}add(t){const[e,n]=t;return this._map.get(n).add(e)}has(t){const[e,n]=t;return this._map.get(n).has(e)}get(t){const[e,n]=t;return this._map.get(n).get(e)}list(){const t=_t.map((t=>[...this._map.get(t).values()].map((e=>[e,t]))));return[].concat(...t)}}const pt="low",gt="active",mt="high";class vt{constructor(){this._map=new Map([[ut,new Map],[at,new Map],[ht,new Map],[ft,new Map]])}get_items_by_role(t,e){const[n,r]=t,i=this._map.get(r).get(n);return null!=i?i[e]:[]}register(t,e,n){const[r,i]=t,s=this._map.get(i);s.has(r)||s.set(r,{low:[],active:[],high:[]});const o=s.get(r),c=o[pt].length+o[mt].length==0;-1==o[n].findIndex((t=>t.id==e.id))&&o[n].push(e);const l=o[pt].length+o[mt].length==0;return c&&!l}unregister(t,e){const[n,r]=t,i=this._map.get(r),s=i.get(n);if(null!=s){const t=s[pt].length+s[mt].length==0;for(const t of[pt,gt,mt]){let n=s[t].findIndex((t=>t.id==e.id));n>-1&&s[t].splice(n,1)}const r=s[pt].length+s[mt].length==0;if(!t&&r)return i.delete(n),!0}return!1}}class yt extends v{constructor(t){if(super(),!tt(t)&&!nt(t))throw new Error(`stateProvider must be collectionProvider or variableProvider ${t}`);this._sp=t,this._initialise(),this.refresh()}get src(){return this._sp}_initialise(){this._itemsmap=new vt,this._endpoints=new lt,this._index=[]}refresh(t){const e=new dt,n=new dt;let r,i=[],s=[];if(null==t)i=this.src.get()||[],this._initialise();else for(const e of t)null!=e.new&&i.push(e.new),null!=e.old&&s.push(e.old);for(const t of s)for(const n of this._endpoints.lookup(t.itv)){this._itemsmap.unregister(n,t)&&e.add(n)}for(const t of i){const[e,i]=g.from_interval(t.itv);r=this._itemsmap.register(e,t,pt),r&&n.add(e),r=this._itemsmap.register(i,t,mt),r&&n.add(i)}this._endpoints.update(e.list(),n.list());const o=new Set;for(const t of this._endpoints.array){for(let e of this._itemsmap.get_items_by_role(t,pt))o.add(e);for(let e of o)this._itemsmap.register(t,e,gt);for(let e of this._itemsmap.get_items_by_role(t,mt))o.delete(e)}}_covers(t){const e=g.from_input(t),n=this._endpoints.le(e)||g.NEG_INF,r=this._endpoints.ge(e)||g.POS_INF;if(g.eq(n,r))return this._itemsmap.get_items_by_role(n,gt);{const t=this._itemsmap.get_items_by_role(n,gt),e=this._itemsmap.get_items_by_role(r,gt),i=new Set(t.map((t=>t.id)));return e.filter((t=>i.has(t.id)))}}nearby(t){const e=g.from_input(t);let n=this._covers(e);const r=[],i=[];for(const t of n){const[e,n]=g.from_interval(t.itv);r.push(n),i.push(e)}let s,o=e;for(;!(o=this._endpoints.lt(o)||g.NEG_INF,null==o[0]||(s=this._itemsmap.get_items_by_role(o,mt),s.length>0)););let c=e;for(;!(c=this._endpoints.gt(c)||g.POS_INF,null==c[0]||(s=this._itemsmap.get_items_by_role(c,pt),s.length>0)););return E(o,i,n,r,c)}}class wt{constructor(t){this._itv=t}get itv(){return this._itv}state(t){throw new Error("not implemented")}query(t){return m.covers_point(this._itv,t)?{...this.state(t),offset:t}:{value:void 0,dynamic:!1,offset:t}}}class bt extends wt{constructor(t,e){super(t),this._value=e}state(){return{value:this._value,dynamic:!1}}}class Et extends wt{constructor(t,e){super(t),this._vector=e}state(t){const[e,n,r,i]=U.calculate(this._vector,t);return{value:e,dynamic:0!=n||0!=r}}}function xt(t){return Math.pow(t,2)}class Ot extends wt{constructor(t,e){super(t);let{v0:n,v1:r,easing:i}=e,[s,o]=this._itv.slice(0,2);this._dynamic=r-n!=0,this._trans=function(t){return t-=s,t/=parseFloat(o-s),"ease-in"==i?t=xt(t):"ease-out"==i?t=function(t){return 1-xt(1-t)}(t):"ease-in-out"==i&&(t=function(t){return t<.5?xt(2*t)/2:(2-xt(2*(1-t)))/2}(t)),t=Math.max(t,0),t=Math.min(t,1),n+(r-n)*t}}state(t){return{value:this._trans(t),dynamic:this._dynamic}}}class $t extends wt{constructor(t,e){super(t),this._trans=function(t){if(t.length<1)return function(){};if(1==t.length)return function(){return t[0][0]};const e=[...t].sort(((t,e)=>t[1]-e[1]));return function(t){if(t<=e[0][1]){const[n,r]=e[0],[i,s]=e[1];return n+(t-r)*(i-n)/(s-r)}if(t>=e[e.length-1][1]){const[n,r]=e[e.length-2],[i,s]=e[e.length-1];return n+(t-r)*(i-n)/(s-r)}for(let n=0;n<e.length-1;n++)if(t>=e[n][1]&&t<=e[n+1][1]){const[r,i]=e[n],[s,o]=e[n+1];return r+(t-i)*(s-r)/(o-i)}}}(e)}state(t){return{value:this._trans(t),dynamic:!0}}}function It(t,e){let{type:n="static",data:r}=e;return"static"==n?new bt(t,r):"transition"==n?new Ot(t,r):"interpolation"==n?new $t(t,r):"motion"==n?new Et(t,r):void console.log("unrecognized segment type",n)}function kt(t){if(null==t)return!1;if(!(t instanceof V))return!1;const e=Object.getOwnPropertyDescriptor(t,"src");return 0!=!(!e?.get||!e?.set)}function Ct(t={}){const{src:e,...n}=t,r=new V({CacheClass:St,...n});return ot(r),ct(r),r.srcprop_register("src"),r.srcprop_check=function(t,e){if("src"==t){if(!tt(e)&&!nt(e))throw new Error(`"src" must collectionProvider or variableProvider ${e}`);return e}},r.srcprop_onchange=function(t,e){"src"==t&&("reset"==e&&(tt(r.src)||nt(r.src))&&(r.index=new yt(r.src)),null!=r.index&&(tt(r.src)?r.index.refresh(e):nt(r.src)&&r.index.refresh(),r.onchange()))},r.get_items=function(t){return[...r.index.nearby(t).center]},r.update=function(t){return Lt(r,t)},r.append=function(t,e){return function(t,e,n){const r=g.from_input(n),i=e.filter((t=>{const e=g.from_interval(t.itv)[1];return g.ge(e,r)})).map((t=>{if(m.covers_endpoint(t.itv,r)){const e={...t};return e.itv=[n,t.itv[1],!0,t.itv[3]],e}return t})),s=t.index.nearby(n).center.map((t=>{const e={...t};return e.itv=[t.itv[0],n,t.itv[2],!1],e})),o=t.src.get().filter((t=>{const e=g.from_interval(t.itv)[0];return g.gt(e,r)})).map((t=>t.id)),c=[...s,...i];return Lt(t,{remove:o,insert:c,reset:!1})}(r,t,e)},r.src=e,r}class St{constructor(t,e={}){this._layer=t,this._nearby=void 0,this._segment=void 0,this._options=e}get src(){return this._layer}get segment(){return this._segment}query(t){if(null==this._nearby||!m.covers_endpoint(this._nearby.itv,t)){this._nearby=this._layer.index.nearby(t);let{itv:e,center:n}=this._nearby;this._segments=n.map((t=>It(e,t)))}const e=this._segments.map((e=>e.query(t)));return D(this._segments,e,t,this._layer.options)}clear(){this._nearby=void 0,this._segment=void 0}}function Lt(t,e={}){if(tt(t.src))return t.src.update(e);if(nt(t.src)){let{insert:n=[],remove:r=[],reset:i=!1}=e;if(i)return t.src.set(n);{const e=new Map((t.src.get()||[]).map((t=>[t.id,t])));r.forEach((t=>e.delete(t))),n.forEach((t=>e.set(t.id,t)));const i=Array.from(e.values());return t.src.set(i)}}}function Nt(t){return t instanceof Y&&null==t.ctrl&&null==t.src}function qt(t=Q){if(!K(t))throw new Error(`src must be clockProvider ${t}`);const e=new Y;return e.query=function(e){return{value:t.now(e),dynamic:!0,offset:e}},e}const Ft=U.check_range;function Pt(t,e,n={}){const r=new Y;let i,s;return ot(r),ct(r),r.srcprop_register("ctrl"),r.srcprop_register("src"),r.srcprop_check=function(t,e=Q){if("ctrl"==t){if(K(e)&&(e=qt(e)),!Nt(e))throw new Error(`"ctrl" property must be a clock cursor ${e}`);return e}if("src"==t){if((tt(e)||nt(e))&&(e=Ct({src:e})),!kt(e))throw new Error(`"src" property must be an item layer ${e}`);return e}},r.srcprop_onchange=function(t,e){null!=r.src&&null!=r.ctrl&&("src"==t&&("reset"==e?i=r.src.createCache():i.clear()),function(){s&&s.cancel();const t=r.ctrl.value,e=r.src.index.nearby(t).itv[1]||1/0;if(e==1/0)return;s=T((()=>{r.onchange()}),1e3*(e-t))}(),r.onchange())},r.query=function(t){const e=r.ctrl.query(t).value;return i.query(e)},r.set=function(t){return function(t,e){let n=[];null!=e&&(n=[{id:W(10),itv:[null,null,!0,!0],type:"static",data:e}]);return Mt(t,n)}(r,t)},r.motion=function(t){return function(t,e={}){let{value:n,offset:r}=t.query();"number"==typeof n&&isFinite(n)||(n=0);const{position:i=n,velocity:s=0,acceleration:o=0,timestamp:c=r,range:l=[null,null]}=e;Ft(l),A("position",i),A("velocity",s),A("acceleration",o),A("timestamp",c);const u=[],a=(0,U.calculate_time_ranges)([i,s,o,c],l),h=t.ctrl.value,f=a.find((t=>{const e=t[0]??-1/0,n=t[1]??1/0;return e<=h&&h<=n}));if(null!=f){const[t,e]=f;u.push({id:W(10),itv:[t,e,!0,!0],type:"motion",data:[i,s,o,c]}),null!=t&&u.push({id:W(10),itv:[null,t,!0,!1],type:"static",data:l[0]}),null!=e&&u.push({id:W(10),itv:[e,null,!1,!0],type:"static",data:l[1]})}else{const t=i<l[0]?l[0]:l[1];u.push({id:W(10),itv:[null,null,!0,!0],type:"static",data:t})}return Mt(t,u)}(r,t)},r.transition=function({target:t,duration:e,easing:n}){return function(t,e,n,r){const{value:i,offset:s}=t.query(),o=e,c=s+n;A("position",i),A("position",o),A("position",s),A("position",c);let l=[{id:W(10),itv:[null,s,!0,!1],type:"static",data:i},{id:W(10),itv:[s,c,!0,!0],type:"transition",data:{v0:i,v1:o,t0:s,t1:c,easing:r}},{id:W(10),itv:[c,null,!1,!0],type:"static",data:o}];return Mt(t,l)}(r,t,e,n)},r.interpolate=function({tuples:t,duration:e}){return function(t,e,n){const r=t.ctrl.value;e=e.map((([t,e])=>(A("ts",e),A("val",t),[t,r+e])));const i=It([null,null,!0,!0],{type:"interpolation",data:e}),s=r,o=s+n,c=i.state(s).value,l=i.state(o).value,u=[{id:W(10),itv:[-1/0,s,!0,!1],type:"static",data:c},{id:W(10),itv:[s,o,!0,!1],type:"interpolation",data:e},{id:W(10),itv:[o,1/0,!0,!0],type:"static",data:l}];return Mt(t,u)}(r,t,e)},r.options=n,r.ctrl=t,r.src=e,r}function Mt(t,e){const{record:n=!1}=t.options;return n?t.src.append(e,t.ctrl.value):t.src.update({insert:e,reset:!0})}function At(t,e){const n=new Y;let r,i,s;function o(){n.onchange(),function(){i&&i.cancel();s&&clearInterval(s);const t=X(n),e=t.value,r=t.offset;if(!t.dynamic)return;const c=n.src.index.nearby(e),l=c.itv[0]??-1/0,u=c.itv[1]??1/0;if(l==-1/0&&u==1/0)return;if(Nt(n.ctrl)){return void(i=T((()=>{o()}),1e3*(u-e)))}if(Nt(n.ctrl.ctrl)&&kt(n.ctrl.src)){const t=n.ctrl.src.get_items(r);let s;if(1==t.length){const n=t[0];if("motion"==n.type){const[t,r,c,a]=n.data;if(0==c){s=r>0?u:l;return void(i=T((()=>{o()}),1e3*(s-e)))}}else if("transition"==n.type){const{v0:t,v1:r,t0:c,t1:a,easing:h="linear"}=n.data;if("linear"==h){s=(r-t)/(a-c)>0?Math.min(u,r):Math.max(l,r);return void(i=T((()=>{o()}),1e3*(s-e)))}}}}!function(t){s=setInterval((()=>{!function(t){let e=n.ctrl.value;m.covers_endpoint(t,e)||o()}(t)}),100)}(c.itv)}()}return ot(n),ct(n),n.srcprop_register("ctrl"),n.srcprop_register("src"),n.srcprop_check=function(t,e=Q){if("ctrl"==t){if(K(e)&&(e=qt(e)),e instanceof Y)return e;throw new Error(`ctrl must be clockProvider or Cursor ${e}`)}if("src"==t){if((tt(e)||nt(e))&&(e=Ct({src:e})),e instanceof V)return e;throw new Error(`src must be Layer ${e}`)}},n.srcprop_onchange=function(t,e){null!=n.src&&null!=n.ctrl&&("src"==t&&("reset"==e?r=n.src.createCache():r.clear()),o())},n.query=function(t){const e=X(n,t).value;return r.query(e)},n.ctrl=t,n.src=e,n}class Ht extends v{constructor(t){super(),this._cursor=t}nearby(t){return{itv:[null,null,!0,!0],center:[this._cursor],left:g.NEG_INF,prev:g.NEG_INF,right:g.POS_INF,next:g.POS_INF}}}const Gt={sum:{valueFunc:function(t){return t.states.map((t=>t.value)).reduce(((t,e)=>t+e),0)}},stack:{stateFunc:function(t){return{...t.states[0]}}},array:{valueFunc:function(t){return t.states.map((t=>t.value))}}};function Dt(t,e){return g.cmp(t,e)}function Wt(t,e){return g.cmp(e,t)}class Tt extends v{constructor(t){super(),this._sources=t,this._caches=new Map(t.map((t=>[t,t.createCache()])))}nearby(t){t=g.from_input(t);const e=[],n=[],r=[],i=[],s=[];for(let o of this._sources){let c=o.index.nearby(t),l=o.index.find_region(c,{direction:-1}),u=o.index.find_region(c,{direction:1});if(null!=l&&e.push(g.from_interval(l.itv)[1]),null!=u&&n.push(g.from_interval(u.itv)[0]),c.center.length>0){r.push(this._caches.get(o));let[t,e]=g.from_interval(c.itv);i.push(e),s.push(t)}}n.sort(Dt);const o=n[0]||g.POS_INF;e.sort(Wt);return E(e[0]||g.NEG_INF,s,r,i,o)}}class jt extends v{constructor(t,e={}){super(),this._index=t;let{condition:n=t=>t.length>0}=e;this._condition=n}nearby(t){t=g.from_input(t);const e=this._index.nearby(t);let n=this._condition(e.center);const r=t=>this._condition(t)!=n;let i,s,o=this._index.find_region(e,{direction:1,condition:r});null!=o&&(i=g.from_interval(o.itv)[0]);let c=this._index.find_region(e,{direction:-1,condition:r});null!=c&&(s=g.from_interval(c.itv)[1]),s=s||g.NEG_INF,i=i||g.POS_INF;const l=g.flip(s),u=g.flip(i);return{itv:m.from_endpoints(l,u),center:[(a=n,{query:function(t){return{value:a,dynamic:!1,offset:t}}})],left:s,right:i};var a}}function zt(t){if(!(t instanceof V))throw new Error(`must be layer ${t}`);return{eval:function(e){for(let n of e)if(n.src==t)return!0;return!1}}}function Ut(t,{shift:e=0,scale:n=1}){if(null==t||!isFinite(t))return t;if("number"==typeof t)return t*n+e;if(Array.isArray(t)&&t.length>1){let[r,i]=t;return g.from_input([r*n+e,i])}}function Vt(t,{shift:e=0,scale:n=1}){if(null==t||!isFinite(t))return t;if("number"==typeof t)return(t-e)/n;if(Array.isArray(t)&&t.length>1){let[r,i]=t;return g.from_input([(r-e)/n,i])}}zt.and=function(...t){return{eval:function(e){return t.every((t=>t.eval(e)))}}},zt.or=function(...t){return{eval:function(e){return t.some((t=>t.eval(e)))}}},zt.xor=function(t,e){return{eval:function(n){return t.eval(n)!=e.eval(n)}}},zt.not=function(t){return{eval:function(e){return!t.eval(e)}}};class Bt extends v{constructor(t,e={}){super(),this._layer=t,this._cache=t.createCache(),this._options=e,this._transform_cache={query:function(t){return{...this._cache.query(Vt(t,this._options)),offset:t}}.bind(this)}}nearby(t){t=g.from_input(t);const e=this._layer.index.nearby(Vt(t,this._options)),n=e.itv.slice();return n[0]=Ut(e.itv[0],this._options),n[1]=Ut(e.itv[1],this._options),{itv:n,left:Ut(e.left,this._options),right:Ut(e.right,this._options),center:e.center.map((()=>this._transform_cache))}}}function Jt(t,e={}){if(!(t instanceof Y))throw new Error(`src must be a Cursor ${t}`);const n=new Y;return n.query=function(){return function(t,e={}){const{valueFunc:n,stateFunc:r}=e;return null!=n?(t.value=n(t.value),t):null!=r?r(t):t}(t.query(),e)},Nt(t)||(n.ctrl=t.ctrl,n.ctrl.add_callback((()=>{n.onchange()}))),Nt(t)||(n.src=t.src),t.add_callback((()=>{n.onchange()})),n}function Rt(t=Q,e,n){if(K(t)&&(t=qt(t)),!Nt(t)&&!Nt(t.ctrl))throw new Error(`ctrl or ctrl.ctrl must be a clock cursor ${t}`);if(!(e instanceof Y))throw new Error(`src must be a cursor ${e}`);if(Nt(e))throw new Error(`src can not be a clock cursor ${e}`);if(!kt(e.src))throw new Error(`cursor src must be itemslayer ${e.src}`);if(!kt(n))throw new Error(`dst must be a itemslayer ${n}`);const r=e.src.src,i=n.src;if(r===i)throw new Error("src and dst can not have the same stateProvider");let s=!1;function o(){const e=s;if(s=!1,Nt(t))s=!0;else if(Nt(t.ctrl)){const e=t.ctrl.value,n=t.src.index.nearby(e).center;if(1==n.length&&"motion"==n[0].type){const[t,e,r,i]=n[0].data;(e>0||0==e&&r>0)&&(s=!0)}}!e&&s?(console.log("start recording"),c()):e&&!s&&function(){console.log("stop recording");const e=H.now(),r=t.query(e).value,i=n.index.nearby(r).center,s=i.map((t=>{const e={...t};return e.itv[1]=r,e.itv[3]=!1,e}));i.length>0&&n.update({insert:s,reset:!1})}()}function c(){console.log("record");const i=H.now(),s=e.query(i).offset,o=t.query(i).value;let c=r.get();const l=o-s;if(0!=l){const t=c.map((t=>function(t,e){t={...t},t.itv[0]=null!=t.itv[0]?t.itv[0]+e:null,t.itv[1]=null!=t.itv[1]?t.itv[1]+e:null,"motion"==t.type?t.data.timestamp=t.data.timestamp+e:"transition"==t.type&&(t.data.t0=t.data.t0+e,t.data.t1=t.data.t1+e);return t}(t,l)));n.append(t,o)}else n.append(c,s)}return r.add_callback((function(){s&&c()})),t.add_callback(o),o(),{}}function Xt(t,e){const n=t.id,r=t.type;let i="";if(null!=t.itv){const[e,n,r,s]=t.itv;i=`[${null==e?"null":e.toFixed(2)},${null==n?"null":n.toFixed(2)},${r},${s}]`}let s=`<span class="item-id">${n}</span>`,o=`<span class="item-itv">${i}</span>`,c=`<span class="item-type">${r}</span>`,l=`<span class="item-data">${JSON.stringify(t.data)}</span>`;const{delete_allowed:u=!1}=e;return u?`\n        <div>\n            <button id="delete">X</button>\n            ${s}: ${c} ${o} ${l}\n        </div>`:`\n        <div>\n            ${s}: ${c} ${o} ${l}\n        </div>`}class Yt{constructor(t,e,n={}){this._sp=t,this._elem=e,this._handle=this._sp.add_callback(this._onchange.bind(this));let r={toString:Xt};this._options={...r,...n},this._options.delete_allowed&&e.addEventListener("click",(t=>{const e=t.target.closest("#delete");if(e){const n=e.closest(".list-item");n&&(this._sp.update({remove:[n.id]}),t.stopPropagation())}})),this._onchange()}_onchange(){const t=this._sp.get()||[];t.sort(((t,e)=>{let n=g.from_interval(t.itv)[0],r=g.from_interval(e.itv)[0];return g.cmp(n,r)})),this._elem.replaceChildren();const{toString:e}=this._options;for(let n of t){let t=this._elem.querySelector(`#${n.id}`);null==t&&(t=document.createElement("div"),t.setAttribute("id",n.id),t.classList.add("list-item"),this._elem.appendChild(t)),t.innerHTML=e(n,this._options)}}}function Kt(t={}){let{src:e,insert:n,value:r,...i}=t;return e instanceof V?e:(null==e&&(e=null!=r?new rt({value:r}):new et({insert:n})),Ct({src:e,...i}))}return t.CollectionProvider=et,t.Cursor=Y,t.Layer=V,t.NearbyIndexBase=v,t.VariableProvider=rt,t.boolean=function(t){const e=new V;return e.index=new jt(t.index),t.add_callback((t=>{e.onchange(t)})),e.src=t,e},t.clock=function(t){return qt(t)},t.cursor_transform=Jt,t.layer=Kt,t.layer_from_cursor=function(t){if(!(t instanceof Y))throw new Error(`src must be a Cursor ${t}`);const e=new V;return e.index=new Ht(t),t.add_callback((t=>{e.onchange(t)})),e.src=t,e},t.layer_transform=function(t,e={}){if(!(t instanceof V))throw new Error(`src must be a Layer ${t}`);const n={};var r,i;n.valueFunc=(r=e.valueFunc,function({sources:t,states:e,offset:n}){return r(e[0].value)}),n.stateFunc=(i=e.stateFunc,function({sources:t,states:e,offset:n}){return i(e[0])});const s=new V(n);return s.index=new x(t),s.src=t,s.src.add_callback((t=>{s.onchange(t)})),s},t.local_clock=H,t.logical_expr=zt,t.logical_merge=function(t,e={}){const{expr:n}=e;let r;n&&(r=t=>n.eval(t));const i=new V,s=new Tt(t);return i.index=new jt(s,{condition:r}),t.map((t=>t.add_callback(i.onchange))),i.sources=t,i},t.merge=function(t,e={}){let{type:n="",...r}=e;n in Gt&&(r=Gt[n]);const i=new V(r);return ot(i),ct(i),i.srcprop_register("sources"),i.srcprop_check=function(t,e){if("sources"==t){if(!Array.isArray(e))throw new Error(`sources must be array ${e}`);if(!e.map((t=>t instanceof V)).every((t=>t)))throw new Error(`sources must all be layers ${e}`)}return e},i.srcprop_onchange=function(t,e){"sources"==t&&("reset"==e&&(i.index=new Tt(i.sources)),i.onchange())},i.sources=t,i},t.playback=function(t={}){let{ctrl:e,...n}=t;return At(e,Kt(n))},t.recorder=function(t={}){let{ctrl:e=Q,src:n,dst:r}=t;return Rt(e,n,r)},t.render_cursor=function(t,e,n={}){const{delay:r=200,render:i,novalue:s}=n,o=document.querySelector(e);return t.bind((function(t){null==t.value&&null!=s&&(t.value=s),null!=i?i(t,o):o.textContent=null!=t.value?`${t.value}`:""}),r)},t.render_provider=function(t,e,n={}){const r=document.querySelector(e);return new Yt(t,r,n)},t.skew=function(t,e){return Jt(t,{valueFunc:function(t){return t+e}})},t.timeline_transform=function(t,e={}){const n=new V;return ot(n),ct(n),n.srcprop_register("src"),n.srcprop_check=function(t,e){if("src"==t){if(!(e instanceof V))throw new Error(`"src" must be Layer ${e}`);return e}},n.srcprop_onchange=function(t,r){"src"==t&&("reset"==r&&(this.index=new Bt(this.src,e)),n.onchange())},n.src=t,n},t.variable=function(t={}){let{clock:e,...n}=t;return Pt(e,Kt(n))},t}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGVsYXllcnMuaWlmZS5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL2ludGVydmFscy5qcyIsIi4uLy4uL3NyYy9uZWFyYnlfYmFzZS5qcyIsIi4uLy4uL3NyYy91dGlsL2FwaV9ldmVudGlmeS5qcyIsIi4uLy4uL3NyYy91dGlsL2FwaV9jYWxsYmFjay5qcyIsIi4uLy4uL3NyYy91dGlsL2NvbW1vbi5qcyIsIi4uLy4uL3NyYy9sYXllcl9iYXNlLmpzIiwiLi4vLi4vc3JjL3V0aWwvY3Vyc29yX21vbml0b3IuanMiLCIuLi8uLi9zcmMvY3Vyc29yX2Jhc2UuanMiLCIuLi8uLi9zcmMvcHJvdmlkZXJfY2xvY2suanMiLCIuLi8uLi9zcmMvcHJvdmlkZXJfY29sbGVjdGlvbi5qcyIsIi4uLy4uL3NyYy9wcm92aWRlcl92YXJpYWJsZS5qcyIsIi4uLy4uL3NyYy91dGlsL2FwaV9zcmNwcm9wLmpzIiwiLi4vLi4vc3JjL3V0aWwvc29ydGVkYXJyYXkuanMiLCIuLi8uLi9zcmMvbmVhcmJ5X2luZGV4LmpzIiwiLi4vLi4vc3JjL3V0aWwvc2VnbWVudHMuanMiLCIuLi8uLi9zcmMvbGF5ZXJfaXRlbXMuanMiLCIuLi8uLi9zcmMvY3Vyc29yX2Nsb2NrLmpzIiwiLi4vLi4vc3JjL2N1cnNvcl92YXJpYWJsZS5qcyIsIi4uLy4uL3NyYy9jdXJzb3JfcGxheWJhY2suanMiLCIuLi8uLi9zcmMvb3BzL2xheWVyX2Zyb21fY3Vyc29yLmpzIiwiLi4vLi4vc3JjL29wcy9tZXJnZS5qcyIsIi4uLy4uL3NyYy9vcHMvYm9vbGVhbi5qcyIsIi4uLy4uL3NyYy9vcHMvbG9naWNhbF9tZXJnZS5qcyIsIi4uLy4uL3NyYy9vcHMvdGltZWxpbmVfdHJhbnNmb3JtLmpzIiwiLi4vLi4vc3JjL29wcy90cmFuc2Zvcm0uanMiLCIuLi8uLi9zcmMvb3BzL3JlY29yZGVyLmpzIiwiLi4vLi4vc3JjL3V0aWwvcHJvdmlkZXJfdmlld2VyLmpzIiwiLi4vLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gICAgXG4gICAgSU5URVJWQUwgRU5EUE9JTlRTXG5cbiAgICAqIGludGVydmFsIGVuZHBvaW50cyBhcmUgZGVmaW5lZCBieSB0cmlwbGV0IFt2YWx1ZSwgdHlwZV1cbiAgICAqXG4gICAgKiAgIHRoZXJlIGFyZSA0IHR5cGVzIG9mIGludGVydmFsIGVuZHBvaW50cyBcbiAgICAqICAgLSB2KSAtIGhpZ2ggZW5kcG9pbnQgYXQgdiwgbm90IGluY2x1c2l2ZVxuICAgICogICAtIHZdIC0gaGlnaCBlbmRwb2ludCBhdCB2LCBpbmNsdXNpdmVcbiAgICAqICAgLSBbdiAtIGxvdyBlbmRwb2ludCBhdCB2LCBub3QgaW5jbHVzaXZlXG4gICAgKiAgIC0gKHYgLSBsb3cgZW5kcG9pbnQgYXQgdiwgaW5jbHVzaXZlXG4gICAgKiBcbiAgICAqICAgQSBzaW5ndWxhciBpbnRlcnZhbCBbMiwyLHRydWUsdHJ1ZV0gd2lsbCBoYXZlIGVuZHBvaW50cyBbMiBhbmQgMl1cbiAgICAqIFxuICAgICogICBBZGRpdGlvbmFsbHksIHRvIHNpbXBsaWZ5IGNvbXBhcmlzb24gYmV0d2VlbiBlbmRwb2ludHMgYW5kIG51bWJlcnNcbiAgICAqICAgd2kgaW50cm9kdWNlIGEgc3BlY2lhbCBlbmRwb2ludCB0eXBlIC0gVkFMVUVcbiAgICAqIFxuICAgICogICBUaHVzIHdlIGRlZmluZSA1IHR5cGVzIG9mIGVuZHBvaW50c1xuICAgICogXG4gICAgKiAgIEhJR0hfT1BFTiA6IHYpXG4gICAgKiAgIEhJR0hfQ0xPU0VEOiB2XVxuICAgICogICBWQUxVRTogdlxuICAgICogICBMT1dfQ0xPU0VEOiBbdlxuICAgICogICBMT1dfT1BFTjogKHYpXG4gICAgKiBcbiAgICAqICAgRm9yIHRoZSBwdXJwb3NlIG9mIGVuZHBvaW50IGNvbXBhcmlzb24gd2UgbWFpbnRhaW5cbiAgICAqICAgYSBsb2dpY2FsIG9yZGVyaW5nIGZvciBlbmRwb2ludHMgd2l0aCB0aGUgc2FtZSB2YWx1ZS5cbiAgICAqICAgXG4gICAgKiAgIHYpIDwgW3YgPT0gdiA9PSB2XSA8ICh2XG4gICAgKiAgXG4gICAgKiAgIFdlIGFzc2lnbiBvcmRlcmluZyB2YWx1ZXNcbiAgICAqICAgXG4gICAgKiAgIEhJR0hfT1BFTjogLTFcbiAgICAqICAgSElHSF9DTE9TRUQsIFZBTFVFLCBMT1dfQ0xPU0VEOiAwXG4gICAgKiAgIExPV19PUEVOOiAxXG4gICAgKiBcbiAgICAqICAgdmFsdWUgY2FuIGJlIG51bGwgb3IgbnVtYmVyLiBJZiB2YWx1ZSBpcyBudWxsLCB0aGlzIG1lYW5zIHVuYm91bmRlZCBlbmRwb2ludFxuICAgICogICBpLmUuIG5vIG90aGVyIGVuZHBvaW50IGNhbiBiZSBsYXJnZXIgb3Igc21hbGxlci5cbiAgICAqICAgYW4gdW5ib3VuZGVkIGxvdyBlbmRwb2ludCBtZWFucyAtSW5maW5pdHlcbiAgICAqICAgYW4gdW5ib3VuZGVkIGhpZ2ggZW5kcG9pbnQgbWVhbnMgSW5maW5pdHlcbiAgICAqXG4qL1xuXG5mdW5jdGlvbiBpc051bWJlcihuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBuID09IFwibnVtYmVyXCI7XG59XG5cbmNvbnN0IEVQX1RZUEUgPSBPYmplY3QuZnJlZXplKHtcbiAgICBISUdIX09QRU46IFwiKVwiLFxuICAgIEhJR0hfQ0xPU0VEOiBcIl1cIixcbiAgICBWQUxVRTogXCJcIixcbiAgICBMT1dfQ0xPU0VEOiBcIltcIixcbiAgICBMT1dfT1BFTjogXCIoXCJcbn0pO1xuXG5mdW5jdGlvbiBpc19FUF9UWVBFKHZhbHVlKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoRVBfVFlQRSkuaW5jbHVkZXModmFsdWUpO1xufVxuXG5jb25zdCBFUF9PUkRFUiA9IG5ldyBNYXAoW1xuICAgIFtFUF9UWVBFLkhJR0hfT1BFTiwgLTFdLFxuICAgIFtFUF9UWVBFLkhJR0hfQ0xPU0VELCAwXSxcbiAgICBbRVBfVFlQRS5WQUxVRSwgMF0sXG4gICAgW0VQX1RZUEUuTE9XX0NMT1NFRCwgMF0sXG4gICAgW0VQX1RZUEUuTE9XX09QRU4sIDFdXG5dKTtcblxuZnVuY3Rpb24gZW5kcG9pbnRfaXNfbG93KGVwKSB7XG4gICAgcmV0dXJuIGVwWzFdID09IEVQX1RZUEUuTE9XX0NMT1NFRCB8fCBlcFsxXSA9PSBFUF9UWVBFLkxPV19PUEVOO1xufVxuXG5mdW5jdGlvbiBlbmRwb2ludF9pc19oaWdoKGVwKSB7XG4gICAgcmV0dXJuIGVwWzFdID09IEVQX1RZUEUuSElHSF9DTE9TRUQgfHwgZXBbMV0gPT0gRVBfVFlQRS5ISUdIX09QRU47XG59XG5cbi8qXG4gICAgcmV0dXJuIGVuZHBvaW50IGZyb20gaW5wdXRcbiovXG5mdW5jdGlvbiBlbmRwb2ludF9mcm9tX2lucHV0KGVwKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVwKSkge1xuICAgICAgICBlcCA9IFtlcCwgRVBfVFlQRS5WQUxVRV07XG4gICAgfVxuICAgIGlmIChlcC5sZW5ndGggIT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbmRwb2ludCBtdXN0IGJlIGEgbGVuZ3RoLTIgYXJyYXlcIiwgZXApO1xuICAgIH1cbiAgICBsZXQgW3YsdF0gPSBlcDtcbiAgICBpZiAoIWlzX0VQX1RZUEUodCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5kcG9pbnQgdHlwZVwiLCB0KTtcbiAgICB9XG4gICAgaWYgKHYgPT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiBbbnVsbCwgRVBfVFlQRS5MT1dfQ0xPU0VEXTtcbiAgICB9XG4gICAgaWYgKHYgPT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBFUF9UWVBFLkhJR0hfQ0xPU0VEXTtcbiAgICB9XG4gICAgaWYgKHYgPT0gdW5kZWZpbmVkIHx8IHYgPT0gbnVsbCB8fCBpc051bWJlcih2KSkge1xuICAgICAgICByZXR1cm4gW3YsIHRdO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJlbmRwb2ludCBtdXN0IGJlIG51bGwgb3IgbnVtYmVyXCIsIHYpO1xufVxuXG5jb25zdCBlbmRwb2ludF9QT1NfSU5GID0gZW5kcG9pbnRfZnJvbV9pbnB1dChJbmZpbml0eSk7XG5jb25zdCBlbmRwb2ludF9ORUdfSU5GID0gZW5kcG9pbnRfZnJvbV9pbnB1dCgtSW5maW5pdHkpO1xuXG4vKipcbiAqIEludGVybmFsIHJlcHJlc2VudGF0aW9uIFxuICogcmVwbGFjaW5nIG51bGwgdmFsdXNlIHdpdGggLUluZmluaXR5IG9yIEluZmluaXR5XG4gKiBpbiBvcmRlciB0byBzaW1wbGlmeSBudW1lcmljYWwgY29tcGFyaXNvblxuICovXG5mdW5jdGlvbiBlbmRwb2ludF9pbnRlcm5hbChlcCkge1xuICAgIGlmIChlcFswXSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbZXBbMF0sIGVwWzFdXTtcbiAgICB9XG4gICAgaWYgKGVuZHBvaW50X2lzX2xvdyhlcCkpIHtcbiAgICAgICAgcmV0dXJuIFstSW5maW5pdHksIEVQX1RZUEUuTE9XX0NMT1NFRF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtJbmZpbml0eSwgRVBfVFlQRS5ISUdIX0NMT1NFRF07XG4gICAgfVxufVxuXG4vKipcbiAqIENvbXBhcmlzb24gZnVuY3Rpb24gZm9yIG51bWJlcnNcbiAqIGF2b2lkIHN1YnRyYWN0aW9uIHRvIHN1cHBvcnQgSW5maW5pdHkgdmFsdWVzXG4gKi9cbmZ1bmN0aW9uIG51bWJlcl9jbXAoYSwgYikge1xuICAgIGlmIChhIDwgYikgcmV0dXJuIC0xOyAvLyBjb3JyZWN0IG9yZGVyXG4gICAgaWYgKGEgPiBiKSByZXR1cm4gMTsgLy8gd3Jvbmcgb3JkZXJcbiAgICByZXR1cm4gMDsgLy8gZXF1YWxpdHlcbn1cblxuLypcbiAgICBFbmRwb2ludCBjb21wYXJpc29uXG4gICAgcmV0dXJucyBcbiAgICAgICAgLSBuZWdhdGl2ZSA6IGNvcnJlY3Qgb3JkZXJcbiAgICAgICAgLSAwIDogZXF1YWxcbiAgICAgICAgLSBwb3NpdGl2ZSA6IHdyb25nIG9yZGVyXG4qLyBcbmZ1bmN0aW9uIGVuZHBvaW50X2NtcChlcDEsIGVwMikgeyAgICBcbiAgICBjb25zdCBbdjEsIHQxXSA9IGVuZHBvaW50X2ludGVybmFsKGVwMSk7XG4gICAgY29uc3QgW3YyLCB0Ml0gPSBlbmRwb2ludF9pbnRlcm5hbChlcDIpO1xuICAgIGNvbnN0IGRpZmYgPSBudW1iZXJfY21wKHYxLCB2Mik7XG4gICAgaWYgKGRpZmYgPT0gMCkge1xuICAgICAgICBjb25zdCBvMSA9IEVQX09SREVSLmdldCh0MSk7XG4gICAgICAgIGNvbnN0IG8yID0gRVBfT1JERVIuZ2V0KHQyKTtcbiAgICAgICAgcmV0dXJuIG51bWJlcl9jbXAobzEsIG8yKTtcbiAgICB9XG4gICAgcmV0dXJuIGRpZmY7XG59XG5cbmZ1bmN0aW9uIGVuZHBvaW50X2x0IChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPCAwXG59XG5mdW5jdGlvbiBlbmRwb2ludF9sZSAocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50X2NtcChwMSwgcDIpIDw9IDBcbn1cbmZ1bmN0aW9uIGVuZHBvaW50X2d0IChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPiAwXG59XG5mdW5jdGlvbiBlbmRwb2ludF9nZSAocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50X2NtcChwMSwgcDIpID49IDBcbn1cbmZ1bmN0aW9uIGVuZHBvaW50X2VxIChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPT0gMFxufVxuZnVuY3Rpb24gZW5kcG9pbnRfbWluKHAxLCBwMikge1xuICAgIHJldHVybiAoZW5kcG9pbnRfbGUocDEsIHAyKSkgPyBwMSA6IHAyO1xufVxuZnVuY3Rpb24gZW5kcG9pbnRfbWF4KHAxLCBwMikge1xuICAgIHJldHVybiAoZW5kcG9pbnRfZ2UocDEsIHAyKSkgPyBwMSA6IHAyO1xufVxuXG4vKipcbiAqIGZsaXAgZW5kcG9pbnQ6XG4gKiAtIGllLiBnZXQgYWRqYWNlbnQgZW5kcG9uaXQgb24gdGhlIHRpbWVsaW5lXG4gKiBcbiAqIHYpIDwtPiBbdlxuICogdl0gPC0+ICh2XG4gKiBcbiAqIGZsaXBwaW5nIGhhcyBubyBlZmZlY3Qgb24gZW5kcG9pbnRzIHdpdGggdW5ib3VuZGVkIHZhbHVlXG4gKi9cblxuZnVuY3Rpb24gZW5kcG9pbnRfZmxpcChlcCwgdGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0YXJnZXQgaXMgZGVwcmVjYXRlZFwiKTtcbiAgICB9XG4gICAgbGV0IFt2LHRdID0gZXA7XG4gICAgaWYgKHYgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZXA7XG4gICAgfVxuICAgIGlmICh0ID09IEVQX1RZUEUuSElHSF9PUEVOKSB7XG4gICAgICAgIHJldHVybiBbdiwgRVBfVFlQRS5MT1dfQ0xPU0VEXTtcbiAgICB9IGVsc2UgaWYgKHQgPT0gRVBfVFlQRS5ISUdIX0NMT1NFRCkge1xuICAgICAgICByZXR1cm4gW3YsIEVQX1RZUEUuTE9XX09QRU5dO1xuICAgIH0gZWxzZSBpZiAodCA9PSBFUF9UWVBFLkxPV19PUEVOKSB7XG4gICAgICAgIHJldHVybiBbdiwgRVBfVFlQRS5ISUdIX0NMT1NFRF07XG4gICAgfSBlbHNlIGlmICh0ID09IEVQX1RZUEUuTE9XX0NMT1NFRCkge1xuICAgICAgICByZXR1cm4gW3YsIEVQX1RZUEUuSElHSF9PUEVOXTtcbiAgICB9IGVsc2Uge1xuICAgIFx0dGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBlbmRwb2ludCB0eXBlXCIsIHQpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuLypcbiAgICByZXR1cm5zIGxvdyBhbmQgaGlnaCBlbmRwb2ludHMgZnJvbSBpbnRlcnZhbFxuKi9cbmZ1bmN0aW9uIGVuZHBvaW50c19mcm9tX2ludGVydmFsKGl0dikge1xuICAgIGNvbnN0IFtsb3csIGhpZ2gsIGxvd0Nsb3NlZCwgaGlnaENsb3NlZF0gPSBpdHY7XG4gICAgY29uc3QgbG93VHlwZSA9IChsb3dDbG9zZWQpID8gIEVQX1RZUEUuTE9XX0NMT1NFRCA6IEVQX1RZUEUuTE9XX09QRU47XG4gICAgY29uc3QgaGlnaFR5cGUgPSAoaGlnaENsb3NlZCkgPyAgRVBfVFlQRS5ISUdIX0NMT1NFRCA6IEVQX1RZUEUuSElHSF9PUEVOO1xuICAgIGNvbnN0IGxvd0VwID0gZW5kcG9pbnRfZnJvbV9pbnB1dChbbG93LCBsb3dUeXBlXSk7XG4gICAgY29uc3QgaGlnaEVwID0gZW5kcG9pbnRfZnJvbV9pbnB1dChbaGlnaCwgaGlnaFR5cGVdKTtcbiAgICByZXR1cm4gW2xvd0VwLCBoaWdoRXBdO1xufVxuXG5cbi8qXG4gICAgSU5URVJWQUxTXG5cbiAgICBJbnRlcnZhbHMgYXJlIFtsb3csIGhpZ2gsIGxvd0Nsb3NlZCwgaGlnaENsb3NlZF1cblxuKi8gXG5cblxuLypcbiAgICByZXR1cm4gdHJ1ZSBpZiBwb2ludCBvciBlbmRwb2ludCBpcyBjb3ZlcmVkIGJ5IGludGVydmFsXG4gICAgcG9pbnQgcCBjYW4gYmUgbnVtYmVyIHZhbHVlIG9yIGFuIGVuZHBvaW50XG4qL1xuZnVuY3Rpb24gaW50ZXJ2YWxfY292ZXJzX2VuZHBvaW50KGl0diwgZXApIHtcbiAgICBjb25zdCBbbG93X2VwLCBoaWdoX2VwXSA9IGVuZHBvaW50c19mcm9tX2ludGVydmFsKGl0dik7XG4gICAgZXAgPSBlbmRwb2ludF9mcm9tX2lucHV0KGVwKTtcbiAgICAvLyBjb3ZlcnM6IGxvdyA8PSBwIDw9IGhpZ2hcbiAgICByZXR1cm4gZW5kcG9pbnRfbGUobG93X2VwLCBlcCkgJiYgZW5kcG9pbnRfbGUoZXAsIGhpZ2hfZXApO1xufVxuLy8gY29udmVuaWVuY2VcbmZ1bmN0aW9uIGludGVydmFsX2NvdmVyc19wb2ludChpdHYsIHApIHtcbiAgICByZXR1cm4gaW50ZXJ2YWxfY292ZXJzX2VuZHBvaW50KGl0diwgcCk7XG59XG5cbi8qXG4gICAgUmV0dXJuIHRydWUgaWYgaW50ZXJ2YWwgZW5kcG9pbnRzIGFyZSBlcXVhbFxuKi9cbmZ1bmN0aW9uIGludGVydmFsX2lzX3Npbmd1bGFyKGludGVydmFsKSB7XG4gICAgY29uc3QgW2xvd19lcCwgaGlnaF9lcF0gPSBlbmRwb2ludHNfZnJvbV9pbnRlcnZhbChpdHYpO1xuICAgIHJldHVybiBlbmRwb2ludF9lcShsb3dfZXAsIGhpZ2hfZXApO1xufVxuXG4vKlxuICAgIENyZWF0ZSBpbnRlcnZhbCBmcm9tIGVuZHBvaW50c1xuKi9cbmZ1bmN0aW9uIGludGVydmFsX2Zyb21fZW5kcG9pbnRzKGVwMSwgZXAyKSB7XG4gICAgbGV0IFt2MSwgdDFdID0gZXAxO1xuICAgIGxldCBbdjIsIHQyXSA9IGVwMjtcbiAgICBpZiAoIWVuZHBvaW50X2lzX2xvdyhlcDEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgbG93IGVuZHBvaW50XCIsIGVwMSk7XG4gICAgfVxuICAgIGlmICghZW5kcG9pbnRfaXNfaGlnaChlcDIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgaGlnaCBlbmRwb2ludFwiLCBlcDIpO1xuICAgIH1cbiAgICByZXR1cm4gW3YxLCB2MiwgdDEgPT0gRVBfVFlQRS5MT1dfQ0xPU0VELCB0MiA9PSBFUF9UWVBFLkhJR0hfQ0xPU0VEXTtcbn1cblxuXG5mdW5jdGlvbiBpbnRlcnZhbF9mcm9tX2lucHV0KGlucHV0KXtcbiAgICBsZXQgaXR2ID0gaW5wdXQ7XG4gICAgaWYgKGl0diA9PSB1bmRlZmluZWQgfHwgaXR2ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW5wdXQgaXMgdW5kZWZpbmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXR2KSkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoaXR2KSkge1xuICAgICAgICAgICAgLy8gaW5wdXQgaXMgc2luZ3VsYXIgbnVtYmVyXG4gICAgICAgICAgICBpdHYgPSBbaXR2LCBpdHYsIHRydWUsIHRydWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnB1dDogJHtpbnB1dH06IG11c3QgYmUgQXJyYXkgb3IgTnVtYmVyYClcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gbWFrZSBzdXJlIGludGVydmFsIGlzIGxlbmd0aCA0XG4gICAgaWYgKGl0di5sZW5ndGggPT0gMSkge1xuICAgICAgICBpdHYgPSBbaXR2WzBdLCBpdHZbMF0sIHRydWUsIHRydWVdO1xuICAgIH0gZWxzZSBpZiAoaXR2Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgIGl0diA9IFtpdHZbMF0sIGl0dlsxXSwgdHJ1ZSwgZmFsc2VdO1xuICAgIH0gZWxzZSBpZiAoaXR2Lmxlbmd0aCA9PSAzKSB7XG4gICAgICAgIGl0diA9IFtpdHZbMF0sIGl0dlsxXSwgaXR2WzJdLCBmYWxzZV07XG4gICAgfSBlbHNlIGlmIChpdHYubGVuZ3RoID4gNCkge1xuICAgICAgICBpdHYgPSBbaXR2WzBdLCBpdHZbMV0sIGl0dlsyXSwgaXR2WzRdXTtcbiAgICB9XG4gICAgbGV0IFtsb3csIGhpZ2gsIGxvd0luY2x1ZGUsIGhpZ2hJbmNsdWRlXSA9IGl0djtcbiAgICAvLyBib3VuZGFyeSBjb25kaXRpb25zIGFyZSBudW1iZXIgb3IgbnVsbFxuICAgIGlmIChsb3cgPT0gdW5kZWZpbmVkIHx8IGxvdyA9PSAtSW5maW5pdHkpIHtcbiAgICAgICAgbG93ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGhpZ2ggPT0gdW5kZWZpbmVkIHx8IGhpZ2ggPT0gSW5maW5pdHkpIHtcbiAgICAgICAgaGlnaCA9IG51bGw7XG4gICAgfVxuICAgIC8vIGNoZWNrIGxvd1xuICAgIGlmIChsb3cgPT0gbnVsbCkge1xuICAgICAgICBsb3dJbmNsdWRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWlzTnVtYmVyKGxvdykpIHRocm93IG5ldyBFcnJvcihcImxvdyBub3QgYSBudW1iZXJcIiwgbG93KTtcbiAgICB9XG4gICAgLy8gY2hlY2sgaGlnaFxuICAgIGlmIChoaWdoID09IG51bGwpIHtcbiAgICAgICAgaGlnaEluY2x1ZGUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaXNOdW1iZXIoaGlnaCkpIHRocm93IG5ldyBFcnJvcihcImhpZ2ggbm90IGEgbnVtYmVyXCIsIGhpZ2gpO1xuICAgIH0gICAgXG4gICAgLy8gY2hlY2sgdGhhdCBsb3cgPD0gaGlnaFxuICAgIGlmIChsb3cgIT0gbnVsbCAmJiBoaWdoICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGxvdyA+IGhpZ2gpIHRocm93IG5ldyBFcnJvcihcImxvdyA+IGhpZ2hcIiwgbG93LCBoaWdoKTtcbiAgICAgICAgLy8gc2luZ2xldG9uXG4gICAgICAgIGlmIChsb3cgPT0gaGlnaCkge1xuICAgICAgICAgICAgbG93SW5jbHVkZSA9IHRydWU7XG4gICAgICAgICAgICBoaWdoSW5jbHVkZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gY2hlY2sgdGhhdCBsb3dJbmNsdWRlLCBoaWdoSW5jbHVkZSBhcmUgYm9vbGVhbnNcbiAgICBpZiAodHlwZW9mIGxvd0luY2x1ZGUgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImxvd0luY2x1ZGUgbm90IGJvb2xlYW5cIik7XG4gICAgfSBcbiAgICBpZiAodHlwZW9mIGhpZ2hJbmNsdWRlICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJoaWdoSW5jbHVkZSBub3QgYm9vbGVhblwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFtsb3csIGhpZ2gsIGxvd0luY2x1ZGUsIGhpZ2hJbmNsdWRlXTtcbn1cblxuZXhwb3J0IGNvbnN0IGVuZHBvaW50ID0ge1xuICAgIGxlOiBlbmRwb2ludF9sZSxcbiAgICBsdDogZW5kcG9pbnRfbHQsXG4gICAgZ2U6IGVuZHBvaW50X2dlLFxuICAgIGd0OiBlbmRwb2ludF9ndCxcbiAgICBjbXA6IGVuZHBvaW50X2NtcCxcbiAgICBlcTogZW5kcG9pbnRfZXEsXG4gICAgbWluOiBlbmRwb2ludF9taW4sXG4gICAgbWF4OiBlbmRwb2ludF9tYXgsXG4gICAgZmxpcDogZW5kcG9pbnRfZmxpcCxcbiAgICBmcm9tX2ludGVydmFsOiBlbmRwb2ludHNfZnJvbV9pbnRlcnZhbCxcbiAgICBmcm9tX2lucHV0OiBlbmRwb2ludF9mcm9tX2lucHV0LFxuICAgIHR5cGVzOiB7Li4uRVBfVFlQRX0sXG4gICAgUE9TX0lORiA6IGVuZHBvaW50X1BPU19JTkYsXG4gICAgTkVHX0lORiA6IGVuZHBvaW50X05FR19JTkZcbn1cbmV4cG9ydCBjb25zdCBpbnRlcnZhbCA9IHtcbiAgICBjb3ZlcnNfZW5kcG9pbnQ6IGludGVydmFsX2NvdmVyc19lbmRwb2ludCxcbiAgICBjb3ZlcnNfcG9pbnQ6IGludGVydmFsX2NvdmVyc19wb2ludCwgXG4gICAgaXNfc2luZ3VsYXI6IGludGVydmFsX2lzX3Npbmd1bGFyLFxuICAgIGZyb21fZW5kcG9pbnRzOiBpbnRlcnZhbF9mcm9tX2VuZHBvaW50cyxcbiAgICBmcm9tX2lucHV0OiBpbnRlcnZhbF9mcm9tX2lucHV0XG59XG4iLCJpbXBvcnQgeyBlbmRwb2ludCwgaW50ZXJ2YWwgfSBmcm9tIFwiLi91dGlsL2ludGVydmFscy5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTkVBUkJZIElOREVYXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogQWJzdHJhY3Qgc3VwZXJjbGFzcyBmb3IgTmVhcmJ5SW5kZXhlLlxuICogXG4gKiBTdXBlcmNsYXNzIHVzZWQgdG8gY2hlY2sgdGhhdCBhIGNsYXNzIGltcGxlbWVudHMgdGhlIG5lYXJieSgpIG1ldGhvZCwgXG4gKiBhbmQgcHJvdmlkZSBzb21lIGNvbnZlbmllbmNlIG1ldGhvZHMuXG4gKiBcbiAqIE5FQVJCWSBJTkRFWFxuICogXG4gKiBOZWFyYnlJbmRleCBwcm92aWRlcyBpbmRleGluZyBzdXBwb3J0IG9mIGVmZmVjdGl2ZWx5XG4gKiBsb29raW5nIHVwIHJlZ2lvbnMgYnkgb2Zmc2V0LCBcbiAqIGdpdmVuIHRoYXRcbiAqIChpKSBlYWNoIHJlZ2lvbiBpcyBhc3NvY2lhdGVkIHdpdGggYW4gaW50ZXJ2YWwgYW5kLFxuICogKGlpKSByZWdpb25zIGFyZSBub24tb3ZlcmxhcHBpbmcuXG4gKiBcbiAqIE5FQVJCWVxuICogVGhlIG5lYXJieSBtZXRob2QgcmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbmVpZ2hib3Job29kIFxuICogYXJvdW5kIGVuZHBvaW50LiBcbiAqIFxuICogUmV0dXJucyB7XG4gKiAgICAgIGNlbnRlcjogbGlzdCBvZiBvYmplY3RzIGNvdmVyZWQgYnkgcmVnaW9uLFxuICogICAgICBpdHY6IHJlZ2lvbiBpbnRlcnZhbCAtIHZhbGlkaXR5IG9mIGNlbnRlciBcbiAqICAgICAgbGVmdDpcbiAqICAgICAgICAgIGZpcnN0IGludGVydmFsIGVuZHBvaW50IHRvIHRoZSBsZWZ0IFxuICogICAgICAgICAgd2hpY2ggd2lsbCBwcm9kdWNlIGRpZmZlcmVudCB7Y2VudGVyfVxuICogICAgICAgICAgYWx3YXlzIGEgaGlnaC1lbmRwb2ludCBvciBlbmRwb2ludC5ORUdfSU5GXG4gKiAgICAgIHJpZ2h0OlxuICogICAgICAgICAgZmlyc3QgaW50ZXJ2YWwgZW5kcG9pbnQgdG8gdGhlIHJpZ2h0XG4gKiAgICAgICAgICB3aGljaCB3aWxsIHByb2R1Y2UgZGlmZmVyZW50IHtjZW50ZXJ9XG4gKiAgICAgICAgICBhbHdheXMgYSBsb3ctZW5kcG9pbnQgb3IgZW5kdHBvaW50LlBPU19JTkZcbiAqIFxuICogXG4gKiBUaGUgbmVhcmJ5IHN0YXRlIGlzIHdlbGwtZGVmaW5lZCBmb3IgZXZlcnkgZW5kcG9pbnRcbiAqIG9uIHRoZSB0aW1lbGluZS5cbiAqIFxuICogSU5URVJWQUxTXG4gKiBcbiAqIFtsb3csIGhpZ2gsIGxvd0luY2x1c2l2ZSwgaGlnaEluY2x1c2l2ZV1cbiAqIFxuICogVGhpcyByZXByZXNlbnRhdGlvbiBlbnN1cmVzIHRoYXQgdGhlIGludGVydmFsIGVuZHBvaW50cyBcbiAqIGFyZSBvcmRlcmVkIGFuZCBhbGxvd3MgaW50ZXJ2YWxzIHRvIGJlIGV4Y2x1c2l2ZSBvciBpbmNsdXNpdmUsIFxuICogeWV0IGNvdmVyIHRoZSBlbnRpcmUgcmVhbCBsaW5lIFxuICogXG4gKiBbYSxiXSwgKGEsYiksIFthLGIpLCBbYSwgYikgYXJlIGFsbCB2YWxpZCBpbnRlcnZhbHNcbiAqIFxuICogXG4gKiBJTlRFUlZBTCBFTkRQT0lOVFNcbiAqIFxuICogaW50ZXJ2YWwgZW5kcG9pbnRzIGFyZSBkZWZpbmVkIGJ5IFt2YWx1ZSwgdHlwZV0sIGZvciBleGFtcGxlXG4gKiBcbiAqIDQpIC0+IFs0LFwiKVwiXSAtIGhpZ2ggZW5kcG9pbnQgbGVmdCBvZiA0XG4gKiBbNCAtPiBbNCwgXCJbXCJdIC0gbG93IGVuZHBvaW50IGluY2x1ZGVzIDRcbiAqIDQgIC0+IFs0LCBcIlwiXSAtIHZhbHVlIDRcbiAqIDRdIC0+IFs0LCBcIl1cIl0gLSBoaWdoIGVuZHBvaW50IGluY2x1ZGVzIDRcbiAqICg0IC0+IFs0LCBcIihcIl0gLSBsb3cgZW5kcG9pbnQgaXMgcmlnaHQgb2YgNFxuICogXG4gKi9cblxuXG4vKipcbiAqIHJldHVybiBmaXJzdCBoaWdoIGVuZHBvaW50IG9uIHRoZSBsZWZ0IGZyb20gbmVhcmJ5LFxuICogd2hpY2ggaXMgbm90IGluIGNlbnRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVmdF9lbmRwb2ludCAobmVhcmJ5KSB7XG4gICAgY29uc3QgbG93ID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChuZWFyYnkuaXR2KVswXTtcbiAgICByZXR1cm4gZW5kcG9pbnQuZmxpcChsb3cpO1xufVxuXG4vKipcbiAqIHJldHVybiBmaXJzdCBsb3cgZW5kcG9pbnQgb24gdGhlIHJpZ2h0IGZyb20gbmVhcmJ5LFxuICogd2hpY2ggaXMgbm90IGluIGNlbnRlclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByaWdodF9lbmRwb2ludCAobmVhcmJ5KSB7XG4gICAgY29uc3QgaGlnaCA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwobmVhcmJ5Lml0dilbMV07XG4gICAgcmV0dXJuIGVuZHBvaW50LmZsaXAoaGlnaCk7XG59XG5cblxuXG5leHBvcnQgY2xhc3MgTmVhcmJ5SW5kZXhCYXNlIHtcblxuXG4gICAgLyogXG4gICAgICAgIE5lYXJieSBtZXRob2RcbiAgICAqL1xuICAgIG5lYXJieShvZmZzZXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICAgIH1cblxuICAgIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdCgpID09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAgICByZXR1cm4gbG93IHBvaW50IG9mIGxlZnRtb3N0IGVudHJ5XG4gICAgKi9cbiAgICBmaXJzdCgpIHtcbiAgICAgICAgbGV0IHtjZW50ZXIsIHJpZ2h0fSA9IHRoaXMubmVhcmJ5KGVuZHBvaW50Lk5FR19JTkYpO1xuICAgICAgICBpZiAoY2VudGVyLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5kcG9pbnQuTkVHX0lORjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kcG9pbnQubHQocmlnaHQsIGVuZHBvaW50LlBPU19JTkYpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICAgIHJldHVybiBoaWdoIHBvaW50IG9mIHJpZ2h0bW9zdCBlbnRyeVxuICAgICovXG4gICAgbGFzdCgpIHtcbiAgICAgICAgbGV0IHtsZWZ0LCBjZW50ZXJ9ID0gdGhpcy5uZWFyYnkoZW5kcG9pbnQuUE9TX0lORik7XG4gICAgICAgIGlmIChjZW50ZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGVuZHBvaW50LlBPU19JTkY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZHBvaW50Lmd0KGxlZnQsIGVuZHBvaW50Lk5FR19JTkYpKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVmdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gbmVhcmJ5IG9mIGZpcnN0IHJlZ2lvbiB0byB0aGUgcmlnaHRcbiAgICAgKiB3aGljaCBpcyBub3QgdGhlIGNlbnRlciByZWdpb24uIElmIG5vdCBleGlzdHMsIHJldHVyblxuICAgICAqIHVuZGVmaW5lZC4gXG4gICAgICovXG4gICAgcmlnaHRfcmVnaW9uKG5lYXJieSkge1xuICAgICAgICBjb25zdCByaWdodCA9IHJpZ2h0X2VuZHBvaW50KG5lYXJieSk7XG4gICAgICAgIGlmIChyaWdodFswXSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5lYXJieShyaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIG5lYXJieSBvZiBmaXJzdCByZWdpb24gdG8gdGhlIGxlZnRcbiAgICAgKiB3aGljaCBpcyBub3QgdGhlIGNlbnRlciByZWdpb24uIElmIG5vdCBleGlzdHMsIHJldHVyblxuICAgICAqIHVuZGVmaW5lZC4gXG4gICAgICovXG4gICAgbGVmdF9yZWdpb24obmVhcmJ5KSB7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBsZWZ0X2VuZHBvaW50KG5lYXJieSk7XG4gICAgICAgIGlmIChsZWZ0WzBdID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubmVhcmJ5KGxlZnQpOyAgICBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBmaW5kIGZpcnN0IHJlZ2lvbiB0byB0aGUgXCJyaWdodFwiIG9yIFwibGVmdFwiXG4gICAgICogd2hpY2ggaXMgbm90IHRoZSBjZW50ZXIgcmVnaW9uLCBhbmQgd2hpY2ggbWVldHNcbiAgICAgKiBhIGNvbmRpdGlvbiBvbiBuZWFyYnkuY2VudGVyLlxuICAgICAqIERlZmF1bHQgY29uZGl0aW9uIGlzIGNlbnRlciBub24tZW1wdHlcbiAgICAgKiBJZiBub3QgZXhpc3RzLCByZXR1cm4gdW5kZWZpbmVkLiBcbiAgICAgKi9cbiAgICBcbiAgICBmaW5kX3JlZ2lvbihuZWFyYnksIG9wdGlvbnM9e30pIHtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IDEsXG4gICAgICAgICAgICBjb25kaXRpb24gPSAoY2VudGVyKSA9PiBjZW50ZXIubGVuZ3RoID4gMFxuICAgICAgICB9ID0gb3B0aW9ucztcbiAgICAgICAgbGV0IG5leHRfbmVhcmJ5O1xuICAgICAgICB3aGlsZSh0cnVlKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09IDEpIHtcbiAgICAgICAgICAgICAgICBuZXh0X25lYXJieSA9IHRoaXMucmlnaHRfcmVnaW9uKG5lYXJieSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5leHRfbmVhcmJ5ID0gdGhpcy5sZWZ0X3JlZ2lvbihuZWFyYnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHRfbmVhcmJ5ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uKG5leHRfbmVhcmJ5LmNlbnRlcikpIHtcbiAgICAgICAgICAgICAgICAvLyBmb3VuZCByZWdpb24gXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRfbmVhcmJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVnaW9uIG5vdCBmb3VuZFxuICAgICAgICAgICAgLy8gY29udGludWUgc2VhcmNoaW5nIHRoZSByaWdodFxuICAgICAgICAgICAgbmVhcmJ5ID0gbmV4dF9uZWFyYnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWdpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdpb25JdGVyYXRvcih0aGlzLCBvcHRpb25zKTtcbiAgICB9XG5cbn1cblxuXG4vKlxuICAgIEl0ZXJhdGUgcmVnaW9ucyBvZiBpbmRleCBmcm9tIGxlZnQgdG8gcmlnaHRcblxuICAgIEl0ZXJhdGlvbiBsaW1pdGVkIHRvIGludGVydmFsIFtzdGFydCwgc3RvcF0gb24gdGhlIHRpbWVsaW5lLlxuICAgIFJldHVybnMgbGlzdCBvZiBpdGVtLWxpc3RzLlxuICAgIG9wdGlvbnNcbiAgICAtIHN0YXJ0XG4gICAgLSBzdG9wXG4gICAgLSBpbmNsdWRlRW1wdHlcbiovXG5cbmNsYXNzIFJlZ2lvbkl0ZXJhdG9yIHtcblxuICAgIGNvbnN0cnVjdG9yKGluZGV4LCBvcHRpb25zPXt9KSB7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgICBzdGFydD0tSW5maW5pdHksIFxuICAgICAgICAgICAgc3RvcD1JbmZpbml0eSwgXG4gICAgICAgICAgICBpbmNsdWRlRW1wdHk9dHJ1ZVxuICAgICAgICB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKHN0YXJ0ID4gc3RvcCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yIChcInN0b3AgbXVzdCBiZSBsYXJnZXIgdGhhbiBzdGFydFwiLCBzdGFydCwgc3RvcClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLl9zdGFydCA9IGVuZHBvaW50LmZyb21faW5wdXQoc3RhcnQpO1xuICAgICAgICB0aGlzLl9zdG9wID0gZW5kcG9pbnQuZnJvbV9pbnB1dChzdG9wKTtcblxuICAgICAgICBpZiAoaW5jbHVkZUVtcHR5KSB7XG4gICAgICAgICAgICB0aGlzLl9jb25kaXRpb24gPSAoKSA9PiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29uZGl0aW9uID0gKGNlbnRlcikgPT4gY2VudGVyLmxlbmd0aCA+IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudDtcbiAgICB9XG5cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGluaXRpYWxzZVxuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX2luZGV4Lm5lYXJieSh0aGlzLl9zdGFydCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29uZGl0aW9uKHRoaXMuX2N1cnJlbnQuY2VudGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7dmFsdWU6dGhpcy5fY3VycmVudCwgZG9uZTpmYWxzZX07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wdGlvbnMgPSB7Y29uZGl0aW9uOnRoaXMuX2NvbmRpdGlvbiwgZGlyZWN0aW9uOjF9XG4gICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9pbmRleC5maW5kX3JlZ2lvbih0aGlzLl9jdXJyZW50LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbHVlOnVuZGVmaW5lZCwgZG9uZTp0cnVlfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsdWU6dGhpcy5fY3VycmVudCwgZG9uZTpmYWxzZX1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbi8qKlxuICogbmVhcmJ5X2Zyb21cbiAqIFxuICogdXRpbGl0eSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBuZWFyYnkgb2JqZWN0IGluIGNpcmN1bXN0YW5jZXNcbiAqIHdoZXJlIHRoZXJlIGFyZSBvdmVybGFwcGluZyBpbnRlcnZhbHMgVGhpcyBjb3VsZCBiZSB3aGVuIGEgXG4gKiBzdGF0ZXByb3ZpZGVyIGZvciBhIGxheWVyIGhhcyBvdmVybGFwcGluZyBpdGVtcyBvciB3aGVuIFxuICogbXVsdGlwbGUgbmVhcmJ5IGluZGV4ZXMgYXJlIG1lcmdlZCBpbnRvIG9uZS5cbiAqIFxuICogXG4gKiBAcGFyYW0geyp9IHByZXZfaGlnaCA6IHRoZSByaWdodG1vc3QgaGlnaC1lbmRwb2ludCBsZWZ0IG9mIG9mZnNldFxuICogQHBhcmFtIHsqfSBjZW50ZXJfbG93X2xpc3QgOiBsb3ctZW5kcG9pbnRzIG9mIGNlbnRlclxuICogQHBhcmFtIHsqfSBjZW50ZXIgOiBjZW50ZXJcbiAqIEBwYXJhbSB7Kn0gY2VudGVyX2hpZ2hfbGlzdCA6IGhpZ2gtZW5kcG9pbnRzIG9mIGNlbnRlclxuICogQHBhcmFtIHsqfSBuZXh0X2xvdyA6IHRoZSBsZWZ0bW9zdCBsb3ctZW5kcG9pbnQgcmlnaHQgb2Ygb2Zmc2V0XG4gKiBAcmV0dXJucyBcbiAqL1xuXG5mdW5jdGlvbiBjbXBfYXNjZW5kaW5nKHAxLCBwMikge1xuICAgIHJldHVybiBlbmRwb2ludC5jbXAocDEsIHAyKVxufVxuXG5mdW5jdGlvbiBjbXBfZGVzY2VuZGluZyhwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuY21wKHAyLCBwMSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5lYXJieV9mcm9tIChcbiAgICBwcmV2X2hpZ2gsIFxuICAgIGNlbnRlcl9sb3dfbGlzdCwgXG4gICAgY2VudGVyLFxuICAgIGNlbnRlcl9oaWdoX2xpc3QsXG4gICAgbmV4dF9sb3cpIHtcblxuICAgIC8vIG5lYXJieVxuICAgIGNvbnN0IHJlc3VsdCA9IHtjZW50ZXJ9O1xuXG4gICAgaWYgKGNlbnRlci5sZW5ndGggPT0gMCkge1xuICAgICAgICAvLyBlbXB0eSBjZW50ZXJcbiAgICAgICAgcmVzdWx0LnJpZ2h0ID0gbmV4dF9sb3c7XG4gICAgICAgIHJlc3VsdC5sZWZ0ID0gcHJldl9oaWdoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5vbi1lbXB0eSBjZW50ZXJcbiAgICAgICAgXG4gICAgICAgIC8vIGNlbnRlciBoaWdoXG4gICAgICAgIGNlbnRlcl9oaWdoX2xpc3Quc29ydChjbXBfYXNjZW5kaW5nKTtcbiAgICAgICAgbGV0IG1pbl9jZW50ZXJfaGlnaCA9IGNlbnRlcl9oaWdoX2xpc3RbMF07XG4gICAgICAgIGxldCBtYXhfY2VudGVyX2hpZ2ggPSBjZW50ZXJfaGlnaF9saXN0LnNsaWNlKC0xKVswXTtcbiAgICAgICAgbGV0IG11bHRpcGxlX2NlbnRlcl9oaWdoID0gIWVuZHBvaW50LmVxKG1pbl9jZW50ZXJfaGlnaCwgbWF4X2NlbnRlcl9oaWdoKVxuXG4gICAgICAgIC8vIGNlbnRlciBsb3dcbiAgICAgICAgY2VudGVyX2xvd19saXN0LnNvcnQoY21wX2Rlc2NlbmRpbmcpO1xuICAgICAgICBsZXQgbWF4X2NlbnRlcl9sb3cgPSBjZW50ZXJfbG93X2xpc3RbMF07XG4gICAgICAgIGxldCBtaW5fY2VudGVyX2xvdyA9IGNlbnRlcl9sb3dfbGlzdC5zbGljZSgtMSlbMF07XG4gICAgICAgIGxldCBtdWx0aXBsZV9jZW50ZXJfbG93ID0gIWVuZHBvaW50LmVxKG1heF9jZW50ZXJfbG93LCBtaW5fY2VudGVyX2xvdylcblxuICAgICAgICAvLyBuZXh0L3JpZ2h0XG4gICAgICAgIGlmIChlbmRwb2ludC5sZShuZXh0X2xvdywgbWluX2NlbnRlcl9oaWdoKSkge1xuICAgICAgICAgICAgcmVzdWx0LnJpZ2h0ID0gbmV4dF9sb3c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucmlnaHQgPSBlbmRwb2ludC5mbGlwKG1pbl9jZW50ZXJfaGlnaClcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQubmV4dCA9IChtdWx0aXBsZV9jZW50ZXJfaGlnaCkgPyByZXN1bHQucmlnaHQgOiBuZXh0X2xvdztcblxuICAgICAgICAvLyBwcmV2L2xlZnRcbiAgICAgICAgaWYgKGVuZHBvaW50LmdlKHByZXZfaGlnaCwgbWF4X2NlbnRlcl9sb3cpKSB7XG4gICAgICAgICAgICByZXN1bHQubGVmdCA9IHByZXZfaGlnaDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5sZWZ0ID0gZW5kcG9pbnQuZmxpcChtYXhfY2VudGVyX2xvdyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnByZXYgPSAobXVsdGlwbGVfY2VudGVyX2xvdykgPyByZXN1bHQubGVmdCA6IHByZXZfaGlnaDtcblxuICAgIH1cblxuICAgIC8vIGludGVydmFsIGZyb20gbGVmdC9yaWdodFxuICAgIGxldCBsb3cgPSBlbmRwb2ludC5mbGlwKHJlc3VsdC5sZWZ0KTtcbiAgICBsZXQgaGlnaCA9IGVuZHBvaW50LmZsaXAocmVzdWx0LnJpZ2h0KTtcbiAgICByZXN1bHQuaXR2ID0gaW50ZXJ2YWwuZnJvbV9lbmRwb2ludHMobG93LCBoaWdoKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBOZWFyYnlJbmRleCBmb3IgYSBzcmMgb2JqZWN0IExheWVyLlxuICogXG4gKiBUaGUgc3JjIG9iamVjdCByZXNvbHZlcyBxdWVyaWVzIGZvciB0aGUgZW50aXJlIHRpbWVsaW5lLlxuICogSW4gb3JkZXIgZm9yIHRoZSBkZWZhdWx0IExheWVyQ2FjaGUgdG8gd29yaywgYW5cbiAqIG9iamVjdCB3aXRoIGEgLnF1ZXJ5KG9mZnNldCkgbWV0aG9kIGlzIG5lZWRlZCBpbiBcbiAqIG5lYXJieS5jZW50ZXIuXG4gKi9cblxuZXhwb3J0IGNsYXNzIE5lYXJieUluZGV4U3JjIGV4dGVuZHMgTmVhcmJ5SW5kZXhCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHNyYykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9zcmMgPSBzcmM7XG4gICAgICAgIHRoaXMuX2NhY2hlID0gc3JjLmNyZWF0ZUNhY2hlKCk7XG4gICAgfVxuXG4gICAgbmVhcmJ5KG9mZnNldCkge1xuICAgICAgICBjb25zdCBuZWFyYnkgPSB0aGlzLl9zcmMuaW5kZXgubmVhcmJ5KG9mZnNldCk7XG4gICAgICAgIG5lYXJieS5jZW50ZXIgPSBbdGhpcy5fY2FjaGVdO1xuICAgICAgICByZXR1cm4gbmVhcmJ5O1xuICAgIH1cbn1cbiIsIi8qXG5cdENvcHlyaWdodCAyMDIwXG5cdEF1dGhvciA6IEluZ2FyIEFybnR6ZW5cblxuXHRUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgVGltaW5nc3JjIG1vZHVsZS5cblxuXHRUaW1pbmdzcmMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHRpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0dGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0KGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuXHRUaW1pbmdzcmMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0YnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0TUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHRHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuXHRZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0YWxvbmcgd2l0aCBUaW1pbmdzcmMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5cblxuLypcblx0RXZlbnRcblx0LSBuYW1lOiBldmVudCBuYW1lXG5cdC0gcHVibGlzaGVyOiB0aGUgb2JqZWN0IHdoaWNoIGRlZmluZWQgdGhlIGV2ZW50XG5cdC0gaW5pdDogdHJ1ZSBpZiB0aGUgZXZlbnQgc3VwcHBvcnRzIGluaXQgZXZlbnRzXG5cdC0gc3Vic2NyaXB0aW9uczogc3Vic2NyaXB0aW5zIHRvIHRoaXMgZXZlbnRcblxuKi9cblxuY2xhc3MgRXZlbnQge1xuXG5cdGNvbnN0cnVjdG9yIChwdWJsaXNoZXIsIG5hbWUsIG9wdGlvbnMpIHtcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXHRcdHRoaXMucHVibGlzaGVyID0gcHVibGlzaGVyO1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0dGhpcy5pbml0ID0gKG9wdGlvbnMuaW5pdCA9PT0gdW5kZWZpbmVkKSA/IGZhbHNlIDogb3B0aW9ucy5pbml0O1xuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuXHR9XG5cblx0Lypcblx0XHRzdWJzY3JpYmUgdG8gZXZlbnRcblx0XHQtIHN1YnNjcmliZXI6IHN1YnNjcmliaW5nIG9iamVjdFxuXHRcdC0gY2FsbGJhY2s6IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGludm9rZVxuXHRcdC0gb3B0aW9uczpcblx0XHRcdGluaXQ6IGlmIHRydWUgc3Vic2NyaWJlciB3YW50cyBpbml0IGV2ZW50c1xuXHQqL1xuXHRzdWJzY3JpYmUgKGNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFx0aWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2FsbGJhY2sgbm90IGEgZnVuY3Rpb25cIiwgY2FsbGJhY2spO1xuXHRcdH1cblx0XHRjb25zdCBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKHRoaXMsIGNhbGxiYWNrLCBvcHRpb25zKTtcblx0XHR0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChzdWIpO1xuXHQgICAgLy8gSW5pdGlhdGUgaW5pdCBjYWxsYmFjayBmb3IgdGhpcyBzdWJzY3JpcHRpb25cblx0ICAgIGlmICh0aGlzLmluaXQgJiYgc3ViLmluaXQpIHtcblx0ICAgIFx0c3ViLmluaXRfcGVuZGluZyA9IHRydWU7XG5cdCAgICBcdGxldCBzZWxmID0gdGhpcztcblx0ICAgIFx0UHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICBcdFx0Y29uc3QgZUFyZ3MgPSBzZWxmLnB1Ymxpc2hlci5ldmVudGlmeUluaXRFdmVudEFyZ3Moc2VsZi5uYW1lKSB8fCBbXTtcblx0ICAgIFx0XHRzdWIuaW5pdF9wZW5kaW5nID0gZmFsc2U7XG5cdCAgICBcdFx0Zm9yIChsZXQgZUFyZyBvZiBlQXJncykge1xuXHQgICAgXHRcdFx0c2VsZi50cmlnZ2VyKGVBcmcsIFtzdWJdLCB0cnVlKTtcblx0ICAgIFx0XHR9XG5cdCAgICBcdH0pO1xuXHQgICAgfVxuXHRcdHJldHVybiBzdWJcblx0fVxuXG5cdC8qXG5cdFx0dHJpZ2dlciBldmVudFxuXG5cdFx0LSBpZiBzdWIgaXMgdW5kZWZpbmVkIC0gcHVibGlzaCB0byBhbGwgc3Vic2NyaXB0aW9uc1xuXHRcdC0gaWYgc3ViIGlzIGRlZmluZWQgLSBwdWJsaXNoIG9ubHkgdG8gZ2l2ZW4gc3Vic2NyaXB0aW9uXG5cdCovXG5cdHRyaWdnZXIgKGVBcmcsIHN1YnMsIGluaXQpIHtcblx0XHRsZXQgZUluZm8sIGN0eDtcblx0XHRmb3IgKGNvbnN0IHN1YiBvZiBzdWJzKSB7XG5cdFx0XHQvLyBpZ25vcmUgdGVybWluYXRlZCBzdWJzY3JpcHRpb25zXG5cdFx0XHRpZiAoc3ViLnRlcm1pbmF0ZWQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRlSW5mbyA9IHtcblx0XHRcdFx0c3JjOiB0aGlzLnB1Ymxpc2hlcixcblx0XHRcdFx0bmFtZTogdGhpcy5uYW1lLFxuXHRcdFx0XHRzdWI6IHN1Yixcblx0XHRcdFx0aW5pdDogaW5pdFxuXHRcdFx0fVxuXHRcdFx0Y3R4ID0gc3ViLmN0eCB8fCB0aGlzLnB1Ymxpc2hlcjtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHN1Yi5jYWxsYmFjay5jYWxsKGN0eCwgZUFyZywgZUluZm8pO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGBFcnJvciBpbiAke3RoaXMubmFtZX06ICR7c3ViLmNhbGxiYWNrfSAke2Vycn1gKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKlxuXHR1bnN1YnNjcmliZSBmcm9tIGV2ZW50XG5cdC0gdXNlIHN1YnNjcmlwdGlvbiByZXR1cm5lZCBieSBwcmV2aW91cyBzdWJzY3JpYmVcblx0Ki9cblx0dW5zdWJzY3JpYmUoc3ViKSB7XG5cdFx0bGV0IGlkeCA9IHRoaXMuc3Vic2NyaXB0aW9ucy5pbmRleE9mKHN1Yik7XG5cdFx0aWYgKGlkeCA+IC0xKSB7XG5cdFx0XHR0aGlzLnN1YnNjcmlwdGlvbnMuc3BsaWNlKGlkeCwgMSk7XG5cdFx0XHRzdWIudGVybWluYXRlKCk7XG5cdFx0fVxuXHR9XG59XG5cblxuLypcblx0U3Vic2NyaXB0aW9uIGNsYXNzXG4qL1xuXG5jbGFzcyBTdWJzY3JpcHRpb24ge1xuXG5cdGNvbnN0cnVjdG9yKGV2ZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cdFx0dGhpcy5ldmVudCA9IGV2ZW50O1xuXHRcdHRoaXMubmFtZSA9IGV2ZW50Lm5hbWU7XG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrXG5cdFx0dGhpcy5pbml0ID0gKG9wdGlvbnMuaW5pdCA9PT0gdW5kZWZpbmVkKSA/IHRoaXMuZXZlbnQuaW5pdCA6IG9wdGlvbnMuaW5pdDtcblx0XHR0aGlzLmluaXRfcGVuZGluZyA9IGZhbHNlO1xuXHRcdHRoaXMudGVybWluYXRlZCA9IGZhbHNlO1xuXHRcdHRoaXMuY3R4ID0gb3B0aW9ucy5jdHg7XG5cdH1cblxuXHR0ZXJtaW5hdGUoKSB7XG5cdFx0dGhpcy50ZXJtaW5hdGVkID0gdHJ1ZTtcblx0XHR0aGlzLmNhbGxiYWNrID0gdW5kZWZpbmVkO1xuXHRcdHRoaXMuZXZlbnQudW5zdWJzY3JpYmUodGhpcyk7XG5cdH1cbn1cblxuXG4vKlxuXG5cdEVWRU5USUZZIElOU1RBTkNFXG5cblx0RXZlbnRpZnkgYnJpbmdzIGV2ZW50aW5nIGNhcGFiaWxpdGllcyB0byBhbnkgb2JqZWN0LlxuXG5cdEluIHBhcnRpY3VsYXIsIGV2ZW50aWZ5IHN1cHBvcnRzIHRoZSBpbml0aWFsLWV2ZW50IHBhdHRlcm4uXG5cdE9wdC1pbiBmb3IgaW5pdGlhbCBldmVudHMgcGVyIGV2ZW50IHR5cGUuXG5cblx0ZXZlbnRpZnlJbml0RXZlbnRBcmdzKG5hbWUpIHtcblx0XHRpZiAobmFtZSA9PSBcImNoYW5nZVwiKSB7XG5cdFx0XHRyZXR1cm4gW3RoaXMuX3ZhbHVlXTtcblx0XHR9XG5cdH1cblxuKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50aWZ5SW5zdGFuY2UgKG9iamVjdCkge1xuXHRvYmplY3QuX19ldmVudGlmeV9ldmVudE1hcCA9IG5ldyBNYXAoKTtcblx0b2JqZWN0Ll9fZXZlbnRpZnlfYnVmZmVyID0gW107XG5cdHJldHVybiBvYmplY3Q7XG59O1xuXG5cbi8qXG5cdEVWRU5USUZZIFBST1RPVFlQRVxuXG5cdEFkZCBldmVudGlmeSBmdW5jdGlvbmFsaXR5IHRvIHByb3RvdHlwZSBvYmplY3RcbiovXG5cbmV4cG9ydCBmdW5jdGlvbiBldmVudGlmeVByb3RvdHlwZShfcHJvdG90eXBlKSB7XG5cblx0ZnVuY3Rpb24gZXZlbnRpZnlHZXRFdmVudChvYmplY3QsIG5hbWUpIHtcblx0XHRjb25zdCBldmVudCA9IG9iamVjdC5fX2V2ZW50aWZ5X2V2ZW50TWFwLmdldChuYW1lKTtcblx0XHRpZiAoZXZlbnQgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJFdmVudCB1bmRlZmluZWRcIiwgbmFtZSk7XG5cdFx0fVxuXHRcdHJldHVybiBldmVudDtcblx0fVxuXG5cdC8qXG5cdFx0REVGSU5FIEVWRU5UXG5cdFx0LSB1c2VkIG9ubHkgYnkgZXZlbnQgc291cmNlXG5cdFx0LSBuYW1lOiBuYW1lIG9mIGV2ZW50XG5cdFx0LSBvcHRpb25zOiB7aW5pdDp0cnVlfSBzcGVjaWZpZXMgaW5pdC1ldmVudCBzZW1hbnRpY3MgZm9yIGV2ZW50XG5cdCovXG5cdGZ1bmN0aW9uIGV2ZW50aWZ5RGVmaW5lKG5hbWUsIG9wdGlvbnMpIHtcblx0XHQvLyBjaGVjayB0aGF0IGV2ZW50IGRvZXMgbm90IGFscmVhZHkgZXhpc3Rcblx0XHRpZiAodGhpcy5fX2V2ZW50aWZ5X2V2ZW50TWFwLmhhcyhuYW1lKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgYWxyZWFkeSBkZWZpbmVkXCIsIG5hbWUpO1xuXHRcdH1cblx0XHR0aGlzLl9fZXZlbnRpZnlfZXZlbnRNYXAuc2V0KG5hbWUsIG5ldyBFdmVudCh0aGlzLCBuYW1lLCBvcHRpb25zKSk7XG5cdH07XG5cblx0Lypcblx0XHRPTlxuXHRcdC0gdXNlZCBieSBzdWJzY3JpYmVyXG5cdFx0cmVnaXN0ZXIgY2FsbGJhY2sgb24gZXZlbnQuXG5cdCovXG5cdGZ1bmN0aW9uIG9uKG5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIGV2ZW50aWZ5R2V0RXZlbnQodGhpcywgbmFtZSkuc3Vic2NyaWJlKGNhbGxiYWNrLCBvcHRpb25zKTtcblx0fTtcblxuXHQvKlxuXHRcdE9GRlxuXHRcdC0gdXNlZCBieSBzdWJzY3JpYmVyXG5cdFx0VW4tcmVnaXN0ZXIgYSBoYW5kbGVyIGZyb20gYSBzcGVjZmljIGV2ZW50IHR5cGVcblx0Ki9cblx0ZnVuY3Rpb24gb2ZmKHN1Yikge1xuXHRcdHJldHVybiBldmVudGlmeUdldEV2ZW50KHRoaXMsIHN1Yi5uYW1lKS51bnN1YnNjcmliZShzdWIpO1xuXHR9O1xuXG5cblx0ZnVuY3Rpb24gZXZlbnRpZnlTdWJzY3JpcHRpb25zKG5hbWUpIHtcblx0XHRyZXR1cm4gZXZlbnRpZnlHZXRFdmVudCh0aGlzLCBuYW1lKS5zdWJzY3JpcHRpb25zO1xuXHR9XG5cblxuXG5cdC8qXG5cdFx0VHJpZ2dlciBsaXN0IG9mIGV2ZW50SXRlbXMgb24gb2JqZWN0XG5cblx0XHRldmVudEl0ZW06ICB7bmFtZTouLiwgZUFyZzouLn1cblxuXHRcdGNvcHkgYWxsIGV2ZW50SXRlbXMgaW50byBidWZmZXIuXG5cdFx0cmVxdWVzdCBlbXB0eWluZyB0aGUgYnVmZmVyLCBpLmUuIGFjdHVhbGx5IHRyaWdnZXJpbmcgZXZlbnRzLFxuXHRcdGV2ZXJ5IHRpbWUgdGhlIGJ1ZmZlciBnb2VzIGZyb20gZW1wdHkgdG8gbm9uLWVtcHR5XG5cdCovXG5cdGZ1bmN0aW9uIGV2ZW50aWZ5VHJpZ2dlckFsbChldmVudEl0ZW1zKSB7XG5cdFx0aWYgKGV2ZW50SXRlbXMubGVuZ3RoID09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBtYWtlIHRyaWdnZXIgaXRlbXNcblx0XHQvLyByZXNvbHZlIG5vbi1wZW5kaW5nIHN1YnNjcmlwdGlvbnMgbm93XG5cdFx0Ly8gZWxzZSBzdWJzY3JpcHRpb25zIG1heSBjaGFuZ2UgZnJvbSBwZW5kaW5nIHRvIG5vbi1wZW5kaW5nXG5cdFx0Ly8gYmV0d2VlbiBoZXJlIGFuZCBhY3R1YWwgdHJpZ2dlcmluZ1xuXHRcdC8vIG1ha2UgbGlzdCBvZiBbZXYsIGVBcmcsIHN1YnNdIHR1cGxlc1xuXHRcdGxldCB0cmlnZ2VySXRlbXMgPSBldmVudEl0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuXHRcdFx0bGV0IHtuYW1lLCBlQXJnfSA9IGl0ZW07XG5cdFx0XHRsZXQgZXYgPSBldmVudGlmeUdldEV2ZW50KHRoaXMsIG5hbWUpO1xuXHRcdFx0bGV0IHN1YnMgPSBldi5zdWJzY3JpcHRpb25zLmZpbHRlcihzdWIgPT4gc3ViLmluaXRfcGVuZGluZyA9PSBmYWxzZSk7XG5cdFx0XHRyZXR1cm4gW2V2LCBlQXJnLCBzdWJzXTtcblx0XHR9LCB0aGlzKTtcblxuXHRcdC8vIGFwcGVuZCB0cmlnZ2VyIEl0ZW1zIHRvIGJ1ZmZlclxuXHRcdGNvbnN0IGxlbiA9IHRyaWdnZXJJdGVtcy5sZW5ndGg7XG5cdFx0Y29uc3QgYnVmID0gdGhpcy5fX2V2ZW50aWZ5X2J1ZmZlcjtcblx0XHRjb25zdCBidWZfbGVuID0gdGhpcy5fX2V2ZW50aWZ5X2J1ZmZlci5sZW5ndGg7XG5cdFx0Ly8gcmVzZXJ2ZSBtZW1vcnkgLSBzZXQgbmV3IGxlbmd0aFxuXHRcdHRoaXMuX19ldmVudGlmeV9idWZmZXIubGVuZ3RoID0gYnVmX2xlbiArIGxlbjtcblx0XHQvLyBjb3B5IHRyaWdnZXJJdGVtcyB0byBidWZmZXJcblx0XHRmb3IgKGxldCBpPTA7IGk8bGVuOyBpKyspIHtcblx0XHRcdGJ1ZltidWZfbGVuK2ldID0gdHJpZ2dlckl0ZW1zW2ldO1xuXHRcdH1cblx0XHQvLyByZXF1ZXN0IGVtcHR5aW5nIG9mIHRoZSBidWZmZXJcblx0XHRpZiAoYnVmX2xlbiA9PSAwKSB7XG5cdFx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRmb3IgKGxldCBbZXYsIGVBcmcsIHN1YnNdIG9mIHNlbGYuX19ldmVudGlmeV9idWZmZXIpIHtcblx0XHRcdFx0XHQvLyBhY3R1YWwgZXZlbnQgdHJpZ2dlcmluZ1xuXHRcdFx0XHRcdGV2LnRyaWdnZXIoZUFyZywgc3VicywgZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNlbGYuX19ldmVudGlmeV9idWZmZXIgPSBbXTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qXG5cdFx0VHJpZ2dlciBtdWx0aXBsZSBldmVudHMgb2Ygc2FtZSB0eXBlIChuYW1lKVxuXHQqL1xuXHRmdW5jdGlvbiBldmVudGlmeVRyaWdnZXJBbGlrZShuYW1lLCBlQXJncykge1xuXHRcdHJldHVybiB0aGlzLmV2ZW50aWZ5VHJpZ2dlckFsbChlQXJncy5tYXAoZUFyZyA9PiB7XG5cdFx0XHRyZXR1cm4ge25hbWUsIGVBcmd9O1xuXHRcdH0pKTtcblx0fVxuXG5cdC8qXG5cdFx0VHJpZ2dlciBzaW5nbGUgZXZlbnRcblx0Ki9cblx0ZnVuY3Rpb24gZXZlbnRpZnlUcmlnZ2VyKG5hbWUsIGVBcmcpIHtcblx0XHRyZXR1cm4gdGhpcy5ldmVudGlmeVRyaWdnZXJBbGwoW3tuYW1lLCBlQXJnfV0pO1xuXHR9XG5cblx0X3Byb3RvdHlwZS5ldmVudGlmeURlZmluZSA9IGV2ZW50aWZ5RGVmaW5lO1xuXHRfcHJvdG90eXBlLmV2ZW50aWZ5VHJpZ2dlciA9IGV2ZW50aWZ5VHJpZ2dlcjtcblx0X3Byb3RvdHlwZS5ldmVudGlmeVRyaWdnZXJBbGlrZSA9IGV2ZW50aWZ5VHJpZ2dlckFsaWtlO1xuXHRfcHJvdG90eXBlLmV2ZW50aWZ5VHJpZ2dlckFsbCA9IGV2ZW50aWZ5VHJpZ2dlckFsbDtcblx0X3Byb3RvdHlwZS5ldmVudGlmeVN1YnNjcmlwdGlvbnMgPSBldmVudGlmeVN1YnNjcmlwdGlvbnM7XG5cdF9wcm90b3R5cGUub24gPSBvbjtcblx0X3Byb3RvdHlwZS5vZmYgPSBvZmY7XG59O1xuXG5cbmV4cG9ydCB7ZXZlbnRpZnlJbnN0YW5jZSBhcyBhZGRTdGF0ZX07XG5leHBvcnQge2V2ZW50aWZ5UHJvdG90eXBlIGFzIGFkZE1ldGhvZHN9O1xuXG4vKlxuXHRFdmVudCBWYXJpYWJsZVxuXG5cdE9iamVjdHMgd2l0aCBhIHNpbmdsZSBcImNoYW5nZVwiIGV2ZW50XG4qL1xuXG5leHBvcnQgY2xhc3MgRXZlbnRWYXJpYWJsZSB7XG5cblx0Y29uc3RydWN0b3IgKHZhbHVlKSB7XG5cdFx0ZXZlbnRpZnlJbnN0YW5jZSh0aGlzKTtcblx0XHR0aGlzLl92YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMuZXZlbnRpZnlEZWZpbmUoXCJjaGFuZ2VcIiwge2luaXQ6dHJ1ZX0pO1xuXHR9XG5cblx0ZXZlbnRpZnlJbml0RXZlbnRBcmdzKG5hbWUpIHtcblx0XHRpZiAobmFtZSA9PSBcImNoYW5nZVwiKSB7XG5cdFx0XHRyZXR1cm4gW3RoaXMuX3ZhbHVlXTtcblx0XHR9XG5cdH1cblxuXHRnZXQgdmFsdWUgKCkge3JldHVybiB0aGlzLl92YWx1ZX07XG5cdHNldCB2YWx1ZSAodmFsdWUpIHtcblx0XHRpZiAodmFsdWUgIT0gdGhpcy5fdmFsdWUpIHtcblx0XHRcdHRoaXMuX3ZhbHVlID0gdmFsdWU7XG5cdFx0XHR0aGlzLmV2ZW50aWZ5VHJpZ2dlcihcImNoYW5nZVwiLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5ldmVudGlmeVByb3RvdHlwZShFdmVudFZhcmlhYmxlLnByb3RvdHlwZSk7XG5cbi8qXG5cdEV2ZW50IEJvb2xlYW5cblxuXG5cdE5vdGUgOiBpbXBsZW1lbnRhdGlvbiB1c2VzIGZhbHNpbmVzcyBvZiBpbnB1dCBwYXJhbWV0ZXIgdG8gY29uc3RydWN0b3IgYW5kIHNldCgpIG9wZXJhdGlvbixcblx0c28gZXZlbnRCb29sZWFuKC0xKSB3aWxsIGFjdHVhbGx5IHNldCBpdCB0byB0cnVlIGJlY2F1c2Vcblx0KC0xKSA/IHRydWUgOiBmYWxzZSAtPiB0cnVlICFcbiovXG5cbmV4cG9ydCBjbGFzcyBFdmVudEJvb2xlYW4gZXh0ZW5kcyBFdmVudFZhcmlhYmxlIHtcblx0Y29uc3RydWN0b3IodmFsdWUpIHtcblx0XHRzdXBlcihCb29sZWFuKHZhbHVlKSk7XG5cdH1cblxuXHRzZXQgdmFsdWUgKHZhbHVlKSB7XG5cdFx0c3VwZXIudmFsdWUgPSBCb29sZWFuKHZhbHVlKTtcblx0fVxuXHRnZXQgdmFsdWUgKCkge3JldHVybiBzdXBlci52YWx1ZX07XG59XG5cblxuLypcblx0bWFrZSBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiBFdmVudEJvb2xlYW4gY2hhbmdlc1xuXHR2YWx1ZS5cbiovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVByb21pc2UoZXZlbnRPYmplY3QsIGNvbmRpdGlvbkZ1bmMpIHtcblx0Y29uZGl0aW9uRnVuYyA9IGNvbmRpdGlvbkZ1bmMgfHwgZnVuY3Rpb24odmFsKSB7cmV0dXJuIHZhbCA9PSB0cnVlfTtcblx0cmV0dXJuIG5ldyBQcm9taXNlIChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0bGV0IHN1YiA9IGV2ZW50T2JqZWN0Lm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0aWYgKGNvbmRpdGlvbkZ1bmModmFsdWUpKSB7XG5cdFx0XHRcdHJlc29sdmUodmFsdWUpO1xuXHRcdFx0XHRldmVudE9iamVjdC5vZmYoc3ViKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG59O1xuXG4vLyBtb2R1bGUgYXBpXG5leHBvcnQgZGVmYXVsdCB7XG5cdGV2ZW50aWZ5UHJvdG90eXBlLFxuXHRldmVudGlmeUluc3RhbmNlLFxuXHRFdmVudFZhcmlhYmxlLFxuXHRFdmVudEJvb2xlYW4sXG5cdG1ha2VQcm9taXNlXG59O1xuXG4iLCIvKlxuICAgIFRoaXMgZGVjb3JhdGVzIGFuIG9iamVjdC9wcm90b3R5cGUgd2l0aCBiYXNpYyAoc3luY2hyb25vdXMpIGNhbGxiYWNrIHN1cHBvcnQuXG4qL1xuXG5jb25zdCBQUkVGSVggPSBcIl9fY2FsbGJhY2tcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFN0YXRlKG9iamVjdCkge1xuICAgIG9iamVjdFtgJHtQUkVGSVh9X2hhbmRsZXJzYF0gPSBbXTtcbn1cblxuZnVuY3Rpb24gYWRkX2NhbGxiYWNrIChoYW5kbGVyKSB7XG4gICAgbGV0IGhhbmRsZSA9IHtcbiAgICAgICAgaGFuZGxlcjogaGFuZGxlclxuICAgIH1cbiAgICB0aGlzW2Ake1BSRUZJWH1faGFuZGxlcnNgXS5wdXNoKGhhbmRsZSk7XG4gICAgcmV0dXJuIGhhbmRsZTtcbn07XG5cbmZ1bmN0aW9uIHJlbW92ZV9jYWxsYmFjayAoaGFuZGxlKSB7XG4gICAgbGV0IGluZGV4ID0gdGhpc1tgJHtQUkVGSVh9X2hhbmRsZXJzYF0uaW5kZXhPZihoYW5kbGUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXNbYCR7UFJFRklYfV9oYW5kbGVyc2BdLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gbm90aWZ5X2NhbGxiYWNrcyAoZUFyZykge1xuICAgIHRoaXNbYCR7UFJFRklYfV9oYW5kbGVyc2BdLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgIGhhbmRsZS5oYW5kbGVyKGVBcmcpO1xuICAgIH0pO1xufTtcblxuXG5leHBvcnQgZnVuY3Rpb24gYWRkTWV0aG9kcyAob2JqKSB7XG4gICAgY29uc3QgYXBpID0ge1xuICAgICAgICBhZGRfY2FsbGJhY2ssIHJlbW92ZV9jYWxsYmFjaywgbm90aWZ5X2NhbGxiYWNrc1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKG9iaiwgYXBpKTtcbn1cblxuLyoqXG4gKiB0ZXN0IGlmIG9iamVjdCBpbXBsZW1lbnRzIGNhbGxiYWNrIGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfY2FsbGJhY2tfYXBpIChvYmopIHtcbiAgICBpZiAob2JqID09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IG1ldGhvZHMgPSBbXCJhZGRfY2FsbGJhY2tcIiwgXCJyZW1vdmVfY2FsbGJhY2tcIl07XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIG1ldGhvZHMpIHtcbiAgICAgICAgaWYgKCEocHJvcCBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW3Byb3BdICE9ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4iLCJpbXBvcnQgeyBlbmRwb2ludCwgaW50ZXJ2YWwgfSBmcm9tIFwiLi9pbnRlcnZhbHNcIjtcblxuXG4vLyBvdnZlcnJpZGUgbW9kdWxvIHRvIGJlaGF2ZSBiZXR0ZXIgZm9yIG5lZ2F0aXZlIG51bWJlcnNcbmV4cG9ydCBmdW5jdGlvbiBtb2QobiwgbSkge1xuICAgIHJldHVybiAoKG4gJSBtKSArIG0pICUgbTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZtb2QoeCwgYmFzZSkge1xuICAgIGxldCBuID0gTWF0aC5mbG9vcih4IC8gYmFzZSlcbiAgICBsZXQgciA9IG1vZCh4LCBiYXNlKTtcbiAgICByZXR1cm4gW24sIHJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNfZmluaXRlX251bWJlcihvYmopIHtcbiAgICByZXR1cm4gKHR5cGVvZiBvYmogPT0gJ251bWJlcicpICYmIGlzRmluaXRlKG9iaik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja19udW1iZXIobmFtZSwgb2JqKSB7XG4gICAgaWYgKCFpc19maW5pdGVfbnVtYmVyKG9iaikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke25hbWV9IG11c3QgYmUgZmluaXRlIG51bWJlciAke29ian1gKTtcbiAgICB9XG59XG5cbi8qKlxuICogY29udmVuaWVuY2UgZnVuY3Rpb24gdG8gcmVuZGVyIGEgY3Vyc29yIFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyX2N1cnNvciAoY3Vyc29yLCBzZWxlY3Rvciwgb3B0aW9ucz17fSkge1xuICAgIGNvbnN0IHtkZWxheT0yMDAsIHJlbmRlciwgbm92YWx1ZX0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgZnVuY3Rpb24gX3JlbmRlcihzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUudmFsdWUgPT0gdW5kZWZpbmVkICYmIG5vdmFsdWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IG5vdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlciAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlbmRlcihzdGF0ZSwgZWxlbXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbXMudGV4dENvbnRlbnQgPSAoc3RhdGUudmFsdWUgIT0gdW5kZWZpbmVkKSA/IGAke3N0YXRlLnZhbHVlfWAgOiBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjdXJzb3IuYmluZChfcmVuZGVyLCBkZWxheSk7XG59XG5cblxuXG5cbi8qXG4gICAgc2ltaWxhciB0byByYW5nZSBmdW5jdGlvbiBpbiBweXRob25cbiovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5nZSAoc3RhcnQsIGVuZCwgc3RlcCA9IDEsIG9wdGlvbnM9e30pIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCB7aW5jbHVkZV9lbmQ9ZmFsc2V9ID0gb3B0aW9ucztcbiAgICBpZiAoc3RlcCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0ZXAgY2Fubm90IGJlIHplcm8uJyk7XG4gICAgfVxuICAgIGlmIChzdGFydCA8IGVuZCkge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gc3RlcCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGFydCA+IGVuZCkge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPiBlbmQ7IGkgLT0gc3RlcCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpbmNsdWRlX2VuZCkge1xuICAgICAgICByZXN1bHQucHVzaChlbmQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8vIHdlYnBhZ2UgY2xvY2sgLSBwZXJmb3JtYW5jZSBub3cgLSBzZWNvbmRzXG5leHBvcnQgY29uc3QgbG9jYWxfY2xvY2sgPSBmdW5jdGlvbiBsb2NhbF9jbG9jayAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm93OiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCkvMTAwMC4wO1xuICAgICAgICB9XG4gICAgfVxufSgpO1xuXG4vLyBzeXN0ZW0gY2xvY2sgLSBlcG9jaCAtIHNlY29uZHNcbmV4cG9ydCBjb25zdCBsb2NhbF9lcG9jaCA9IGZ1bmN0aW9uIGxvY2FsX2Vwb2NoICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3c6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLzEwMDAuMDtcbiAgICAgICAgfVxuICAgIH1cbn0oKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBzaW5nbGUgc3RhdGUgZnJvbSBhIGxpc3Qgb2Ygc3RhdGVzLCB1c2luZyBhIHZhbHVlRnVuY1xuICogc3RhdGU6e3ZhbHVlLCBkeW5hbWljLCBvZmZzZXR9XG4gKiBcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9TdGF0ZShzb3VyY2VzLCBzdGF0ZXMsIG9mZnNldCwgb3B0aW9ucz17fSkge1xuICAgIGxldCB7dmFsdWVGdW5jLCBzdGF0ZUZ1bmN9ID0gb3B0aW9uczsgXG4gICAgaWYgKHZhbHVlRnVuYyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdmFsdWVGdW5jKHtzb3VyY2VzLCBzdGF0ZXMsIG9mZnNldH0pO1xuICAgICAgICBsZXQgZHluYW1pYyA9IHN0YXRlcy5tYXAoKHYpID0+IHYuZHltYW1pYykuc29tZShlPT5lKTtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZSwgZHluYW1pYywgb2Zmc2V0fTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlRnVuYyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsuLi5zdGF0ZUZ1bmMoe3NvdXJjZXMsIHN0YXRlcywgb2Zmc2V0fSksIG9mZnNldH07XG4gICAgfVxuICAgIC8vIG5vIHZhbHVlRnVuYyBvciBzdGF0ZUZ1bmNcbiAgICBpZiAoc3RhdGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHJldHVybiB7dmFsdWU6dW5kZWZpbmVkLCBkeW5hbWljOmZhbHNlLCBvZmZzZXR9XG4gICAgfVxuICAgIC8vIGZhbGxiYWNrIC0ganVzdCB1c2UgZmlyc3Qgc3RhdGVcbiAgICBsZXQgc3RhdGUgPSBzdGF0ZXNbMF07XG4gICAgcmV0dXJuIHsuLi5zdGF0ZSwgb2Zmc2V0fTsgXG59XG5cblxuLyoqXG4gKiBjaGVjayBpbnB1dCBpdGVtcyB0byBsb2NhbCBzdGF0ZSBwcm92aWRlcnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tfaW5wdXQoaXRlbXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IG11c3QgYmUgYW4gYXJyYXlcIik7XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB0aGF0IGludGVydmFscyBhcmUgd2VsbCBmb3JtZWRcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgaXRlbS5pdHYgPSBpbnRlcnZhbC5mcm9tX2lucHV0KGl0ZW0uaXR2KTtcbiAgICB9XG4gICAgLy8gc29ydCBpdGVtcyBiYXNlZCBvbiBpbnRlcnZhbCBsb3cgZW5kcG9pbnRcbiAgICBpdGVtcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGxldCBhX2xvdyA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoYS5pdHYpWzBdO1xuICAgICAgICBsZXQgYl9sb3cgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGIuaXR2KVswXTtcbiAgICAgICAgcmV0dXJuIGVuZHBvaW50LmNtcChhX2xvdywgYl9sb3cpO1xuICAgIH0pO1xuICAgIC8vIGNoZWNrIHRoYXQgaXRlbSBpbnRlcnZhbHMgYXJlIG5vbi1vdmVybGFwcGluZ1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHByZXZfaGlnaCA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXRlbXNbaSAtIDFdLml0dilbMV07XG4gICAgICAgIGxldCBjdXJyX2xvdyA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXRlbXNbaV0uaXR2KVswXTtcbiAgICAgICAgLy8gdmVyaWZ5IHRoYXQgcHJldiBoaWdoIGlzIGxlc3MgdGhhdCBjdXJyIGxvd1xuICAgICAgICBpZiAoIWVuZHBvaW50Lmx0KHByZXZfaGlnaCwgY3Vycl9sb3cpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPdmVybGFwcGluZyBpbnRlcnZhbHMgZm91bmRcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1zO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21fc3RyaW5nKGxlbmd0aCkge1xuICAgIHZhciB0ZXh0ID0gXCJcIjtcbiAgICB2YXIgcG9zc2libGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xufVxuXG4vKipcbiAqIEltcHJvdmVkIHNldF90aW1lb3V0XG4gKiBcbiAqIFRpbWVvdXQgaXMgZGVmaW5lZCBieSBhIHRhcmdldF9tcyByZWFkaW5nIG9mIHBlcmZvcm1hbmNlLm5vdygpLlxuICogQ2FsbGJhY2sgaXMgbm90IGludm9rZWQgdW50aWwgcGVyZm9ybWFuY2Uubm93KCkgPj0gdGFyZ2V0X21zLiBcbiAqIFxuICogVGhpcyBwcm90ZWN0cyBhZ2FpbnN0IGEgd2Vha25lc3MgaW4gYmFzaWMgc2V0VGltZW91dCwgd2hpY2ggbWF5XG4gKiBvY2NhdGlvbmFsbHkgaW52b2tlIHRoZSBjYWxsYmFjayB0b28gZWFybHkuIFxuICogXG4gKiBzY2hlZHVsZSB0aW1lb3V0IDEgbXMgbGF0ZSwgdG8gcmVkdWNlIHRoZSBsaWtlbGlob29kIG9mIFxuICogaGF2aW5nIHRvIHJlc2NoZWR1bGUgYSB0aW1lb3V0IFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3RpbWVvdXQgKGNhbGxiYWNrLCBkZWx0YV9tcykge1xuICAgIGxldCB0cyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGRlbHRhX21zID0gTWF0aC5tYXgoZGVsdGFfbXMsIDApO1xuICAgIGxldCB0YXJnZXRfbXMgPSB0cyArIGRlbHRhX21zO1xuICAgIGxldCB0aWQ7XG4gICAgZnVuY3Rpb24gY2FuY2VsX3RpbWVvdXQoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVfdGltZW91dCgpIHtcbiAgICAgICAgY29uc3QgZGVsdGFfbXMgPSB0YXJnZXRfbXMgLSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGRlbHRhX21zID4gMCkge1xuICAgICAgICAgICAgLy8gcmVzY2hlZHVsZSB0aW1lb3V0XG4gICAgICAgICAgICB0aWQgPSBzZXRUaW1lb3V0KGhhbmRsZV90aW1lb3V0LCBkZWx0YV9tcyArIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aWQgPSBzZXRUaW1lb3V0KGhhbmRsZV90aW1lb3V0LCBkZWx0YV9tcyArIDEpO1xuICAgIHJldHVybiB7Y2FuY2VsOmNhbmNlbF90aW1lb3V0fTtcbn1cblxuLyoqXG4gKiAgSW1wbGVtZW50cyBkZXRlcm1pbmlzdGljIHByb2plY3Rpb24gYmFzZWQgb24gaW5pdGlhbCBjb25kaXRpb25zIFxuICogIC0gbW90aW9uIHZlY3RvciBkZXNjcmliZXMgbW90aW9uIHVuZGVyIGNvbnN0YW50IGFjY2VsZXJhdGlvblxuICpcbiAqICBtb3Rpb24gdHJhbnNpdGlvbiBcbiAqIFxuICogIHRyYW5zaXRpb24gZnJvbSB0aW1lIGRvbWFpbiB0byBwb3NpdGlvbiB1bmRlciBjb25zdGFudCBhY2NlbGVyYXRpb24gaXMgZ2l2ZW4gYnlcbiAqICBnaXZlbiBpbml0aWFsIHZlY3RvciBbcDAsdjAsYTAsdDBdXG4gKiAgcCh0KSA9IHAwICsgdjAqKHQtdDApICsgMC41KmEwKih0LXQwKSoodC10MClcbiAqICB2KHQpID0gdjAgKyBhMCoodC10MClcbiAqICBhKHQpID0gYTBcbiAqICB0KHQpID0gdFxuICovXG5leHBvcnQgZnVuY3Rpb24gbW90aW9uX2NhbGN1bGF0ZSh2ZWN0b3IsdCkge1xuICAgIGNvbnN0IFtwMCx2MCxhMCx0MF0gPSB2ZWN0b3I7XG4gICAgY29uc3QgZCA9IHQgLSB0MDtcbiAgICBjb25zdCBwID0gcDAgKyB2MCpkICsgMC41KmEwKk1hdGgucG93KGQsMik7XG4gICAgY29uc3QgdiA9IHYwICsgYTAqZDtcbiAgICBjb25zdCBhID0gYTA7XG4gICAgcmV0dXJuIFtwLHYsYSx0XTtcbn1cblxuLyoqXG4gKiBHaXZlbiBtb3Rpb24gZGV0ZXJtaW5lZCBmcm9tIFtwMCx2MCxhMCx0MF0uXG4gKiBHaXZlbiBlcXVhdGlvbiBwKHQpID0gcDAgKyB2MCoodC10MCkgKyAwLjUqYTAqKHQtdDApXjIgPT0gcDFcbiAqIENhbGN1bGF0ZSBpZiBlcXVhdGlvbiBoYXMgc29sdXRpb25zIGZvciBzb21lIHJlYWwgbnVtYmVyIHQuXG4gKiBBIHNvbHV0aW9uIGV4aXN0cyBpZiBkZXRlcm1pbmFudCBvZiBxdWFkcmF0aWMgZXF1YXRpb24gaXMgbm9uLW5lZ2F0aXZlXG4gKiAodjBeMiAtIDJhMChwMC1wMSkpID49IDBcbiAqL1xuZnVuY3Rpb24gbW90aW9uX2hhc19yZWFsX3NvbHV0aW9ucyh2ZWN0b3IsIHAxKSB7XG4gICAgY29uc3QgW3AwLHYwLGEwLHQwXSA9IHZlY3RvcjtcbiAgICByZXR1cm4gKE1hdGgucG93KHYwLDIpIC0gMiphMCoocDAtcDEpKSA+PSAwLjBcbn07XG5cbi8qKlxuICogR2l2ZW4gbW90aW9uIGRldGVybWluZWQgZnJvbSBbcDAsdjAsYTAsdDBdLlxuICogR2l2ZW4gZXF1YXRpb24gcCh0KSA9IHAwICsgdjAqKHQtdDApICsgMC41KmEwKih0LXQwKV4yID09IHAxXG4gKiBDYWxjdWxhdGUgYW5kIHJldHVybiByZWFsIHNvbHV0aW9ucywgaW4gYXNjZW5kaW5nIG9yZGVyLlxuKi8gIFxuZnVuY3Rpb24gbW90aW9uX2dldF9yZWFsX3NvbHV0aW9ucyAodmVjdG9yLCBwMSkge1xuICAgIGNvbnN0IFtwMCx2MCxhMCx0MF0gPSB2ZWN0b3I7XG4gICAgLy8gQ29uc3RhbnQgUG9zaXRpb25cbiAgICBpZiAoYTAgPT09IDAuMCAmJiB2MCA9PT0gMC4wKSB7XG4gICAgICAgIGlmIChwMCAhPSBwMSkgcmV0dXJuIFtdO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFueSB0IGlzIGEgc29sdXRpb25cbiAgICAgICAgICAgIC8vIE5PVEU6IGhhcyByZWFsIHNvbHV0aW9ucyBpcyB0cnVlXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBDb25zdGFudCBub24temVybyBWZWxvY2l0eVxuICAgIGlmIChhMCA9PT0gMC4wKSByZXR1cm4gW3QwICsgKHAxLXAwKS92MF07XG4gICAgLy8gQ29uc3RhbnQgQWNjZWxlcmF0aW9uXG4gICAgaWYgKG1vdGlvbl9oYXNfcmVhbF9zb2x1dGlvbnModmVjdG9yLCBwMSkgPT09IGZhbHNlKSByZXR1cm4gW107XG4gICAgLy8gRXhhY3RseSBvbiBzb2x1dGlvblxuICAgIHZhciBkaXNjcmltaW5hbnQgPSBNYXRoLnBvdyh2MCwyKSAtIDIqYTAqKHAwLXAxKTtcbiAgICBpZiAoZGlzY3JpbWluYW50ID09PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIFt0MC12MC9hMF07XG4gICAgfVxuICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0KE1hdGgucG93KHYwLDIpIC0gMiphMCoocDAtcDEpKTtcbiAgICB2YXIgZDEgPSB0MCArICgtdjAgKyBzcXJ0KS9hMDtcbiAgICB2YXIgZDIgPSB0MCArICgtdjAgLSBzcXJ0KS9hMDtcbiAgICByZXR1cm4gW01hdGgubWluKGQxLGQyKSxNYXRoLm1heChkMSxkMildO1xufTtcblxuLypcbiAgICBjYWxjdWxhdGUgdGltZSByYW5nZSBmb3IgZ2l2ZW4gcG9zaXRpb24gcmFuZ2VcblxuICAgIG1vdGlvbiB0cmFuc2l0aW9uIGZyb20gdGltZSB0byBwb3NpdGlvbiBpcyBnaXZlbiBieVxuICAgIHAodCkgPSBwMCArIHYqdCArIDAuNSphKnQqdFxuICAgIGZpbmQgc29sdXRpb25zIGZvciB0IHNvIHRoYXQgXG4gICAgcCh0KSA9IHBvc1xuXG4gICAgZG8gdGhpcyBmb3IgYm90aCB2YWx1ZXMgaW4gcmFuZ2UgW2xvdyxoaWdoXVxuICAgIGFjY3VtdWxhdGUgYWxsIGNhbmRpZGF0ZSBzb2x1dGlvbnMgdCBpbiBhc2NlbmRpbmcgb3JkZXJcbiAgICBhdm9pZCBkdXBsaWNhdGVzXG4gICAgdGhpcyBjYW4gYWNjdW11bGF0ZSAwLDEsMiwzLDQgc29sdXRpb25cbiAgICBpZiAwIHNvbHV0aW9ucyAtIHVuZGVmaW5lZCAobW90aW9uIGRvZXMgbm90IGludGVyc2VjdCB3aXRoIHJhbmdlIGV2ZXIpIFxuICAgIGlmIDEgc29sdXRpb25zIC0gdWRlZmluZWQgKG1vdGlvbiBvbmx5IGludGVyc2VjdHMgd2l0aCByYW5nZSB0YW5nZW50aWFsbHkgYXQgb25lIHQpXG4gICAgaWYgMiBzb2x1dGlvbnMgLSBbMCwxXSAobW90aW9uIGludGVyc2VjdHMgd2l0aCByYW5nZSBhdCB0d28gdGltZXMpXG4gICAgaWYgMyBzb2x1dGlvbnMgLSBbMCwyXSAobW90aW9uIGludGVyc2VjdHMgd2l0aCByYW5nZSBhdCB0aHJlZSB0aW1lcylcbiAgICBpZiA0IHNvbHV0aW9ucyAtIFswLDFdIGFuZCBbMiwzXVxuXG4gICAgcmV0dXJucyBhIGxpc3Qgb2YgcmFuZ2UgY2FuZGlkYXRlcyAoYXQgbW9zdCB0d28gYnV0IG9ubHkgd2l0aCBhY2NlbGVyYXRpb24pXG4qL1xuZnVuY3Rpb24gbW90aW9uX2NhbGN1bGF0ZV90aW1lX3Jhbmdlcyh2ZWN0b3IsIHBvc19yYW5nZSkge1xuICAgIGNvbnN0IFtwMCx2MCxhMCx0MF0gPSB2ZWN0b3I7XG4gICAgbGV0IFtsb3csIGhpZ2hdID0gcG9zX3JhbmdlO1xuICAgIGlmIChsb3cgPT0gbnVsbCkgbG93ID0gLUluZmluaXR5O1xuICAgIGlmIChoaWdoID09IG51bGwpIGhpZ2ggPSBJbmZpbml0eTtcblxuICAgIC8vIFs8LSwgLT5dXG4gICAgaWYgKGxvdyA9PSAtSW5maW5pdHkgJiYgaGlnaCA9PSBJbmZpbml0eSkge1xuICAgICAgICAvLyBubyBwb3MgcmFuZ2UgPT0gZW50aXJlIHZhbHVlIHNwYWNlID0+IHRpbWUgcmFuZ2UgZW50aXJlIHRpbWVsaW5lXG4gICAgICAgIHJldHVybiBbW251bGwsIG51bGxdXTtcbiAgICB9IFxuXG4gICAgLy8gW0ZMQVQgTElORV1cbiAgICAvLyBwb3MgaXMgZWl0aGVyIHdpdGhpbiBwb3MgcmFuZ2UgZm9yIGFsbCB0IG9yIG5ldmVyICBcbiAgICBpZiAodjAgPT09IDAuMCAmJiBhMCA9PT0gMC4wKSB7XG4gICAgICAgIC8vIGJvdGggbG93IGFuZCBoaWdoIGJvdW5kXG4gICAgICAgIHJldHVybiAocDAgPj0gbG93ICYmIHAwIDw9IGhpZ2gpID8gW1tudWxsLCBudWxsXV0gOiBbXTtcbiAgICB9XG5cbiAgICAvLyBhZ2dyZWdhdGUgc29sdXRpb25zXG4gICAgbGV0IHNvbHV0aW9ucyA9IFtdO1xuICAgIGlmICgtSW5maW5pdHkgPCBsb3cpIHtcbiAgICAgICAgc29sdXRpb25zLnB1c2goLi4ubW90aW9uX2dldF9yZWFsX3NvbHV0aW9ucyh2ZWN0b3IsIGxvdykpO1xuICAgIH0gXG4gICAgaWYgKGhpZ2ggPCBJbmZpbml0eSkge1xuICAgICAgICBzb2x1dGlvbnMucHVzaCguLi5tb3Rpb25fZ2V0X3JlYWxfc29sdXRpb25zKHZlY3RvciwgaGlnaCkpO1xuICAgIH1cbiAgICAvLyByZW1vdmUgZHVwbGljYXRlc1xuICAgIHNvbHV0aW9ucyA9IFsuLi5uZXcgU2V0KHNvbHV0aW9ucyldO1xuICAgIC8vIHNvcnQgaW4gYXNjZW5kaW5nIG9yZGVyXG4gICAgc29sdXRpb25zLnNvcnQoKGEsYikgPT4gYS1iKTtcblxuICAgIC8vIFs8LSwgSElHSF1cbiAgICBpZiAobG93ID09IC1JbmZpbml0eSkge1xuICAgICAgICAvLyBvbmx5IGhpZ2ggYm91bmRcbiAgICAgICAgaWYgKHNvbHV0aW9ucy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgLy8gcGFyYWJvbGEgbm90IHRvdWNoaW5nIGxvd1xuICAgICAgICAgICAgLy8gcG9zIDwgaGlnaCBvciBwb3MgPiBoaWdoIGZvciBhbGwgdCAtIGp1c3QgdGVzdCB3aXRoIHQwXG4gICAgICAgICAgICByZXR1cm4gKHAwIDw9IGhpZ2gpID8gW1tudWxsLCBudWxsXV0gOiBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzb2x1dGlvbnMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGlmIChhMCA+IDAuMCkge1xuICAgICAgICAgICAgICAgIC8vIHBhcmFib2xhIC0gdG91Y2hpbmcgaGlnaCBmcm9tIG92ZXJzaWRlXG4gICAgICAgICAgICAgICAgLy8gcG9zID4gaGlnaCBmb3IgYWxsIHRcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGEwIDwgMC4wKSB7XG4gICAgICAgICAgICAgICAgLy8gcGFyYWJvbGEgdG91Y2hpbmcgbG93IGZyb20gdW5kZXJzaWRlXG4gICAgICAgICAgICAgICAgLy8gcG9zIDwgaGlnaCBmb3IgYWxsIHRcbiAgICAgICAgICAgICAgICByZXR1cm4gW1tudWxsLCBudWxsXV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGEwID09IDAuMCA+IHN0cmFpZ3RoIGxpbmVcbiAgICAgICAgICAgICAgICBpZiAodjAgPiAwLjApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9zIDw9IGhpZ2ggZm9yIGFsbCB0IDw9IHNvbHV0aW9uc1swXVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1tudWxsLCBzb2x1dGlvbnNbMF1dXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwb3MgPD0gaGlnaCBmb3IgdCA+PSBzb2x1dGlvbnNbMF1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtbc29sdXRpb25zWzBdLCBudWxsXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNvbHV0aW9ucy5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgLy8gcGFyYWJvbGFcbiAgICAgICAgICAgIGlmIChhMCA+IDAuMCkge1xuICAgICAgICAgICAgICAgIC8vIG9uZSB0aW1lIHJhbmdlIGJldHdlZW4gc29sdXRpb25zXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtbc29sdXRpb25zWzBdLCBzb2x1dGlvbnNbMV1dXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYTAgPCAwLjApIHtcbiAgICAgICAgICAgICAgICAvLyBvbmUgdGltZSByYW5nZSBvbiBlYWNoIHNpZGUgXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtbbnVsbCwgc29sdXRpb25zWzBdXSwgW3NvbHV0aW9uc1sxXSwgbnVsbF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgIC8vIFtMT1csIC0+XVxuICAgIH0gZWxzZSBpZiAoaGlnaCA9PSBJbmZpbml0eSkge1xuICAgICAgICAvLyBvbmx5IGxvdyBib3VuZFxuICAgICAgICBpZiAoc29sdXRpb25zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAvLyBwYXJhYm9sYSBub3QgdG91Y2hpbmcgbG93XG4gICAgICAgICAgICAvLyBwb3MgPiBsb3cgb3IgcG9zIDwgbG93IGZvciBhbGwgdCAtIGp1c3QgdGVzdCB3aXRoIHQwXG4gICAgICAgICAgICByZXR1cm4gKHAwID49IGxvdykgPyBbW251bGwsIG51bGxdXSA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNvbHV0aW9ucy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgaWYgKGEwID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgLy8gcGFyYWJvbGEgLSB0b3VjaGluZyBsb3cgZnJvbSBvdmVyc2lkZVxuICAgICAgICAgICAgICAgIC8vIHBvcyA+IGxvdyBmb3IgYWxsIHRcbiAgICAgICAgICAgICAgICByZXR1cm4gW1tudWxsLCBudWxsXV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGEwIDwgMC4wKSB7XG4gICAgICAgICAgICAgICAgLy8gcGFyYWJvbGEgdG91Y2hpbmcgbG93IGZyb20gdW5kZXJzaWRlXG4gICAgICAgICAgICAgICAgLy8gcG9zIDwgbG93IGZvciBhbGwgdFxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYTAgPT0gMC4wID4gc3RyYWlndGggbGluZVxuICAgICAgICAgICAgICAgIGlmICh2MCA+IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwb3MgPj0gbG93IGZvciBhbGwgdCA+PSBzb2x1dGlvbnNbMF1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtbc29sdXRpb25zWzBdLCBudWxsXV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9zID49IGxvdyBmb3IgdCA8PSBzb2x1dGlvbnNbMF1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtbbnVsbCwgc29sdXRpb25zWzBdXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNvbHV0aW9ucy5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgLy8gcGFyYWJvbGFcbiAgICAgICAgICAgIGlmIChhMCA+IDAuMCkge1xuICAgICAgICAgICAgICAgIC8vIG9uZSB0aW1lIHJhbmdlIG9uIGVhY2ggc2lkZSBcbiAgICAgICAgICAgICAgICByZXR1cm4gW1tudWxsLCBzb2x1dGlvbnNbMF1dLCBbc29sdXRpb25zWzFdLCBudWxsXV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGEwIDwgMC4wKSB7XG4gICAgICAgICAgICAgICAgLy8gb25lIHRpbWUgcmFuZ2UgYmV0d2VlbiBzb2x1dGlvbnNcbiAgICAgICAgICAgICAgICByZXR1cm4gW1tzb2x1dGlvbnNbMF0sIHNvbHV0aW9uc1sxXV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAvLyBbTE9XLCBISUdIXVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGJvdGggbG93IGFuZCBoaWdoIGJvdW5kXG4gICAgICAgIGlmIChzb2x1dGlvbnMubGVuZ3RoID09IDApIHJldHVybiBbXTtcbiAgICAgICAgaWYgKHNvbHV0aW9ucy5sZW5ndGggPT0gMSkgcmV0dXJuIFtdO1xuICAgICAgICBpZiAoc29sdXRpb25zLmxlbmd0aCA9PSAyKSByZXR1cm4gW1tzb2x1dGlvbnNbMF0sIHNvbHV0aW9uc1sxXV1dO1xuICAgICAgICBpZiAoc29sdXRpb25zLmxlbmd0aCA9PSAzKSByZXR1cm4gW1tzb2x1dGlvbnNbMF0sIHNvbHV0aW9uc1syXV1dO1xuICAgICAgICBpZiAoc29sdXRpb25zLmxlbmd0aCA9PSA0KSByZXR1cm4gW1tzb2x1dGlvbnNbMF0sIHNvbHV0aW9uc1sxXV0sIFtzb2x1dGlvbnNbMl0sIHNvbHV0aW9uc1szXV1dO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbW90aW9uX2NoZWNrX3JhbmdlKG9iaikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikgJiYgb2JqLmxlbmd0aCAhPSAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgcmFuZ2UgbXVzdCBoYXZlIHR3byBlbGVtZW50cyAke29ian1gKTtcbiAgICB9XG4gICAgb2JqWzBdID09IG51bGwgfHwgY2hlY2tfbnVtYmVyKFwibG93XCIsIG9ialswXSk7XG4gICAgb2JqWzFdID09IG51bGwgfHwgY2hlY2tfbnVtYmVyKFwiaGlnaFwiLCBvYmpbMV0pO1xufVxuXG5leHBvcnQgY29uc3QgbW90aW9uX3V0aWxzID0ge1xuICAgIGNhbGN1bGF0ZTogbW90aW9uX2NhbGN1bGF0ZSxcbiAgICBoYXNfcmVhbF9zb2x1dGlvbnM6IG1vdGlvbl9oYXNfcmVhbF9zb2x1dGlvbnMsXG4gICAgZ2V0X3JlYWxfc29sdXRpb25zOiBtb3Rpb25fZ2V0X3JlYWxfc29sdXRpb25zLFxuICAgIGNhbGN1bGF0ZV90aW1lX3JhbmdlczogbW90aW9uX2NhbGN1bGF0ZV90aW1lX3JhbmdlcyxcbiAgICBjaGVja19yYW5nZTogbW90aW9uX2NoZWNrX3JhbmdlXG59XG4iLCJpbXBvcnQgKiBhcyBldmVudGlmeSBmcm9tIFwiLi91dGlsL2FwaV9ldmVudGlmeS5qc1wiO1xuaW1wb3J0ICogYXMgY2FsbGJhY2sgZnJvbSBcIi4vdXRpbC9hcGlfY2FsbGJhY2suanNcIjtcbmltcG9ydCB7IGludGVydmFsIH0gZnJvbSBcIi4vdXRpbC9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IHJhbmdlLCB0b1N0YXRlIH0gZnJvbSBcIi4vdXRpbC9jb21tb24uanNcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogTEFZRVJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogTGF5ZXIgaXMgYWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgTGF5ZXJzXG4gKiBcbiAqIExheWVyIGludGVyZmFjZSBpcyBkZWZpbmVkIGJ5IChpbmRleCwgQ2FjaGVDbGFzcywgb3B0aW9ucylcbiAqIFxuICogQ2FjaGVDbGFzc1xuICogLS0tLS0tLS0tLVxuICogVGhlIENhY2hlQ2xhc3MgaW1wbGVtZW50cyB0aGUgcXVlcnkgb3BlcmF0aW9uIGZvciB0aGUgbGF5ZXIsIHVzaW5nXG4gKiB0aGUgaW5kZXggZm9yIGxvb2t1cHMgb24gY2FjaGUgbWlzcy4gTGF5ZXIgaGFzIGEgcHJpdmF0ZSBjYWNoZS4gXG4gKiBBZGRpdGlvbmFsbHksIGlmIGxheWVyIGhhcyBtdWx0aXBsZSBjb25zdW1lcnMsIHRoZXkgY2FuIGVhY2ggXG4gKiBjcmVhdGUgdGhlaXIgb3duIHByaXZhdGUgY2FjaGUuIFxuICogXG4gKiBvcHRpb25zXG4gKiAtLS0tLS0tXG4gKiBUaGUgdGhlIHJlc3VsdCBmcm9tIHRoZSBxdWVyeSBvcGVyYXRpb24gY2FuIGJlIGNvbnRyb2xsZWQgYnkgc3VwcGx5aW5nXG4gKiBvcHRpb25hbCBjdXN0b20gZnVuY3Rpb24sIGVpdGhlciB2YWx1ZUZ1bmMgb3IgYSBzdGF0ZUZ1bmMgXG4gKiB7dmFsdWVGdW5jLHN0YXRlRnVuY31cbiAqIFxuICogaW5kZXhcbiAqIC0tLS0tXG4gKiBUaGUgbmVhcmJ5IGluZGV4IGlzIHN1cHBsaWVkIGJ5IExheWVyIGltcGxlbWVudGF0aW9ucywgZWl0aGVyIGJ5IFxuICogc3ViY2xhc3NpbmcgaXQsIG9yIGJ5IGFzc2lnbmluZyB0aGUgaW5kZXguIFxuICovXG5cbmV4cG9ydCBjbGFzcyBMYXllciB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPXt9KSB7XG5cbiAgICAgICAgbGV0IHtDYWNoZUNsYXNzPUxheWVyQ2FjaGUsIC4uLm9wdHN9ID0gb3B0aW9uczsgXG5cbiAgICAgICAgLy8gbGF5ZXIgb3B0aW9uc1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0cztcblxuICAgICAgICAvLyBjYWxsYmFja3NcbiAgICAgICAgY2FsbGJhY2suYWRkU3RhdGUodGhpcyk7XG4gICAgICAgIC8vIGRlZmluZSBjaGFuZ2UgZXZlbnRcbiAgICAgICAgZXZlbnRpZnkuYWRkU3RhdGUodGhpcyk7XG4gICAgICAgIHRoaXMuZXZlbnRpZnlEZWZpbmUoXCJjaGFuZ2VcIiwge2luaXQ6dHJ1ZX0pO1xuXG4gICAgICAgIC8vIGluZGV4XG4gICAgICAgIHRoaXMuaW5kZXg7XG5cbiAgICAgICAgLy8gY2FjaGVcbiAgICAgICAgdGhpcy5fQ2FjaGVDbGFzcyA9IENhY2hlQ2xhc3M7XG4gICAgICAgIHRoaXMuX3ByaXZhdGVfY2FjaGU7XG4gICAgICAgIHRoaXMuX2NvbnN1bWVyX2NhY2hlcyA9IFtdO1xuICAgIH1cblxuICAgIC8vIGxheWVyIG9wdGlvbnNcbiAgICBnZXQgb3B0aW9ucyAoKSB7IHJldHVybiB0aGlzLl9vcHRpb25zOyB9XG5cbiAgICAvLyBwcml2YXRlIGNhY2hlXG4gICAgZ2V0IGNhY2hlICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ByaXZhdGVfY2FjaGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9wcml2YXRlX2NhY2hlID0gbmV3IHRoaXMuX0NhY2hlQ2xhc3ModGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByaXZhdGVfY2FjaGU7XG4gICAgfVxuXG4gICAgLy8gaW52b2tlZCBieSBsYXllciBjb25zdW1lclxuICAgIHF1ZXJ5KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5xdWVyeShvZmZzZXQpO1xuICAgIH1cblxuICAgIC8vIGludm9rZWQgYnkgbGF5ZXIgY29uc3VtZXJcbiAgICBjcmVhdGVDYWNoZSAoKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gbmV3IHRoaXMuX0NhY2hlQ2xhc3ModGhpcyk7XG4gICAgICAgIHRoaXMuX2NvbnN1bWVyX2NhY2hlcy5wdXNoKGNhY2hlKTtcbiAgICAgICAgcmV0dXJuIGNhY2hlO1xuICAgIH1cbiAgICByZWxlYXNlQ2FjaGUgKGNhY2hlKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuX2NvbnN1bWVyX2NhY2hlcy5pbmRleE9mKGNhY2hlKTtcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25zdW1lcl9jYWNoZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGNsZWFyQ2FjaGVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNhY2hlIG9mIHRoaXMuX2NvbnN1bWVyX2NhY2hlcyl7XG4gICAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wcml2YXRlX2NhY2hlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fcHJpdmF0ZV9jYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaW52b2tlZCBieSBzdWJjbGFzcyB3aGVuZXZlciBsYXllciBoYXMgY2hhbmdlZFxuICAgIG9uY2hhbmdlKCkge1xuICAgICAgICB0aGlzLmNsZWFyQ2FjaGVzKCk7XG4gICAgICAgIHRoaXMubm90aWZ5X2NhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmV2ZW50aWZ5VHJpZ2dlcihcImNoYW5nZVwiKTsgICAgXG4gICAgfVxuXG4gICAgLy8gaXRlcmF0b3IgZm9yIHJlZ2lvbnMgb2YgdGhlIGxheWVyIGluZGV4XG4gICAgcmVnaW9ucyAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleC5yZWdpb25zKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICAgIFNhbXBsZSBsYXllciB2YWx1ZXMgYnkgdGltZWxpbmUgb2Zmc2V0IGluY3JlbWVudHNcbiAgICAgICAgcmV0dXJuIGxpc3Qgb2YgdHVwbGVzIFt2YWx1ZSwgb2Zmc2V0XVxuICAgICAgICBvcHRpb25zXG4gICAgICAgIC0gc3RhcnRcbiAgICAgICAgLSBzdG9wXG4gICAgICAgIC0gc3RlcFxuXG4gICAgICAgIFRPRE8gLSB0aGlzIHNob3VsZCBiZSBhbiBpdGVyYXRvclxuICAgICovXG4gICAgc2FtcGxlKG9wdGlvbnM9e30pIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXguZW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7c3RhcnQsIHN0b3AsIHN0ZXA9MX0gPSBvcHRpb25zO1xuICAgICAgICBcbiAgICAgICAgaWYgKHN0YXJ0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgaW5kZXguZmlyc3QgaXMgYSBudW1iZXJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5pbmRleC5maXJzdCgpO1xuICAgICAgICAgICAgaWYgKGZpcnN0WzBdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGZpcnN0WzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmRlZmluZWQgc3RhcnRcIik7XG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICB9XG4gICAgICAgIGlmIChzdG9wID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgaW5kZXgubGFzdCBpcyBhIG51bWJlclxuICAgICAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMuaW5kZXgubGFzdCgpO1xuICAgICAgICAgICAgaWYgKGxhc3RbMF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0b3AgPSBsYXN0WzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmRlZmluZWQgc3RvcFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQgPiBzdG9wKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IgKFwic3RvcCBtdXN0IGJlIGxhcmdlciB0aGFuIHN0YXJ0XCIsIHN0YXJ0LCBzdG9wKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jcmVhdGVDYWNoZSgpO1xuICAgICAgICBjb25zdCBzYW1wbGVzID0gcmFuZ2Uoc3RhcnQsIHN0b3AsIHN0ZXAsIHtpbmNsdWRlX2VuZDp0cnVlfSlcbiAgICAgICAgICAgIC5tYXAoKG9mZnNldCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBbY2FjaGUucXVlcnkob2Zmc2V0KS52YWx1ZSwgb2Zmc2V0XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbGVhc2VDYWNoZShjYWNoZSk7XG4gICAgICAgIHJldHVybiBzYW1wbGVzO1xuICAgIH1cbn1cbmNhbGxiYWNrLmFkZE1ldGhvZHMoTGF5ZXIucHJvdG90eXBlKTtcbmV2ZW50aWZ5LmFkZE1ldGhvZHMoTGF5ZXIucHJvdG90eXBlKTtcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBMQVlFUiBDQUNIRVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBMYXllciBDYWNoZSBpcyB0aGUgcmVndWxhciBjYWNoZSB0eXBlLCBpbnRlbmRlZCBmb3JcbiAqIF9kZXJpdmVkXyBMYXllcnMgLSB0aGF0IGlzIGEgbGF5ZXJzIHdoaWNoIGluZGV4IHJlZmVyZW5jZXNcbiAqIG90aGVyIHNvdXJjZSBsYXllcnMuXG4gKiBcbiAqIEEgcXVlcnkgaXMgcmVzb2x2ZWQgYnkgaWRlbnRpZnlpbmcgdGhlIHJlbGV2YW50IHJlZ2lvbiBpblxuICogdGhlIG5lYXJieSBpbmRleCAoaW5kZXgubmVhcmJ5KG9mZnNldCkpLCBhbmQgdGhlbiBxdWVyeWluZyBcbiAqIHRoZSBzdGF0ZSBvZiBhbGwgdGhlIG9iamVjdHMgZm91bmQgaW4gdGhlIHJlZ2lvbiAobmVhcmJ5LmNlbnRlcikuXG4gKiAgXG4gKiBPcHRpb25zIHt2YWx1ZUZ1bmMgb3Igc3RhdGVGdW5jfSBhcmUgdXNlZCB0byBjb21wdXRlIGEgXG4gKiBzaW5nbGUgcXVlcnkgcmVzdWx0IGZyb20gdGhlIGxpc3Qgb2Ygc3RhdGVzLlxuICogXG4gKiBUaGUgcmVzdWx0IHN0YXRlIGlzIG9ubHkgY2FjaGVkIGlmIGl0IGlzIHN0YXRpYy5cbiAqIENhY2hlIG1pc3MgaXMgdHJpZ2dlcmVkIGlmIG5vIHN0YXRlIGhhcyBiZWVuIGNhY2hlZCwgb3IgaWYgXG4gKiBvZmZzZXQgaXMgb3V0c2lkZSB0aGUgcmVnaW9uIG9mIHRoZSBjYWNoZWQgc3RhdGUuXG4gKiBcbiAqL1xuXG5leHBvcnQgY2xhc3MgTGF5ZXJDYWNoZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihsYXllcikge1xuICAgICAgICAvLyBjYWNoZSBiZWxvbmdzIHRvIGxheWVyXG4gICAgICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgICAgIC8vIGNhY2hlZCBuZWFyYnkgc3RhdGVcbiAgICAgICAgdGhpcy5fbmVhcmJ5O1xuICAgICAgICAvLyBjYWNoZWQgc3RhdGVcbiAgICAgICAgdGhpcy5fc3RhdGU7XG4gICAgfVxuXG4gICAgZ2V0IGxheWVyKCkge3JldHVybiB0aGlzLl9sYXllcn07XG5cbiAgICAvKipcbiAgICAgKiBxdWVyeSBjYWNoZVxuICAgICAqL1xuICAgIHF1ZXJ5KG9mZnNldCkge1xuICAgICAgICBjb25zdCBuZWVkX2luZGV4X2xvb2t1cCA9IChcbiAgICAgICAgICAgIHRoaXMuX25lYXJieSA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICFpbnRlcnZhbC5jb3ZlcnNfZW5kcG9pbnQodGhpcy5fbmVhcmJ5Lml0diwgb2Zmc2V0KVxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhbmVlZF9pbmRleF9sb29rdXAgJiYgXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICF0aGlzLl9zdGF0ZS5keW5hbWljXG4gICAgICAgICkge1xuICAgICAgICAgICAgLy8gY2FjaGUgaGl0XG4gICAgICAgICAgICByZXR1cm4gey4uLnRoaXMuX3N0YXRlLCBvZmZzZXR9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhY2hlIG1pc3NcbiAgICAgICAgaWYgKG5lZWRfaW5kZXhfbG9va3VwKSB7XG4gICAgICAgICAgICB0aGlzLl9uZWFyYnkgPSB0aGlzLl9sYXllci5pbmRleC5uZWFyYnkob2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtIHF1ZXJpZXNcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gdGhpcy5fbmVhcmJ5LmNlbnRlci5tYXAoKGNhY2hlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUucXVlcnkob2Zmc2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzaW5nbGUgcmVzdWx0IHN0YXRlXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdG9TdGF0ZSh0aGlzLl9uZWFyYnkuY2VudGVyLCBzdGF0ZXMsIG9mZnNldCwgdGhpcy5fbGF5ZXIub3B0aW9ucyk7XG4gICAgICAgIC8vIGNhY2hlIHN0YXRlIG9ubHkgaWYgbm90IGR5bmFtaWNcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAoc3RhdGUuZHluYW1pYykgPyB1bmRlZmluZWQgOiBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIHN0YXRlICAgIFxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9uZWFyYnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHsgbG9jYWxfY2xvY2sgfSBmcm9tIFwiLi9jb21tb24uanNcIjtcblxuLyoqXG4gKiBwb2xsaW5nIGEgY2FsbGJhY2sgZnVuY3Rpb24gcGVyaW9kaWNhbGx5IHdpdGggXG4gKiBhIGZpeGVkIGRlbGF5IChtcykuXG4gKiBJZiBkZWxheSBpcyAwLCB1c2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLFxuICogZWxzZSB1c2Ugc2V0VGltZW91dC5cbiAqIERlbGF5IGNhbiBiZSBzZXQgZHluYW1pY2FsbHkuIFBhdXNlIGFuZCByZXN1bWVcbiAqIGlzIG5lZWRlZCBmb3IgbmV3IGRlbGF5IHRvIHRha2UgZWZmZWN0LlxuICovXG5cbmNsYXNzIFBvbGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLl9oYW5kbGU7XG4gICAgICAgIHRoaXMuX2RlbGF5O1xuICAgIH1cbiAgICBcbiAgICBzZXQgZGVsYXkgKGRlbGF5X21zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGVsYXlfbXMgIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBkZWxheSBtdXN0IGJlIGEgbnVtYmVyICR7ZGVsYXlfbXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlbGF5ICE9IGRlbGF5X21zKSB7ICAgXG4gICAgICAgICAgICB0aGlzLl9kZWxheSA9IGRlbGF5X21zO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBkZWxheSAoKSB7cmV0dXJuIHRoaXMuX2RlbGF5O31cblxuICAgIGlzX3BvbGxpbmcgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlICE9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZS5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvbGwoKSB7XG4gICAgICAgIC8vIHBvbGwgY2FsbGJhY2tcbiAgICAgICAgdGhpcy5fY2FsbGJhY2soKTtcbiAgICAgICAgLy8gc2NoZWR1bGUgbmV4dCBwb2xsXG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgdGhpcy5yZXN1bWUoKTtcbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVsYXkgPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGZyYW1lcmF0ZVxuICAgICAgICAgICAgICAgIGNvbnN0IGFpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnBvbGwuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlID0ge2NhbmNlbDogKCkgPT4gY2FuY2VsQW5pbWF0aW9uRnJhbWUoYWlkKX07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRpbWVvdXRcbiAgICAgICAgICAgICAgICBjb25zdCB0aWQgPSBzZXRUaW1lb3V0KHRoaXMucG9sbC5iaW5kKHRoaXMpLCB0aGlzLl9kZWxheSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlID0ge2NhbmNlbDogKCkgPT4gY2xlYXJUaW1lb3V0KHRpZCl9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEN1cnNvciBNb25pdG9yXG4gKi9cblxuY2xhc3MgQ3Vyc29yTW9uaXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAgICBzZXQgb2YgYmluZGluZ3NcbiAgICAgICAgICAgIHBvbGwgY3Vyc29yICh3aGVuIGR5bmFtaWMpIHBlcmlvZGljYWxseSB3aXRoIGdpdmVuIChtaW5pbXVtKSBkZWxheSwgYW5kIGludm9rZSBjYWxsYmFjayB3aXRoIGN1cnNvciBzdGF0ZSBcbiAgICAgICAgICAgIGJpbmRpbmcgOiB7Y3Vyc29yLCBjYWxsYmFjaywgZGVsYXlfbXN9XG4gICAgICAgICAgICAtIGN1cnNvcjpcbiAgICAgICAgICAgIC0gY2FsbGJhY2s6IGZ1bmN0aW9uKHN0YXRlKVxuICAgICAgICAgICAgLSBkZWxheTogKG1zKSBiZXR3ZWVuIHNhbXBsZXMgKHdoZW4gdmFyaWFibGUgaXMgZHluYW1pYylcbiAgICAgICAgICAgIHRoZXJlIGNhbiBiZSBtdWx0aXBsZSBiaW5kaW5ncyBmb3IgdGhlIHNhbWUgY3Vyc29yXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuX2JpbmRpbmdfc2V0ID0gbmV3IFNldCgpO1xuXG4gICAgICAgIC8qXG4gICAgICAgICAgICBjdXJzb3JzXG4gICAgICAgICAgICBtYXA6IGN1cnNvciAtPiB7c3ViLCBwb2xsaW5nLCBiaW5kaW5nczpbXX1cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3Vyc29yX21hcCA9IG5ldyBNYXAoKTtcblxuICAgICAgICAvLyBQb2xsZXJcbiAgICAgICAgdGhpcy5fcG9sbGVyID0gbmV3IFBvbGxlcih0aGlzLm9ucG9sbC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBiaW5kKGN1cnNvciwgY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgICAgIC8vIGNoZWNrIGRlbGF5XG4gICAgICAgIGlmIChkZWxheSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGVsYXkgIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBkZWxheSBtdXN0IGJlIGEgbnVtYmVyICR7ZGVsYXl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVnaXN0ZXIgYmluZGluZ1xuICAgICAgICBsZXQgYmluZGluZyA9IHtjdXJzb3IsIGNhbGxiYWNrLCBkZWxheX07XG4gICAgICAgIHRoaXMuX2JpbmRpbmdfc2V0LmFkZChiaW5kaW5nKTtcbiAgICAgICAgLy8gcmVnaXN0ZXIgY3Vyc29yXG4gICAgICAgIGlmICghdGhpcy5fY3Vyc29yX21hcC5oYXMoY3Vyc29yKSkgeyBcbiAgICAgICAgICAgIGxldCBzdWIgPSBjdXJzb3Iub24oXCJjaGFuZ2VcIiwgdGhpcy5vbmN1cnNvcmNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvcl9tYXAuc2V0KGN1cnNvciwge1xuICAgICAgICAgICAgICAgIHN1YiwgcG9sbGluZzogZmFsc2UsIGJpbmRpbmdzOiBbYmluZGluZ11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yX21hcC5nZXQoY3Vyc29yKS5iaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiaW5kaW5nO1xuICAgIH1cblxuICAgIHJlbGVhc2UgKGJpbmRpbmcpIHtcbiAgICAgICAgLy8gdW5yZWdpc3RlciBiaW5kaW5nXG4gICAgICAgIGNvbnN0IHJlbW92ZWQgPSB0aGlzLl9iaW5kaW5nX3NldC5kZWxldGUoYmluZGluZyk7XG4gICAgICAgIGlmICghcmVtb3ZlZCkgcmV0dXJuO1xuICAgICAgICAvLyBjbGVhbnVwXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IGJpbmRpbmcuY3Vyc29yO1xuICAgICAgICBjb25zdCB7c3ViLCBiaW5kaW5nc30gPSB0aGlzLl9jdXJzb3JfbWFwLmdldChjdXJzb3IpO1xuICAgICAgICAvLyByZW1vdmUgYmluZGluZ1xuICAgICAgICBjb25zdCBpZHggPSBiaW5kaW5ncy5pbmRleE9mKGJpbmRpbmcpO1xuICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIGJpbmRpbmdzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiaW5kaW5ncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgLy8gbm8gbW9yZSBiaW5kaW5nc1xuICAgICAgICAgICAgY3Vyc29yLm9mZihzdWIpO1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yX21hcC5kZWxldGUoY3Vyc29yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGEgY3Vyc29yIGhhcyBjaGFuZ2VkXG4gICAgICogZm9yd2FyZCBjaGFuZ2UgZXZlbnQgdG8gYWxsIGNhbGxiYWNrcyBmb3IgdGhpcyBjdXJzb3IuXG4gICAgICogYW5kIHJlZXZhbHVhdGUgcG9sbGluZyBzdGF0dXMsIHBhdXNpbmcgb3IgcmVzdW1pbmdcbiAgICAgKiBwb2xsaW5nIGlmIG5lZWRlZC5cbiAgICAgKi9cbiAgICBvbmN1cnNvcmNoYW5nZShlQXJnLCBlSW5mbykge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSBlSW5mby5zcmM7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZUFyZztcbiAgICAgICAgLy8gcmVldmFsdWF0ZSBwb2xsaW5nIHN0YXR1c1xuICAgICAgICB0aGlzLl9jdXJzb3JfbWFwLmdldChjdXJzb3IpLnBvbGxpbmcgPSBzdGF0ZS5keW5hbWljO1xuICAgICAgICAvLyBmaW5kIGN1cnNvcnMgd2hpY2ggbmVlZCBwb2xsaW5nXG4gICAgICAgIGNvbnN0IHBvbGxpbmdfY3Vyc29ycyA9IFsuLi50aGlzLl9jdXJzb3JfbWFwLnZhbHVlcygpXVxuICAgICAgICAgICAgLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5wb2xsaW5nKTtcbiAgICAgICAgdGhpcy5yZWV2YWx1YXRlX3BvbGxpbmcocG9sbGluZ19jdXJzb3JzKTtcbiAgICAgICAgLy8gZm9yd2FyZCBjaGFuZ2UgZXZlbnQgdG8gYWxsIGZvciB0aGlzIGN1cnNvciBjYWxsYmFja3NcbiAgICAgICAgY29uc3Qge2JpbmRpbmdzfSA9IHRoaXMuX2N1cnNvcl9tYXAuZ2V0KGN1cnNvcik7XG4gICAgICAgIGZvciAoY29uc3QgYmluZGluZyBvZiBiaW5kaW5ncykge1xuICAgICAgICAgICAgYmluZGluZy5jYWxsYmFjayhzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbnBvbGwoKSB7XG4gICAgICAgIGNvbnN0IHRzID0gbG9jYWxfY2xvY2subm93KCk7XG4gICAgICAgIC8vIHBvbGwgYWxsIGN1cnNvcnMgd2l0aCBuZWVkIG9mIHBvbGxpbmdcbiAgICAgICAgZm9yIChjb25zdCBbY3Vyc29yLCBlbnRyeV0gb2YgdGhpcy5fY3Vyc29yX21hcCkge1xuICAgICAgICAgICAgaWYgKGVudHJ5LnBvbGxpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGN1cnNvci5xdWVyeSh0cyk7XG4gICAgICAgICAgICAgICAgLy8gZm9yd2FyZCBwb2xsZWQgc3RhdGUgdG8gYWxsIGNhbGxiYWNrcyBmb3IgdGhpcyBjdXJzb3JcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGJpbmRpbmcgb2YgZW50cnkuYmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZy5jYWxsYmFjayhzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVldmFsdWF0ZV9wb2xsaW5nKHBvbGxpbmdfY3Vyc29ycykge1xuICAgICAgICBpZiAocG9sbGluZ19jdXJzb3JzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9wb2xsZXIucGF1c2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZpbmQgbWluaW11bSBkZWxheVxuICAgICAgICAgICAgY29uc3QgZGVsYXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHBvbGxpbmdfY3Vyc29ycykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYmluZGluZyBvZiBlbnRyeS5iaW5kaW5ncykge1xuICAgICAgICAgICAgICAgICAgICBkZWxheXMucHVzaChiaW5kaW5nLmRlbGF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbWluX2RlbGF5ID0gTWF0aC5taW4oLi4uZGVsYXlzKTtcbiAgICAgICAgICAgIHRoaXMuX3BvbGxlci5kZWxheSA9IG1pbl9kZWxheTtcbiAgICAgICAgICAgIHRoaXMuX3BvbGxlci5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5fcG9sbGVyLnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBCSU5EIFJFTEVBU0VcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLy8gbW9uaXRvciBzaW5nbGV0b25cbmNvbnN0IG1vbml0b3IgPSBuZXcgQ3Vyc29yTW9uaXRvcigpO1xuXG5leHBvcnQgZnVuY3Rpb24gYmluZChjdXJzb3IsIGNhbGxiYWNrLCBkZWxheSkge1xuICAgIHJldHVybiBtb25pdG9yLmJpbmQoY3Vyc29yLCBjYWxsYmFjaywgZGVsYXkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2UoYmluZGluZykge1xuICAgIHJldHVybiBtb25pdG9yLnJlbGVhc2UoYmluZGluZyk7XG59XG5cbiIsImltcG9ydCAqIGFzIGV2ZW50aWZ5IGZyb20gXCIuL3V0aWwvYXBpX2V2ZW50aWZ5LmpzXCI7XG5pbXBvcnQgKiBhcyBjYWxsYmFjayBmcm9tIFwiLi91dGlsL2FwaV9jYWxsYmFjay5qc1wiO1xuaW1wb3J0IHsgYmluZCwgcmVsZWFzZSB9IGZyb20gXCIuL3V0aWwvY3Vyc29yX21vbml0b3IuanNcIjtcbmltcG9ydCB7IGlzX2Zpbml0ZV9udW1iZXIgfSBmcm9tIFwiLi91dGlsL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIGNvbnZlbmllbmNlXG4gKiBnZXQgY3VycmVudCBzdGF0ZSBmcm9tIGN1cnNvci5jdHJsXG4gKiBlbnN1cmUgdGhhdCBjdXJzb3IuY3RybCByZXR1cm4gYSBudW1iZXIgb2Zmc2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3Vyc29yX2N0cmxfc3RhdGUgKGN1cnNvciwgdHNfbG9jYWwpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGN1cnNvci5jdHJsLnF1ZXJ5KHRzX2xvY2FsKTtcbiAgICBpZiAoIWlzX2Zpbml0ZV9udW1iZXIoc3RhdGUudmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgd2FybmluZzogY3Vyc29yIGN0cmwgdmFsdWUgbXVzdCBiZSBudW1iZXIgJHtzdGF0ZS52YWx1ZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDVVJTT1JcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICBcblxuLyoqXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBDdXJzb3IgaW50ZXJmYWNlXG4gKi9cblxuZXhwb3J0IGNsYXNzIEN1cnNvciB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIGNhbGxiYWNrc1xuICAgICAgICBjYWxsYmFjay5hZGRTdGF0ZSh0aGlzKTtcbiAgICAgICAgLy8gZGVmaW5lIGNoYW5nZSBldmVudFxuICAgICAgICBldmVudGlmeS5hZGRTdGF0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5ldmVudGlmeURlZmluZShcImNoYW5nZVwiLCB7aW5pdDp0cnVlfSk7XG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKiBRVUVSWSBBUElcbiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIHF1ZXJ5KCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJxdWVyeSgpIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICB9XG5cbiAgICBnZXQgdmFsdWUgKCkge3JldHVybiB0aGlzLnF1ZXJ5KCkudmFsdWV9O1xuXG4gICAgZ2V0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkoKS52YWx1ZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAgICBFdmVudGlmeTogaW1tZWRpYXRlIGV2ZW50c1xuICAgICovXG4gICAgZXZlbnRpZnlJbml0RXZlbnRBcmdzKG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT0gXCJjaGFuZ2VcIikge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLnF1ZXJ5KCldO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogQklORCBSRUxFQVNFIChjb252ZW5pZW5jZSlcbiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIGJpbmQoY2FsbGJhY2ssIGRlbGF5LCBvcHRpb25zPXt9KSB7XG4gICAgICAgIHJldHVybiBiaW5kKHRoaXMsIGNhbGxiYWNrLCBkZWxheSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHJlbGVhc2UoaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiByZWxlYXNlKGhhbmRsZSk7XG4gICAgfVxuXG4gICAgLy8gaW52b2tlZCBieSBzdWJjbGFzcyB3aGVuZXZlciBjdXJzb3IgaGFzIGNoYW5nZWRcbiAgICBvbmNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5ub3RpZnlfY2FsbGJhY2tzKCk7XG4gICAgICAgIHRoaXMuZXZlbnRpZnlUcmlnZ2VyKFwiY2hhbmdlXCIsIHRoaXMucXVlcnkoKSk7ICAgIFxuICAgIH1cbn1cbmNhbGxiYWNrLmFkZE1ldGhvZHMoQ3Vyc29yLnByb3RvdHlwZSk7XG5ldmVudGlmeS5hZGRNZXRob2RzKEN1cnNvci5wcm90b3R5cGUpO1xuIiwiaW1wb3J0IHtsb2NhbF9jbG9jaywgbG9jYWxfZXBvY2h9IGZyb20gXCIuL3V0aWwvY29tbW9uLmpzXCI7XG5cblxuLyoqXG4gKiBjbG9jayBwcm92aWRlciBtdXN0IGhhdmUgYSBub3coKSBtZXRob2RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Nsb2NrX3Byb3ZpZGVyKG9iaikge1xuICAgIGlmIChvYmogPT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCEoXCJub3dcIiBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBvYmoubm93ICE9ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIENMT0NLIGdpdmVzIGVwb2NoIHZhbHVlcywgYnV0IGlzIGltcGxlbWVudGVkXG4gKiB1c2luZyBwZXJmb3JtYW5jZSBub3cgZm9yIGJldHRlclxuICogdGltZSByZXNvbHV0aW9uIGFuZCBwcm90ZWN0aW9uIGFnYWluc3Qgc3lzdGVtIFxuICogdGltZSBhZGp1c3RtZW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IExPQ0FMX0NMT0NLX1BST1ZJREVSID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHQwID0gbG9jYWxfY2xvY2subm93KCk7XG4gICAgY29uc3QgdDBfZXBvY2ggPSBsb2NhbF9lcG9jaC5ub3coKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3cgKGxvY2FsX3RzID0gbG9jYWxfY2xvY2subm93KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0MF9lcG9jaCArIChsb2NhbF90cyAtIHQwKTtcbiAgICAgICAgfVxuICAgIH1cbn0oKTtcblxuIiwiaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tIFwiLi91dGlsL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgcmFuZG9tX3N0cmluZ30gZnJvbSBcIi4vdXRpbC9jb21tb24uanNcIjtcbmltcG9ydCAqIGFzIGNhbGxiYWNrIGZyb20gXCIuL3V0aWwvYXBpX2NhbGxiYWNrLmpzXCI7XG5cblxuZnVuY3Rpb24gY2hlY2tfaXRlbShpdGVtKSB7XG4gICAgaXRlbS5pdHYgPSBpbnRlcnZhbC5mcm9tX2lucHV0KGl0ZW0uaXR2KTtcbiAgICBpdGVtLmlkID0gaXRlbS5pZCB8fCByYW5kb21fc3RyaW5nKDEwKTtcbiAgICByZXR1cm4gaXRlbTtcbn1cblxuLyoqXG4gKiBjb2xsZWN0aW9uIHByb3ZpZGVycyBtdXN0IHByb3ZpZGUgZ2V0X2FsbCBmdW5jdGlvblxuICogYW5kIGFsc28gaW1wbGVtZW50IGNhbGxiYWNrIGludGVyZmFjZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfY29sbGVjdGlvbl9wcm92aWRlcihvYmopIHtcbiAgICBpZiAoIWNhbGxiYWNrLmlzX2NhbGxiYWNrX2FwaShvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCEoXCJnZXRcIiBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBvYmouZ2V0ICE9ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIShcInVwZGF0ZVwiIGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG9iai51cGRhdGUgIT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBDT0xMRUNUSU9OIFBST1ZJREVSXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogbG9jYWwgY29sbGVjdGlvbiBwcm92aWRlclxuICogXG4gKiBcbiAqIGNoYW5nZXMgPSB7XG4gKiAgIHJlbW92ZT1bXSxcbiAqICAgaW5zZXJ0PVtdLFxuICogICByZXNldD1mYWxzZSBcbiAqIH1cbiAqIFxuKi9cblxuZXhwb3J0IGNsYXNzIENvbGxlY3Rpb25Qcm92aWRlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPXt9KSB7XG4gICAgICAgIGNhbGxiYWNrLmFkZFN0YXRlKHRoaXMpO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgICAgbGV0IHtpbnNlcnR9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKGluc2VydCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSh7aW5zZXJ0LCByZXNldDp0cnVlfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2NhbCBzdGF0ZXByb3ZpZGVycyBkZWNvdXBsZSB1cGRhdGUgcmVxdWVzdCBmcm9tXG4gICAgICogdXBkYXRlIHByb2Nlc3NpbmcsIGFuZCByZXR1cm5zIFByb21pc2UuXG4gICAgICovXG4gICAgdXBkYXRlIChjaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGlmZnM7XG4gICAgICAgICAgICBpZiAoY2hhbmdlcyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkaWZmcyA9IHRoaXMuX3VwZGF0ZShjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeV9jYWxsYmFja3MoZGlmZnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRpZmZzO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfdXBkYXRlKGNoYW5nZXMpIHtcbiAgICAgICAgY29uc3QgZGlmZl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgICBpbnNlcnQ9W10sXG4gICAgICAgICAgICByZW1vdmU9W10sXG4gICAgICAgICAgICByZXNldD1mYWxzZVxuICAgICAgICB9ID0gY2hhbmdlcztcblxuXG4gICAgICAgIGlmIChyZXNldCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaWQsIGl0ZW1dIG9mIHRoaXMuX21hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBkaWZmX21hcC5zZXQoaWQsIHtpZCwgbmV3OnVuZGVmaW5lZCwgb2xkOml0ZW19KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyIGFsbCBpdGVtc1xuICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGl0ZW1zIGJ5IGlkXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5fbWFwLmdldChpZCk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZmZfbWFwLnNldChpdGVtLmlkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDppdGVtLmlkLCBuZXc6dW5kZWZpbmVkLCBvbGQ6aXRlbVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwLmRlbGV0ZShpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGluc2VydCBpdGVtc1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGluc2VydCkge1xuICAgICAgICAgICAgaXRlbSA9IGNoZWNrX2l0ZW0oaXRlbSk7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gZGlmZl9tYXAuZ2V0KGl0ZW0uaWQpXG4gICAgICAgICAgICBjb25zdCBvbGQgPSAoZGlmZiAhPSB1bmRlZmluZWQpID8gZGlmZi5vbGQgOiB0aGlzLl9tYXAuZ2V0KGl0ZW0uaWQpO1xuICAgICAgICAgICAgZGlmZl9tYXAuc2V0KGl0ZW0uaWQsIHtpZDppdGVtLmlkLCBuZXc6aXRlbSwgb2xkfSk7XG4gICAgICAgICAgICB0aGlzLl9tYXAuc2V0KGl0ZW0uaWQsIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4uZGlmZl9tYXAudmFsdWVzKCldO1xuICAgIH1cblxuICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLl9tYXAudmFsdWVzKCldO1xuICAgIH07XG59XG5jYWxsYmFjay5hZGRNZXRob2RzKENvbGxlY3Rpb25Qcm92aWRlci5wcm90b3R5cGUpO1xuIiwiaW1wb3J0ICogYXMgY2FsbGJhY2sgZnJvbSBcIi4vdXRpbC9hcGlfY2FsbGJhY2suanNcIjtcbmltcG9ydCB7IHJhbmRvbV9zdHJpbmd9IGZyb20gXCIuL3V0aWwvY29tbW9uLmpzXCI7XG5cbi8qKlxuICogdmFyaWFibGUgcHJvdmlkZXJzIG11c3QgaGF2ZSBhIHZhbHVlIHByb3BlcnR5XG4gKiBhbmQgYWxzbyBpbXBsZW1lbnQgY2FsbGJhY2sgaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc192YXJpYWJsZV9wcm92aWRlcihvYmopIHtcbiAgICBpZiAoIWNhbGxiYWNrLmlzX2NhbGxiYWNrX2FwaShvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCEoXCJnZXRcIiBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBvYmouZ2V0ICE9ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIShcInNldFwiIGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG9iai5zZXQgIT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBWQVJJQUJMRSBQUk9WSURFUlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIFZhcmlhYmxlUHJvdmlkZXIgc3RvcmVzIGEgbGlzdCBvZiBpdGVtcy5cbiAqL1xuXG5leHBvcnQgY2xhc3MgVmFyaWFibGVQcm92aWRlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPXt9KSB7XG4gICAgICAgIGNhbGxiYWNrLmFkZFN0YXRlKHRoaXMpO1xuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgICAgICAvLyBpbml0aWFsaXplXG4gICAgICAgIGNvbnN0IHt2YWx1ZX0gPSBvcHRpb25zO1xuICAgICAgICBpZiAodmFsdWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVtcyA9IFt7XG4gICAgICAgICAgICAgICAgaWQ6IHJhbmRvbV9zdHJpbmcoMTApLFxuICAgICAgICAgICAgICAgIGl0djogW251bGwsIG51bGwsIHRydWUsIHRydWVdLCBcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHZhbHVlXG4gICAgICAgICAgICB9XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldCAoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeV9jYWxsYmFja3MoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldCAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcztcbiAgICB9XG59XG5jYWxsYmFjay5hZGRNZXRob2RzKFZhcmlhYmxlUHJvdmlkZXIucHJvdG90eXBlKTsiLCJpbXBvcnQgeyBpc19jYWxsYmFja19hcGkgfSBmcm9tIFwiLi9hcGlfY2FsbGJhY2suanNcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogU09VUkNFIFBST1BFUlRZIChTUkNQUk9QKVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBGdW5jdGlvbnMgZm9yIGV4dGVuZGluZyBhIGNsYXNzIHdpdGggc3VwcG9ydCBmb3IgXG4gKiBleHRlcm5hbCBzb3VyY2Ugb24gYSBuYW1lZCBwcm9wZXJ0eS5cbiAqIFxuICogb3B0aW9uOiBtdXRhYmxlOnRydWUgbWVhbnMgdGhhdCBwcm9wZXJ5IG1heSBiZSByZXNldCBcbiAqIFxuICogc291cmNlIG9iamVjdCBpcyBhc3N1bWVkIHRvIHN1cHBvcnQgdGhlIGNhbGxiYWNrIGludGVyZmFjZSxcbiAqIG9yIGJlIGEgbGlzdCBvZiBvYmplY3RzIGFsbCBzdXBwb3J0aW5nIHRoZSBjYWxsYmFjayBpbnRlcmZhY2VcbiAqL1xuXG5jb25zdCBOQU1FID0gXCJzcmNwcm9wXCI7XG5jb25zdCBQUkVGSVggPSBgX18ke05BTUV9YDtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFN0YXRlIChvYmplY3QpIHtcbiAgICBvYmplY3RbYCR7UFJFRklYfWBdID0gbmV3IE1hcCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkTWV0aG9kcyAob2JqZWN0KSB7XG5cbiAgICBmdW5jdGlvbiByZWdpc3Rlcihwcm9wTmFtZSwgb3B0aW9ucz17fSkge1xuICAgICAgICBsZXQge211dGFibGU9dHJ1ZX0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzW2Ake1BSRUZJWH1gXTsgXG4gICAgICAgIG1hcC5zZXQocHJvcE5hbWUsIHtcbiAgICAgICAgICAgIGluaXQ6ZmFsc2UsXG4gICAgICAgICAgICBtdXRhYmxlLFxuICAgICAgICAgICAgZW50aXR5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBoYW5kbGVzOiBbXVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZWdpc3RlciBnZXR0ZXJzIGFuZCBzZXR0ZXJzXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBwcm9wTmFtZSwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcC5nZXQocHJvcE5hbWUpLmVudGl0eTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc1tgJHtOQU1FfV9jaGVja2BdKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eSA9IHRoaXNbYCR7TkFNRX1fY2hlY2tgXShwcm9wTmFtZSwgZW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eSAhPSBtYXAuZ2V0KHByb3BOYW1lKS5lbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tgJHtQUkVGSVh9X2F0dGFjaGBdKHByb3BOYW1lLCBlbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR0YXRjaChwcm9wTmFtZSwgZW50aXR5KSB7XG5cbiAgICAgICAgY29uc3QgbWFwID0gdGhpc1tgJHtQUkVGSVh9YF07XG4gICAgICAgIGNvbnN0IHN0YXRlID0gbWFwLmdldChwcm9wTmFtZSlcblxuICAgICAgICBpZiAoc3RhdGUuaW5pdCAmJiAhc3RhdGUubXV0YWJsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Byb3BOYW1lfSBjYW4gbm90IGJlIHJlYXNzaWduZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVudGl0aWVzID0gKEFycmF5LmlzQXJyYXkoZW50aXR5KSkgPyBlbnRpdHkgOiBbZW50aXR5XTtcblxuICAgICAgICAvLyB1bnN1YnNjcmliZSBmcm9tIGVudGl0aWVzXG4gICAgICAgIGlmIChzdGF0ZS5oYW5kbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2lkeCwgZV0gb2YgT2JqZWN0LmVudHJpZXMoZW50aXRpZXMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzX2NhbGxiYWNrX2FwaShlKSkge1xuICAgICAgICAgICAgICAgICAgICBlLnJlbW92ZV9jYWxsYmFjayhzdGF0ZS5oYW5kbGVzW2lkeF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuaGFuZGxlcyA9IFtdO1xuXG4gICAgICAgIC8vIGF0dGF0Y2ggbmV3IGVudGl0eVxuICAgICAgICBzdGF0ZS5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgIHN0YXRlLmluaXQgPSB0cnVlO1xuXG4gICAgICAgIC8vIHN1YnNjcmliZSB0byBjYWxsYmFjayBmcm9tIHNvdXJjZVxuICAgICAgICBpZiAodGhpc1tgJHtOQU1FfV9vbmNoYW5nZWBdKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gZnVuY3Rpb24gKGVBcmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2Ake05BTUV9X29uY2hhbmdlYF0ocHJvcE5hbWUsIGVBcmcpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzX2NhbGxiYWNrX2FwaShlKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5oYW5kbGVzLnB1c2goZS5hZGRfY2FsbGJhY2soaGFuZGxlcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbYCR7TkFNRX1fb25jaGFuZ2VgXShwcm9wTmFtZSwgXCJyZXNldFwiKTsgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhcGkgPSB7fTtcbiAgICBhcGlbYCR7TkFNRX1fcmVnaXN0ZXJgXSA9IHJlZ2lzdGVyO1xuICAgIGFwaVtgJHtQUkVGSVh9X2F0dGFjaGBdID0gYXR0YXRjaDtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCwgYXBpKTtcbn1cblxuIiwiaW1wb3J0IHsgZW5kcG9pbnQgfSBmcm9tIFwiLi9pbnRlcnZhbHMuanNcIjtcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdFNPUlRFRCBBUlJBWVxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKlxuXHRTb3J0ZWQgYXJyYXkgb2YgZW5kcG9pbnRzIFt2YWx1ZSwgdHlwZV0uXG5cdC0gRWxlbWVudHMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuXG5cdC0gTm8gZHVwbGljYXRlcyBhcmUgYWxsb3dlZC5cblx0LSBCaW5hcnkgc2VhcmNoIHVzZWQgZm9yIGxvb2t1cFxuXG5cdHZhbHVlcyBjYW4gYmUgcmVndWxhciBudW1iZXIgdmFsdWVzIChmbG9hdCkgb3IgZW5kcG9pbnRzIFtmbG9hdCwgdHlwZV1cbiovXG5cbmV4cG9ydCBjbGFzcyBTb3J0ZWRBcnJheSB7XG5cblx0Y29uc3RydWN0b3IoKXtcblx0XHR0aGlzLl9hcnJheSA9IFtdO1xuXHR9XG5cblx0Z2V0IHNpemUoKSB7cmV0dXJuIHRoaXMuX2FycmF5Lmxlbmd0aDt9XG5cdGdldCBhcnJheSgpIHtyZXR1cm4gdGhpcy5fYXJyYXk7fVxuXG5cdC8qXG5cdFx0ZmluZCBpbmRleCBvZiBnaXZlbiB2YWx1ZVxuXG5cdFx0cmV0dXJuIFtmb3VuZCwgaW5kZXhdXG5cblx0XHRpZiBmb3VuZCBpcyB0cnVlLCB0aGVuIGluZGV4IGlzIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgb2JqZWN0XG5cdFx0aWYgZm91bmQgaXMgZmFsc2UsIHRoZW4gaW5kZXggaXMgdGhlIGluZGV4IHdoZXJlIHRoZSBvYmplY3Qgc2hvdWxkXG5cdFx0YmUgaW5zZXJ0ZWRcblxuXHRcdC0gdXNlcyBiaW5hcnkgc2VhcmNoXHRcdFxuXHRcdC0gYXJyYXkgZG9lcyBub3QgaW5jbHVkZSBhbnkgZHVwbGljYXRlIHZhbHVlc1xuXHQqL1xuXHRpbmRleE9mKHRhcmdldF92YWx1ZSkge1xuXHRcdGNvbnN0IHRhcmdldF9lcCA9IGVuZHBvaW50LmZyb21faW5wdXQodGFyZ2V0X3ZhbHVlKTtcblx0XHRsZXQgbGVmdF9pZHggPSAwO1xuXHRcdGxldCByaWdodF9pZHggPSB0aGlzLl9hcnJheS5sZW5ndGggLSAxO1xuXHRcdHdoaWxlIChsZWZ0X2lkeCA8PSByaWdodF9pZHgpIHtcblx0XHRcdGNvbnN0IG1pZF9pZHggPSBNYXRoLmZsb29yKChsZWZ0X2lkeCArIHJpZ2h0X2lkeCkgLyAyKTtcblx0XHRcdGxldCBtaWRfdmFsdWUgPSB0aGlzLl9hcnJheVttaWRfaWR4XTtcblx0XHRcdGlmIChlbmRwb2ludC5lcShtaWRfdmFsdWUsIHRhcmdldF9lcCkpIHtcblx0XHRcdFx0cmV0dXJuIFt0cnVlLCBtaWRfaWR4XTsgLy8gVGFyZ2V0IGFscmVhZHkgZXhpc3RzIGluIHRoZSBhcnJheVxuXHRcdFx0fSBlbHNlIGlmIChlbmRwb2ludC5sdChtaWRfdmFsdWUsIHRhcmdldF9lcCkpIHtcblx0XHRcdFx0ICBsZWZ0X2lkeCA9IG1pZF9pZHggKyAxOyAvLyBNb3ZlIHNlYXJjaCByYW5nZSB0byB0aGUgcmlnaHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCAgcmlnaHRfaWR4ID0gbWlkX2lkeCAtIDE7IC8vIE1vdmUgc2VhcmNoIHJhbmdlIHRvIHRoZSBsZWZ0XG5cdFx0XHR9XG5cdFx0fVxuXHQgIFx0cmV0dXJuIFtmYWxzZSwgbGVmdF9pZHhdOyAvLyBSZXR1cm4gdGhlIGluZGV4IHdoZXJlIHRhcmdldCBzaG91bGQgYmUgaW5zZXJ0ZWRcblx0fVxuXG5cdC8qXG5cdFx0ZmluZCBpbmRleCBvZiBzbWFsbGVzdCB2YWx1ZSB3aGljaCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGFyZ2V0IHZhbHVlXG5cdFx0cmV0dXJucyAtMSBpZiBubyBzdWNoIHZhbHVlIGV4aXN0c1xuXHQqL1xuXHRnZUluZGV4T2YodGFyZ2V0X3ZhbHVlKSB7XG5cdFx0bGV0IFtmb3VuZCwgaWR4XSA9IHRoaXMuaW5kZXhPZih0YXJnZXRfdmFsdWUpO1xuXHRcdHJldHVybiAoaWR4IDwgdGhpcy5fYXJyYXkubGVuZ3RoKSA/IGlkeCA6IC0xICBcblx0fVxuXG5cdC8qXG5cdFx0ZmluZCBpbmRleCBvZiBsYXJnZXN0IHZhbHVlIHdoaWNoIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0YXJnZXQgdmFsdWVcblx0XHRyZXR1cm5zIC0xIGlmIG5vIHN1Y2ggdmFsdWUgZXhpc3RzXG5cdCovXG5cdGxlSW5kZXhPZih0YXJnZXRfdmFsdWUpIHtcblx0XHRsZXQgW2ZvdW5kLCBpZHhdID0gdGhpcy5pbmRleE9mKHRhcmdldF92YWx1ZSk7XG5cdFx0aWR4ID0gKGZvdW5kKSA/IGlkeCA6IGlkeC0xO1xuXHRcdHJldHVybiAoaWR4ID49IDApID8gaWR4IDogLTE7XG5cdH1cblxuXHQvKlxuXHRcdGZpbmQgaW5kZXggb2Ygc21hbGxlc3QgdmFsdWUgd2hpY2ggaXMgZ3JlYXRlciB0aGFuIHRhcmdldCB2YWx1ZVxuXHRcdHJldHVybnMgLTEgaWYgbm8gc3VjaCB2YWx1ZSBleGlzdHNcblx0Ki9cblx0Z3RJbmRleE9mKHRhcmdldF92YWx1ZSkge1xuXHRcdGxldCBbZm91bmQsIGlkeF0gPSB0aGlzLmluZGV4T2YodGFyZ2V0X3ZhbHVlKTtcblx0XHRpZHggPSAoZm91bmQpID8gaWR4ICsgMSA6IGlkeDtcblx0XHRyZXR1cm4gKGlkeCA8IHRoaXMuX2FycmF5Lmxlbmd0aCkgPyBpZHggOiAtMSAgXG5cdH1cblxuXHQvKlxuXHRcdGZpbmQgaW5kZXggb2YgbGFyZ2VzdCB2YWx1ZSB3aGljaCBpcyBsZXNzIHRoYW4gdGFyZ2V0IHZhbHVlXG5cdFx0cmV0dXJucyAtMSBpZiBubyBzdWNoIHZhbHVlIGV4aXN0c1xuXHQqL1xuXHRsdEluZGV4T2YodGFyZ2V0X3ZhbHVlKSB7XG5cdFx0bGV0IFtmb3VuZCwgaWR4XSA9IHRoaXMuaW5kZXhPZih0YXJnZXRfdmFsdWUpO1xuXHRcdGlkeCA9IGlkeC0xO1xuXHRcdHJldHVybiAoaWR4ID49IDApID8gaWR4IDogLTE7XHRcblx0fVxuXG5cdC8qXG5cdFx0VVBEQVRFXG5cblx0XHRhcHByb2FjaCAtIG1ha2UgYWxsIG5lY2Nlc3NhcnkgY2hhbmdlcyBhbmQgdGhlbiBzb3J0XG5cblx0XHRhcyBhIHJ1bGUgb2YgdGh1bWIgLSBjb21wYXJlZCB0byByZW1vdmluZyBhbmQgaW5zZXJ0aW5nIGVsZW1lbnRzXG5cdFx0b25lIGJ5IG9uZSwgdGhpcyBpcyBtb3JlIGVmZmVjdGl2ZSBmb3IgbGFyZ2VyIGJhdGNoZXMsIHNheSA+IDEwMC5cblx0XHRFdmVuIHRob3VnaCB0aGlzIG1pZ2h0IG5vdCBiZSB0aGUgY29tbW9uIGNhc2UsIHBlbmFsdGllcyBmb3Jcblx0XHRjaG9vc2luZyB0aGUgd3JvbmcgYXBwcm9hY2ggaXMgaGlnaGVyIGZvciBsYXJnZXIgYmF0Y2hlcy5cblxuXHRcdHJlbW92ZSBpcyBwcm9jZXNzZWQgZmlyc3QsIHNvIGlmIGEgdmFsdWUgYXBwZWFycyBpbiBib3RoIFxuXHRcdHJlbW92ZSBhbmQgaW5zZXJ0LCBpdCB3aWxsIHJlbWFpbi5cblx0XHR1bmRlZmluZWQgdmFsdWVzIGNhbiBub3QgYmUgaW5zZXJ0ZWQgXG5cblx0Ki9cblxuXHR1cGRhdGUocmVtb3ZlX2xpc3Q9W10sIGluc2VydF9saXN0PVtdKSB7XG5cblx0XHQvKlxuXHRcdFx0cmVtb3ZlXG5cblx0XHRcdHJlbW92ZSBieSBmbGFnZ2luZyBlbGVtZW50cyBhcyB1bmRlZmluZWRcblx0XHRcdC0gY29sbGVjdCBhbGwgaW5kZXhlcyBmaXJzdFxuXHRcdFx0LSBmbGFnIGFzIHVuZGVmaW5lZCBvbmx5IGFmdGVyIGFsbCBpbmRleGVzIGhhdmUgYmVlbiBmb3VuZCxcblx0XHRcdCAgYXMgaW5zZXJ0aW5nIHVuZGVmaW5lZCB2YWx1ZXMgYnJlYWtlcyB0aGUgYXNzdW1wdGlvbiB0aGF0XG5cdFx0XHQgIHRoZSBhcnJheSBpcyBzb3J0ZWQuXG5cdFx0XHQtIGxhdGVyIHNvcnQgd2lsbCBtb3ZlIHRoZW0gdG8gdGhlIGVuZCwgd2hlcmUgdGhleSBjYW4gYmVcblx0XHRcdCAgdHJ1bmNhdGVkIG9mZlxuXHRcdCovXG5cdFx0bGV0IHJlbW92ZV9pZHhfbGlzdCA9IFtdO1xuXHRcdGZvciAobGV0IHZhbHVlIG9mIHJlbW92ZV9saXN0KSB7XG5cdFx0XHRsZXQgW2ZvdW5kLCBpZHhdID0gdGhpcy5pbmRleE9mKHZhbHVlKTtcblx0XHRcdGlmIChmb3VuZCkge1xuXHRcdFx0XHRyZW1vdmVfaWR4X2xpc3QucHVzaChpZHgpO1xuXHRcdFx0fVx0XHRcblx0XHR9XG5cdFx0Zm9yIChsZXQgaWR4IG9mIHJlbW92ZV9pZHhfbGlzdCkge1xuXHRcdFx0dGhpcy5fYXJyYXlbaWR4XSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0bGV0IGFueV9yZW1vdmVzID0gcmVtb3ZlX2lkeF9saXN0Lmxlbmd0aCA+IDA7XG5cblx0XHQvKlxuXHRcdFx0aW5zZXJ0XG5cblx0XHRcdGluc2VydCBtaWdodCBpbnRyb2R1Y2UgZHVwbGljYXRpb25zLCBlaXRoZXIgYmVjYXVzZVxuXHRcdFx0dGhlIGluc2VydCBsaXN0IGluY2x1ZGVzIGR1cGxpY2F0ZXMsIG9yIGJlY2F1c2UgdGhlXG5cdFx0XHRpbnNlcnQgbGlzdCBkdXBsaWNhdGVzIHByZWV4aXN0aW5nIHZhbHVlcy5cblxuXHRcdFx0SW5zdGVhZCBvZiBsb29raW5nIHVwIGFuZCBjaGVja2luZyBlYWNoIGluc2VydCB2YWx1ZSxcblx0XHRcdHdlIGluc3RlYWQgaW5zZXJ0IGV2ZXJ5dGhpbmcgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXksXG5cdFx0XHRhbmQgcmVtb3ZlIGR1cGxpY2F0ZXMgb25seSBhZnRlciB3ZSBoYXZlIHNvcnRlZC5cblx0XHQqL1xuXHRcdGxldCBhbnlfaW5zZXJ0cyA9IGluc2VydF9saXN0Lmxlbmd0aCA+IDA7XG5cdFx0aWYgKGFueV9pbnNlcnRzKSB7XG5cdFx0XHRjb25jYXRfaW5fcGxhY2UodGhpcy5fYXJyYXksIGluc2VydF9saXN0KTtcblx0XHR9XG5cblx0XHQvKlxuXHRcdFx0c29ydFxuXHRcdFx0dGhpcyBwdXNoZXMgYW55IHVuZGVmaW5lZCB2YWx1ZXMgdG8gdGhlIGVuZCBcblx0XHQqL1xuXHRcdGlmIChhbnlfcmVtb3ZlcyB8fCBhbnlfaW5zZXJ0cykge1xuXHRcdFx0dGhpcy5fYXJyYXkuc29ydChlbmRwb2ludC5jbXApO1xuXHRcdH1cblxuXHRcdC8qXG5cdFx0XHRyZW1vdmUgdW5kZWZpbmVkIFxuXHRcdFx0YWxsIHVuZGVmaW5lZCB2YWx1ZXMgYXJlIHB1c2hlZCB0byB0aGUgZW5kXG5cdFx0Ki9cblx0XHRpZiAoYW55X3JlbW92ZXMpIHtcblx0XHRcdHRoaXMuX2FycmF5Lmxlbmd0aCAtPSByZW1vdmVfaWR4X2xpc3QubGVuZ3RoO1xuXHRcdH1cblxuXHRcdC8qXG5cdFx0XHRyZW1vdmUgZHVwbGljYXRlcyBmcm9tIHNvcnRlZCBhcnJheVxuXHRcdFx0LSBhc3N1bWluZyB0aGVyZSBhcmUgZ29pbmcgdG8gYmUgZmV3IGR1cGxpY2F0ZXMsXG5cdFx0XHQgIGl0IGlzIG9rIHRvIHJlbW92ZSB0aGVtIG9uZSBieSBvbmVcblxuXHRcdCovXG5cdFx0aWYgKGFueV9pbnNlcnRzKSB7XG5cdFx0XHRyZW1vdmVfZHVwbGljYXRlcyh0aGlzLl9hcnJheSk7XG5cdFx0fVxuXHR9XG5cblx0Lypcblx0XHRnZXQgZWxlbWVudCBieSBpbmRleFxuXHQqL1xuXHRnZXRfYnlfaW5kZXgoaWR4KSB7XG5cdFx0aWYgKGlkeCA+IC0xICYmIGlkeCA8IHRoaXMuX2FycmF5Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2FycmF5W2lkeF07XG5cdFx0fVxuXHR9XG5cblx0Lypcblx0XHRsb29rdXAgdmFsdWVzIHdpdGhpbiBpbnRlcnZhbFxuXHQqL1xuXHRsb29rdXAoaXR2KSB7XG5cdFx0aWYgKGl0diA9PSB1bmRlZmluZWQpIHtcblx0XHRcdGl0diA9IFtudWxsLCBudWxsLCB0cnVlLCB0cnVlXTtcblx0XHR9XG5cdFx0bGV0IFtlcF8wLCBlcF8xXSA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXR2KTtcblx0XHRsZXQgaWR4XzAgPSB0aGlzLmdlSW5kZXhPZihlcF8wKTtcblx0XHRsZXQgaWR4XzEgPSB0aGlzLmxlSW5kZXhPZihlcF8xKTtcblx0XHRpZiAoaWR4XzAgPT0gLTEgfHwgaWR4XzEgPT0gLTEpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2FycmF5LnNsaWNlKGlkeF8wLCBpZHhfMSsxKTtcblx0XHR9XG5cdH1cblxuXHRsdCAob2Zmc2V0KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0X2J5X2luZGV4KHRoaXMubHRJbmRleE9mKG9mZnNldCkpO1xuXHR9XG5cdGxlIChvZmZzZXQpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRfYnlfaW5kZXgodGhpcy5sZUluZGV4T2Yob2Zmc2V0KSk7XG5cdH1cblx0Z2V0IChvZmZzZXQpIHtcblx0XHRsZXQgW2ZvdW5kLCBpZHhdID0gdGhpcy5pbmRleE9mKG9mZnNldCk7XG5cdFx0aWYgKGZvdW5kKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fYXJyYXlbaWR4XTtcblx0XHR9IFxuXHR9XG5cdGd0IChvZmZzZXQpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRfYnlfaW5kZXgodGhpcy5ndEluZGV4T2Yob2Zmc2V0KSk7XG5cdH1cblx0Z2UgKG9mZnNldCkge1xuXHRcdHJldHVybiB0aGlzLmdldF9ieV9pbmRleCh0aGlzLmdlSW5kZXhPZihvZmZzZXQpKTtcblx0fVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0VVRJTFNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLypcblx0Q29uY2F0aW5hdGUgdHdvIGFycmF5cyBieSBhcHBlbmRpbmcgdGhlIHNlY29uZCBhcnJheSB0byB0aGUgZmlyc3QgYXJyYXkuIFxuKi9cblxuZnVuY3Rpb24gY29uY2F0X2luX3BsYWNlKGZpcnN0X2Fyciwgc2Vjb25kX2Fycikge1xuXHRjb25zdCBmaXJzdF9hcnJfbGVuZ3RoID0gZmlyc3RfYXJyLmxlbmd0aDtcblx0Y29uc3Qgc2Vjb25kX2Fycl9sZW5ndGggPSBzZWNvbmRfYXJyLmxlbmd0aDtcbiAgXHRmaXJzdF9hcnIubGVuZ3RoICs9IHNlY29uZF9hcnJfbGVuZ3RoO1xuICBcdGZvciAobGV0IGkgPSAwOyBpIDwgc2Vjb25kX2Fycl9sZW5ndGg7IGkrKykge1xuICAgIFx0Zmlyc3RfYXJyW2ZpcnN0X2Fycl9sZW5ndGggKyBpXSA9IHNlY29uZF9hcnJbaV07XG4gIFx0fVxufVxuXG4vKlxuXHRyZW1vdmUgZHVwbGljYXRlcyBpbiBhIHNvcnRlZCBhcnJheVxuKi9cbmZ1bmN0aW9uIHJlbW92ZV9kdXBsaWNhdGVzKHNvcnRlZF9hcnIpIHtcblx0bGV0IGkgPSAwO1xuXHR3aGlsZSAodHJ1ZSkge1xuXHRcdGlmIChpICsgMSA+PSBzb3J0ZWRfYXJyLmxlbmd0aCkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGlmIChlbmRwb2ludC5lcShzb3J0ZWRfYXJyW2ldLCBzb3J0ZWRfYXJyW2kgKyAxXSkpIHtcblx0XHRcdHNvcnRlZF9hcnIuc3BsaWNlKGkgKyAxLCAxKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aSArPSAxO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgZW5kcG9pbnQgfSBmcm9tIFwiLi91dGlsL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgTmVhcmJ5SW5kZXhCYXNlLCBuZWFyYnlfZnJvbSB9IGZyb20gXCIuL25lYXJieV9iYXNlLmpzXCI7XG5pbXBvcnQgeyBTb3J0ZWRBcnJheSB9IGZyb20gXCIuL3V0aWwvc29ydGVkYXJyYXkuanNcIjtcbmltcG9ydCB7IGlzX2NvbGxlY3Rpb25fcHJvdmlkZXIgfSBmcm9tIFwiLi9wcm92aWRlcl9jb2xsZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBpc192YXJpYWJsZV9wcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyX3ZhcmlhYmxlLmpzXCI7XG5cbmNvbnN0IHtMT1dfQ0xPU0VELCBMT1dfT1BFTiwgSElHSF9DTE9TRUQsIEhJR0hfT1BFTn0gPSBlbmRwb2ludC50eXBlcztcbmNvbnN0IEVQX1RZUEVTID0gW0xPV19DTE9TRUQsIExPV19PUEVOLCBISUdIX0NMT1NFRCwgSElHSF9PUEVOXTtcblxuXG4vLyBTZXQgb2YgdW5pcXVlIFt2LCB0XSBlbmRwb2ludHNcbmNsYXNzIEVuZHBvaW50U2V0IHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5fbWFwID0gbmV3IE1hcChbXG5cdFx0XHRbTE9XX0NMT1NFRCwgbmV3IFNldCgpXSxcblx0XHRcdFtMT1dfT1BFTiwgbmV3IFNldCgpXSwgXG5cdFx0XHRbSElHSF9DTE9TRUQsIG5ldyBTZXQoKV0sIFxuXHRcdFx0W0hJR0hfT1BFTiwgbmV3IFNldCgpXVxuXHRcdF0pO1xuXHR9XG5cdGFkZChlcCkge1xuXHRcdGNvbnN0IFt2YWx1ZSwgdHlwZV0gPSBlcDtcblx0XHRyZXR1cm4gdGhpcy5fbWFwLmdldCh0eXBlKS5hZGQodmFsdWUpO1xuXHR9XG5cdGhhcyAoZXApIHtcblx0XHRjb25zdCBbdmFsdWUsIHR5cGVdID0gZXA7XG5cdFx0cmV0dXJuIHRoaXMuX21hcC5nZXQodHlwZSkuaGFzKHZhbHVlKTtcblx0fVxuXHRnZXQoZXApIHtcblx0XHRjb25zdCBbdmFsdWUsIHR5cGVdID0gZXA7XG5cdFx0cmV0dXJuIHRoaXMuX21hcC5nZXQodHlwZSkuZ2V0KHZhbHVlKTtcblx0fVxuXG5cdGxpc3QoKSB7XG5cdFx0Y29uc3QgbGlzdHMgPSBFUF9UWVBFUy5tYXAoKHR5cGUpID0+IHtcblx0XHRcdHJldHVybiBbLi4udGhpcy5fbWFwLmdldCh0eXBlKS52YWx1ZXMoKV1cblx0XHRcdFx0Lm1hcCgodmFsdWUpID0+IFt2YWx1ZSwgdHlwZV0pO1xuXHRcdH0pO1xuXHRcdHJldHVybiBbXS5jb25jYXQoLi4ubGlzdHMpO1xuXHR9XG59XG5cbi8qKlxuICogSVRFTVMgTUFQXG4gKiBcbiAqIG1hcCBlbmRwb2ludCAtPiB7XG4gKiBcdGxvdzogW2l0ZW1zXSwgXG4gKiAgYWN0aXZlOiBbaXRlbXNdLCBcbiAqICBoaWdoOltpdGVtc11cbiAqIH1cbiAqIFxuICogaW4gb3JkZXIgdG8gdXNlIGVuZHBvaW50IFt2LHRdIGFzIGEgbWFwIGtleSB3ZSBjcmVhdGUgYSB0d28gbGV2ZWxcbiAqIG1hcCAtIHVzaW5nIHQgYXMgdGhlIGZpcnN0IHZhcmlhYmxlLiBcbiAqIFxuICovXG5cblxuY29uc3QgTE9XID0gXCJsb3dcIjtcbmNvbnN0IEFDVElWRSA9IFwiYWN0aXZlXCI7XG5jb25zdCBISUdIID0gXCJoaWdoXCI7XG5cblxuY2xhc3MgSXRlbXNNYXAge1xuXG5cdGNvbnN0cnVjdG9yICgpIHtcblx0XHQvLyBtYXAgZW5kcG9pbnQgLT4ge2xvdzogW2l0ZW1zXSwgYWN0aXZlOiBbaXRlbXNdLCBoaWdoOltpdGVtc119XG5cdFx0dGhpcy5fbWFwID0gbmV3IE1hcChbXG5cdFx0XHRbTE9XX0NMT1NFRCwgbmV3IE1hcCgpXSxcblx0XHRcdFtMT1dfT1BFTiwgbmV3IE1hcCgpXSwgXG5cdFx0XHRbSElHSF9DTE9TRUQsIG5ldyBNYXAoKV0sIFxuXHRcdFx0W0hJR0hfT1BFTiwgbmV3IE1hcCgpXVxuXHRcdF0pO1xuXHR9XG5cblx0Z2V0X2l0ZW1zX2J5X3JvbGUgKGVwLCByb2xlKSB7XG5cdFx0Y29uc3QgW3ZhbHVlLCB0eXBlXSA9IGVwO1xuXHRcdGNvbnN0IGVudHJ5ID0gdGhpcy5fbWFwLmdldCh0eXBlKS5nZXQodmFsdWUpO1xuXHRcdHJldHVybiAoZW50cnkgIT0gdW5kZWZpbmVkKSA/IGVudHJ5W3JvbGVdIDogW107XG5cdH1cblxuXHQvKlxuXHRcdHJlZ2lzdGVyIGl0ZW0gd2l0aCBlbmRwb2ludCAoaWRlbXBvdGVudClcblx0XHRyZXR1cm4gdHJ1ZSBpZiB0aGlzIHdhcyB0aGUgZmlyc3QgTE9XIG9yIEhJR0ggXG5cdCAqL1xuXHRyZWdpc3RlcihlcCwgaXRlbSwgcm9sZSkge1xuXHRcdGNvbnN0IFt2YWx1ZSwgdHlwZV0gPSBlcDtcblx0XHRjb25zdCB0eXBlX21hcCA9IHRoaXMuX21hcC5nZXQodHlwZSk7XG5cdFx0aWYgKCF0eXBlX21hcC5oYXModmFsdWUpKSB7XG5cdFx0XHR0eXBlX21hcC5zZXQodmFsdWUsIHtsb3c6IFtdLCBhY3RpdmU6W10sIGhpZ2g6W119KTtcblx0XHR9XG5cdFx0Y29uc3QgZW50cnkgPSB0eXBlX21hcC5nZXQodmFsdWUpO1xuXHRcdGNvbnN0IHdhc19lbXB0eSA9IGVudHJ5W0xPV10ubGVuZ3RoICsgZW50cnlbSElHSF0ubGVuZ3RoID09IDA7XG5cdFx0bGV0IGlkeCA9IGVudHJ5W3JvbGVdLmZpbmRJbmRleCgoX2l0ZW0pID0+IHtcblx0XHRcdHJldHVybiBfaXRlbS5pZCA9PSBpdGVtLmlkO1xuXHRcdH0pO1xuXHRcdGlmIChpZHggPT0gLTEpIHtcblx0XHRcdGVudHJ5W3JvbGVdLnB1c2goaXRlbSk7XG5cdFx0fVxuXHRcdGNvbnN0IGlzX2VtcHR5ID0gZW50cnlbTE9XXS5sZW5ndGggKyBlbnRyeVtISUdIXS5sZW5ndGggPT0gMDtcblx0XHRyZXR1cm4gd2FzX2VtcHR5ICYmICFpc19lbXB0eTtcblx0fVxuXG5cdC8qXG5cdFx0dW5yZWdpc3RlciBpdGVtIHdpdGggZW5kcG9pbnQgKGluZGVwZW5kZW50IG9mIHJvbGUpXG5cdFx0cmV0dXJuIHRydWUgaWYgdGhpcyByZW1vdmVkIGxhc3QgTE9XIG9yIEhJR0hcblx0ICovXG5cdHVucmVnaXN0ZXIoZXAsIGl0ZW0pIHtcblx0XHRjb25zdCBbdmFsdWUsIHR5cGVdID0gZXA7XG5cdFx0Y29uc3QgdHlwZV9tYXAgPSB0aGlzLl9tYXAuZ2V0KHR5cGUpO1xuXHRcdGNvbnN0IGVudHJ5ID0gdHlwZV9tYXAuZ2V0KHZhbHVlKTtcblx0XHRpZiAoZW50cnkgIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zdCB3YXNfZW1wdHkgPSBlbnRyeVtMT1ddLmxlbmd0aCArIGVudHJ5W0hJR0hdLmxlbmd0aCA9PSAwO1xuXHRcdFx0Ly8gcmVtb3ZlIGFsbCBtZW50aW9uZXMgb2YgaXRlbVxuXHRcdFx0Zm9yIChjb25zdCByb2xlIG9mIFtMT1csIEFDVElWRSwgSElHSF0pIHtcblx0XHRcdFx0bGV0IGlkeCA9IGVudHJ5W3JvbGVdLmZpbmRJbmRleCgoX2l0ZW0pID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gX2l0ZW0uaWQgPT0gaXRlbS5pZDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChpZHggPiAtMSkge1xuXHRcdFx0XHRcdGVudHJ5W3JvbGVdLnNwbGljZShpZHgsIDEpO1xuXHRcdFx0XHR9XHRcblx0XHRcdH1cblx0XHRcdGNvbnN0IGlzX2VtcHR5ID0gZW50cnlbTE9XXS5sZW5ndGggKyBlbnRyeVtISUdIXS5sZW5ndGggPT0gMDtcblx0XHRcdGlmICghd2FzX2VtcHR5ICYmIGlzX2VtcHR5KSB7XG5cdFx0XHRcdC8vIGNsZWFuIHVwIGVudHJ5XG5cdFx0XHRcdHR5cGVfbWFwLmRlbGV0ZSh2YWx1ZSk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxuXG4vKipcbiAqIE5lYXJieUluZGV4XG4gKiBcbiAqIE5lYXJieUluZGV4IGZvciBDb2xsZWN0aW9uUHJvdmlkZXIgb3IgVmFyaWFibGVQcm92aWRlclxuICovXG5cbmV4cG9ydCBjbGFzcyBOZWFyYnlJbmRleCBleHRlbmRzIE5lYXJieUluZGV4QmFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGF0ZVByb3ZpZGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XHRcdFxuXG5cdFx0aWYgKFxuXHRcdFx0IWlzX2NvbGxlY3Rpb25fcHJvdmlkZXIoc3RhdGVQcm92aWRlcikgJiZcblx0XHRcdCFpc192YXJpYWJsZV9wcm92aWRlcihzdGF0ZVByb3ZpZGVyKVxuXHRcdCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBzdGF0ZVByb3ZpZGVyIG11c3QgYmUgY29sbGVjdGlvblByb3ZpZGVyIG9yIHZhcmlhYmxlUHJvdmlkZXIgJHtzdGF0ZVByb3ZpZGVyfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NwID0gc3RhdGVQcm92aWRlcjtcblx0XHR0aGlzLl9pbml0aWFsaXNlKCk7XG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cdH1cblxuICAgIGdldCBzcmMgKCkge3JldHVybiB0aGlzLl9zcDt9XG5cblxuXHRfaW5pdGlhbGlzZSgpIHtcblx0XHQvLyByZWdpc3RlciBpdGVtcyB3aXRoIGVuZHBvaW50c1xuXHRcdHRoaXMuX2l0ZW1zbWFwID0gbmV3IEl0ZW1zTWFwKCk7XG5cdFx0Ly8gc29ydGVkIGluZGV4XG5cdFx0dGhpcy5fZW5kcG9pbnRzID0gbmV3IFNvcnRlZEFycmF5KCk7XG5cdFx0Ly8gc3dpcGUgaW5kZXhcblx0XHR0aGlzLl9pbmRleCA9IFtdO1xuXHR9XG5cblxuXHRyZWZyZXNoKGRpZmZzKSB7XG5cblx0XHRjb25zdCByZW1vdmVfZW5kcG9pbnRzID0gbmV3IEVuZHBvaW50U2V0KCk7XG5cdFx0Y29uc3QgaW5zZXJ0X2VuZHBvaW50cyA9IG5ldyBFbmRwb2ludFNldCgpO1xuXG5cdFx0bGV0IGluc2VydF9pdGVtcyA9IFtdO1xuXHRcdGxldCByZW1vdmVfaXRlbXMgPSBbXTtcblxuXHRcdGlmIChkaWZmcyA9PSB1bmRlZmluZWQpIHtcblx0XHRcdGluc2VydF9pdGVtcyA9IHRoaXMuc3JjLmdldCgpIHx8IFtdO1xuXHRcdFx0Ly8gY2xlYXIgYWxsIHN0YXRlXG5cdFx0XHR0aGlzLl9pbml0aWFsaXNlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGNvbGxlY3QgaW5zZXJ0IGl0ZW1zIGFuZCByZW1vdmUgaXRlbXNcblx0XHRcdGZvciAoY29uc3QgZGlmZiBvZiBkaWZmcykge1xuXHRcdFx0XHRpZiAoZGlmZi5uZXcgIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0aW5zZXJ0X2l0ZW1zLnB1c2goZGlmZi5uZXcpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChkaWZmLm9sZCAhPSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZW1vdmVfaXRlbXMucHVzaChkaWZmLm9sZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKlxuXHRcdFx0dW5yZWdpc3RlciByZW1vdmUgaXRlbXMgYWNyb3NzIGFsbCBlbmRwb2ludHMgXG5cdFx0XHR3aGVyZSB0aGV5IHdlcmUgcmVnaXN0ZXJlZCAoTE9XLCBBQ1RJVkUsIEhJR0gpIFxuXHRcdCovXG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIHJlbW92ZV9pdGVtcykge1x0XHRcdFxuXHRcdFx0Zm9yIChjb25zdCBlcCBvZiB0aGlzLl9lbmRwb2ludHMubG9va3VwKGl0ZW0uaXR2KSkge1xuXHRcdFx0XHQvLyBUT0RPOiBjaGVjayBpZiB0aGlzIGlzIGNvcnJlY3Rcblx0XHRcdFx0Y29uc3QgYmVjYW1lX2VtcHR5ID0gdGhpcy5faXRlbXNtYXAudW5yZWdpc3RlcihlcCwgaXRlbSk7XG5cdFx0XHRcdGlmIChiZWNhbWVfZW1wdHkpIHJlbW92ZV9lbmRwb2ludHMuYWRkKGVwKTtcblx0XHRcdH1cdFxuXHRcdH1cblxuXHRcdC8qXG5cdFx0XHRyZWdpc3RlciBuZXcgaXRlbXMgYWNyb3NzIGFsbCBlbmRwb2ludHMgXG5cdFx0XHR3aGVyZSB0aGV5IHNob3VsZCBiZSByZWdpc3RlcmVkIChMT1csIEhJR0gpIFxuXHRcdCovXG5cdFx0bGV0IGJlY2FtZV9ub25lbXB0eTtcblx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgaW5zZXJ0X2l0ZW1zKSB7XG5cdFx0XHRjb25zdCBbbG93LCBoaWdoXSA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXRlbS5pdHYpO1xuXHRcdFx0YmVjYW1lX25vbmVtcHR5ID0gdGhpcy5faXRlbXNtYXAucmVnaXN0ZXIobG93LCBpdGVtLCBMT1cpO1xuXHRcdFx0aWYgKGJlY2FtZV9ub25lbXB0eSkgaW5zZXJ0X2VuZHBvaW50cy5hZGQobG93KTtcblx0XHRcdGJlY2FtZV9ub25lbXB0eSA9IHRoaXMuX2l0ZW1zbWFwLnJlZ2lzdGVyKGhpZ2gsIGl0ZW0sIEhJR0gpO1xuXHRcdFx0aWYgKGJlY2FtZV9ub25lbXB0eSkgaW5zZXJ0X2VuZHBvaW50cy5hZGQoaGlnaCk7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHRcdHJlZnJlc2ggc29ydGVkIGVuZHBvaW50c1xuXHRcdFx0cG9zc2libGUgdGhhdCBhbiBlbmRwb2ludCBpcyBwcmVzZW50IGluIGJvdGggbGlzdHNcblx0XHRcdHRoaXMgaXMgcHJlc3VtYWJseSBub3QgYSBwcm9ibGVtIHdpdGggU29ydGVkQXJyYXkuXG5cdFx0Ki9cblx0XHR0aGlzLl9lbmRwb2ludHMudXBkYXRlKFxuXHRcdFx0cmVtb3ZlX2VuZHBvaW50cy5saXN0KCksIFxuXHRcdFx0aW5zZXJ0X2VuZHBvaW50cy5saXN0KClcblx0XHQpO1xuXG5cdFx0Lypcblx0XHRcdHN3aXBlIG92ZXIgdG8gZW5zdXJlIHRoYXQgYWxsIGl0ZW1zIGFyZSBhY3RpdmF0ZVxuXHRcdCovXG5cdFx0Y29uc3QgYWN0aXZlU2V0ID0gbmV3IFNldCgpO1xuXHRcdGZvciAoY29uc3QgZXAgb2YgdGhpcy5fZW5kcG9pbnRzLmFycmF5KSB7XHRcblx0XHRcdC8vIEFkZCBpdGVtcyB3aXRoIGVwIGFzIGxvdyBwb2ludFxuXHRcdFx0Zm9yIChsZXQgaXRlbSBvZiB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcCwgTE9XKSkge1xuXHRcdFx0XHRhY3RpdmVTZXQuYWRkKGl0ZW0pO1xuXHRcdFx0fTtcblx0XHRcdC8vIGFjdGl2YXRlIHVzaW5nIGFjdGl2ZVNldFxuXHRcdFx0Zm9yIChsZXQgaXRlbSBvZiBhY3RpdmVTZXQpIHtcblx0XHRcdFx0dGhpcy5faXRlbXNtYXAucmVnaXN0ZXIoZXAsIGl0ZW0sIEFDVElWRSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBSZW1vdmUgaXRlbXMgd2l0aCBwMSBhcyBoaWdoIHBvaW50XG5cdFx0XHRmb3IgKGxldCBpdGVtIG9mIHRoaXMuX2l0ZW1zbWFwLmdldF9pdGVtc19ieV9yb2xlKGVwLCBISUdIKSkge1xuXHRcdFx0XHRhY3RpdmVTZXQuZGVsZXRlKGl0ZW0pO1xuXHRcdFx0fTtcdFxuXHRcdH1cblx0fVxuXG5cdF9jb3ZlcnMgKG9mZnNldCkge1xuXHRcdGNvbnN0IGVwID0gZW5kcG9pbnQuZnJvbV9pbnB1dChvZmZzZXQpO1xuXHRcdGNvbnN0IGVwMSA9IHRoaXMuX2VuZHBvaW50cy5sZShlcCkgfHwgZW5kcG9pbnQuTkVHX0lORjtcblx0XHRjb25zdCBlcDIgPSB0aGlzLl9lbmRwb2ludHMuZ2UoZXApIHx8IGVuZHBvaW50LlBPU19JTkY7XG5cdFx0aWYgKGVuZHBvaW50LmVxKGVwMSwgZXAyKSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2l0ZW1zbWFwLmdldF9pdGVtc19ieV9yb2xlKGVwMSwgQUNUSVZFKTtcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBnZXQgaXRlbXMgZm9yIGJvdGggZW5kcG9pbnRzXG5cdFx0XHRjb25zdCBpdGVtczEgPSB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcDEsIEFDVElWRSk7XG5cdFx0XHRjb25zdCBpdGVtczIgPSB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcDIsIEFDVElWRSk7XG5cdFx0XHQvLyByZXR1cm4gYWxsIGl0ZW1zIHRoYXQgYXJlIGFjdGl2ZSBpbiBib3RoIGVuZHBvaW50c1xuXHRcdFx0Y29uc3QgaWRTZXQgPSBuZXcgU2V0KGl0ZW1zMS5tYXAoaXRlbSA9PiBpdGVtLmlkKSk7XG5cdFx0XHRyZXR1cm4gaXRlbXMyLmZpbHRlcihpdGVtID0+IGlkU2V0LmhhcyhpdGVtLmlkKSk7XG5cdFx0fVxuXHR9XG5cbiAgICAvKlxuXHRcdG5lYXJieSAob2Zmc2V0KVxuICAgICovXG5cdG5lYXJieShvZmZzZXQpIHtcblx0XHRjb25zdCBlcCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcblxuXHRcdC8vIGNlbnRlclxuXHRcdGxldCBjZW50ZXIgPSB0aGlzLl9jb3ZlcnMoZXApXG5cdFx0Y29uc3QgY2VudGVyX2hpZ2hfbGlzdCA9IFtdO1xuXHRcdGNvbnN0IGNlbnRlcl9sb3dfbGlzdCA9IFtdO1xuXHRcdGZvciAoY29uc3QgaXRlbSBvZiBjZW50ZXIpIHtcblx0XHRcdGNvbnN0IFtsb3csIGhpZ2hdID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChpdGVtLml0dik7XG5cdFx0XHRjZW50ZXJfaGlnaF9saXN0LnB1c2goaGlnaCk7XG5cdFx0XHRjZW50ZXJfbG93X2xpc3QucHVzaChsb3cpOyAgICBcblx0XHR9XG5cblx0XHQvLyBwcmV2IGhpZ2hcblx0XHRsZXQgcHJldl9oaWdoID0gZXA7XG5cdFx0bGV0IGl0ZW1zO1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRwcmV2X2hpZ2ggPSB0aGlzLl9lbmRwb2ludHMubHQocHJldl9oaWdoKSB8fCBlbmRwb2ludC5ORUdfSU5GO1xuXHRcdFx0aWYgKHByZXZfaGlnaFswXSA9PSBudWxsKSB7XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0XHRpdGVtcyA9IHRoaXMuX2l0ZW1zbWFwLmdldF9pdGVtc19ieV9yb2xlKHByZXZfaGlnaCwgSElHSCk7XG5cdFx0XHRpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIG5leHQgbG93XG5cdFx0bGV0IG5leHRfbG93ID0gZXA7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdG5leHRfbG93ID0gdGhpcy5fZW5kcG9pbnRzLmd0KG5leHRfbG93KSB8fCBlbmRwb2ludC5QT1NfSU5GXG5cdFx0XHRpZiAobmV4dF9sb3dbMF0gPT0gbnVsbCkge1xuXHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdFx0aXRlbXMgPSB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShuZXh0X2xvdywgTE9XKTtcblx0XHRcdGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5lYXJieV9mcm9tKFxuXHRcdFx0cHJldl9oaWdoLCBcblx0XHRcdGNlbnRlcl9sb3dfbGlzdCwgXG5cdFx0XHRjZW50ZXIsXG5cdFx0XHRjZW50ZXJfaGlnaF9saXN0LFxuXHRcdFx0bmV4dF9sb3dcblx0XHQpO1xuXHR9XG59IiwiaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tIFwiLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IG1vdGlvbl91dGlscyB9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkJBU0UgU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLypcblx0QWJzdHJhY3QgQmFzZSBDbGFzcyBmb3IgU2VnbWVudHNcblxuICAgIGNvbnN0cnVjdG9yKGludGVydmFsKVxuXG4gICAgLSBpbnRlcnZhbDogaW50ZXJ2YWwgb2YgdmFsaWRpdHkgb2Ygc2VnbWVudFxuICAgIC0gZHluYW1pYzogdHJ1ZSBpZiBzZWdtZW50IGlzIGR5bmFtaWNcbiAgICAtIHZhbHVlKG9mZnNldCk6IHZhbHVlIG9mIHNlZ21lbnQgYXQgb2Zmc2V0XG4gICAgLSBxdWVyeShvZmZzZXQpOiBzdGF0ZSBvZiBzZWdtZW50IGF0IG9mZnNldFxuKi9cblxuZXhwb3J0IGNsYXNzIEJhc2VTZWdtZW50IHtcblxuXHRjb25zdHJ1Y3RvcihpdHYpIHtcblx0XHR0aGlzLl9pdHYgPSBpdHY7XG5cdH1cblxuXHRnZXQgaXR2KCkge3JldHVybiB0aGlzLl9pdHY7fVxuXG4gICAgLyoqIFxuICAgICAqIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzXG4gICAgICogcmV0dXJucyB7dmFsdWUsIGR5bmFtaWN9O1xuICAgICovXG4gICAgc3RhdGUob2Zmc2V0KSB7XG4gICAgXHR0aHJvdyBuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY29udmVuaWVuY2UgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBzdGF0ZSBvZiB0aGUgc2VnbWVudFxuICAgICAqIEBwYXJhbSB7Kn0gb2Zmc2V0IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHF1ZXJ5KG9mZnNldCkge1xuICAgICAgICBpZiAoaW50ZXJ2YWwuY292ZXJzX3BvaW50KHRoaXMuX2l0diwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHsuLi50aGlzLnN0YXRlKG9mZnNldCksIG9mZnNldH07XG4gICAgICAgIH0gXG4gICAgICAgIHJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZHluYW1pYzpmYWxzZSwgb2Zmc2V0fTtcbiAgICB9XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIFNUQVRJQyBTRUdNRU5UXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCBjbGFzcyBTdGF0aWNTZWdtZW50IGV4dGVuZHMgQmFzZVNlZ21lbnQge1xuXG5cdGNvbnN0cnVjdG9yKGl0diwgZGF0YSkge1xuICAgICAgICBzdXBlcihpdHYpO1xuXHRcdHRoaXMuX3ZhbHVlID0gZGF0YTtcblx0fVxuXG5cdHN0YXRlKCkge1xuICAgICAgICByZXR1cm4ge3ZhbHVlOiB0aGlzLl92YWx1ZSwgZHluYW1pYzpmYWxzZX1cblx0fVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIE1PVElPTiBTRUdNRU5UXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCBjbGFzcyBNb3Rpb25TZWdtZW50IGV4dGVuZHMgQmFzZVNlZ21lbnQge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKGl0diwgZGF0YSkge1xuICAgICAgICBzdXBlcihpdHYpO1xuICAgICAgICB0aGlzLl92ZWN0b3IgPSBkYXRhO1xuICAgIH1cblxuICAgIHN0YXRlKG9mZnNldCkge1xuICAgICAgICBjb25zdCBbcCx2LGEsdF0gPSBtb3Rpb25fdXRpbHMuY2FsY3VsYXRlKHRoaXMuX3ZlY3Rvciwgb2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogcCwgZHluYW1pYzogKHYgIT0gMCB8fCBhICE9IDAgKX1cbiAgICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgVFJBTlNJVElPTiBTRUdNRU5UXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qXG4gICAgU3VwcG9ydGVkIGVhc2luZyBmdW5jdGlvbnNcbiAgICBcImVhc2UtaW5cIjpcbiAgICBcImVhc2Utb3V0XCI6XG4gICAgXCJlYXNlLWluLW91dFwiXG4qL1xuXG5mdW5jdGlvbiBlYXNlaW4gKHRzKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHRzLDIpOyAgXG59XG5mdW5jdGlvbiBlYXNlb3V0ICh0cykge1xuICAgIHJldHVybiAxIC0gZWFzZWluKDEgLSB0cyk7XG59XG5mdW5jdGlvbiBlYXNlaW5vdXQgKHRzKSB7XG4gICAgaWYgKHRzIDwgLjUpIHtcbiAgICAgICAgcmV0dXJuIGVhc2VpbigyICogdHMpIC8gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKDIgLSBlYXNlaW4oMiAqICgxIC0gdHMpKSkgLyAyO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyYW5zaXRpb25TZWdtZW50IGV4dGVuZHMgQmFzZVNlZ21lbnQge1xuXG5cdGNvbnN0cnVjdG9yKGl0diwgZGF0YSkge1xuXHRcdHN1cGVyKGl0dik7XG4gICAgICAgIGxldCB7djAsIHYxLCBlYXNpbmd9ID0gZGF0YTtcbiAgICAgICAgbGV0IFt0MCwgdDFdID0gdGhpcy5faXR2LnNsaWNlKDAsMik7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSB0cmFuc2l0aW9uIGZ1bmN0aW9uXG4gICAgICAgIHRoaXMuX2R5bmFtaWMgPSB2MS12MCAhPSAwO1xuICAgICAgICB0aGlzLl90cmFucyA9IGZ1bmN0aW9uICh0cykge1xuICAgICAgICAgICAgLy8gY29udmVydCB0cyB0byBbdDAsdDFdLXNwYWNlXG4gICAgICAgICAgICAvLyAtIHNoaWZ0IGZyb20gW3QwLHQxXS1zcGFjZSB0byBbMCwodDEtdDApXS1zcGFjZVxuICAgICAgICAgICAgLy8gLSBzY2FsZSBmcm9tIFswLCh0MS10MCldLXNwYWNlIHRvIFswLDFdLXNwYWNlXG4gICAgICAgICAgICB0cyA9IHRzIC0gdDA7XG4gICAgICAgICAgICB0cyA9IHRzL3BhcnNlRmxvYXQodDEtdDApO1xuICAgICAgICAgICAgLy8gZWFzaW5nIGZ1bmN0aW9ucyBzdHJldGNoZXMgb3IgY29tcHJlc3NlcyB0aGUgdGltZSBzY2FsZSBcbiAgICAgICAgICAgIGlmIChlYXNpbmcgPT0gXCJlYXNlLWluXCIpIHtcbiAgICAgICAgICAgICAgICB0cyA9IGVhc2Vpbih0cyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVhc2luZyA9PSBcImVhc2Utb3V0XCIpIHtcbiAgICAgICAgICAgICAgICB0cyA9IGVhc2VvdXQodHMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlYXNpbmcgPT0gXCJlYXNlLWluLW91dFwiKSB7XG4gICAgICAgICAgICAgICAgdHMgPSBlYXNlaW5vdXQodHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbGluZWFyIHRyYW5zaXRpb24gZnJvbSB2MCB0byB2MSwgZm9yIHRpbWUgdmFsdWVzIFswLDFdXG4gICAgICAgICAgICB0cyA9IE1hdGgubWF4KHRzLCAwKTtcbiAgICAgICAgICAgIHRzID0gTWF0aC5taW4odHMsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHYwICsgKHYxLXYwKSp0cztcbiAgICAgICAgfVxuXHR9XG5cblx0c3RhdGUob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7dmFsdWU6IHRoaXMuX3RyYW5zKG9mZnNldCksIGR5bmFtaWM6dGhpcy5fZHluYW1pY31cblx0fVxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgSU5URVJQT0xBVElPTiBTRUdNRU5UXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogRnVuY3Rpb24gdG8gY3JlYXRlIGFuIGludGVycG9sYXRvciBmb3IgbmVhcmVzdCBuZWlnaGJvciBpbnRlcnBvbGF0aW9uIHdpdGhcbiAqIGV4dHJhcG9sYXRpb24gc3VwcG9ydC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSB0dXBsZXMgLSBBbiBhcnJheSBvZiBbdmFsdWUsIG9mZnNldF0gcGFpcnMsIHdoZXJlIHZhbHVlIGlzIHRoZVxuICogcG9pbnQncyB2YWx1ZSBhbmQgb2Zmc2V0IGlzIHRoZSBjb3JyZXNwb25kaW5nIG9mZnNldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4gb2Zmc2V0IGFuZCByZXR1cm5zIHRoZVxuICogaW50ZXJwb2xhdGVkIG9yIGV4dHJhcG9sYXRlZCB2YWx1ZS5cbiAqL1xuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZSh0dXBsZXMpIHtcblxuICAgIGlmICh0dXBsZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gaW50ZXJwb2xhdG9yICgpIHtyZXR1cm4gdW5kZWZpbmVkO31cbiAgICB9IGVsc2UgaWYgKHR1cGxlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gaW50ZXJwb2xhdG9yICgpIHtyZXR1cm4gdHVwbGVzWzBdWzBdO31cbiAgICB9XG5cbiAgICAvLyBTb3J0IHRoZSB0dXBsZXMgYnkgdGhlaXIgb2Zmc2V0c1xuICAgIGNvbnN0IHNvcnRlZFR1cGxlcyA9IFsuLi50dXBsZXNdLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKTtcbiAgXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludGVycG9sYXRvcihvZmZzZXQpIHtcbiAgICAgIC8vIEhhbmRsZSBleHRyYXBvbGF0aW9uIGJlZm9yZSB0aGUgZmlyc3QgcG9pbnRcbiAgICAgIGlmIChvZmZzZXQgPD0gc29ydGVkVHVwbGVzWzBdWzFdKSB7XG4gICAgICAgIGNvbnN0IFt2YWx1ZTEsIG9mZnNldDFdID0gc29ydGVkVHVwbGVzWzBdO1xuICAgICAgICBjb25zdCBbdmFsdWUyLCBvZmZzZXQyXSA9IHNvcnRlZFR1cGxlc1sxXTtcbiAgICAgICAgcmV0dXJuIHZhbHVlMSArICgob2Zmc2V0IC0gb2Zmc2V0MSkgKiAodmFsdWUyIC0gdmFsdWUxKSAvIChvZmZzZXQyIC0gb2Zmc2V0MSkpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBIYW5kbGUgZXh0cmFwb2xhdGlvbiBhZnRlciB0aGUgbGFzdCBwb2ludFxuICAgICAgaWYgKG9mZnNldCA+PSBzb3J0ZWRUdXBsZXNbc29ydGVkVHVwbGVzLmxlbmd0aCAtIDFdWzFdKSB7XG4gICAgICAgIGNvbnN0IFt2YWx1ZTEsIG9mZnNldDFdID0gc29ydGVkVHVwbGVzW3NvcnRlZFR1cGxlcy5sZW5ndGggLSAyXTtcbiAgICAgICAgY29uc3QgW3ZhbHVlMiwgb2Zmc2V0Ml0gPSBzb3J0ZWRUdXBsZXNbc29ydGVkVHVwbGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gdmFsdWUxICsgKChvZmZzZXQgLSBvZmZzZXQxKSAqICh2YWx1ZTIgLSB2YWx1ZTEpIC8gKG9mZnNldDIgLSBvZmZzZXQxKSk7XG4gICAgICB9XG4gIFxuICAgICAgLy8gRmluZCB0aGUgbmVhcmVzdCBwb2ludHMgdG8gdGhlIGxlZnQgYW5kIHJpZ2h0XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZFR1cGxlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKG9mZnNldCA+PSBzb3J0ZWRUdXBsZXNbaV1bMV0gJiYgb2Zmc2V0IDw9IHNvcnRlZFR1cGxlc1tpICsgMV1bMV0pIHtcbiAgICAgICAgICBjb25zdCBbdmFsdWUxLCBvZmZzZXQxXSA9IHNvcnRlZFR1cGxlc1tpXTtcbiAgICAgICAgICBjb25zdCBbdmFsdWUyLCBvZmZzZXQyXSA9IHNvcnRlZFR1cGxlc1tpICsgMV07XG4gICAgICAgICAgLy8gTGluZWFyIGludGVycG9sYXRpb24gZm9ybXVsYTogeSA9IHkxICsgKCAoeCAtIHgxKSAqICh5MiAtIHkxKSAvICh4MiAtIHgxKSApXG4gICAgICAgICAgcmV0dXJuIHZhbHVlMSArICgob2Zmc2V0IC0gb2Zmc2V0MSkgKiAodmFsdWUyIC0gdmFsdWUxKSAvIChvZmZzZXQyIC0gb2Zmc2V0MSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gIFxuICAgICAgLy8gSW4gY2FzZSB0aGUgb2Zmc2V0IGRvZXMgbm90IGZhbGwgd2l0aGluIGFueSByYW5nZSAoc2hvdWxkIGJlIGNvdmVyZWQgYnkgdGhlIHByZXZpb3VzIGNvbmRpdGlvbnMpXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG59XG4gIFxuXG5leHBvcnQgY2xhc3MgSW50ZXJwb2xhdGlvblNlZ21lbnQgZXh0ZW5kcyBCYXNlU2VnbWVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihpdHYsIHR1cGxlcykge1xuICAgICAgICBzdXBlcihpdHYpO1xuICAgICAgICAvLyBzZXR1cCBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uXG4gICAgICAgIHRoaXMuX3RyYW5zID0gaW50ZXJwb2xhdGUodHVwbGVzKTtcbiAgICB9XG5cbiAgICBzdGF0ZShvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogdGhpcy5fdHJhbnMob2Zmc2V0KSwgZHluYW1pYzp0cnVlfTtcbiAgICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIExPQUQgU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZF9zZWdtZW50KGl0diwgaXRlbSkge1xuICAgIGxldCB7dHlwZT1cInN0YXRpY1wiLCBkYXRhfSA9IGl0ZW07XG4gICAgaWYgKHR5cGUgPT0gXCJzdGF0aWNcIikge1xuICAgICAgICByZXR1cm4gbmV3IFN0YXRpY1NlZ21lbnQoaXR2LCBkYXRhKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJ0cmFuc2l0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uU2VnbWVudChpdHYsIGRhdGEpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImludGVycG9sYXRpb25cIikge1xuICAgICAgICByZXR1cm4gbmV3IEludGVycG9sYXRpb25TZWdtZW50KGl0diwgZGF0YSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwibW90aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb3Rpb25TZWdtZW50KGl0diwgZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJ1bnJlY29nbml6ZWQgc2VnbWVudCB0eXBlXCIsIHR5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIHNyY3Byb3AgZnJvbSBcIi4vdXRpbC9hcGlfc3JjcHJvcC5qc1wiO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tIFwiLi9sYXllcl9iYXNlLmpzXCI7XG5pbXBvcnQgeyBpc19jb2xsZWN0aW9uX3Byb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXJfY29sbGVjdGlvbi5qc1wiO1xuaW1wb3J0IHsgaXNfdmFyaWFibGVfcHJvdmlkZXJ9IGZyb20gXCIuL3Byb3ZpZGVyX3ZhcmlhYmxlLmpzXCI7XG5pbXBvcnQgeyBOZWFyYnlJbmRleCB9IGZyb20gXCIuL25lYXJieV9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbG9hZF9zZWdtZW50IH0gZnJvbSBcIi4vdXRpbC9zZWdtZW50cy5qc1wiO1xuaW1wb3J0IHsgdG9TdGF0ZSB9IGZyb20gXCIuL3V0aWwvY29tbW9uLmpzXCI7XG5pbXBvcnQgeyBlbmRwb2ludCwgaW50ZXJ2YWwgfSBmcm9tIFwiLi91dGlsL2ludGVydmFscy5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgSVRFTVMgTEFZRVJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBJdGVtcyBMYXllciBoYXMgYSBzdGF0ZVByb3ZpZGVyIChlaXRoZXIgY29sbGVjdGlvblByb3ZpZGVyIG9yIHZhcmlhYmxlUHJvdmlkZXIpXG4gKiBhcyBzcmMgcHJvcGVydHkuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzX2l0ZW1zX2xheWVyIChvYmopIHtcbiAgICBpZiAob2JqID09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGlzIGxheWVyXG4gICAgaWYgKCEob2JqIGluc3RhbmNlb2YgTGF5ZXIpKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gaGFzIHNyYyBwcm9wZXJ0eVxuICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgXCJzcmNcIik7XG4gICAgaWYgKCEhKGRlc2M/LmdldCAmJiBkZXNjPy5zZXQpID09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpdGVtc19sYXllcihvcHRpb25zPXt9KSB7XG5cbiAgICBjb25zdCB7c3JjLCAuLi5vcHRzfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgbGF5ZXIgPSBuZXcgTGF5ZXIoe0NhY2hlQ2xhc3M6SXRlbXNMYXllckNhY2hlLCAuLi5vcHRzfSk7XG5cbiAgICAvLyBzZXR1cCBzcmMgcHJvcGVydHlcbiAgICBzcmNwcm9wLmFkZFN0YXRlKGxheWVyKTtcbiAgICBzcmNwcm9wLmFkZE1ldGhvZHMobGF5ZXIpO1xuXG4gICAgbGF5ZXIuc3JjcHJvcF9yZWdpc3RlcihcInNyY1wiKTtcbiAgICBsYXllci5zcmNwcm9wX2NoZWNrID0gZnVuY3Rpb24gKHByb3BOYW1lLCBzcmMpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIGlmICghKGlzX2NvbGxlY3Rpb25fcHJvdmlkZXIoc3JjKSkgJiYgIShpc192YXJpYWJsZV9wcm92aWRlcihzcmMpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXCJzcmNcIiBtdXN0IGNvbGxlY3Rpb25Qcm92aWRlciBvciB2YXJpYWJsZVByb3ZpZGVyICR7c3JjfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNyYzsgICAgXG4gICAgICAgIH1cbiAgICB9XG4gICAgbGF5ZXIuc3JjcHJvcF9vbmNoYW5nZSA9IGZ1bmN0aW9uIChwcm9wTmFtZSwgZUFyZykge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzcmNcIikge1xuICAgICAgICAgICAgaWYgKGVBcmcgPT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzX2NvbGxlY3Rpb25fcHJvdmlkZXIobGF5ZXIuc3JjKSkge1xuICAgICAgICAgICAgICAgICAgICBsYXllci5pbmRleCA9IG5ldyBOZWFyYnlJbmRleChsYXllci5zcmMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNfdmFyaWFibGVfcHJvdmlkZXIobGF5ZXIuc3JjKSkge1xuICAgICAgICAgICAgICAgICAgICBsYXllci5pbmRleCA9IG5ldyBOZWFyYnlJbmRleChsYXllci5zcmMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBpZiAobGF5ZXIuaW5kZXggIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzX2NvbGxlY3Rpb25fcHJvdmlkZXIobGF5ZXIuc3JjKSkge1xuICAgICAgICAgICAgICAgICAgICBsYXllci5pbmRleC5yZWZyZXNoKGVBcmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNfdmFyaWFibGVfcHJvdmlkZXIobGF5ZXIuc3JjKSkge1xuICAgICAgICAgICAgICAgICAgICBsYXllci5pbmRleC5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxheWVyLm9uY2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gICAgICAgIFxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogY29udmVuaWVuY2UgbWV0aG9kIGZvciBnZXR0aW5nIGl0ZW1zIHZhbGlkIGF0IG9mZnNldFxuICAgICAqIG9ubHkgaXRlbXMgbGF5ZXIgc3VwcG9ydHMgdGhpcyBtZXRob2RcbiAgICAgKi9cbiAgICBsYXllci5nZXRfaXRlbXMgPSBmdW5jdGlvbiBnZXRfaXRlbXMob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBbLi4ubGF5ZXIuaW5kZXgubmVhcmJ5KG9mZnNldCkuY2VudGVyXTtcbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogTEFZRVIgVVBEQVRFIEFQSVxuICAgICAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICBsYXllci51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlcykge1xuICAgICAgICByZXR1cm4gbGF5ZXJfdXBkYXRlKGxheWVyLCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgbGF5ZXIuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKGl0ZW1zLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGxheWVyX2FwcGVuZChsYXllciwgaXRlbXMsIG9mZnNldCk7XG4gICAgfVxuXG4gICAgLy8gaW5pdGlhbGlzZVxuICAgIGxheWVyLnNyYyA9IHNyYztcblxuICAgIHJldHVybiBsYXllcjtcbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgSVRFTVMgTEFZRVIgQ0FDSEVcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLypcbiAgICBMYXllcnMgd2l0aCBhIENvbGxlY3Rpb25Qcm92aWRlciBvciBhIFZhcmlhYmxlUHJvdmlkZXIgYXMgc3JjIFxuICAgIHVzZSBhIHNwZWNpZmljIGNhY2hlIGltcGxlbWVudGF0aW9uLCBhcyBvYmplY3RzIGluIHRoZSBcbiAgICBpbmRleCBhcmUgYXNzdW1lZCB0byBiZSBpdGVtcyBmcm9tIHRoZSBwcm92aWRlciwgbm90IGxheWVyIG9iamVjdHMuIFxuICAgIFRodXMsIHF1ZXJpZXMgYXJlIG5vdCByZXNvbHZlZCBkaXJlY3RseSBvbiB0aGUgaXRlbXMgaW4gdGhlIGluZGV4LCBidXRcbiAgICByYXRoZXIgZnJvbSBjb3JyZXNwb25kaW5nIHNlZ21lbnQgb2JqZWN0cywgaW5zdGFudGlhdGVkIGZyb20gaXRlbXMuXG5cbiAgICBDYWNoaW5nIGhlcmUgYXBwbGllcyB0byBuZWFyYnkgc3RhdGUgYW5kIHNlZ21lbnQgb2JqZWN0cy5cbiovXG5cbmNsYXNzIEl0ZW1zTGF5ZXJDYWNoZSB7XG4gICAgY29uc3RydWN0b3IobGF5ZXIsIG9wdGlvbnM9e30pIHtcbiAgICAgICAgLy8gbGF5ZXJcbiAgICAgICAgdGhpcy5fbGF5ZXIgPSBsYXllcjtcbiAgICAgICAgLy8gY2FjaGVkIG5lYXJieSBvYmplY3RcbiAgICAgICAgdGhpcy5fbmVhcmJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBjYWNoZWQgc2VnbWVudFxuICAgICAgICB0aGlzLl9zZWdtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgfVxuXG4gICAgZ2V0IHNyYygpIHtyZXR1cm4gdGhpcy5fbGF5ZXJ9O1xuICAgIGdldCBzZWdtZW50KCkge3JldHVybiB0aGlzLl9zZWdtZW50fTtcblxuICAgIHF1ZXJ5KG9mZnNldCkge1xuICAgICAgICBjb25zdCBuZWVkX2luZGV4X2xvb2t1cCA9IChcbiAgICAgICAgICAgIHRoaXMuX25lYXJieSA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICFpbnRlcnZhbC5jb3ZlcnNfZW5kcG9pbnQodGhpcy5fbmVhcmJ5Lml0diwgb2Zmc2V0KVxuICAgICAgICApO1xuICAgICAgICBpZiAobmVlZF9pbmRleF9sb29rdXApIHtcbiAgICAgICAgICAgIC8vIGNhY2hlIG1pc3NcbiAgICAgICAgICAgIHRoaXMuX25lYXJieSA9IHRoaXMuX2xheWVyLmluZGV4Lm5lYXJieShvZmZzZXQpO1xuICAgICAgICAgICAgbGV0IHtpdHYsIGNlbnRlcn0gPSB0aGlzLl9uZWFyYnk7XG4gICAgICAgICAgICB0aGlzLl9zZWdtZW50cyA9IGNlbnRlci5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZF9zZWdtZW50KGl0diwgaXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtIHF1ZXJpZXNcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gdGhpcy5fc2VnbWVudHMubWFwKChzZWcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBzZWcucXVlcnkob2Zmc2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzaW5nbGUgcmVzdWx0IHN0YXRlXG4gICAgICAgIHJldHVybiB0b1N0YXRlKHRoaXMuX3NlZ21lbnRzLCBzdGF0ZXMsIG9mZnNldCwgdGhpcy5fbGF5ZXIub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX25lYXJieSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fc2VnbWVudCA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG5cblxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBMQVlFUiBVUERBVEVcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBOT1RFIC0gbGF5ZXIgdXBkYXRlIGlzIGVzc2VudGlhbGx5IGFib3V0IHN0YXRlUHJvdmlkZXIgdXBkYXRlLlxuICogc28gdGhlc2UgbWV0aG9kcyBjb3VsZCAoZm9yIHRoZSBtb3N0IHBhcnQpIGJlIG1vdmVkIHRvIHRoZSBwcm92aWRlci5cbiAqIEhvd2V2ZXIsIHVwZGF0ZV9hcHBlbmQgYmVuZWZpdHMgZnJvbSB1c2luZyB0aGUgaW5kZXggb2YgdGhlIGxheWVyLFxuICogc28gd2Uga2VlcCBpdCBoZXJlIGZvciBub3cuIFxuICovXG5cblxuLypcbiAgICBJdGVtcyBMYXllciBmb3J3YXJkcyB1cGRhdGUgdG8gc3RhdGVQcm92aWRlclxuKi9cbmZ1bmN0aW9uIGxheWVyX3VwZGF0ZShsYXllciwgY2hhbmdlcz17fSkge1xuICAgIGlmIChpc19jb2xsZWN0aW9uX3Byb3ZpZGVyKGxheWVyLnNyYykpIHtcbiAgICAgICAgcmV0dXJuIGxheWVyLnNyYy51cGRhdGUoY2hhbmdlcyk7XG4gICAgfSBlbHNlIGlmIChpc192YXJpYWJsZV9wcm92aWRlcihsYXllci5zcmMpKSB7ICAgICBcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIGluc2VydD1bXSxcbiAgICAgICAgICAgIHJlbW92ZT1bXSxcbiAgICAgICAgICAgIHJlc2V0PWZhbHNlXG4gICAgICAgIH0gPSBjaGFuZ2VzO1xuICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXllci5zcmMuc2V0KGluc2VydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKChsYXllci5zcmMuZ2V0KCkgfHwgW10pXG4gICAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gW2l0ZW0uaWQsIGl0ZW1dKSk7XG4gICAgICAgICAgICAvLyByZW1vdmVcbiAgICAgICAgICAgIHJlbW92ZS5mb3JFYWNoKChpZCkgPT4gbWFwLmRlbGV0ZShpZCkpO1xuICAgICAgICAgICAgLy8gaW5zZXJ0XG4gICAgICAgICAgICBpbnNlcnQuZm9yRWFjaCgoaXRlbSkgPT4gbWFwLnNldChpdGVtLmlkLCBpdGVtKSk7XG4gICAgICAgICAgICAvLyBzZXRcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbShtYXAudmFsdWVzKCkpO1xuICAgICAgICAgICAgcmV0dXJuIGxheWVyLnNyYy5zZXQoaXRlbXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuICAgIFxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTEFZRVIgQVBQRU5EXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogYXBwZW5kIGl0ZW1zIHRvIGxheWVyIGF0IG9mZnNldFxuICogXG4gKiBhcHBlbmQgaW1wbGllcyB0aGF0IHByZS1leGlzdGluZyBpdGVtcyBiZXlvbmQgb2Zmc2V0LFxuICogd2lsbCBlaXRoZXIgYmUgcmVtb3ZlZCBvciB0cnVuY2F0ZWQsIHNvIHRoYXQgdGhlIGxheWVyXG4gKiBpcyBlbXB0eSBhZnRlciBvZmZzZXQuXG4gKiBcbiAqIGl0ZW1zIHdpbGwgb25seSBiZSBpbnNlcnRlZCBhZnRlciBvZmZzZXQsIHNvIGFueSBuZXdcbiAqIGl0ZW0gYmVmb3JlIG9mZnNldCB3aWxsIGJlIHRydW5jYXRlZCBvciBkcm9wcGVkLlxuICogXG4gKiBuZXcgaXRlbXMgd2lsbCBvbmx5IGJlIGJlIGFwcGxpZWQgZm9yIHQgPj0gb2Zmc2V0XG4gKiBvbGQgaXRlbXMgd2lsbCBiZSBrZXB0IGZvciB0IDwgb2Zmc2V0XG4gKiBcbiAqIFxuICovXG5mdW5jdGlvbiBsYXllcl9hcHBlbmQobGF5ZXIsIGl0ZW1zLCBvZmZzZXQpIHtcbiAgICBjb25zdCBlcCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcbiAgICBcbiAgICAvLyB0cnVuY2F0ZSBvciByZW1vdmUgbmV3IGl0ZW1zIGJlZm9yZSBvZmZzZXRcbiAgICBjb25zdCBpbnNlcnRfaXRlbXMgPSBpdGVtc1xuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAvLyBrZWVwIG9ubHkgaXRlbXMgd2l0aCBpdHYuaGlnaCA+PSBvZmZzZXRcbiAgICAgICAgICAgIGNvbnN0IGhpZ2hFcCA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXRlbS5pdHYpWzFdO1xuICAgICAgICAgICAgcmV0dXJuIGVuZHBvaW50LmdlKGhpZ2hFcCwgZXApO1xuICAgICAgICB9KVxuICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAvLyB0cnVuY2F0ZSBpdGVtIG92ZXJsYXBwaW5nIG9mZnNldCBpdHYubG93PW9mZnNldFxuICAgICAgICAgICAgaWYgKGludGVydmFsLmNvdmVyc19lbmRwb2ludChpdGVtLml0diwgZXApKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3X2l0ZW0gPSB7Li4uaXRlbX07XG4gICAgICAgICAgICAgICAgbmV3X2l0ZW0uaXR2ID0gW29mZnNldCwgaXRlbS5pdHZbMV0sIHRydWUsIGl0ZW0uaXR2WzNdXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3X2l0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgLy8gY29uc29sZS5sb2coXCJpbnNlcnRcIiwgaW5zZXJ0X2l0ZW1zKTtcblxuICAgIC8vIHRydW5jYXRlIHByZS1leGlzdGluZyBpdGVtcyBvdmVybGFwcGluZyBvZmZzZXRcbiAgICBjb25zdCBtb2RpZnlfaXRlbXMgPSBsYXllci5pbmRleC5uZWFyYnkob2Zmc2V0KS5jZW50ZXIubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld19pdGVtID0gey4uLml0ZW19O1xuICAgICAgICBuZXdfaXRlbS5pdHYgPSBbaXRlbS5pdHZbMF0sIG9mZnNldCwgaXRlbS5pdHZbMl0sIGZhbHNlXTtcbiAgICAgICAgcmV0dXJuIG5ld19pdGVtO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIGNvbnNvbGUubG9nKFwibW9kaWZ5XCIsIG1vZGlmeV9pdGVtcyk7XG5cbiAgICAvLyByZW1vdmUgcHJlLWV4aXN0aW5nIGZ1dHVyZSAtIGl0ZW1zIGNvdmVyaW5nIGl0di5sb3cgPiBvZmZzZXRcbiAgICBjb25zdCByZW1vdmUgPSBsYXllci5zcmMuZ2V0KClcbiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG93RXAgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGl0ZW0uaXR2KVswXTtcbiAgICAgICAgICAgIHJldHVybiBlbmRwb2ludC5ndChsb3dFcCwgZXApO1xuICAgICAgICB9KVxuICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5pZDtcbiAgICAgICAgfSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyhcInJlbW92ZVwiLCByZW1vdmUpO1xuXG4gICAgLy8gbGF5ZXIgdXBkYXRlXG4gICAgY29uc3QgaW5zZXJ0ID0gWy4uLm1vZGlmeV9pdGVtcywgLi4uaW5zZXJ0X2l0ZW1zXTtcbiAgICByZXR1cm4gbGF5ZXJfdXBkYXRlKGxheWVyLCB7cmVtb3ZlLCBpbnNlcnQsIHJlc2V0OmZhbHNlfSlcbn1cblxuXG5cbiIsImltcG9ydCB7IEN1cnNvciB9IGZyb20gXCIuL2N1cnNvcl9iYXNlLmpzXCI7XG5pbXBvcnQgeyBpc19jbG9ja19wcm92aWRlciwgTE9DQUxfQ0xPQ0tfUFJPVklERVIgfSBmcm9tIFwiLi9wcm92aWRlcl9jbG9jay5qc1wiO1xuLyoqXG4gKiBDbG9jayBjdXJzb3IgaXMgYSB0aGluIHdyYXBwZXIgYXJvdW5kIGEgY2xvY2tQcm92aWRlcixcbiAqIHNvIHRoYXQgaXQgY2FuIGJlIGNvbnN1bWVkIGFzIGEgY3Vyc29yLlxuICogXG4gKiBUaGUgY3RybCBwcm9wZXJ0eSBvZiBhbnkgQ3Vyc29yIGlzIHJlcXVpcmVkIHRvIGJlIGEgQ3Vyc29yIG9yIHVuZGVmaW5lZCxcbiAqIHNvIGluIHRoZSBjYXNlIG9mIGEgY2xvY2sgY3Vyc29yLCB3aGljaCBpcyB0aGUgc3RhcnRpbmcgcG9pbnQsXG4gKiB0aGUgY3RybCBwcm9wZXJ0eSBpcyBhbHdheXMgc2V0IHRvIHVuZGVmaW5lZC5cbiAqIFxuICogQWRkaXRpb25hbGx5LCBjbG9jayBjdXJzb3Iuc3JjIGlzIGFsc28gdW5kZWZpbmVkLlxuICogXG4gKiBDdXJzb3IgdHJhbnNmb3JtYXRpb24gb2YgYSBjbG9jayBjdXJzb3Igd2lsbCByZXN1bHQgaW4gYSBuZXcgY2xvY2sgY3Vyc29yLlxuICogIFxuICogSWRlbmZpZnlpbmcgYSBjdXJzb3IgYXMgYSBjbG9jayBjdXJzb3Igb3Igbm90IGlzIGltcG9ydGFudCBmb3IgcGxheWJhY2tcbiAqIGxvZ2ljIGluIGN1cnNvciBpbXBsZW1tZW50YXRpb24uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzX2Nsb2NrX2N1cnNvcihvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgQ3Vyc29yICYmIG9iai5jdHJsID09IHVuZGVmaW5lZCAmJiBvYmouc3JjID09IHVuZGVmaW5lZDsgXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9ja19jdXJzb3Ioc3JjPUxPQ0FMX0NMT0NLX1BST1ZJREVSKSB7XG4gICAgaWYgKCFpc19jbG9ja19wcm92aWRlcihzcmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc3JjIG11c3QgYmUgY2xvY2tQcm92aWRlciAke3NyY31gKTtcbiAgICB9XG4gICAgY29uc3QgY3Vyc29yID0gbmV3IEN1cnNvcigpO1xuICAgIGN1cnNvci5xdWVyeSA9IGZ1bmN0aW9uIChsb2NhbF90cykge1xuICAgICAgICBjb25zdCBjbG9ja190cyA9IHNyYy5ub3cobG9jYWxfdHMpO1xuICAgICAgICByZXR1cm4ge3ZhbHVlOmNsb2NrX3RzLCBkeW5hbWljOnRydWUsIG9mZnNldDpsb2NhbF90c307XG4gICAgfVxuICAgIHJldHVybiBjdXJzb3I7XG59XG4iLCJpbXBvcnQgeyBDdXJzb3IgfSBmcm9tIFwiLi9jdXJzb3JfYmFzZS5qc1wiO1xuaW1wb3J0IHsgaXNfaXRlbXNfbGF5ZXIsIGl0ZW1zX2xheWVyIH0gZnJvbSBcIi4vbGF5ZXJfaXRlbXMuanNcIjtcbmltcG9ydCAqIGFzIHNyY3Byb3AgZnJvbSBcIi4vdXRpbC9hcGlfc3JjcHJvcC5qc1wiO1xuaW1wb3J0IHsgcmFuZG9tX3N0cmluZywgc2V0X3RpbWVvdXQsIGNoZWNrX251bWJlciwgbW90aW9uX3V0aWxzIH0gZnJvbSBcIi4vdXRpbC9jb21tb24uanNcIjtcbmltcG9ydCB7IGlzX2Nsb2NrX2N1cnNvciwgY2xvY2tfY3Vyc29yIH0gZnJvbSBcIi4vY3Vyc29yX2Nsb2NrLmpzXCI7XG5pbXBvcnQgeyBpc19jbG9ja19wcm92aWRlciwgTE9DQUxfQ0xPQ0tfUFJPVklERVIgfSBmcm9tIFwiLi9wcm92aWRlcl9jbG9jay5qc1wiO1xuaW1wb3J0IHsgaXNfY29sbGVjdGlvbl9wcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyX2NvbGxlY3Rpb24uanNcIjtcbmltcG9ydCB7IGlzX3ZhcmlhYmxlX3Byb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXJfdmFyaWFibGUuanNcIjtcbmltcG9ydCB7IGxvYWRfc2VnbWVudCB9IGZyb20gXCIuL3V0aWwvc2VnbWVudHMuanNcIjtcblxuY29uc3QgY2hlY2tfcmFuZ2UgPSBtb3Rpb25fdXRpbHMuY2hlY2tfcmFuZ2U7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogVkFSSUFCTEUgQ1VSU09SXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogXCJzcmNcIiBpcyBhIGxheWVyIG9yIGEgc3RhdGVQcm92aWRlclxuICogXCJjbG9ja1wiIGlzIGEgY2xvY2tDdXJzb3Igb3IgYSBjbG9ja1Byb3ZpZGVyXG4gKiBcbiAqIC0gY2xvY2tQcm92aWRlciBpcyB3cmFwcGVkIGFzIGNsb2NrQ3Vyc29yXG4gKiB0byBlbnN1cmUgdGhhdCBcImNsb2NrXCIgcHJvcGVydHkgb2YgY3Vyc29ycyBpcyBhbHdheXMgYSBjdXJzb3JcbiAqIFxuICogaWYgbm8gXCJjbG9ja1wiIGlzIHByb3ZpZGVkIC0gbG9jYWwgY2xvY2tQcm92aWRlciBpcyB1c2VkXG4gKiBcbiAqIC0gc3RhdGVQcm92aWRlciBpcyB3cmFwcGVkIGFzIGl0ZW1zTGF5ZXJcbiAqIHRvIGVuc3VyZSB0aGF0IFwic3JjXCIgcHJvcGVydHkgb2YgY3Vyc29ycyBpcyBhbHdheXMgYSBsYXllclxuICogdGhpcyBhbHNvIGVuc3VyZXMgdGhhdCB2YXJpYWJsZSBjdXJzb3IgY2FuIGVhc2lseVxuICogc3VwcG9ydCBsaXZlIHJlY29yZGluZywgd2hpY2ggZGVwZW5kcyBvbiB0aGUgbmVhcmJ5aW5kZXggb2YgdGhlIGxheWVyLlxuICogXG4gKi9cblxuLyoqXG4gKiBUT0RPIC0gbWVkaWEgY29udHJvbCBpcyBhIHNwZWNpYWwgY2FzZSBvZiB2YXJpYWJsZSBjdXJzb3JzXG4gKiB3aGVyZSBzcmMgbGF5ZXIgaXMgbnVtYmVyIHR5cGUgYW5kIGRlZmluZWQgb24gdGhlIGVudGlyZVxuICogdGltZWxpbmUuIEFuZCBwcm90ZWN0ZWQgYWdvaW5zdCBvdGhlciB0eXBlcyBvZiBzdGF0ZVxuICogQ291bGQgcGVyaGFwcyBtYWtlIGEgc3BlY2lhbCB0eXBlIG9mIGxheWVyIGZvciB0aGlzLFxuICogYW5kIHRoZW4gbWFrZSBhIHNwZWNpYWwgdHlwZSBvZiBjb250cm9sIGN1cnNvciB3aXRoXG4gKiB0aGUgYXBwcm9wcmlhdGUgcmVzdHJpY3Rpb24gb24gdGhlIHNyYyBsYXllci5cbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiB2YXJpYWJsZV9jdXJzb3IoY3RybCwgc3JjLCBvcHRpb25zPXt9KSB7XG5cbiAgICBjb25zdCBjdXJzb3IgPSBuZXcgQ3Vyc29yKCk7XG5cbiAgICAvLyBjYWNoZSBmb3Igc3JjXG4gICAgbGV0IHNyY19jYWNoZTtcbiAgICAvLyB0aW1lb3V0XG4gICAgbGV0IHRpZDtcblxuICAgIC8vIHNldHVwIHNyYyBwcm9wZXJ0eVxuICAgIHNyY3Byb3AuYWRkU3RhdGUoY3Vyc29yKTtcbiAgICBzcmNwcm9wLmFkZE1ldGhvZHMoY3Vyc29yKTtcbiAgICBjdXJzb3Iuc3JjcHJvcF9yZWdpc3RlcihcImN0cmxcIik7XG4gICAgY3Vyc29yLnNyY3Byb3BfcmVnaXN0ZXIoXCJzcmNcIik7XG5cbiAgICBjdXJzb3Iuc3JjcHJvcF9jaGVjayA9IGZ1bmN0aW9uIChwcm9wTmFtZSwgb2JqPUxPQ0FMX0NMT0NLX1BST1ZJREVSKSB7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PSBcImN0cmxcIikge1xuICAgICAgICAgICAgaWYgKGlzX2Nsb2NrX3Byb3ZpZGVyKG9iaikpIHtcbiAgICAgICAgICAgICAgICBvYmogPSBjbG9ja19jdXJzb3Iob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNfY2xvY2tfY3Vyc29yKG9iaikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFwiY3RybFwiIHByb3BlcnR5IG11c3QgYmUgYSBjbG9jayBjdXJzb3IgJHtvYmp9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PSBcInNyY1wiKSB7XG4gICAgICAgICAgICBpZiAoaXNfY29sbGVjdGlvbl9wcm92aWRlcihvYmopIHx8IGlzX3ZhcmlhYmxlX3Byb3ZpZGVyKG9iaikpIHtcbiAgICAgICAgICAgICAgICBvYmogPSBpdGVtc19sYXllcih7c3JjOm9ian0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc19pdGVtc19sYXllcihvYmopKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcInNyY1wiIHByb3BlcnR5IG11c3QgYmUgYW4gaXRlbSBsYXllciAke29ian1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3Vyc29yLnNyY3Byb3Bfb25jaGFuZ2UgPSBmdW5jdGlvbiAocHJvcE5hbWUsIGVBcmcpIHtcbiAgICAgICAgaWYgKGN1cnNvci5zcmMgPT0gdW5kZWZpbmVkIHx8IGN1cnNvci5jdHJsID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PSBcInNyY1wiKSB7XG4gICAgICAgICAgICBpZiAoZUFyZyA9PSBcInJlc2V0XCIpIHtcbiAgICAgICAgICAgICAgICBzcmNfY2FjaGUgPSBjdXJzb3Iuc3JjLmNyZWF0ZUNhY2hlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNyY19jYWNoZS5jbGVhcigpOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjdHJsIG1heSBjaGFuZ2UgaWYgY2xvY2tQcm92aWRlciBpcyByZXNldCAtIGJ1dFxuICAgICAgICAvLyB0aGlzIGRvZXMgbm90IHJlcXVpcmUgYW55IHBhcnRpY3VsYXIgY2hhbmdlcyB0byB0aGUgc3JjIGNhY2hlICAgICAgICBcbiAgICAgICAgZGV0ZWN0X2Z1dHVyZV9ldmVudCgpO1xuICAgICAgICBjdXJzb3Iub25jaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjdXJzb3IuY3RybCBkZWZpbmVzIGFuIGFjdGl2ZSByZWdpb24gb2YgY3Vyc29yLnNyYyAobGF5ZXIpXG4gICAgICogYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLCB0aGUgY3Vyc29yLmN0cmwgd2lsbCBsZWF2ZSB0aGlzIHJlZ2lvbi5cbiAgICAgKiBpbiB0aGF0IG1vbWVudCwgY3Vyc29yIHNob3VsZCByZWV2YWx1YXRlIGl0cyBzdGF0ZSAtIHNvIHdlIG5lZWQgdG8gXG4gICAgICogZGV0ZWN0IHRoaXMgZXZlbnQgYnkgdGltZW91dCAgXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBkZXRlY3RfZnV0dXJlX2V2ZW50KCkge1xuICAgICAgICBpZiAodGlkKSB7dGlkLmNhbmNlbCgpO31cbiAgICAgICAgY29uc3QgdHMgPSBjdXJzb3IuY3RybC52YWx1ZTtcbiAgICAgICAgLy8gbmVhcmJ5IGZyb20gc3JjXG4gICAgICAgIGNvbnN0IG5lYXJieSA9IGN1cnNvci5zcmMuaW5kZXgubmVhcmJ5KHRzKTtcbiAgICAgICAgY29uc3QgcmVnaW9uX2hpZ2ggPSBuZWFyYnkuaXR2WzFdIHx8IEluZmluaXR5OyAgICAgICAgXG5cbiAgICAgICAgaWYgKHJlZ2lvbl9oaWdoID09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAvLyBubyBmdXR1cmUgbGVhdmUgZXZlbnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWx0YV9tcyA9IChyZWdpb25faGlnaCAtIHRzKSAqIDEwMDA7XG4gICAgICAgIHRpZCA9IHNldF90aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGN1cnNvci5vbmNoYW5nZSgpO1xuICAgICAgICB9LCBkZWx0YV9tcyk7XG4gICAgfVxuXG4gICAgY3Vyc29yLnF1ZXJ5ID0gZnVuY3Rpb24gcXVlcnkobG9jYWxfdHMpIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gY3Vyc29yLmN0cmwucXVlcnkobG9jYWxfdHMpLnZhbHVlO1xuICAgICAgICByZXR1cm4gc3JjX2NhY2hlLnF1ZXJ5KG9mZnNldCk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFVQREFURSBBUEkgZm9yIFZhcmlhYmxlIEN1cnNvclxuICAgICAqLyAgICBcbiAgICBjdXJzb3Iuc2V0ID0gZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBzZXRfdmFsdWUoY3Vyc29yLCB2YWx1ZSk7XG4gICAgfVxuICAgIGN1cnNvci5tb3Rpb24gPSBmdW5jdGlvbiBtb3Rpb24odmVjdG9yKSB7XG4gICAgICAgIHJldHVybiBzZXRfbW90aW9uKGN1cnNvciwgdmVjdG9yKTtcbiAgICB9XG4gICAgY3Vyc29yLnRyYW5zaXRpb24gPSBmdW5jdGlvbiB0cmFuc2l0aW9uKHt0YXJnZXQsIGR1cmF0aW9uLCBlYXNpbmd9KSB7XG4gICAgICAgIHJldHVybiBzZXRfdHJhbnNpdGlvbihjdXJzb3IsIHRhcmdldCwgZHVyYXRpb24sIGVhc2luZyk7XG4gICAgfVxuICAgIGN1cnNvci5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIGludGVycG9sYXRlICh7dHVwbGVzLCBkdXJhdGlvbn0pIHtcbiAgICAgICAgcmV0dXJuIHNldF9pbnRlcnBvbGF0aW9uKGN1cnNvciwgdHVwbGVzLCBkdXJhdGlvbik7XG4gICAgfVxuICAgIFxuICAgIC8vIGluaXRpYWxpemVcbiAgICBjdXJzb3Iub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgY3Vyc29yLmN0cmwgPSBjdHJsO1xuICAgIGN1cnNvci5zcmMgPSBzcmM7XG4gICAgcmV0dXJuIGN1cnNvcjtcbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDVVJTT1IgVVBEQVRFIEFQSVxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIHNldCB2YWx1ZSBvZiBjdXJzb3JcbiAqL1xuXG5mdW5jdGlvbiBzZXRfdmFsdWUoY3Vyc29yLCB2YWx1ZSkge1xuICAgIGxldCBpdGVtcyA9IFtdO1xuICAgIGlmICh2YWx1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXRlbXMgPSBbe1xuICAgICAgICAgICAgaWQ6IHJhbmRvbV9zdHJpbmcoMTApLFxuICAgICAgICAgICAgaXR2OiBbbnVsbCwgbnVsbCwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgZGF0YTogdmFsdWUgICAgICAgICAgICAgIFxuICAgICAgICB9XTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnNvcl91cGRhdGUgKGN1cnNvciwgaXRlbXMpO1xufVxuXG4vKipcbiAqIHNldCBtb3Rpb24gc3RhdGVcbiAqICBcbiAqIG1vdGlvbiBvbmx5IG1ha2VzIHNlbnNlIGlmIHZhcmlhYmxlIGN1cnNvciBpcyByZXN0cmljdGVkIHRvIG51bWJlciB2YWx1ZXMsXG4gKiB3aGljaCBpbiB0dXJuIGltcGxpZXMgdGhhdCB0aGUgY3Vyc29yLnNyYyAoSXRlbXMgTGF5ZXIpIHNob3VsZCBiZVxuICogcmVzdHJpY3RlZCB0byBudW1iZXIgdmFsdWVzLiBcbiAqIElmIG5vbi1udW1iZXIgdmFsdWVzIG9jY3VyIC0gd2Ugc2ltcGx5IHJlcGxhY2Ugd2l0aCAwLlxuICogQWxzbywgaXRlbXMgbGF5ZXIgc2hvdWxkIGhhdmUgYSBzaW5nbGUgaXRlbSBpbiBuZWFyYnkgY2VudGVyLlxuICogXG4gKiBpZiBwb3NpdGlvbiBpcyBvbWl0dGVkIGluIHZlY3RvciAtIGN1cnJlbnQgcG9zaXRpb24gd2lsbCBiZSBhc3N1bWVkXG4gKiBpZiB0aW1lc3RhbXAgaXMgb21pdHRlZCBpbiB2ZWN0b3IgLSBjdXJyZW50IHRpbWVzdGFtcCB3aWxsIGJlIGFzc3VtZWRcbiAqIGlmIHZlbG9jaXR5IGFuZCBhY2NlbGVyYXRpb24gYXJlIG9tbWl0dGVkIGluIHZlY3RvciBcbiAqIC0gdGhlc2Ugd2lsbCBiZSBzZXQgdG8gemVyby5cbiAqL1xuXG5mdW5jdGlvbiBzZXRfbW90aW9uKGN1cnNvciwgdmVjdG9yPXt9KSB7XG4gICAgLy8gZ2V0IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjdXJzb3JcbiAgICBsZXQge3ZhbHVlOnAwLCBvZmZzZXQ6dDB9ID0gY3Vyc29yLnF1ZXJ5KCk7XG4gICAgLy8gZW5zdXJlIHRoYXQgcDAgaXMgbnVtYmVyIHR5cGVcbiAgICBpZiAodHlwZW9mIHAwICE9PSAnbnVtYmVyJyB8fCAhaXNGaW5pdGUocDApKSB7XG4gICAgICAgIHAwID0gMDtcbiAgICB9XG4gICAgLy8gZmV0Y2ggbmV3IHZhbHVlcyBmcm9tIHZlY3RvclxuICAgIGNvbnN0IHtcbiAgICAgICAgcG9zaXRpb246cDE9cDAsXG4gICAgICAgIHZlbG9jaXR5OnYxPTAsXG4gICAgICAgIGFjY2VsZXJhdGlvbjphMT0wLFxuICAgICAgICB0aW1lc3RhbXA6dDE9dDAsXG4gICAgICAgIHJhbmdlPVtudWxsLCBudWxsXVxuICAgIH0gPSB2ZWN0b3I7XG4gICAgY2hlY2tfcmFuZ2UocmFuZ2UpO1xuICAgIGNoZWNrX251bWJlcihcInBvc2l0aW9uXCIsIHAxKTtcbiAgICBjaGVja19udW1iZXIoXCJ2ZWxvY2l0eVwiLCB2MSk7XG4gICAgY2hlY2tfbnVtYmVyKFwiYWNjZWxlcmF0aW9uXCIsIGExKTtcbiAgICBjaGVja19udW1iZXIoXCJ0aW1lc3RhbXBcIiwgdDEpO1xuXG4gICAgY29uc3QgaXRlbXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIGlmIHBvcyByYW5nZSBpcyBib3VuZGVkIGxvdyBvciBoaWdoIG9yIGJvdGgsXG4gICAgICogdGhpcyBwb3RlbnRpYWxseSBjb3JyZXNwb25kcyB0byBtdWx0aXBsZSB0aW1lIHJhbmdlcyBbW3QwLCB0MV1dIFxuICAgICAqIHdoZXJlIHRoZSBtb3Rpb24gcG9zaXRpb24gaXMgbGVnYWwgIFxuICAgICAqIGxvdyA8PSBwIDw9IGhpZ2ggXG4gICAgICovXG4gICAgY29uc3QgY3RyID0gbW90aW9uX3V0aWxzLmNhbGN1bGF0ZV90aW1lX3JhbmdlcztcbiAgICBjb25zdCB0aW1lX3JhbmdlcyA9IGN0cihbcDEsdjEsYTEsdDFdLCByYW5nZSk7XG4gICAgLy8gcGljayBhIHRpbWUgcmFuZ2Ugd2hpY2ggY29udGFpbnMgdDFcbiAgICBjb25zdCB0cyA9IGN1cnNvci5jdHJsLnZhbHVlO1xuXG4gICAgY29uc3QgdGltZV9yYW5nZSA9IHRpbWVfcmFuZ2VzLmZpbmQoKHRyKSA9PiB7XG4gICAgICAgIGNvbnN0IGxvdyA9IHRyWzBdID8/IC1JbmZpbml0eTtcbiAgICAgICAgY29uc3QgaGlnaCA9IHRyWzFdID8/IEluZmluaXR5O1xuICAgICAgICByZXR1cm4gbG93IDw9IHRzICYmIHRzIDw9IGhpZ2g7XG4gICAgfSk7XG4gICAgaWYgKHRpbWVfcmFuZ2UgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IFtsb3csIGhpZ2hdID0gdGltZV9yYW5nZTtcbiAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICBpZDogcmFuZG9tX3N0cmluZygxMCksXG4gICAgICAgICAgICBpdHY6IFtsb3csIGhpZ2gsIHRydWUsIHRydWVdLFxuICAgICAgICAgICAgdHlwZTogXCJtb3Rpb25cIixcbiAgICAgICAgICAgIGRhdGE6IFtwMSwgdjEsIGExLCB0MV1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGFkZCBsZWZ0IGlmIG5lZWRlZFxuICAgICAgICBpZiAobG93ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiByYW5kb21fc3RyaW5nKDEwKSxcbiAgICAgICAgICAgICAgICBpdHY6IFtudWxsLCBsb3csIHRydWUsIGZhbHNlXSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJhbmdlWzBdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgcmlnaHQgaWYgbmVlZGVkXG4gICAgICAgIGlmIChoaWdoICE9IG51bGwpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiByYW5kb21fc3RyaW5nKDEwKSxcbiAgICAgICAgICAgICAgICBpdHY6IFtoaWdoLCBudWxsLCBmYWxzZSwgdHJ1ZV0sXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdGF0aWNcIixcbiAgICAgICAgICAgICAgICBkYXRhOiByYW5nZVsxXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvKiBcbiAgICAgICAgICAgIG5vIHRpbWVfcmFuZ2UgZm91bmRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcDEgaXMgb3V0c2lkZSB0aGUgcG9zX3JhbmdlXG4gICAgICAgICAgICBpZiBwMSBpcyBsZXNzIHRoYW4gbG93LCB0aGVuIHVzZSBsb3dcbiAgICAgICAgICAgIGlmIHAxIGlzIGdyZWF0ZXIgdGhhbiBoaWdoLCB0aGVuIHVzZSBoaWdoXG4gICAgICAgICovXG4gICAgICAgIGNvbnN0IHZhbCA9IChwMSA8IHJhbmdlWzBdKSA/IHJhbmdlWzBdIDogcmFuZ2VbMV07XG4gICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHJhbmRvbV9zdHJpbmcoMTApLFxuICAgICAgICAgICAgaXR2OiBbbnVsbCwgbnVsbCwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgZGF0YTogdmFsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY3Vyc29yX3VwZGF0ZSAoY3Vyc29yLCBpdGVtcyk7XG59XG5cbi8qKlxuICogc2V0IHRyYW5zaXRpb24gLSB0byB0YXJnZXQgcG9zaXRpb24gdXNpbmcgaW4gPGR1cmF0aW9uPiBzZWNvbmRzLlxuICovXG5cbmZ1bmN0aW9uIHNldF90cmFuc2l0aW9uKGN1cnNvciwgdGFyZ2V0LCBkdXJhdGlvbiwgZWFzaW5nKSB7XG4gICAgY29uc3Qge3ZhbHVlOnYwLCBvZmZzZXQ6dDB9ID0gY3Vyc29yLnF1ZXJ5KCk7XG4gICAgY29uc3QgdjEgPSB0YXJnZXQ7XG4gICAgY29uc3QgdDEgPSB0MCArIGR1cmF0aW9uO1xuICAgIGNoZWNrX251bWJlcihcInBvc2l0aW9uXCIsIHYwKTtcbiAgICBjaGVja19udW1iZXIoXCJwb3NpdGlvblwiLCB2MSk7XG4gICAgY2hlY2tfbnVtYmVyKFwicG9zaXRpb25cIiwgdDApO1xuICAgIGNoZWNrX251bWJlcihcInBvc2l0aW9uXCIsIHQxKTtcbiAgICBsZXQgaXRlbXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiByYW5kb21fc3RyaW5nKDEwKSxcbiAgICAgICAgICAgIGl0djogW251bGwsIHQwLCB0cnVlLCBmYWxzZV0sXG4gICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgZGF0YTogdjBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6IHJhbmRvbV9zdHJpbmcoMTApLFxuICAgICAgICAgICAgaXR2OiBbdDAsIHQxLCB0cnVlLCB0cnVlXSxcbiAgICAgICAgICAgIHR5cGU6IFwidHJhbnNpdGlvblwiLFxuICAgICAgICAgICAgZGF0YToge3YwLCB2MSwgdDAsIHQxLCBlYXNpbmd9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiByYW5kb21fc3RyaW5nKDEwKSxcbiAgICAgICAgICAgIGl0djogW3QxLCBudWxsLCBmYWxzZSwgdHJ1ZV0sXG4gICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgZGF0YTogdjFcbiAgICAgICAgfVxuICAgIF1cbiAgICByZXR1cm4gY3Vyc29yX3VwZGF0ZSAoY3Vyc29yLCBpdGVtcyk7XG59XG5cbi8qKlxuICogc2V0IGludGVycG9sYXRpb25cbiAqIFxuICovXG5cbmZ1bmN0aW9uIHNldF9pbnRlcnBvbGF0aW9uKGN1cnNvciwgdHVwbGVzLCBkdXJhdGlvbikge1xuICAgIGNvbnN0IG5vdyA9IGN1cnNvci5jdHJsLnZhbHVlO1xuICAgIHR1cGxlcyA9IHR1cGxlcy5tYXAoKFt2LHRdKSA9PiB7XG4gICAgICAgIGNoZWNrX251bWJlcihcInRzXCIsIHQpO1xuICAgICAgICBjaGVja19udW1iZXIoXCJ2YWxcIiwgdik7XG4gICAgICAgIHJldHVybiBbdiwgbm93ICsgdF07XG4gICAgfSlcblxuICAgIC8vIGluZmxhdGUgc2VnbWVudCB0byBjYWxjdWxhdGUgYm91bmRhcnkgY29uZGl0aW9uc1xuICAgIGNvbnN0IHNlZyA9IGxvYWRfc2VnbWVudChbbnVsbCwgbnVsbCwgdHJ1ZSwgdHJ1ZV0sIHtcbiAgICAgICAgdHlwZTogXCJpbnRlcnBvbGF0aW9uXCIsXG4gICAgICAgIGRhdGE6IHR1cGxlc1xuICAgIH0pO1xuXG4gICAgY29uc3QgdDAgPSBub3c7XG4gICAgY29uc3QgdDEgPSB0MCArIGR1cmF0aW9uO1xuICAgIGNvbnN0IHYwID0gc2VnLnN0YXRlKHQwKS52YWx1ZTtcbiAgICBjb25zdCB2MSA9IHNlZy5zdGF0ZSh0MSkudmFsdWU7XG4gICAgY29uc3QgaXRlbXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiByYW5kb21fc3RyaW5nKDEwKSxcbiAgICAgICAgICAgIGl0djogWy1JbmZpbml0eSwgdDAsIHRydWUsIGZhbHNlXSxcbiAgICAgICAgICAgIHR5cGU6IFwic3RhdGljXCIsXG4gICAgICAgICAgICBkYXRhOiB2MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpZDogcmFuZG9tX3N0cmluZygxMCksXG4gICAgICAgICAgICBpdHY6IFt0MCwgdDEsIHRydWUsIGZhbHNlXSxcbiAgICAgICAgICAgIHR5cGU6IFwiaW50ZXJwb2xhdGlvblwiLFxuICAgICAgICAgICAgZGF0YTogdHVwbGVzXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiByYW5kb21fc3RyaW5nKDEwKSxcbiAgICAgICAgICAgIGl0djogW3QxLCBJbmZpbml0eSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgZGF0YTogdjFcbiAgICAgICAgfVxuICAgIF1cbiAgICByZXR1cm4gY3Vyc29yX3VwZGF0ZSAoY3Vyc29yLCBpdGVtcyk7XG59XG5cblxuZnVuY3Rpb24gY3Vyc29yX3VwZGF0ZShjdXJzb3IsIGl0ZW1zKSB7XG4gICAgY29uc3Qge3JlY29yZD1mYWxzZX0gPSBjdXJzb3Iub3B0aW9ucztcbiAgICBpZiAocmVjb3JkKSB7XG4gICAgICAgIHJldHVybiBjdXJzb3Iuc3JjLmFwcGVuZChpdGVtcywgY3Vyc29yLmN0cmwudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjdXJzb3Iuc3JjLnVwZGF0ZSh7aW5zZXJ0Oml0ZW1zLCByZXNldDp0cnVlfSk7XG4gICAgfVxufSIsImltcG9ydCB7IEN1cnNvciwgZ2V0X2N1cnNvcl9jdHJsX3N0YXRlIH0gZnJvbSBcIi4vY3Vyc29yX2Jhc2UuanNcIjtcbmltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4vbGF5ZXJfYmFzZS5qc1wiO1xuaW1wb3J0IHsgaXNfaXRlbXNfbGF5ZXIsIGl0ZW1zX2xheWVyIH0gZnJvbSBcIi4vbGF5ZXJfaXRlbXMuanNcIjtcbmltcG9ydCAqIGFzIHNyY3Byb3AgZnJvbSBcIi4vdXRpbC9hcGlfc3JjcHJvcC5qc1wiO1xuaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tIFwiLi91dGlsL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgc2V0X3RpbWVvdXQgfSBmcm9tIFwiLi91dGlsL2NvbW1vbi5qc1wiO1xuaW1wb3J0IHsgaXNfY2xvY2tfY3Vyc29yLCBjbG9ja19jdXJzb3IgfSBmcm9tIFwiLi9jdXJzb3JfY2xvY2suanNcIjtcbmltcG9ydCB7IGlzX2Nsb2NrX3Byb3ZpZGVyLCBMT0NBTF9DTE9DS19QUk9WSURFUiB9IGZyb20gXCIuL3Byb3ZpZGVyX2Nsb2NrLmpzXCI7XG5pbXBvcnQgeyBpc19jb2xsZWN0aW9uX3Byb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXJfY29sbGVjdGlvbi5qc1wiO1xuaW1wb3J0IHsgaXNfdmFyaWFibGVfcHJvdmlkZXIgfSBmcm9tIFwiLi9wcm92aWRlcl92YXJpYWJsZS5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIFBMQVlCQUNLIENVUlNPUlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIHNyYyBpcyBhIGxheWVyIG9yIGEgc3RhdGVQcm92aWRlclxuICogY3RybCBpcyBhIGN1cnNvciBvciBhIGNsb2NrUHJvdmlkZXJcbiAqIFxuICogY2xvY2tQcm92aWRlciBpcyB3cmFwcGVkIGFzIGNsb2NrQ3Vyc29yXG4gKiB0byBlbnN1cmUgdGhhdCBcImN0cmxcIiBwcm9wZXJ0eSBvZiBjdXJzb3JzIGlzIGFsd2F5cyBhIGN1cnNvclxuICogXG4gKiBzdGF0ZVByb3ZpZGVyIGlzIHdyYXBwZWQgYXMgaXRlbXNMYXllclxuICogdG8gZW5zdXJlIHRoYXQgXCJzcmNcIiBwcm9wZXJ0eSBvZiBjdXJzb3JzIGlzIGFsd2F5cyBhIGxheWVyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXliYWNrX2N1cnNvcihjdHJsLCBzcmMpIHtcblxuICAgIGNvbnN0IGN1cnNvciA9IG5ldyBDdXJzb3IoKTtcblxuICAgIC8vIHNyYyBjYWNoZVxuICAgIGxldCBzcmNfY2FjaGU7XG4gICAgLy8gdGltZW91dFxuICAgIGxldCB0aWQ7XG4gICAgLy8gcG9sbGluZ1xuICAgIGxldCBwaWQ7XG5cbiAgICAvLyBzZXR1cCBzcmMgcHJvcGVydHlcbiAgICBzcmNwcm9wLmFkZFN0YXRlKGN1cnNvcik7XG4gICAgc3JjcHJvcC5hZGRNZXRob2RzKGN1cnNvcik7XG4gICAgY3Vyc29yLnNyY3Byb3BfcmVnaXN0ZXIoXCJjdHJsXCIpO1xuICAgIGN1cnNvci5zcmNwcm9wX3JlZ2lzdGVyKFwic3JjXCIpO1xuXG4gICAgLyoqXG4gICAgICogc3JjIHByb3BlcnR5IGluaXRpYWxpemF0aW9uIGNoZWNrXG4gICAgICovXG4gICAgY3Vyc29yLnNyY3Byb3BfY2hlY2sgPSBmdW5jdGlvbiAocHJvcE5hbWUsIG9iaj1MT0NBTF9DTE9DS19QUk9WSURFUikge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJjdHJsXCIpIHtcbiAgICAgICAgICAgIGlmIChpc19jbG9ja19wcm92aWRlcihvYmopKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gY2xvY2tfY3Vyc29yKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQ3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ialxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGN0cmwgbXVzdCBiZSBjbG9ja1Byb3ZpZGVyIG9yIEN1cnNvciAke29ian1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzcmNcIikge1xuICAgICAgICAgICAgaWYgKGlzX2NvbGxlY3Rpb25fcHJvdmlkZXIob2JqKSB8fCBpc192YXJpYWJsZV9wcm92aWRlcihvYmopKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gaXRlbXNfbGF5ZXIoe3NyYzpvYmp9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBMYXllcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3JjIG11c3QgYmUgTGF5ZXIgJHtvYmp9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBoYW5kbGUgc3JjIHByb3BlcnR5IGNoYW5nZVxuICAgICAqL1xuICAgIGN1cnNvci5zcmNwcm9wX29uY2hhbmdlID0gZnVuY3Rpb24gKHByb3BOYW1lLCBlQXJnKSB7XG4gICAgICAgIGlmIChjdXJzb3Iuc3JjID09IHVuZGVmaW5lZCB8fCBjdXJzb3IuY3RybCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzcmNcIikge1xuICAgICAgICAgICAgaWYgKGVBcmcgPT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgc3JjX2NhY2hlID0gY3Vyc29yLnNyYy5jcmVhdGVDYWNoZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcmNfY2FjaGUuY2xlYXIoKTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3Vyc29yX29uY2hhbmdlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbWFpbiBjdXJzb3IgY2hhbmdlIGhhbmRsZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJzb3Jfb25jaGFuZ2UoKSB7XG4gICAgICAgIGN1cnNvci5vbmNoYW5nZSgpO1xuICAgICAgICBkZXRlY3RfZnV0dXJlX2V2ZW50KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY3Vyc29yLmN0cmwgKGN1cnNvci9jbG9jaykgZGVmaW5lcyBhbiBhY3RpdmUgcmVnaW9uIG9mIGN1cnNvci5zcmMgKGxheWVyKVxuICAgICAqIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSwgdGhlIGN1cnNvci5jdHJsIHdpbGwgbGVhdmUgdGhpcyByZWdpb24uXG4gICAgICogaW4gdGhhdCBtb21lbnQsIGN1cnNvciBzaG91bGQgcmVldmFsdWF0ZSBpdHMgc3RhdGUgLSBzbyB3ZSBuZWVkIHRvIFxuICAgICAqIGRldGVjdCB0aGlzIGV2ZW50LCBpZGVhbGx5IGJ5IHRpbWVvdXQsIGFsdGVybmF0aXZlbHkgYnkgcG9sbGluZy4gIFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRldGVjdF9mdXR1cmVfZXZlbnQoKSB7XG4gICAgICAgIGlmICh0aWQpIHsgdGlkLmNhbmNlbCgpOyB9XG4gICAgICAgIGlmIChwaWQpIHsgY2xlYXJJbnRlcnZhbChwaWQpOyB9XG5cbiAgICAgICAgLy8gY3VycmVudCBzdGF0ZSBvZiBjdXJzb3IuY3RybCBcbiAgICAgICAgY29uc3QgY3RybF9zdGF0ZSA9IGdldF9jdXJzb3JfY3RybF9zdGF0ZShjdXJzb3IpO1xuICAgICAgICAvLyBjdXJyZW50IChwb3NpdGlvbiwgdGltZSkgb2YgY3Vyc29yLmN0cmxcbiAgICAgICAgY29uc3QgY3VycmVudF9wb3MgPSBjdHJsX3N0YXRlLnZhbHVlO1xuICAgICAgICBjb25zdCBjdXJyZW50X3RzID0gY3RybF9zdGF0ZS5vZmZzZXQ7XG5cbiAgICAgICAgLy8gbm8gZnV0dXJlIGV2ZW50IGlmIHRoZSBjdHJsIGlzIHN0YXRpY1xuICAgICAgICBpZiAoIWN0cmxfc3RhdGUuZHluYW1pYykge1xuICAgICAgICAgICAgLy8gd2lsbCBuZXZlciBsZWF2ZSByZWdpb25cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGN1cnJlbnQgcmVnaW9uIG9mIGN1cnNvci5zcmNcbiAgICAgICAgY29uc3Qgc3JjX25lYXJieSA9IGN1cnNvci5zcmMuaW5kZXgubmVhcmJ5KGN1cnJlbnRfcG9zKTtcblxuICAgICAgICBjb25zdCByZWdpb25fbG93ID0gc3JjX25lYXJieS5pdHZbMF0gPz8gLUluZmluaXR5O1xuICAgICAgICBjb25zdCByZWdpb25faGlnaCA9IHNyY19uZWFyYnkuaXR2WzFdID8/IEluZmluaXR5O1xuXG4gICAgICAgIC8vIG5vIGZ1dHVyZSBsZWF2ZSBldmVudCBpZiB0aGUgcmVnaW9uIGNvdmVycyB0aGUgZW50aXJlIHRpbWVsaW5lIFxuICAgICAgICBpZiAocmVnaW9uX2xvdyA9PSAtSW5maW5pdHkgJiYgcmVnaW9uX2hpZ2ggPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIC8vIHdpbGwgbmV2ZXIgbGVhdmUgcmVnaW9uXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNfY2xvY2tfY3Vyc29yKGN1cnNvci5jdHJsKSkge1xuICAgICAgICAgICAgLyogXG4gICAgICAgICAgICAgICAgY3Vyc29yLmN0cmwgaXMgYSBjbG9jayBwcm92aWRlclxuXG4gICAgICAgICAgICAgICAgcG9zc2libGUgdGltZW91dCBhc3NvY2lhdGVkIHdpdGggbGVhdmluZyByZWdpb25cbiAgICAgICAgICAgICAgICB0aHJvdWdoIHJlZ2lvbl9oaWdoIC0gYXMgY2xvY2sgaXMgaW5jcmVhc2luZy5cbiAgICAgICAgICAgICovXG4gICAgICAgICAgIGNvbnN0IHRhcmdldF9wb3MgPSByZWdpb25faGlnaDtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhX21zID0gKHRhcmdldF9wb3MgLSBjdXJyZW50X3BvcykgKiAxMDAwO1xuICAgICAgICAgICAgdGlkID0gc2V0X3RpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGN1cnNvcl9vbmNoYW5nZSgpO1xuICAgICAgICAgICAgfSwgZGVsdGFfbXMpO1xuICAgICAgICAgICAgLy8gbGVhdmUgZXZlbnQgc2NoZWR1bGVkXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gXG4gICAgICAgIFxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBpc19jbG9ja19jdXJzb3IoY3Vyc29yLmN0cmwuY3RybCkgJiYgXG4gICAgICAgICAgICBpc19pdGVtc19sYXllcihjdXJzb3IuY3RybC5zcmMpXG4gICAgICAgICkge1xuICAgICAgICAgICAgLyogXG4gICAgICAgICAgICAgICAgY3Vyc29yLmN0cmwgaXMgYSBjdXJzb3Igd2l0aCBhIGNsb2NrIHByb3ZpZGVyXG5cbiAgICAgICAgICAgICAgICBwb3NzaWJsZSB0aW1lb3V0IGFzc29jaWF0ZWQgd2l0aCBsZWF2aW5nIHJlZ2lvblxuICAgICAgICAgICAgICAgIHRocm91Z2ggcmVnaW9uX2xvdyBvciByZWdpb25faGlnaC5cblxuICAgICAgICAgICAgICAgIEhvd2V2ZXIsIHRoaXMgY2FuIG9ubHkgYmUgcHJlZGljdGVkIGlmIGN1cnNvci5jdHJsXG4gICAgICAgICAgICAgICAgaW1wbGVtZW50cyBhIGRldGVybWluaXN0aWMgZnVuY3Rpb24gb2YgdGltZS5cblxuICAgICAgICAgICAgICAgIFRoaXMgY2FuIGJlIHRoZSBjYXNlIGlmIGN1cnNvci5jdHIuc3JjIGlzIGFuIGl0ZW1zIGxheWVyLFxuICAgICAgICAgICAgICAgIGFuZCBhIHNpbmdsZSBhY3RpdmUgaXRlbSBkZXNjcmliZXMgZWl0aGVyIGEgbW90aW9uIG9yIGEgdHJhbnNpdGlvbiAod2l0aCBsaW5lYXIgZWFzaW5nKS4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlX2l0ZW1zID0gY3Vyc29yLmN0cmwuc3JjLmdldF9pdGVtcyhjdXJyZW50X3RzKTtcbiAgICAgICAgICAgIGxldCB0YXJnZXRfcG9zO1xuXG4gICAgICAgICAgICBpZiAoYWN0aXZlX2l0ZW1zLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlX2l0ZW0gPSBhY3RpdmVfaXRlbXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZV9pdGVtLnR5cGUgPT0gXCJtb3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbcCx2LGEsdF0gPSBhY3RpdmVfaXRlbS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGNhbGN1bGF0ZSB0aW1lb3V0IHdpdGggYWNjZWxlcmF0aW9uIHRvb1xuICAgICAgICAgICAgICAgICAgICBpZiAoYSA9PSAwLjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgd2hpY2ggcmVnaW9uIGJvdW5kYXJ5IHdlIGhpdCBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0X3BvcyA9IHJlZ2lvbl9oaWdoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfcG9zID0gcmVnaW9uX2xvdztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhX21zID0gKHRhcmdldF9wb3MgLSBjdXJyZW50X3BvcykgKiAxMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlkID0gc2V0X3RpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcl9vbmNoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZGVsdGFfbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGVhdmUtZXZlbnQgc2NoZWR1bGVkXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZV9pdGVtLnR5cGUgPT0gXCJ0cmFuc2l0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge3YwLCB2MSwgdDAsIHQxLCBlYXNpbmc9XCJsaW5lYXJcIn0gPSBhY3RpdmVfaXRlbS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWFzaW5nID09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpbmVhciB0cmFuc3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2ZWxvY2l0eSA9ICh2MS12MCkvKHQxLXQwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZWxvY2l0eSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfcG9zID0gTWF0aC5taW4ocmVnaW9uX2hpZ2gsIHYxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldF9wb3MgPSBNYXRoLm1heChyZWdpb25fbG93LCB2MSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YV9tcyA9ICh0YXJnZXRfcG9zIC0gY3VycmVudF9wb3MpICogMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpZCA9IHNldF90aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Jfb25jaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGRlbHRhX21zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlYXZlLWV2ZW50IHNjaGVkdWxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRldGVjdGlvbiBvZiBsZWF2ZSBldmVudHMgZmFsbHMgYmFjayBvbiBwb2xsaW5nXG4gICAgICAgICAqL1xuICAgICAgICBzdGFydF9wb2xsaW5nKHNyY19uZWFyYnkuaXR2KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzdGFydCBwb2xsaW5nXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhcnRfcG9sbGluZyhpdHYpIHtcbiAgICAgICAgcGlkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaGFuZGxlX3BvbGxpbmcoaXR2KTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBoYW5kbGUgcG9sbGluZ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhbmRsZV9wb2xsaW5nKGl0dikge1xuICAgICAgICBsZXQgb2Zmc2V0ID0gY3Vyc29yLmN0cmwudmFsdWU7XG4gICAgICAgIGlmICghaW50ZXJ2YWwuY292ZXJzX2VuZHBvaW50KGl0diwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgY3Vyc29yX29uY2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIG1haW4gcXVlcnkgZnVuY3Rpb24gLSByZXNvbHZpbmcgcXVlcnlcbiAgICAgKiBmcm9tIGNhY2hlIG9iamVjdCBhc3NvY2lhdGVkIHdpdGggY3Vyc29yLnNyY1xuICAgICAqL1xuXG4gICAgY3Vyc29yLnF1ZXJ5ID0gZnVuY3Rpb24gcXVlcnkobG9jYWxfdHMpIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZ2V0X2N1cnNvcl9jdHJsX3N0YXRlKGN1cnNvciwgbG9jYWxfdHMpLnZhbHVlOyBcbiAgICAgICAgcmV0dXJuIHNyY19jYWNoZS5xdWVyeShvZmZzZXQpO1xuICAgIH1cbiAgICBcbiAgICAvLyBpbml0aWFsaXplXG4gICAgY3Vyc29yLmN0cmwgPSBjdHJsO1xuICAgIGN1cnNvci5zcmMgPSBzcmM7XG4gICAgcmV0dXJuIGN1cnNvcjtcbn0iLCJpbXBvcnQgeyBlbmRwb2ludH0gZnJvbSBcIi4uL3V0aWwvaW50ZXJ2YWxzLmpzXCI7XG5pbXBvcnQgeyBOZWFyYnlJbmRleEJhc2UgfSBmcm9tIFwiLi4vbmVhcmJ5X2Jhc2UuanNcIjtcbmltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4uL2xheWVyX2Jhc2UuanNcIlxuaW1wb3J0IHsgQ3Vyc29yIH0gZnJvbSBcIi4uL2N1cnNvcl9iYXNlLmpzXCI7XG5cbi8qKlxuICogVGhpcyB3cmFwcyBhIGN1cnNvciBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGFzIGEgbGF5ZXIuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxheWVyX2Zyb21fY3Vyc29yKHNyYykge1xuXG4gICAgaWYgKCEoc3JjIGluc3RhbmNlb2YgQ3Vyc29yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHNyYyBtdXN0IGJlIGEgQ3Vyc29yICR7c3JjfWApO1xuICAgIH1cbiBcbiAgICBjb25zdCBsYXllciA9IG5ldyBMYXllcigpO1xuICAgIGxheWVyLmluZGV4ID0gbmV3IEN1cnNvckluZGV4KHNyYyk7XG4gICAgXG4gICAgLy8gc3Vic2NyaWJlXG4gICAgc3JjLmFkZF9jYWxsYmFjaygoZUFyZykgPT4ge1xuICAgICAgICBsYXllci5vbmNoYW5nZShlQXJnKTtcbiAgICB9KTtcblxuICAgIC8vIGluaXRpYWxpc2VcbiAgICBsYXllci5zcmMgPSBzcmM7XG4gICAgcmV0dXJuIGxheWVyO1xufSBcblxuXG4vKipcbiAqIENyZWF0ZSBhIE5lYXJieUluZGV4IGZvciB0aGUgQ3Vyc29yLlxuICogXG4gKiBUaGUgY3Vyc29yIHZhbHVlIGlzIGluZGVwZW5kZW50IG9mIHRpbWVsaW5lIG9mZnNldCwgXG4gKiB3aGljaCBpcyB0byBzYXkgdGhhdCBpdCBoYXMgdGhlIHNhbWUgdmFsdWUgZm9yIGFsbCBcbiAqIHRpbWVsaW5lIG9mZnNldHMuXG4gKiBcbiAqIEluIG9yZGVyIGZvciB0aGUgZGVmYXVsdCBMYXllckNhY2hlIHRvIHdvcmssIGFuXG4gKiBvYmplY3Qgd2l0aCBhIC5xdWVyeShvZmZzZXQpIG1ldGhvZCBpcyBuZWVkZWQgaW4gXG4gKiBuZWFyYnkuY2VudGVyLiBTaW5jZSBjdXJzb3JzIHN1cHBvcnQgdGhpcyBtZXRob2RcbiAqIChpZ25vcmluZyB0aGUgb2Zmc2V0KSwgd2UgY2FuIHVzZSB0aGUgY3Vyc29yIGRpcmVjdGx5LlxuICovXG5cbmNsYXNzIEN1cnNvckluZGV4IGV4dGVuZHMgTmVhcmJ5SW5kZXhCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKGN1cnNvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9jdXJzb3IgPSBjdXJzb3I7XG4gICAgfVxuXG4gICAgbmVhcmJ5KG9mZnNldCkge1xuICAgICAgICAvLyBjdXJzb3IgaW5kZXggaXMgZGVmaW5lZCBmb3IgZW50aXJlIHRpbWVsaW5lXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpdHY6IFtudWxsLCBudWxsLCB0cnVlLCB0cnVlXSxcbiAgICAgICAgICAgIGNlbnRlcjogW3RoaXMuX2N1cnNvcl0sXG4gICAgICAgICAgICBsZWZ0OiBlbmRwb2ludC5ORUdfSU5GLFxuICAgICAgICAgICAgcHJldjogZW5kcG9pbnQuTkVHX0lORixcbiAgICAgICAgICAgIHJpZ2h0OiBlbmRwb2ludC5QT1NfSU5GLFxuICAgICAgICAgICAgbmV4dDogZW5kcG9pbnQuUE9TX0lORixcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwiaW1wb3J0ICogYXMgc3JjcHJvcCBmcm9tIFwiLi4vdXRpbC9hcGlfc3JjcHJvcC5qc1wiO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tIFwiLi4vbGF5ZXJfYmFzZS5qc1wiXG5pbXBvcnQgeyBlbmRwb2ludCB9IGZyb20gXCIuLi91dGlsL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgTmVhcmJ5SW5kZXhCYXNlLCBuZWFyYnlfZnJvbSB9IGZyb20gXCIuLi9uZWFyYnlfYmFzZS5qc1wiO1xuXG5cbi8qKlxuICogQ29udmVuaWVuY2UgbWVyZ2Ugb3B0aW9uc1xuICovXG5jb25zdCBNRVJHRV9PUFRJT05TID0ge1xuICAgIHN1bToge1xuICAgICAgICB2YWx1ZUZ1bmM6IGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgICAgICAvLyByZXR1cm5zIHRoZSBzdW0gb2YgdmFsdWVzIG9mIGFjdGl2ZSBsYXllcnNcbiAgICAgICAgICAgIHJldHVybiBpbmZvLnN0YXRlc1xuICAgICAgICAgICAgICAgIC5tYXAoc3RhdGUgPT4gc3RhdGUudmFsdWUpIFxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgdmFsdWUpID0+IGFjYyArIHZhbHVlLCAwKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc3RhY2s6IHtcbiAgICAgICAgc3RhdGVGdW5jOiBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgLy8gcmV0dXJucyB2YWx1ZXMgZnJvbSBmaXJzdCBhY3RpdmUgbGF5ZXJcbiAgICAgICAgICAgIHJldHVybiB7Li4uaW5mby5zdGF0ZXNbMF19XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFycmF5OiB7XG4gICAgICAgIHZhbHVlRnVuYzogZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgICAgIC8vIHJldHVybnMgYW4gYXJyYXkgd2l0aCB2YWx1ZXMgZnJvbSBhY3RpdmUgbGF5ZXJzXG4gICAgICAgICAgICByZXR1cm4gaW5mby5zdGF0ZXMubWFwKHN0YXRlID0+IHN0YXRlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBcbiAqIFRoaXMgaW1wbGVtZW50cyBhIG1lcmdlIG9wZXJhdGlvbiBmb3IgbGF5ZXJzLlxuICogTGlzdCBvZiBzb3VyY2VzIGlzIGltbXV0YWJsZS5cbiAqIFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZV9sYXllciAoc291cmNlcywgb3B0aW9ucz17fSkge1xuICAgIGxldCB7dHlwZT1cIlwiLCAuLi5vcHRzfSA9IG9wdGlvbnM7XG5cbiAgICAvLyB0eXBlIHNwZWNpZmllcyBwcmVkZWZpbmVkIG9wdGlvbnMgZm9yIExheWVyXG4gICAgaWYgKHR5cGUgaW4gTUVSR0VfT1BUSU9OUykge1xuICAgICAgICBvcHRzID0gTUVSR0VfT1BUSU9OU1t0eXBlXTtcbiAgICB9XG4gICAgY29uc3QgbGF5ZXIgPSBuZXcgTGF5ZXIob3B0cyk7ICAgIFxuXG4gICAgLy8gc2V0dXAgc291cmNlcyBwcm9wZXJ0eVxuICAgIHNyY3Byb3AuYWRkU3RhdGUobGF5ZXIpO1xuICAgIHNyY3Byb3AuYWRkTWV0aG9kcyhsYXllcik7XG4gICAgbGF5ZXIuc3JjcHJvcF9yZWdpc3RlcihcInNvdXJjZXNcIik7XG5cbiAgICBsYXllci5zcmNwcm9wX2NoZWNrID0gZnVuY3Rpb24ocHJvcE5hbWUsIHNvdXJjZXMpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic291cmNlc1wiKSB7XG4gICAgICAgICAgICAvLyBjaGVjayB0aGF0IHNvdXJjZXMgaXMgYXJyYXkgb2YgbGF5ZXJzXG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc291cmNlcykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHNvdXJjZXMgbXVzdCBiZSBhcnJheSAke3NvdXJjZXN9YClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFsbF9sYXllcnMgPSBzb3VyY2VzLm1hcCgoZSkgPT4gZSBpbnN0YW5jZW9mIExheWVyKS5ldmVyeShlID0+IGUpO1xuICAgICAgICAgICAgaWYgKCFhbGxfbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzb3VyY2VzIG11c3QgYWxsIGJlIGxheWVycyAke3NvdXJjZXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZXM7XG4gICAgfVxuXG4gICAgbGF5ZXIuc3JjcHJvcF9vbmNoYW5nZSA9IGZ1bmN0aW9uKHByb3BOYW1lLCBlQXJnKSB7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PSBcInNvdXJjZXNcIikge1xuICAgICAgICAgICAgaWYgKGVBcmcgPT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuaW5kZXggPSBuZXcgTmVhcmJ5SW5kZXhNZXJnZShsYXllci5zb3VyY2VzKVxuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGxheWVyLm9uY2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpbml0aWFsaXNlXG4gICAgbGF5ZXIuc291cmNlcyA9IHNvdXJjZXM7XG5cbiAgICByZXR1cm4gbGF5ZXJcbn1cblxuXG5cbi8qKlxuICogQ3JlYXRpbmcgYSBtZXJnZWQgTmVhcmJ5SW5kZXggZm9yIHNldCBvZiBMYXllcnMuXG4gKiAgXG4gKiBBIHJlZ2lvbiB3aXRoaW4gdGhlIG1lcmdlZCBpbmRleCB3aWxsIGNvbnRhaW5cbiAqIGEgbGlzdCBvZiByZWZlcmVuY2VzIHRvIChjYWNoZSBvYmplY3RzKSBmb3IgXG4gKiB0aGUgTGF5ZXJzIHdoaWNoIGFyZSBkZWZpbmVkIGluIHRoaXMgcmVnaW9uLlxuICogXG4gKiBJbXBsZW1lbnRhdGlvbiBpcyBzdGF0ZWxlc3MuXG4gKiBTZXQgb2YgbGF5ZXJzIGlzIGFzc3VtZWQgdG8gYmUgc3RhdGljLlxuICovXG5cbmZ1bmN0aW9uIGNtcF9hc2NlbmRpbmcocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmNtcChwMSwgcDIpXG59XG5cbmZ1bmN0aW9uIGNtcF9kZXNjZW5kaW5nKHAxLCBwMikge1xuICAgIHJldHVybiBlbmRwb2ludC5jbXAocDIsIHAxKVxufVxuXG5leHBvcnQgY2xhc3MgTmVhcmJ5SW5kZXhNZXJnZSBleHRlbmRzIE5lYXJieUluZGV4QmFzZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3NvdXJjZXMgPSBzb3VyY2VzO1xuICAgICAgICB0aGlzLl9jYWNoZXMgPSBuZXcgTWFwKHNvdXJjZXMubWFwKChzcmMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBbc3JjLCBzcmMuY3JlYXRlQ2FjaGUoKV07XG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBuZWFyYnkob2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcbiAgICAgICAgLy8gYWNjdW11bGF0ZSBuZWFyYnkgZnJvbSBhbGwgc291cmNlc1xuICAgICAgICBjb25zdCBwcmV2X2xpc3QgPSBbXSwgbmV4dF9saXN0ID0gW107XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IFtdO1xuICAgICAgICBjb25zdCBjZW50ZXJfaGlnaF9saXN0ID0gW107XG4gICAgICAgIGNvbnN0IGNlbnRlcl9sb3dfbGlzdCA9IFtdXG4gICAgICAgIGZvciAobGV0IHNyYyBvZiB0aGlzLl9zb3VyY2VzKSB7XG4gICAgICAgICAgICBsZXQgbmVhcmJ5ID0gc3JjLmluZGV4Lm5lYXJieShvZmZzZXQpO1xuICAgICAgICAgICAgbGV0IHByZXZfcmVnaW9uID0gc3JjLmluZGV4LmZpbmRfcmVnaW9uKG5lYXJieSwge2RpcmVjdGlvbjotMX0pO1xuICAgICAgICAgICAgbGV0IG5leHRfcmVnaW9uID0gc3JjLmluZGV4LmZpbmRfcmVnaW9uKG5lYXJieSwge2RpcmVjdGlvbjoxfSk7XG4gICAgICAgICAgICBpZiAocHJldl9yZWdpb24gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcHJldl9saXN0LnB1c2goZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChwcmV2X3JlZ2lvbi5pdHYpWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0X3JlZ2lvbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBuZXh0X2xpc3QucHVzaChlbmRwb2ludC5mcm9tX2ludGVydmFsKG5leHRfcmVnaW9uLml0dilbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5lYXJieS5jZW50ZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNlbnRlci5wdXNoKHRoaXMuX2NhY2hlcy5nZXQoc3JjKSk7XG4gICAgICAgICAgICAgICAgbGV0IFtsb3csIGhpZ2hdID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChuZWFyYnkuaXR2KTtcbiAgICAgICAgICAgICAgICBjZW50ZXJfaGlnaF9saXN0LnB1c2goaGlnaCk7XG4gICAgICAgICAgICAgICAgY2VudGVyX2xvd19saXN0LnB1c2gobG93KTsgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGZpbmQgY2xvc2VzdCBlbmRwb2ludCB0byB0aGUgcmlnaHQgKG5vdCBpbiBjZW50ZXIpXG4gICAgICAgIG5leHRfbGlzdC5zb3J0KGNtcF9hc2NlbmRpbmcpO1xuICAgICAgICBjb25zdCBuZXh0X2xvdyA9IG5leHRfbGlzdFswXSB8fCBlbmRwb2ludC5QT1NfSU5GO1xuXG4gICAgICAgIC8vIGZpbmQgY2xvc2VzdCBlbmRwb2ludCB0byB0aGUgbGVmdCAobm90IGluIGNlbnRlcilcbiAgICAgICAgcHJldl9saXN0LnNvcnQoY21wX2Rlc2NlbmRpbmcpO1xuICAgICAgICBjb25zdCBwcmV2X2hpZ2ggPSBwcmV2X2xpc3RbMF0gfHwgZW5kcG9pbnQuTkVHX0lORjtcblxuICAgICAgICByZXR1cm4gbmVhcmJ5X2Zyb20oXG4gICAgICAgICAgICAgICAgcHJldl9oaWdoLCBcbiAgICAgICAgICAgICAgICBjZW50ZXJfbG93X2xpc3QsIFxuICAgICAgICAgICAgICAgIGNlbnRlcixcbiAgICAgICAgICAgICAgICBjZW50ZXJfaGlnaF9saXN0LFxuICAgICAgICAgICAgICAgIG5leHRfbG93XG4gICAgICAgICAgICApO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBpbnRlcnZhbCwgZW5kcG9pbnR9IGZyb20gXCIuLi91dGlsL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgTmVhcmJ5SW5kZXhCYXNlIH0gZnJvbSBcIi4uL25lYXJieV9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuLi9sYXllcl9iYXNlLmpzXCJcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIEJPT0xFQU4gTEFZRVJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGJvb2xlYW5fbGF5ZXIoc3JjKSB7XG5cbiAgICBjb25zdCBsYXllciA9IG5ldyBMYXllcigpO1xuICAgIGxheWVyLmluZGV4ID0gbmV3IE5lYXJieUluZGV4Qm9vbGVhbihzcmMuaW5kZXgpO1xuICAgIFxuICAgIC8vIHN1YnNjcmliZVxuICAgIHNyYy5hZGRfY2FsbGJhY2soKGVBcmcpID0+IHtcbiAgICAgICAgbGF5ZXIub25jaGFuZ2UoZUFyZyk7XG4gICAgfSk7XG5cbiAgICAvLyBpbml0aWFsaXNlXG4gICAgbGF5ZXIuc3JjID0gc3JjO1xuICAgIHJldHVybiBsYXllcjtcbn0gXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIEJPT0xFQU4gTkVBUkJZIElOREVYXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogV3JhcHBlciBJbmRleCB3aGVyZSByZWdpb25zIGFyZSB0cnVlL2ZhbHNlLCBiYXNlZCBvbiBcbiAqIGNvbmRpdGlvbiBvbiBuZWFyYnkuY2VudGVyLlxuICogQmFjay10by1iYWNrIHJlZ2lvbnMgd2hpY2ggYXJlIHRydWUgYXJlIGNvbGxhcHNlZCBcbiAqIGludG8gb25lIHJlZ2lvblxuICogXG4gKi9cblxuZnVuY3Rpb24gcXVlcnlPYmplY3QgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcXVlcnk6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsdWUsIGR5bmFtaWM6ZmFsc2UsIG9mZnNldH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOZWFyYnlJbmRleEJvb2xlYW4gZXh0ZW5kcyBOZWFyYnlJbmRleEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoaW5kZXgsIG9wdGlvbnM9e30pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcbiAgICAgICAgbGV0IHtjb25kaXRpb24gPSAoY2VudGVyKSA9PiBjZW50ZXIubGVuZ3RoID4gMH0gPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9jb25kaXRpb24gPSBjb25kaXRpb247XG4gICAgfVxuXG4gICAgbmVhcmJ5KG9mZnNldCkge1xuICAgICAgICBvZmZzZXQgPSBlbmRwb2ludC5mcm9tX2lucHV0KG9mZnNldCk7XG4gICAgICAgIGNvbnN0IG5lYXJieSA9IHRoaXMuX2luZGV4Lm5lYXJieShvZmZzZXQpO1xuICAgICAgICBcbiAgICAgICAgbGV0IGV2YWx1YXRpb24gPSB0aGlzLl9jb25kaXRpb24obmVhcmJ5LmNlbnRlcik7IFxuICAgICAgICAvKiBcbiAgICAgICAgICAgIHNlZWsgbGVmdCBhbmQgcmlnaHQgZm9yIGZpcnN0IHJlZ2lvblxuICAgICAgICAgICAgd2hpY2ggZG9lcyBub3QgaGF2ZSB0aGUgc2FtZSBldmFsdWF0aW9uIFxuICAgICAgICAqL1xuICAgICAgICBjb25zdCBjb25kaXRpb24gPSAoY2VudGVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29uZGl0aW9uKGNlbnRlcikgIT0gZXZhbHVhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGV4cGFuZCByaWdodFxuICAgICAgICBsZXQgcmlnaHQ7XG4gICAgICAgIGxldCByaWdodF9uZWFyYnkgPSB0aGlzLl9pbmRleC5maW5kX3JlZ2lvbihuZWFyYnksIHtcbiAgICAgICAgICAgIGRpcmVjdGlvbjoxLCBjb25kaXRpb25cbiAgICAgICAgfSk7ICAgICAgICBcbiAgICAgICAgaWYgKHJpZ2h0X25lYXJieSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJpZ2h0ID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChyaWdodF9uZWFyYnkuaXR2KVswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGV4cGFuZCBsZWZ0XG4gICAgICAgIGxldCBsZWZ0O1xuICAgICAgICBsZXQgbGVmdF9uZWFyYnkgPSB0aGlzLl9pbmRleC5maW5kX3JlZ2lvbihuZWFyYnksIHtcbiAgICAgICAgICAgIGRpcmVjdGlvbjotMSwgY29uZGl0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobGVmdF9uZWFyYnkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZWZ0ID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChsZWZ0X25lYXJieS5pdHYpWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXhwYW5kIHRvIGluZmluaXR5XG4gICAgICAgIGxlZnQgPSBsZWZ0IHx8IGVuZHBvaW50Lk5FR19JTkY7XG4gICAgICAgIHJpZ2h0ID0gcmlnaHQgfHwgZW5kcG9pbnQuUE9TX0lORjtcbiAgICAgICAgY29uc3QgbG93ID0gZW5kcG9pbnQuZmxpcChsZWZ0KTtcbiAgICAgICAgY29uc3QgaGlnaCA9IGVuZHBvaW50LmZsaXAocmlnaHQpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpdHY6IGludGVydmFsLmZyb21fZW5kcG9pbnRzKGxvdywgaGlnaCksXG4gICAgICAgICAgICBjZW50ZXIgOiBbcXVlcnlPYmplY3QoZXZhbHVhdGlvbildLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTGF5ZXIgfSBmcm9tIFwiLi4vbGF5ZXJfYmFzZS5qc1wiO1xuaW1wb3J0IHsgTmVhcmJ5SW5kZXhCb29sZWFuIH0gZnJvbSBcIi4vYm9vbGVhbi5qc1wiO1xuaW1wb3J0IHsgTmVhcmJ5SW5kZXhNZXJnZSB9IGZyb20gXCIuL21lcmdlLmpzXCI7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ2ljYWxfbWVyZ2VfbGF5ZXIoc291cmNlcywgb3B0aW9ucz17fSkge1xuXG4gICAgY29uc3Qge2V4cHJ9ID0gb3B0aW9ucztcbiAgICBsZXQgY29uZGl0aW9uO1xuICAgIGlmIChleHByKSB7XG4gICAgICAgIGNvbmRpdGlvbiA9IChjZW50ZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBleHByLmV2YWwoY2VudGVyKTtcbiAgICAgICAgfSAgICBcbiAgICB9XG5cbiAgICBjb25zdCBsYXllciA9IG5ldyBMYXllcigpO1xuICAgIGNvbnN0IGluZGV4ID0gbmV3IE5lYXJieUluZGV4TWVyZ2Uoc291cmNlcyk7XG4gICAgbGF5ZXIuaW5kZXggPSBuZXcgTmVhcmJ5SW5kZXhCb29sZWFuKGluZGV4LCB7Y29uZGl0aW9ufSk7XG5cbiAgICAvLyBzdWJzY3JpYmUgdG8gY2FsbGJhY2tzIGZyb20gc291cmNlc1xuICAgIHNvdXJjZXMubWFwKChzcmMpID0+IHtcbiAgICAgICAgcmV0dXJuIHNyYy5hZGRfY2FsbGJhY2sobGF5ZXIub25jaGFuZ2UpO1xuICAgIH0pO1xuICAgIFxuICAgIGxheWVyLnNvdXJjZXMgPSBzb3VyY2VzO1xuXG4gICAgcmV0dXJuIGxheWVyO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dpY2FsX2V4cHIgKHNyYykge1xuICAgIGlmICghKHNyYyBpbnN0YW5jZW9mIExheWVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG11c3QgYmUgbGF5ZXIgJHtzcmN9YClcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZhbDogZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICAgICAgZm9yIChsZXQgY2FjaGUgb2YgY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlLnNyYyA9PSBzcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5sb2dpY2FsX2V4cHIuYW5kID0gZnVuY3Rpb24gYW5kKC4uLmV4cHJzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZhbDogZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGV4cHJzLmV2ZXJ5KChleHByKSA9PiBleHByLmV2YWwoY2VudGVyKSk7XG4gICAgICAgIH0gICAgXG4gICAgfVxufVxuXG5sb2dpY2FsX2V4cHIub3IgPSBmdW5jdGlvbiBvciguLi5leHBycykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGV2YWw6IGZ1bmN0aW9uIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBleHBycy5zb21lKChleHByKSA9PiBleHByLmV2YWwoY2VudGVyKSk7XG4gICAgICAgIH0gICAgXG4gICAgfVxufVxuXG5sb2dpY2FsX2V4cHIueG9yID0gZnVuY3Rpb24geG9yKGV4cHIxLCBleHByMikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGV2YWw6IGZ1bmN0aW9uIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBleHByMS5ldmFsKGNlbnRlcikgIT0gZXhwcjIuZXZhbChjZW50ZXIpO1xuICAgICAgICB9ICAgIFxuICAgIH1cbn1cblxubG9naWNhbF9leHByLm5vdCA9IGZ1bmN0aW9uIG5vdChleHByKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZhbDogZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuICFleHByLmV2YWwoY2VudGVyKTtcbiAgICAgICAgfSAgICBcbiAgICB9XG59XG5cblxuXG5cbiIsImltcG9ydCB7IGVuZHBvaW50IH0gZnJvbSBcIi4uL3V0aWwvaW50ZXJ2YWxzLmpzXCI7XG5pbXBvcnQgeyBOZWFyYnlJbmRleEJhc2UgfSBmcm9tIFwiLi4vbmVhcmJ5X2Jhc2UuanNcIjtcbmltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4uL2xheWVyX2Jhc2UuanNcIlxuaW1wb3J0ICogYXMgc3JjcHJvcCBmcm9tIFwiLi4vdXRpbC9hcGlfc3JjcHJvcC5qc1wiO1xuXG5cbi8qKlxuICogYWZmaW5lIHRyYW5zZm9ybSAxRCBieSBzaGlmdCBhbmQgc2NhbGUgZmFjdG9yXG4gKi9cblxuZnVuY3Rpb24gdHJhbnNmb3JtKHAsIHtzaGlmdD0wLCBzY2FsZT0xfSkge1xuICAgIGlmIChwID09IHVuZGVmaW5lZCB8fCAhaXNGaW5pdGUocCkpIHtcbiAgICAgICAgLy8gcCAtIG5vb3BcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBwID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgLy8gcCBpcyBudW1iZXIgLSB0cmFuc2Zvcm1cbiAgICAgICAgcmV0dXJuIChwKnNjYWxlKSArIHNoaWZ0O1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwKSAmJiBwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gcCBpcyBlbmRwb2ludCAtIHRyYW5zZm9ybSB2YWx1ZVxuICAgICAgICBsZXQgW3ZhbCwgYnJhY2tldF0gPSBwO1xuICAgICAgICByZXR1cm4gZW5kcG9pbnQuZnJvbV9pbnB1dChbKHZhbCpzY2FsZSkrc2hpZnQsIGJyYWNrZXRdKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJldmVyc2UocCwge3NoaWZ0PTAsIHNjYWxlPTF9KSB7XG4gICAgaWYgKHAgPT0gdW5kZWZpbmVkIHx8ICFpc0Zpbml0ZShwKSkge1xuICAgICAgICAvLyBwIC0gbm9vcFxuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHAgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAvLyBwIGlzIG51bWJlciAtIHRyYW5zZm9ybVxuICAgICAgICByZXR1cm4gKHAtc2hpZnQpL3NjYWxlO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwKSAmJiBwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gcCBpcyBlbmRwb2ludCAtIHRyYW5zZm9ybSB2YWx1ZVxuICAgICAgICBsZXQgW3ZhbCwgYnJhY2tldF0gPSBwO1xuICAgICAgICByZXR1cm4gZW5kcG9pbnQuZnJvbV9pbnB1dChbKCh2YWwtc2hpZnQpL3NjYWxlKSwgYnJhY2tldF0pO1xuICAgIH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTkVBUkJZIElOREVYIC0gQUZGSU5FIFRJTUVMSU5FIFRSQU5TRk9STVxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5jbGFzcyBOZWFyYnlJbmRleEFUVCBleHRlbmRzIE5lYXJieUluZGV4QmFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvciAobGF5ZXIsIG9wdGlvbnM9e30pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbGF5ZXIgPSBsYXllcjtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSBsYXllci5jcmVhdGVDYWNoZSgpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgXG4gICAgICAgIC8vIHRyYW5zZm9ybSBjYWNoZVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1fY2FjaGUgPSB7XG4gICAgICAgICAgICBxdWVyeTogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgICAgIC8vIHJldmVyc2UgdHJhbnNmb3JtIHF1ZXJ5XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9jYWNoZS5xdWVyeShyZXZlcnNlKG9mZnNldCwgdGhpcy5fb3B0aW9ucykpO1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgb3JpZ2luYWwgb2Zmc2V0IChpbnN0ZWFkIG9mIHJldmVyc2luZyByZXN1bHQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsuLi5zdGF0ZSwgb2Zmc2V0fTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIG5lYXJieShvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gZW5kcG9pbnQuZnJvbV9pbnB1dChvZmZzZXQpO1xuICAgICAgICAvLyByZXZlcnNlIHRyYW5zZm9ybSBxdWVyeSBvZmZzZXRcbiAgICAgICAgY29uc3QgbmVhcmJ5ID0gdGhpcy5fbGF5ZXIuaW5kZXgubmVhcmJ5KHJldmVyc2Uob2Zmc2V0LCB0aGlzLl9vcHRpb25zKSk7XG4gICAgICAgIC8vIHRyYW5zZm9ybSBxdWVyeSByZXN1bHQgXG4gICAgICAgIGNvbnN0IGl0diA9IG5lYXJieS5pdHYuc2xpY2UoKTtcbiAgICAgICAgaXR2WzBdID0gdHJhbnNmb3JtKG5lYXJieS5pdHZbMF0sIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICBpdHZbMV0gPSB0cmFuc2Zvcm0obmVhcmJ5Lml0dlsxXSwgdGhpcy5fb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpdHYsXG4gICAgICAgICAgICBsZWZ0OiB0cmFuc2Zvcm0obmVhcmJ5LmxlZnQsIHRoaXMuX29wdGlvbnMpLFxuICAgICAgICAgICAgcmlnaHQ6IHRyYW5zZm9ybShuZWFyYnkucmlnaHQsIHRoaXMuX29wdGlvbnMpLFxuICAgICAgICAgICAgY2VudGVyOiBuZWFyYnkuY2VudGVyLm1hcCgoKSA9PiB0aGlzLl90cmFuc2Zvcm1fY2FjaGUpXG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIFRJTUVMSU5FIFRSQU5TRk9STSBMQVlFUlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIFNoaWZ0aW5nIGFuZCBzY2FsaW5nIHRoZSB0aW1lbGluZSBvZiBhIGxheWVyXG4gKiBcbiAqIG9wdGlvbnM6XG4gKiAtIHNoaWZ0OiBhIHZhbHVlIG9mIDIgZWZmZWN0aXZlbHkgbWVhbnMgdGhhdCBsYXllciBjb250ZW50cyBcbiAqICAgYXJlIHNoaWZ0ZWQgdG8gdGhlIHJpZ2h0IG9uIHRoZSB0aW1lbGluZSwgYnkgMiB1bml0c1xuICogLSBzY2FsZTogYSB2YWx1ZSBvZiAyIG1lYW5zIHRoYXQgdGhlIGxheWVyIGlzIHN0cmV0Y2hlZFxuICogICBieSBhIGZhY3RvciBvZiAyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVsaW5lX3RyYW5zZm9ybSAoc3JjLCBvcHRpb25zPXt9KSB7XG5cbiAgICBjb25zdCBsYXllciA9IG5ldyBMYXllcigpO1xuXG4gICAgLy8gc2V0dXAgc3JjIHByb3BlcnR5XG4gICAgc3JjcHJvcC5hZGRTdGF0ZShsYXllcik7XG4gICAgc3JjcHJvcC5hZGRNZXRob2RzKGxheWVyKTtcbiAgICBsYXllci5zcmNwcm9wX3JlZ2lzdGVyKFwic3JjXCIpO1xuICAgICAgICBcbiAgICBsYXllci5zcmNwcm9wX2NoZWNrID0gZnVuY3Rpb24ocHJvcE5hbWUsIHNyYykge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzcmNcIikge1xuICAgICAgICAgICAgaWYgKCEoc3JjIGluc3RhbmNlb2YgTGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcInNyY1wiIG11c3QgYmUgTGF5ZXIgJHtzcmN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3JjOyAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxheWVyLnNyY3Byb3Bfb25jaGFuZ2UgPSBmdW5jdGlvbihwcm9wTmFtZSwgZUFyZykge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzcmNcIikge1xuICAgICAgICAgICAgaWYgKGVBcmcgPT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IG5ldyBOZWFyYnlJbmRleEFUVCh0aGlzLnNyYywgb3B0aW9ucylcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBsYXllci5vbmNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaW5pdGlhbGlzZVxuICAgIGxheWVyLnNyYyA9IHNyYztcbiAgICBcbiAgICByZXR1cm4gbGF5ZXI7XG59XG5cbiIsImltcG9ydCB7IEN1cnNvciB9IGZyb20gXCIuLi9jdXJzb3JfYmFzZS5qc1wiO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tIFwiLi4vbGF5ZXJfYmFzZS5qc1wiXG5pbXBvcnQgeyBOZWFyYnlJbmRleFNyYyB9IGZyb20gXCIuLi9uZWFyYnlfYmFzZS5qc1wiXG5pbXBvcnQgeyBpc19jbG9ja19jdXJzb3IgfSBmcm9tIFwiLi4vY3Vyc29yX2Nsb2NrLmpzXCI7XG5cblxuZnVuY3Rpb24gdG9TdGF0ZShzdGF0ZSwgb3B0aW9ucz17fSkge1xuICAgIGNvbnN0IHt2YWx1ZUZ1bmMsIHN0YXRlRnVuY30gPSBvcHRpb25zO1xuICAgIGlmICh2YWx1ZUZ1bmMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0YXRlLnZhbHVlID0gdmFsdWVGdW5jKHN0YXRlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0gZWxzZSBpZiAoc3RhdGVGdW5jICE9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3RhdGVGdW5jKHN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG4vKipcbiAqIEN1cnNvciBUcmFuc2Zvcm1cbiAqIENyZWF0ZSBhIG5ldyBDdXJzb3Igd2hpY2ggaXMgYSB0cmFuc2Zvcm1hdGlvbiBvZiB0aGUgc3JjIEN1cnNvclxuICovXG5leHBvcnQgZnVuY3Rpb24gY3Vyc29yX3RyYW5zZm9ybShzcmMsIG9wdGlvbnM9e30pIHtcblxuICAgIGlmICghKHNyYyBpbnN0YW5jZW9mIEN1cnNvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzcmMgbXVzdCBiZSBhIEN1cnNvciAke3NyY31gKTtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJzb3IgPSBuZXcgQ3Vyc29yKCk7XG5cbiAgICAvLyBpbXBsZW1lbnQgcXVlcnlcbiAgICBjdXJzb3IucXVlcnkgPSBmdW5jdGlvbiBxdWVyeSgpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBzcmMucXVlcnkoKTtcbiAgICAgICAgcmV0dXJuIHRvU3RhdGUoc3RhdGUsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8vIGFkb3B0IHRoZSBjdHJsIG9mIHRoZSBzcmMtY3Vyc29yXG4gICAgaWYgKCFpc19jbG9ja19jdXJzb3Ioc3JjKSkge1xuICAgICAgICBjdXJzb3IuY3RybCA9IHNyYy5jdHJsO1xuICAgICAgICAvLyBhZGQgY2FsbGJhY2tzXG4gICAgICAgIGN1cnNvci5jdHJsLmFkZF9jYWxsYmFjaygoKSA9PiB7Y3Vyc29yLm9uY2hhbmdlKCl9KTtcbiAgICB9XG5cbiAgICAvKiBcbiAgICAgICAgQ3VycmVudCBkZWZpbml0aW9uIG9mIEN1cnNvciBzcmMgcHJvcGVydHkgaXMgdGhhdCBpdCBpcyBhIGxheWVyIG9yIHVuZGVmaW5lZC5cbiAgICAgICAgVGhpcyBsZWF2ZXMgY3Vyc29yIHRyYW5zZm9ybSBvcHRpb25zLlxuICAgICAgICAxKSB3cmFwIHNyYyBjdXJzb3IgYXMgYSBsYXllcixcbiAgICAgICAgMikgbGV0IHNyYyBwcm9wZXJ0eSBiZSB1bmRlZmluZWRcbiAgICAgICAgMykgYWRvcHQgdGhlIHNyYyBwcm9wZXJ0eSBvZiB0aGUgc3JjIGN1cnNvciBhcyBpdHMgb3duIHNyY1xuXG4gICAgICAgIFdlIGdvIGZvciAzKVxuICAgICovXG5cbiAgICAvLyBhZG9wdCB0aGUgc3JjIG9mIHRoZSBzcmMtY3Vyc29yIGFzIHNyY1xuICAgIGlmICghaXNfY2xvY2tfY3Vyc29yKHNyYykpIHtcbiAgICAgICAgY3Vyc29yLnNyYyA9IHNyYy5zcmM7XG4gICAgfVxuXG4gICAgLy8gY2FsbGJhY2tzIGZyb20gc3JjLWN1cnNvclxuICAgIHNyYy5hZGRfY2FsbGJhY2soKCkgPT4ge2N1cnNvci5vbmNoYW5nZSgpfSk7XG4gICAgcmV0dXJuIGN1cnNvcjtcbn1cblxuXG4vKipcbiAqIExheWVyIFRyYW5zZm9ybVxuICogQ3JlYXRlIGEgbmV3IExheWVyIHdoaWNoIGlzIGEgdHJhbnNmb3JtYXRpb24gb2YgdGhlIHNyYyBMYXllclxuICovXG5cbmZ1bmN0aW9uIHdyYXBwZWRWYWx1ZUZ1bmModmFsdWVGdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh7c291cmNlcywgc3RhdGVzLCBvZmZzZXR9KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZUZ1bmMoc3RhdGVzWzBdLnZhbHVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHdyYXBwZWRTdGF0ZUZ1bmMoc3RhdGVGdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh7c291cmNlcywgc3RhdGVzLCBvZmZzZXR9KSB7XG4gICAgICAgIHJldHVybiBzdGF0ZUZ1bmMoc3RhdGVzWzBdKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXllcl90cmFuc2Zvcm0oc3JjLCBvcHRpb25zPXt9KSB7XG5cbiAgICBpZiAoIShzcmMgaW5zdGFuY2VvZiBMYXllcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzcmMgbXVzdCBiZSBhIExheWVyICR7c3JjfWApO1xuICAgIH1cblxuICAgIGNvbnN0IG9wcyA9IHt9O1xuICAgIG9wcy52YWx1ZUZ1bmMgPSB3cmFwcGVkVmFsdWVGdW5jKG9wdGlvbnMudmFsdWVGdW5jKTtcbiAgICBvcHMuc3RhdGVGdW5jID0gd3JhcHBlZFN0YXRlRnVuYyhvcHRpb25zLnN0YXRlRnVuYyk7XG5cbiAgICBjb25zdCBsYXllciA9IG5ldyBMYXllcihvcHMpO1xuICAgIGxheWVyLmluZGV4ID0gbmV3IE5lYXJieUluZGV4U3JjKHNyYyk7XG4gICAgbGF5ZXIuc3JjID0gc3JjO1xuICAgIGxheWVyLnNyYy5hZGRfY2FsbGJhY2soKGVBcmcpID0+IHtsYXllci5vbmNoYW5nZShlQXJnKX0pO1xuICAgIHJldHVybiBsYXllcjtcbn1cblxuXG5cbiIsImltcG9ydCB7IEN1cnNvciB9IGZyb20gXCIuLi9jdXJzb3JfYmFzZS5qc1wiO1xuaW1wb3J0IHsgaXNfY2xvY2tfY3Vyc29yLCBjbG9ja19jdXJzb3IgfSBmcm9tIFwiLi4vY3Vyc29yX2Nsb2NrLmpzXCI7XG5pbXBvcnQgeyBpc19pdGVtc19sYXllciB9IGZyb20gXCIuLi9sYXllcl9pdGVtcy5qc1wiO1xuaW1wb3J0IHsgaXNfY2xvY2tfcHJvdmlkZXIsIExPQ0FMX0NMT0NLX1BST1ZJREVSIH0gZnJvbSBcIi4uL3Byb3ZpZGVyX2Nsb2NrLmpzXCI7XG5pbXBvcnQgeyBsb2NhbF9jbG9jayB9IGZyb20gXCIuLi91dGlsL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIHJlY29yZGVyIGZvciBjdXJzb3IgaW50byBsYXllclxuICogXG4gKiAgIE1BSU4gSURFQVxuICogLSByZWNvcmQgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYSBjdXJzb3IgKHNyYykgaW50byBhIGxheWVyIChkc3QpXG4gKiAtIHJlY29yZGluZyBpcyBlc3NlbnRpYWxseSBhIGNvcHkgb3BlcmF0aW9uIGZyb20gdGhlXG4gKiAgIHN0YXRlUHJvdmlkZXIgb2YgdGhlIGN1cnNvciAoc3JjKSB0byB0aGUgc3RhdGVQcm92aWRlciBvZiB0aGUgbGF5ZXIgKGRzdCkuXG4gKiAtIHJlY29yZGluZyBkb2VzIG5vdCBhcHBseSB0byBkZXJpdmVkIGN1cnNvcnMgLSBvbmx5IGN1cnNvcnMgdGhhdFxuICogICBhcmUgZGlyZWN0bHkgY29ubmVjdGVkIHRvIGEgc3RhdGVQcm92aWRlci5cbiAqXG4gKiBcbiAqICAgVElNRUZSQU1FU1xuICogLSB0aGUgKHNyYykgY3Vyc29yIGlzIGRyaXZlbiBieSBhIGNsb2NrIChzcmMuY3RybCk6IDxTUkNfQ0xPQ0s+IFxuICogLSB0aGUgcmVjb3JkaW5nIHRvIChkc3QpIGxheWVyIGlzIGRyaXZlbiBieSBhIGNsb2NrIChjdHJsKTogPERTVF9DTE9DSz5cbiAqIC0gaWYgU1JDX0NMT0NLIGlzIG5vdCB0aGUgc2FtZSBhcyBEU1RfQ0xPQ0ssIHJlY29yZGVkIGl0ZW1zIG5lZWQgdG8gYmVcbiAqICAgY29udmVydGVkIHRvIHRoZSBEU1RfQ0xPQ0sgdGltZSBmcmFtZS5cbiAqIC0gZm9yIGV4YW1wbGUgLSBhIGNvbW1vbiBzY2VuYXJpbyB3b3VsZCBiZSB0byByZWNvcmQgYSBjdXJzb3Igd2l0aCByZWFsLXRpbWVcbiAqICAgdGltZXN0YW1wcyBpbnRvIGEgbG9naWNhbCB0aW1lbGluZSBzdGFydGluZyBhdCAwLCBwb3NzaWJseSBcbiAqICAgcmV3aW5kaW5nIHRoZSBEU1RfQ0xPQ0sgdG8gMCBtdWx0aXBsZSB0aW1lcyBpbiBvcmRlciB0byBkbyBuZXcgdGFrZXNcbiAqIFxuICogICBSRUNPUkRJTkdcbiAqIC0gcmVjb3JkaW5nIGlzIGRvbmUgYnkgYXBwZW5kaW5nIGl0ZW1zIHRvIHRoZSBkc3QgbGF5ZXIgXG4gKiAtIHdoZW4gdGhlIGN1cnNvciBzdGF0ZSBjaGFuZ2VzIChlbnRpcmUgdGltZWxpbmUgcmVzZXQpIFxuICogLSB0aGUgcGFydCBvZiBpdCB3aGljaCBkZXNjcmliZXMgdGhlIGZ1dHVyZSB3aWxsIG92ZXJ3cml0ZSB0aGUgcmVsZXZhbnRcbiAqIC0gcGFydCBvZiB0aGUgdGhlIGxheWVyIHRpbWVsaW5lXG4gKiAtIHRoZSBkZWxpbmVhdGlvbiBiZXR3ZWVuIHBhc3QgYW5kIGZ1dHVyZSBpcyBkZXRlcm1pbmVkIGJ5IFxuICogLSBmcmVzaCB0aW1lc3RhbXAgPFRTPiBmcm9tIDxEU1RfQ0xPQ0s+XG4gKiAtIGlmIGFuIGl0ZW0gb3ZlcmxhcHMgd2l0aCA8VFM+IGl0IHdpbGwgYmUgdHJ1bmNhdGVzIHNvIHRoYXQgb25seSB0aGUgcGFydFxuICogLSB0aGF0IGlzIGluIHRoZSBmdXR1cmUgd2lsbCBiZSByZWNvcmRlZCAoY29waWVkKSB0byB0aGUgbGF5ZXIuXG4gKiAtIGluIGNhc2UgKGN0cmwpIGlzIGEgbWVkaWEgY29udHJvbCAtIHJlY29yZGluZyBjYW4gb25seSBoYXBwZW5cbiAqICAgd2hlbiB0aGUgKGN0cmwpIGlzIG1vdmluZyBmb3J3YXJkXG4gKiBcbiAqICAgSU5QVVRcbiAqIC0gKGN0cmwpIC0gY2xvY2sgY3Vyc29yIG9yIGNsb2NrIHByb3ZpZGVyIG1lZGlhIGNvbnRyb2wgXG4gKiAgIChjdHJsIGlzIGNsb2NrX2N1cnNvciBvciBjdHJsLmN0cmwgaXMgY2xvY2tfY3Vyc29yKVxuICogLSAoc3JjKSAtIGN1cnNvciB3aXRoIGEgaXRlbXNsYXllciBhcyBzcmMgXG4gKiAgIChzcmMuc3JjIGlzIGl0ZW1zbGF5ZXIpXG4gKiAtIChkc3QpIC0gaXRlbXNsYXllclxuICpcbiAqICAgV0FSTklOR1xuICogLSBpbXBsZW1lbnRhdGlvbiBhc3N1bWVzIChkc3QpIGxheWVyIGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgKHNyYykgbGF5ZXJcbiAqIC0gKHNyYykgY3Vyc29yIGNhbiBub3QgYmUgY2xvY2sgY3Vyc29yIChtYWtlcyBubyBzZW5zZSB0byByZWNvcmQgYSBjbG9ja1xuICogICAtIGVzcGVjaWFsbHkgd2hlbiB5b3UgY2FuIG1ha2UgYSBuZXcgb25lIGF0IGFueSB0aW1lKVxuICogIFxuICogLSBpZiAoZHN0KSBpcyBub3QgcHJvdmlkZWQsIGFuIGVtcHR5IGxheWVyIHdpbGwgYmUgY3JlYXRlZFxuICogLSBpZiAoY3RybCkgaXMgbm90IHByb3ZpZGVkLCBMT0NBTF9DTE9DS19QUk9WSURFUiB3aWxsIGJlIHVzZWRcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBsYXllcl9yZWNvcmRlcihjdHJsPUxPQ0FMX0NMT0NLX1BST1ZJREVSLCBzcmMsIGRzdCkge1xuXG4gICAgLy8gY2hlY2sgLSBjdHJsIFxuICAgIGlmIChpc19jbG9ja19wcm92aWRlcihjdHJsKSkge1xuICAgICAgICBjdHJsID0gY2xvY2tfY3Vyc29yKGN0cmwpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAgICFpc19jbG9ja19jdXJzb3IoY3RybCkgJiZcbiAgICAgICAgIWlzX2Nsb2NrX2N1cnNvcihjdHJsLmN0cmwpXG4gICAgKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjdHJsIG9yIGN0cmwuY3RybCBtdXN0IGJlIGEgY2xvY2sgY3Vyc29yICR7Y3RybH1gKTtcbiAgICB9ICAgIFxuXG4gICAgLy8gY2hlY2sgLSBzcmNcbiAgICBpZiAoIShzcmMgaW5zdGFuY2VvZiBDdXJzb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc3JjIG11c3QgYmUgYSBjdXJzb3IgJHtzcmN9YCk7XG4gICAgfVxuICAgIGlmIChpc19jbG9ja19jdXJzb3Ioc3JjKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHNyYyBjYW4gbm90IGJlIGEgY2xvY2sgY3Vyc29yICR7c3JjfWApO1xuICAgIH1cbiAgICBpZiAoIWlzX2l0ZW1zX2xheWVyKHNyYy5zcmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY3Vyc29yIHNyYyBtdXN0IGJlIGl0ZW1zbGF5ZXIgJHtzcmMuc3JjfWApO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIC0gZHN0XG4gICAgaWYgKCFpc19pdGVtc19sYXllcihkc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgZHN0IG11c3QgYmUgYSBpdGVtc2xheWVyICR7ZHN0fWApO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIC0gc3RhdGVQcm92aWRlcnNcbiAgICBjb25zdCBzcmNfc3RhdGVQcm92aWRlciA9IHNyYy5zcmMuc3JjO1xuICAgIGNvbnN0IGRzdF9zdGF0ZVByb3ZpZGVyID0gZHN0LnNyYztcbiAgICBpZiAoc3JjX3N0YXRlUHJvdmlkZXIgPT09IGRzdF9zdGF0ZVByb3ZpZGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc3JjIGFuZCBkc3QgY2FuIG5vdCBoYXZlIHRoZSBzYW1lIHN0YXRlUHJvdmlkZXJgKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIHR1cm4gdGhpcyBhcm91bmQ/XG4gICAgICogaGF2ZSBzdGFydCBhbmQgc3RvcCByZWNvcmRpbmdcbiAgICAgKiBtZXRob2RzIGRpcmVjdCB0aGUgY29udHJvbD9cbiAgICAgKiBcbiAgICAgKiByZWNvcmRpbmcgd2l0aCBsaXZlIGNsb2NrIHJlcXVpcmVzXG4gICAgICogc3RhcnQgYW5kIHN0b3AgbWV0aG9kc1xuICAgICAqIFxuICAgICAqIHdoYXQgYWJvdXQgYSBtZWRpYSBjbG9jayA/XG4gICAgICogc2hvdWxkIGJlIGEgbWVkaWEgY2xvY2sgdGhhdCBjYW4gb25seSBtb3ZlIGZvcndhcmRcbiAgICAgKiBpdCBhY3R1YWxseSBtYWtlcyBzZW5zZSB0byBiZSBpbiByZWNvcmQgbW9kZSBldmVuIGlmIG1lZGlhY2xvY2sgaXMgcGF1c2VkXG4gICAgICogYmVjYXVzZSByZWNvcmRpbmcgb25seSBoYXBwZW5zIG9uIHN0YXRlIGNoYW5nZVxuICAgICAqIHBhdXNlZCBtZWFucyB5b3Ugb3ZlcndyaXRlIG9uIHRoZSBzYW1lIHNwb3RcbiAgICAgKiBza2lwcGluZyBiYWNrIHdoaWxlIGluIHJlY29yZCBtb2RlIC0gc2hvdWxkIHRoYXQgdHJpZ2dlciB3cml0ZSBjdXJyZW50XG4gICAgICogc3RhdGUgbG9uZ2VyIGJhY2tcbiAgICAgKiBcbiAgICAgKiBza2lwcGluZyBhbHdheXMgZXhpdCByZWNvcmQgbW9kZVxuICAgICAqIHJlY29yZCBtb2RlIGFsd2F5cyBzdGFydHNcbiAgICAgKiBtZWRpYSBjb250cm9sIG1heSBiZSBjb250cm9sbGVkIGV4dGVybmFsbHlcbiAgICAgKiBcbiAgICAgKiBzcGxpdCBiZXR3ZWVuIGEgbGl2ZSBhbmQgYSBtZWRpYSBjbG9jayByZWNvcmRlcj9cbiAgICAgKiBcbiAgICAgKi9cblxuXG5cbiAgICAvLyBpbnRlcm5hbCBzdGF0ZVxuICAgIGxldCBpc19yZWNvcmRpbmcgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIHN0YXRlIGNoYW5nZSBpbiBzcmMgc3RhdGVQcm92aWRlclxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gb25fc3JjX2NoYW5nZSAoKSB7XG4gICAgICAgIGlmICghaXNfcmVjb3JkaW5nKSByZXR1cm47XG4gICAgICAgIHJlY29yZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHN0YXRlIGNoYW5nZSBpbiBjdHJsXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25fY3RybF9jaGFuZ2UgKCkge1xuICAgICAgICAvLyBmaWd1cmUgb3V0IGlmIHJlY29yZGluZyBzdGFydHMgb3Igc3RvcHNcbiAgICAgICAgY29uc3Qgd2FzX3JlY29yZGluZyA9IGlzX3JlY29yZGluZztcbiAgICAgICAgaXNfcmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChpc19jbG9ja19jdXJzb3IoY3RybCkpIHtcbiAgICAgICAgICAgIGlzX3JlY29yZGluZyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNfY2xvY2tfY3Vyc29yKGN0cmwuY3RybCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0cmxfdHMgPSBjdHJsLmN0cmwudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IGN0cmwuc3JjLmluZGV4Lm5lYXJieShjdHJsX3RzKS5jZW50ZXI7XG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09IDEpXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zWzBdLnR5cGUgPT0gXCJtb3Rpb25cIiApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3AsdixhLHRdID0gaXRlbXNbMF0uZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgPiAwIHx8IHYgPT0gMCAmJiBhID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNfcmVjb3JkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghd2FzX3JlY29yZGluZyAmJiBpc19yZWNvcmRpbmcpIHtcbiAgICAgICAgICAgIHN0YXJ0X3JlY29yZGluZygpO1xuICAgICAgICB9IGVsc2UgaWYgKHdhc19yZWNvcmRpbmcgJiYgIWlzX3JlY29yZGluZykge1xuICAgICAgICAgICAgc3RvcF9yZWNvcmRpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlY29yZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YXJ0X3JlY29yZGluZygpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJzdGFydCByZWNvcmRpbmdcIilcbiAgICAgICAgcmVjb3JkKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RvcF9yZWNvcmRpbmcoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RvcCByZWNvcmRpbmdcIilcbiAgICAgICAgLy8gY2xvc2UgbGFzdCBpdGVtXG4gICAgICAgIGNvbnN0IHRzID0gbG9jYWxfY2xvY2subm93KCk7XG4gICAgICAgIGNvbnN0IGRzdF9vZmZzZXQgPSBjdHJsLnF1ZXJ5KHRzKS52YWx1ZTtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBkc3QuaW5kZXgubmVhcmJ5KGRzdF9vZmZzZXQpLmNlbnRlcjtcbiAgICAgICAgY29uc3QgaW5zZXJ0ID0gaXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdfaXRlbSA9IHsuLi5pdGVtfTtcbiAgICAgICAgICAgIG5ld19pdGVtLml0dlsxXSA9IGRzdF9vZmZzZXQ7XG4gICAgICAgICAgICBuZXdfaXRlbS5pdHZbM10gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBuZXdfaXRlbTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBkc3QudXBkYXRlKHtpbnNlcnQsIHJlc2V0OmZhbHNlfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWNvcmQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVjb3JkXCIpXG4gICAgICAgIGNvbnN0IHRzID0gbG9jYWxfY2xvY2subm93KCk7XG4gICAgICAgIGNvbnN0IHNyY19vZmZzZXQgPSBzcmMucXVlcnkodHMpLm9mZnNldDtcbiAgICAgICAgY29uc3QgZHN0X29mZnNldCA9IGN0cmwucXVlcnkodHMpLnZhbHVlO1xuICAgICAgICAvLyBnZXQgY3VycmVudCBzcmMgaXRlbXNcbiAgICAgICAgbGV0IHNyY19pdGVtcyA9IHNyY19zdGF0ZVByb3ZpZGVyLmdldCgpO1xuICAgICAgICAvLyByZS1lbmNvZGUgaXRlbXMgaW4gZHN0IHRpbWVmcmFtZSwgaWYgbmVlZGVkXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGRzdF9vZmZzZXQgLSBzcmNfb2Zmc2V0O1xuICAgICAgICBpZiAob2Zmc2V0ICE9IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRzdF9pdGVtcyA9IHNyY19pdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGltZXNoaWZ0X2l0ZW0oaXRlbSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZHN0LmFwcGVuZChkc3RfaXRlbXMsIGRzdF9vZmZzZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZHN0LmFwcGVuZChzcmNfaXRlbXMsIHNyY19vZmZzZXQpO1xuICAgICAgICB9ICAgICAgICBcbiAgICB9XG5cbiAgICAvLyByZWdpc3RlciBjYWxsYmFja3NcbiAgICBzcmNfc3RhdGVQcm92aWRlci5hZGRfY2FsbGJhY2sob25fc3JjX2NoYW5nZSk7XG4gICAgY3RybC5hZGRfY2FsbGJhY2sob25fY3RybF9jaGFuZ2UpO1xuICAgIG9uX2N0cmxfY2hhbmdlKCk7XG4gICAgcmV0dXJuIHt9O1xufVxuXG5cbi8qKlxuICogdGltZXNoaWZ0IHBhcmFtZXRlcnMgb2YgdGltZSBieSBvZmZzZXRcbiAqL1xuZnVuY3Rpb24gdGltZXNoaWZ0X2l0ZW0gKGl0ZW0sIG9mZnNldCkge1xuICAgIGl0ZW0gPSB7Li4uaXRlbX07XG4gICAgaXRlbS5pdHZbMF0gPSAoaXRlbS5pdHZbMF0gIT0gbnVsbCkgPyBpdGVtLml0dlswXSArIG9mZnNldCA6IG51bGw7XG4gICAgaXRlbS5pdHZbMV0gPSAoaXRlbS5pdHZbMV0gIT0gbnVsbCkgPyBpdGVtLml0dlsxXSArIG9mZnNldCA6IG51bGw7XG4gICAgLy8gVE9ETyAtIHBlcmhhcHMgY2hhbmdlIGltcGxlbWVudGF0aW9uIG9mIG1vdGlvbiBhbmQgdHJhbnNpdGlvbiBzZWdtZW50XG4gICAgLy8gdG8gdXNlIHRpbWVzdGFtcHMgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0IG9mIHRoZSBzZWdtZW50LFxuICAgIC8vIHNpbWlsYXIgdG8gaW50ZXJwb2xhdGlvbj9cbiAgICBpZiAoaXRlbS50eXBlID09IFwibW90aW9uXCIpIHtcbiAgICAgICAgaXRlbS5kYXRhLnRpbWVzdGFtcCA9IGl0ZW0uZGF0YS50aW1lc3RhbXAgKyBvZmZzZXQ7XG4gICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT0gXCJ0cmFuc2l0aW9uXCIpIHtcbiAgICAgICAgaXRlbS5kYXRhLnQwID0gaXRlbS5kYXRhLnQwICsgb2Zmc2V0O1xuICAgICAgICBpdGVtLmRhdGEudDEgPSBpdGVtLmRhdGEudDEgKyBvZmZzZXQ7XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xufVxuXG5cblxuIiwiaW1wb3J0IHtlbmRwb2ludH0gZnJvbSBcIi4vaW50ZXJ2YWxzLmpzXCI7XG5cbi8qXG4gICAgU3RhdGUgUHJvdmlkZXIgVmlld2VyXG4qL1xuXG5mdW5jdGlvbiBpdGVtMnN0cmluZyhpdGVtLCBvcHRpb25zKSB7XG4gICAgLy8gdHh0XG4gICAgY29uc3QgaWRfdHh0ID0gaXRlbS5pZDtcbiAgICBjb25zdCB0eXBlX3R4dCA9IGl0ZW0udHlwZTtcbiAgICBsZXQgaXR2X3R4dCA9IFwiXCI7XG4gICAgaWYgKGl0ZW0uaXR2ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBbbG93LCBoaWdoLCBsb3dJbmNsdWRlLCBoaWdoSW5jbHVkZV0gPSBpdGVtLml0djtcbiAgICAgICAgY29uc3QgbG93X3R4dCA9IChsb3cgPT0gbnVsbCkgPyBcIm51bGxcIiA6IGxvdy50b0ZpeGVkKDIpO1xuICAgICAgICBjb25zdCBoaWdoX3R4dCA9IChoaWdoID09IG51bGwpID8gXCJudWxsXCIgOiBoaWdoLnRvRml4ZWQoMik7XG4gICAgICAgIGl0dl90eHQgPSBgWyR7bG93X3R4dH0sJHtoaWdoX3R4dH0sJHtsb3dJbmNsdWRlfSwke2hpZ2hJbmNsdWRlfV1gOyBcbiAgICB9XG4gICAgbGV0IGRhdGFfdHh0ID0gSlNPTi5zdHJpbmdpZnkoaXRlbS5kYXRhKTtcblxuICAgIC8vIGh0bWxcbiAgICBsZXQgaWRfaHRtbCA9IGA8c3BhbiBjbGFzcz1cIml0ZW0taWRcIj4ke2lkX3R4dH08L3NwYW4+YDtcbiAgICBsZXQgaXR2X2h0bWwgPSBgPHNwYW4gY2xhc3M9XCJpdGVtLWl0dlwiPiR7aXR2X3R4dH08L3NwYW4+YDtcbiAgICBsZXQgdHlwZV9odG1sID0gYDxzcGFuIGNsYXNzPVwiaXRlbS10eXBlXCI+JHt0eXBlX3R4dH08L3NwYW4+YFxuICAgIGxldCBkYXRhX2h0bWwgPSBgPHNwYW4gY2xhc3M9XCJpdGVtLWRhdGFcIj4ke2RhdGFfdHh0fTwvc3Bhbj5gO1xuICAgIFxuICAgIC8vIGRlbGV0ZSBCdXR0b25cbiAgICBjb25zdCB7ZGVsZXRlX2FsbG93ZWQ9ZmFsc2V9ID0gb3B0aW9ucztcbiAgICBpZiAoZGVsZXRlX2FsbG93ZWQpIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkZWxldGVcIj5YPC9idXR0b24+XG4gICAgICAgICAgICAke2lkX2h0bWx9OiAke3R5cGVfaHRtbH0gJHtpdHZfaHRtbH0gJHtkYXRhX2h0bWx9XG4gICAgICAgIDwvZGl2PmA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICR7aWRfaHRtbH06ICR7dHlwZV9odG1sfSAke2l0dl9odG1sfSAke2RhdGFfaHRtbH1cbiAgICAgICAgPC9kaXY+YDsgICAgICAgIFxuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgU3RhdGVQcm92aWRlclZpZXdlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGF0ZVByb3ZpZGVyLCBlbGVtLCBvcHRpb25zPXt9KSB7XG4gICAgICAgIHRoaXMuX3NwID0gc3RhdGVQcm92aWRlcjtcbiAgICAgICAgdGhpcy5fZWxlbSA9IGVsZW07XG4gICAgICAgIHRoaXMuX2hhbmRsZSA9IHRoaXMuX3NwLmFkZF9jYWxsYmFjayh0aGlzLl9vbmNoYW5nZS5iaW5kKHRoaXMpKTsgXG5cbiAgICAgICAgLy8gb3B0aW9uc1xuICAgICAgICBsZXQgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICB0b1N0cmluZzppdGVtMnN0cmluZ1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gey4uLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcblxuICAgICAgICAvKlxuICAgICAgICAgICAgU3VwcG9ydCBkZWxldGVcbiAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuZGVsZXRlX2FsbG93ZWQpIHtcbiAgICAgICAgICAgIC8vIGxpc3RlbiBmb3IgY2xpY2sgZXZlbnRzIG9uIHJvb3QgZWxlbWVudFxuICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjYXRjaCBjbGljayBldmVudCBmcm9tIGRlbGV0ZSBidXR0b25cbiAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBlLnRhcmdldC5jbG9zZXN0KFwiI2RlbGV0ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVsZXRlQnRuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RJdGVtID0gZGVsZXRlQnRuLmNsb3Nlc3QoXCIubGlzdC1pdGVtXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NwLnVwZGF0ZSh7cmVtb3ZlOltsaXN0SXRlbS5pZF19KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgICAgICByZW5kZXIgaW5pdGlhbCBzdGF0ZVxuICAgICAgICAqLyBcbiAgICAgICAgdGhpcy5fb25jaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBfb25jaGFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fc3AuZ2V0KCkgfHwgW107XG5cbiAgICAgICAgLy8gc29ydCBieSBsb3cgZW5kcG9pbnRcbiAgICAgICAgaXRlbXMuc29ydCgoaXRlbV9hLCBpdGVtX2IpID0+IHtcbiAgICAgICAgICAgIGxldCBsb3dFcF9hID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChpdGVtX2EuaXR2KVswXTtcbiAgICAgICAgICAgIGxldCBsb3dFcF9iID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChpdGVtX2IuaXR2KVswXTtcbiAgICAgICAgICAgIHJldHVybiBlbmRwb2ludC5jbXAobG93RXBfYSwgbG93RXBfYik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNsZWFyXG4gICAgICAgIHRoaXMuX2VsZW0ucmVwbGFjZUNoaWxkcmVuKCk7XG4gICAgICAgIC8vIHJlYnVpbGRcbiAgICAgICAgY29uc3Qge3RvU3RyaW5nfSA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIC8vIGFkZFxuICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLl9lbGVtLnF1ZXJ5U2VsZWN0b3IoYCMke2l0ZW0uaWR9YCk7XG4gICAgICAgICAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpdGVtLmlkKTtcbiAgICAgICAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoXCJsaXN0LWl0ZW1cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbS5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUuaW5uZXJIVE1MID0gdG9TdHJpbmcoaXRlbSwgdGhpcy5fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcl9wcm92aWRlcihzdGF0ZVByb3ZpZGVyLCBzZWxlY3Rvciwgb3B0aW9ucz17fSkge1xuICAgIGNvbnN0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgcmV0dXJuIG5ldyBTdGF0ZVByb3ZpZGVyVmlld2VyKHN0YXRlUHJvdmlkZXIsIGVsZW1zLCBvcHRpb25zKTtcbn1cbiIsIi8vIGNsYXNzZXNcbmltcG9ydCB7IE5lYXJieUluZGV4QmFzZSB9IGZyb20gXCIuL25lYXJieV9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuL2xheWVyX2Jhc2UuanNcIjtcbmltcG9ydCB7IEN1cnNvciB9IGZyb20gXCIuL2N1cnNvcl9iYXNlLmpzXCI7XG5cbi8vIHN0YXRlUHJvdmlkZXJzXG5pbXBvcnQgeyBcbiAgICBMT0NBTF9DTE9DS19QUk9WSURFUlxufSBmcm9tIFwiLi9wcm92aWRlcl9jbG9jay5qc1wiO1xuaW1wb3J0IHsgQ29sbGVjdGlvblByb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXJfY29sbGVjdGlvbi5qc1wiO1xuaW1wb3J0IHsgVmFyaWFibGVQcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyX3ZhcmlhYmxlLmpzXCI7XG5cbi8vIGZhY3RvcnkgZnVuY3Rpb25zXG5pbXBvcnQgeyBpdGVtc19sYXllciB9IGZyb20gXCIuL2xheWVyX2l0ZW1zLmpzXCI7XG5pbXBvcnQgeyBjbG9ja19jdXJzb3IgfSBmcm9tIFwiLi9jdXJzb3JfY2xvY2suanNcIlxuaW1wb3J0IHsgdmFyaWFibGVfY3Vyc29yIH0gZnJvbSBcIi4vY3Vyc29yX3ZhcmlhYmxlLmpzXCI7XG5pbXBvcnQgeyBwbGF5YmFja19jdXJzb3IgfSBmcm9tIFwiLi9jdXJzb3JfcGxheWJhY2suanNcIjtcbmltcG9ydCB7IGxheWVyX2Zyb21fY3Vyc29yIH0gZnJvbSBcIi4vb3BzL2xheWVyX2Zyb21fY3Vyc29yLmpzXCI7XG5pbXBvcnQgeyBtZXJnZV9sYXllciB9IGZyb20gXCIuL29wcy9tZXJnZS5qc1wiO1xuaW1wb3J0IHsgYm9vbGVhbl9sYXllciB9IGZyb20gXCIuL29wcy9ib29sZWFuLmpzXCJcbmltcG9ydCB7IGxvZ2ljYWxfbWVyZ2VfbGF5ZXIsIGxvZ2ljYWxfZXhwcn0gZnJvbSBcIi4vb3BzL2xvZ2ljYWxfbWVyZ2UuanNcIjtcbmltcG9ydCB7IHRpbWVsaW5lX3RyYW5zZm9ybSB9IGZyb20gXCIuL29wcy90aW1lbGluZV90cmFuc2Zvcm0uanNcIjtcbmltcG9ydCB7IGN1cnNvcl90cmFuc2Zvcm0sIGxheWVyX3RyYW5zZm9ybSB9IGZyb20gXCIuL29wcy90cmFuc2Zvcm0uanNcIjtcbmltcG9ydCB7IGxheWVyX3JlY29yZGVyIH0gZnJvbSBcIi4vb3BzL3JlY29yZGVyLmpzXCI7XG5cblxuLy8gdXRpbFxuaW1wb3J0IHsgbG9jYWxfY2xvY2ssIHJlbmRlcl9jdXJzb3IgfSBmcm9tIFwiLi91dGlsL2NvbW1vbi5qc1wiO1xuaW1wb3J0IHsgcmVuZGVyX3Byb3ZpZGVyIH0gZnJvbSBcIi4vdXRpbC9wcm92aWRlcl92aWV3ZXIuanNcIjtcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTEFZRVIgRkFDVE9SSUVTXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmZ1bmN0aW9uIGxheWVyKG9wdGlvbnM9e30pIHtcbiAgICBsZXQge3NyYywgaW5zZXJ0LCB2YWx1ZSwgLi4ub3B0c30gPSBvcHRpb25zO1xuICAgIGlmIChzcmMgaW5zdGFuY2VvZiBMYXllcikge1xuICAgICAgICByZXR1cm4gc3JjO1xuICAgIH1cbiAgICBpZiAoc3JjID09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodmFsdWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzcmMgPSBuZXcgVmFyaWFibGVQcm92aWRlcih7dmFsdWV9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNyYyA9IG5ldyBDb2xsZWN0aW9uUHJvdmlkZXIoe2luc2VydH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVtc19sYXllcih7c3JjLCAuLi5vcHRzfSk7IFxufVxuXG5mdW5jdGlvbiByZWNvcmRlciAob3B0aW9ucz17fSkge1xuICAgIGxldCB7Y3RybD1MT0NBTF9DTE9DS19QUk9WSURFUiwgc3JjLCBkc3R9ID0gb3B0aW9ucztcbiAgICByZXR1cm4gbGF5ZXJfcmVjb3JkZXIoY3RybCwgc3JjLCBkc3QpO1xufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQ1VSU09SIEZBQ1RPUklFU1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiBjbG9jayAoc3JjKSB7XG4gICAgcmV0dXJuIGNsb2NrX2N1cnNvcihzcmMpO1xufVxuXG5mdW5jdGlvbiB2YXJpYWJsZShvcHRpb25zPXt9KSB7XG4gICAgbGV0IHtjbG9jaywgLi4ub3B0c30gPSBvcHRpb25zO1xuICAgIGNvbnN0IHNyYyA9IGxheWVyKG9wdHMpO1xuICAgIHJldHVybiB2YXJpYWJsZV9jdXJzb3IoY2xvY2ssIHNyYyk7XG59XG5cbmZ1bmN0aW9uIHBsYXliYWNrKG9wdGlvbnM9e30pIHtcbiAgICBsZXQge2N0cmwsIC4uLm9wdHN9ID0gb3B0aW9ucztcbiAgICBjb25zdCBzcmMgPSBsYXllcihvcHRzKTtcbiAgICByZXR1cm4gcGxheWJhY2tfY3Vyc29yKGN0cmwsIHNyYyk7XG59XG5cbmZ1bmN0aW9uIHNrZXcgKHNyYywgb2Zmc2V0KSB7XG4gICAgZnVuY3Rpb24gdmFsdWVGdW5jKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSArIG9mZnNldDtcbiAgICB9IFxuICAgIHJldHVybiBjdXJzb3JfdHJhbnNmb3JtKHNyYywge3ZhbHVlRnVuY30pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBFWFBPUlRTXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCB7XG4gICAgQ29sbGVjdGlvblByb3ZpZGVyLCBWYXJpYWJsZVByb3ZpZGVyLFxuICAgIExheWVyLCBDdXJzb3IsIE5lYXJieUluZGV4QmFzZSxcbiAgICBsYXllciwgXG4gICAgbWVyZ2VfbGF5ZXIgYXMgbWVyZ2UsIFxuICAgIGJvb2xlYW5fbGF5ZXIgYXMgYm9vbGVhbixcbiAgICBsb2dpY2FsX21lcmdlX2xheWVyIGFzIGxvZ2ljYWxfbWVyZ2UsIFxuICAgIGxvZ2ljYWxfZXhwcixcbiAgICBjbG9jayxcbiAgICB2YXJpYWJsZSxcbiAgICBwbGF5YmFjayxcbiAgICBsYXllcl9mcm9tX2N1cnNvcixcbiAgICBsYXllcl90cmFuc2Zvcm0sXG4gICAgY3Vyc29yX3RyYW5zZm9ybSxcbiAgICB0aW1lbGluZV90cmFuc2Zvcm0sXG4gICAgcmVjb3JkZXIsXG4gICAgc2tldyxcbiAgICByZW5kZXJfcHJvdmlkZXIsXG4gICAgcmVuZGVyX2N1cnNvcixcbiAgICBsb2NhbF9jbG9ja1xufSJdLCJuYW1lcyI6WyJpc051bWJlciIsIm4iLCJFUF9UWVBFIiwiT2JqZWN0IiwiZnJlZXplIiwiSElHSF9PUEVOIiwiSElHSF9DTE9TRUQiLCJWQUxVRSIsIkxPV19DTE9TRUQiLCJMT1dfT1BFTiIsIkVQX09SREVSIiwiTWFwIiwiZW5kcG9pbnRfaXNfbG93IiwiZXAiLCJlbmRwb2ludF9mcm9tX2lucHV0IiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiRXJyb3IiLCJ2IiwidCIsInZhbHVlIiwidmFsdWVzIiwiaW5jbHVkZXMiLCJJbmZpbml0eSIsInVuZGVmaW5lZCIsImVuZHBvaW50X1BPU19JTkYiLCJlbmRwb2ludF9ORUdfSU5GIiwiZW5kcG9pbnRfaW50ZXJuYWwiLCJudW1iZXJfY21wIiwiYSIsImIiLCJlbmRwb2ludF9jbXAiLCJlcDEiLCJlcDIiLCJ2MSIsInQxIiwidjIiLCJ0MiIsImRpZmYiLCJnZXQiLCJlbmRwb2ludF9sZSIsInAxIiwicDIiLCJlbmRwb2ludF9nZSIsImVuZHBvaW50X2VxIiwiZW5kcG9pbnRzX2Zyb21faW50ZXJ2YWwiLCJpdHYiLCJsb3ciLCJoaWdoIiwibG93Q2xvc2VkIiwiaGlnaENsb3NlZCIsImxvd1R5cGUiLCJoaWdoVHlwZSIsImludGVydmFsX2NvdmVyc19lbmRwb2ludCIsImxvd19lcCIsImhpZ2hfZXAiLCJlbmRwb2ludCIsImxlIiwibHQiLCJnZSIsImd0IiwiY21wIiwiZXEiLCJtaW4iLCJtYXgiLCJmbGlwIiwidGFyZ2V0IiwiZnJvbV9pbnRlcnZhbCIsImZyb21faW5wdXQiLCJ0eXBlcyIsIlBPU19JTkYiLCJORUdfSU5GIiwiaW50ZXJ2YWwiLCJjb3ZlcnNfZW5kcG9pbnQiLCJjb3ZlcnNfcG9pbnQiLCJwIiwiaXNfc2luZ3VsYXIiLCJmcm9tX2VuZHBvaW50cyIsImlucHV0IiwibG93SW5jbHVkZSIsImhpZ2hJbmNsdWRlIiwiTmVhcmJ5SW5kZXhCYXNlIiwibmVhcmJ5Iiwib2Zmc2V0IiwiZW1wdHkiLCJ0aGlzIiwiZmlyc3QiLCJjZW50ZXIiLCJyaWdodCIsImxhc3QiLCJsZWZ0IiwicmlnaHRfcmVnaW9uIiwicmlnaHRfZW5kcG9pbnQiLCJsZWZ0X3JlZ2lvbiIsImxlZnRfZW5kcG9pbnQiLCJmaW5kX3JlZ2lvbiIsIm9wdGlvbnMiLCJuZXh0X25lYXJieSIsImRpcmVjdGlvbiIsImNvbmRpdGlvbiIsInJlZ2lvbnMiLCJSZWdpb25JdGVyYXRvciIsImNvbnN0cnVjdG9yIiwiaW5kZXgiLCJzdGFydCIsInN0b3AiLCJpbmNsdWRlRW1wdHkiLCJfaW5kZXgiLCJfc3RhcnQiLCJfc3RvcCIsIl9jb25kaXRpb24iLCJfY3VycmVudCIsIm5leHQiLCJkb25lIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjbXBfYXNjZW5kaW5nIiwiY21wX2Rlc2NlbmRpbmciLCJuZWFyYnlfZnJvbSIsInByZXZfaGlnaCIsImNlbnRlcl9sb3dfbGlzdCIsImNlbnRlcl9oaWdoX2xpc3QiLCJuZXh0X2xvdyIsInJlc3VsdCIsInNvcnQiLCJtaW5fY2VudGVyX2hpZ2giLCJtYXhfY2VudGVyX2hpZ2giLCJzbGljZSIsIm11bHRpcGxlX2NlbnRlcl9oaWdoIiwibWF4X2NlbnRlcl9sb3ciLCJtaW5fY2VudGVyX2xvdyIsIm11bHRpcGxlX2NlbnRlcl9sb3ciLCJwcmV2IiwiTmVhcmJ5SW5kZXhTcmMiLCJzcmMiLCJzdXBlciIsIl9zcmMiLCJfY2FjaGUiLCJjcmVhdGVDYWNoZSIsIkV2ZW50IiwicHVibGlzaGVyIiwibmFtZSIsImluaXQiLCJzdWJzY3JpcHRpb25zIiwic3Vic2NyaWJlIiwiY2FsbGJhY2siLCJzdWIiLCJTdWJzY3JpcHRpb24iLCJwdXNoIiwiaW5pdF9wZW5kaW5nIiwic2VsZiIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImVBcmdzIiwiZXZlbnRpZnlJbml0RXZlbnRBcmdzIiwiZUFyZyIsInRyaWdnZXIiLCJzdWJzIiwiZUluZm8iLCJjdHgiLCJ0ZXJtaW5hdGVkIiwiY2FsbCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJ1bnN1YnNjcmliZSIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJ0ZXJtaW5hdGUiLCJldmVudCIsImV2ZW50aWZ5SW5zdGFuY2UiLCJvYmplY3QiLCJfX2V2ZW50aWZ5X2V2ZW50TWFwIiwiX19ldmVudGlmeV9idWZmZXIiLCJldmVudGlmeVByb3RvdHlwZSIsIl9wcm90b3R5cGUiLCJldmVudGlmeUdldEV2ZW50IiwiZXZlbnRpZnlEZWZpbmUiLCJoYXMiLCJzZXQiLCJldmVudGlmeVRyaWdnZXIiLCJldmVudGlmeVRyaWdnZXJBbGwiLCJldmVudGlmeVRyaWdnZXJBbGlrZSIsIm1hcCIsImV2ZW50SXRlbXMiLCJ0cmlnZ2VySXRlbXMiLCJpdGVtIiwiZXYiLCJmaWx0ZXIiLCJsZW4iLCJidWYiLCJidWZfbGVuIiwiaSIsImV2ZW50aWZ5U3Vic2NyaXB0aW9ucyIsIm9uIiwib2ZmIiwiX3ZhbHVlIiwicHJvdG90eXBlIiwiUFJFRklYIiwiYWRkU3RhdGUiLCJhZGRfY2FsbGJhY2siLCJoYW5kbGVyIiwiaGFuZGxlIiwicmVtb3ZlX2NhbGxiYWNrIiwibm90aWZ5X2NhbGxiYWNrcyIsImZvckVhY2giLCJhZGRNZXRob2RzIiwib2JqIiwiYXBpIiwiYXNzaWduIiwiaXNfY2FsbGJhY2tfYXBpIiwibWV0aG9kcyIsInByb3AiLCJpc19maW5pdGVfbnVtYmVyIiwiaXNGaW5pdGUiLCJjaGVja19udW1iZXIiLCJsb2NhbF9jbG9jayIsIm5vdyIsInBlcmZvcm1hbmNlIiwibG9jYWxfZXBvY2giLCJEYXRlIiwidG9TdGF0ZSIsInNvdXJjZXMiLCJzdGF0ZXMiLCJ2YWx1ZUZ1bmMiLCJzdGF0ZUZ1bmMiLCJkeW5hbWljIiwiZHltYW1pYyIsInNvbWUiLCJlIiwicmFuZG9tX3N0cmluZyIsInRleHQiLCJwb3NzaWJsZSIsImNoYXJBdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNldF90aW1lb3V0IiwiZGVsdGFfbXMiLCJ0aWQiLCJ0YXJnZXRfbXMiLCJzZXRUaW1lb3V0IiwiaGFuZGxlX3RpbWVvdXQiLCJjYW5jZWwiLCJjbGVhclRpbWVvdXQiLCJtb3Rpb25faGFzX3JlYWxfc29sdXRpb25zIiwidmVjdG9yIiwicDAiLCJ2MCIsImEwIiwidDAiLCJwb3ciLCJtb3Rpb25fZ2V0X3JlYWxfc29sdXRpb25zIiwic3FydCIsImQxIiwiZDIiLCJtb3Rpb25fdXRpbHMiLCJjYWxjdWxhdGUiLCJkIiwiaGFzX3JlYWxfc29sdXRpb25zIiwiZ2V0X3JlYWxfc29sdXRpb25zIiwiY2FsY3VsYXRlX3RpbWVfcmFuZ2VzIiwicG9zX3JhbmdlIiwic29sdXRpb25zIiwiU2V0IiwiY2hlY2tfcmFuZ2UiLCJMYXllciIsIkNhY2hlQ2xhc3MiLCJMYXllckNhY2hlIiwib3B0cyIsIl9vcHRpb25zIiwiY2FsbGJhY2suYWRkU3RhdGUiLCJldmVudGlmeS5hZGRTdGF0ZSIsIl9DYWNoZUNsYXNzIiwiX3ByaXZhdGVfY2FjaGUiLCJfY29uc3VtZXJfY2FjaGVzIiwiY2FjaGUiLCJxdWVyeSIsInJlbGVhc2VDYWNoZSIsImNsZWFyQ2FjaGVzIiwiY2xlYXIiLCJvbmNoYW5nZSIsInNhbXBsZSIsInN0ZXAiLCJzYW1wbGVzIiwiZW5kIiwiaW5jbHVkZV9lbmQiLCJyYW5nZSIsImNhbGxiYWNrLmFkZE1ldGhvZHMiLCJldmVudGlmeS5hZGRNZXRob2RzIiwibGF5ZXIiLCJfbGF5ZXIiLCJfbmVhcmJ5IiwiX3N0YXRlIiwibmVlZF9pbmRleF9sb29rdXAiLCJzdGF0ZSIsIlBvbGxlciIsIl9jYWxsYmFjayIsIl9oYW5kbGUiLCJfZGVsYXkiLCJkZWxheSIsImRlbGF5X21zIiwiaXNfcG9sbGluZyIsInBhdXNlIiwicG9sbCIsInJlc3VtZSIsImFpZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImJpbmQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vbml0b3IiLCJfYmluZGluZ19zZXQiLCJfY3Vyc29yX21hcCIsIl9wb2xsZXIiLCJvbnBvbGwiLCJjdXJzb3IiLCJiaW5kaW5nIiwiYWRkIiwiYmluZGluZ3MiLCJvbmN1cnNvcmNoYW5nZSIsInBvbGxpbmciLCJyZWxlYXNlIiwiZGVsZXRlIiwicG9sbGluZ19jdXJzb3JzIiwiZW50cnkiLCJyZWV2YWx1YXRlX3BvbGxpbmciLCJ0cyIsImRlbGF5cyIsIm1pbl9kZWxheSIsImdldF9jdXJzb3JfY3RybF9zdGF0ZSIsInRzX2xvY2FsIiwiY3RybCIsIkN1cnNvciIsImlzX2Nsb2NrX3Byb3ZpZGVyIiwiTE9DQUxfQ0xPQ0tfUFJPVklERVIiLCJ0MF9lcG9jaCIsImxvY2FsX3RzIiwiY2hlY2tfaXRlbSIsImlkIiwiaXNfY29sbGVjdGlvbl9wcm92aWRlciIsImNhbGxiYWNrLmlzX2NhbGxiYWNrX2FwaSIsInVwZGF0ZSIsIkNvbGxlY3Rpb25Qcm92aWRlciIsIl9tYXAiLCJpbnNlcnQiLCJfdXBkYXRlIiwicmVzZXQiLCJjaGFuZ2VzIiwiZGlmZnMiLCJkaWZmX21hcCIsInJlbW92ZSIsImVudHJpZXMiLCJuZXciLCJvbGQiLCJpc192YXJpYWJsZV9wcm92aWRlciIsIlZhcmlhYmxlUHJvdmlkZXIiLCJfaXRlbXMiLCJ0eXBlIiwiZGF0YSIsIml0ZW1zIiwiTkFNRSIsInByb3BOYW1lIiwibXV0YWJsZSIsImVudGl0eSIsImhhbmRsZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImVudGl0aWVzIiwiU29ydGVkQXJyYXkiLCJfYXJyYXkiLCJzaXplIiwiYXJyYXkiLCJ0YXJnZXRfdmFsdWUiLCJ0YXJnZXRfZXAiLCJsZWZ0X2lkeCIsInJpZ2h0X2lkeCIsIm1pZF9pZHgiLCJtaWRfdmFsdWUiLCJnZUluZGV4T2YiLCJmb3VuZCIsImxlSW5kZXhPZiIsImd0SW5kZXhPZiIsImx0SW5kZXhPZiIsInJlbW92ZV9saXN0IiwiaW5zZXJ0X2xpc3QiLCJyZW1vdmVfaWR4X2xpc3QiLCJhbnlfcmVtb3ZlcyIsImFueV9pbnNlcnRzIiwiZmlyc3RfYXJyIiwic2Vjb25kX2FyciIsImZpcnN0X2Fycl9sZW5ndGgiLCJzZWNvbmRfYXJyX2xlbmd0aCIsImNvbmNhdF9pbl9wbGFjZSIsInNvcnRlZF9hcnIiLCJyZW1vdmVfZHVwbGljYXRlcyIsImdldF9ieV9pbmRleCIsImxvb2t1cCIsImVwXzAiLCJlcF8xIiwiaWR4XzAiLCJpZHhfMSIsIkVQX1RZUEVTIiwiRW5kcG9pbnRTZXQiLCJsaXN0IiwibGlzdHMiLCJjb25jYXQiLCJMT1ciLCJBQ1RJVkUiLCJISUdIIiwiSXRlbXNNYXAiLCJnZXRfaXRlbXNfYnlfcm9sZSIsInJvbGUiLCJyZWdpc3RlciIsInR5cGVfbWFwIiwiYWN0aXZlIiwid2FzX2VtcHR5IiwiZmluZEluZGV4IiwiX2l0ZW0iLCJpc19lbXB0eSIsInVucmVnaXN0ZXIiLCJOZWFyYnlJbmRleCIsInN0YXRlUHJvdmlkZXIiLCJfc3AiLCJfaW5pdGlhbGlzZSIsInJlZnJlc2giLCJfaXRlbXNtYXAiLCJfZW5kcG9pbnRzIiwicmVtb3ZlX2VuZHBvaW50cyIsImluc2VydF9lbmRwb2ludHMiLCJiZWNhbWVfbm9uZW1wdHkiLCJpbnNlcnRfaXRlbXMiLCJyZW1vdmVfaXRlbXMiLCJhY3RpdmVTZXQiLCJfY292ZXJzIiwiaXRlbXMxIiwiaXRlbXMyIiwiaWRTZXQiLCJCYXNlU2VnbWVudCIsIl9pdHYiLCJTdGF0aWNTZWdtZW50IiwiTW90aW9uU2VnbWVudCIsIl92ZWN0b3IiLCJlYXNlaW4iLCJUcmFuc2l0aW9uU2VnbWVudCIsImVhc2luZyIsIl9keW5hbWljIiwiX3RyYW5zIiwicGFyc2VGbG9hdCIsImVhc2VvdXQiLCJlYXNlaW5vdXQiLCJJbnRlcnBvbGF0aW9uU2VnbWVudCIsInR1cGxlcyIsInNvcnRlZFR1cGxlcyIsInZhbHVlMSIsIm9mZnNldDEiLCJ2YWx1ZTIiLCJvZmZzZXQyIiwiaW50ZXJwb2xhdGUiLCJsb2FkX3NlZ21lbnQiLCJpc19pdGVtc19sYXllciIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJpdGVtc19sYXllciIsIkl0ZW1zTGF5ZXJDYWNoZSIsInNyY3Byb3AuYWRkU3RhdGUiLCJzcmNwcm9wLmFkZE1ldGhvZHMiLCJzcmNwcm9wX3JlZ2lzdGVyIiwic3JjcHJvcF9jaGVjayIsInNyY3Byb3Bfb25jaGFuZ2UiLCJnZXRfaXRlbXMiLCJsYXllcl91cGRhdGUiLCJhcHBlbmQiLCJoaWdoRXAiLCJuZXdfaXRlbSIsIm1vZGlmeV9pdGVtcyIsImxvd0VwIiwibGF5ZXJfYXBwZW5kIiwiX3NlZ21lbnQiLCJzZWdtZW50IiwiX3NlZ21lbnRzIiwic2VnIiwiZnJvbSIsImlzX2Nsb2NrX2N1cnNvciIsImNsb2NrX2N1cnNvciIsInZhcmlhYmxlX2N1cnNvciIsInNyY19jYWNoZSIsInJlZ2lvbl9oaWdoIiwiZGV0ZWN0X2Z1dHVyZV9ldmVudCIsImN1cnNvcl91cGRhdGUiLCJzZXRfdmFsdWUiLCJtb3Rpb24iLCJwb3NpdGlvbiIsInZlbG9jaXR5IiwiYWNjZWxlcmF0aW9uIiwiYTEiLCJ0aW1lc3RhbXAiLCJ0aW1lX3JhbmdlcyIsImN0ciIsInRpbWVfcmFuZ2UiLCJmaW5kIiwidHIiLCJ2YWwiLCJzZXRfbW90aW9uIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwic2V0X3RyYW5zaXRpb24iLCJzZXRfaW50ZXJwb2xhdGlvbiIsInJlY29yZCIsInBsYXliYWNrX2N1cnNvciIsInBpZCIsImN1cnNvcl9vbmNoYW5nZSIsImNsZWFySW50ZXJ2YWwiLCJjdHJsX3N0YXRlIiwiY3VycmVudF9wb3MiLCJjdXJyZW50X3RzIiwic3JjX25lYXJieSIsInJlZ2lvbl9sb3ciLCJhY3RpdmVfaXRlbXMiLCJ0YXJnZXRfcG9zIiwiYWN0aXZlX2l0ZW0iLCJzZXRJbnRlcnZhbCIsImhhbmRsZV9wb2xsaW5nIiwic3RhcnRfcG9sbGluZyIsIkN1cnNvckluZGV4IiwiX2N1cnNvciIsIk1FUkdFX09QVElPTlMiLCJzdW0iLCJpbmZvIiwicmVkdWNlIiwiYWNjIiwic3RhY2siLCJOZWFyYnlJbmRleE1lcmdlIiwiX3NvdXJjZXMiLCJfY2FjaGVzIiwicHJldl9saXN0IiwibmV4dF9saXN0IiwicHJldl9yZWdpb24iLCJuZXh0X3JlZ2lvbiIsIk5lYXJieUluZGV4Qm9vbGVhbiIsImV2YWx1YXRpb24iLCJyaWdodF9uZWFyYnkiLCJsZWZ0X25lYXJieSIsImxvZ2ljYWxfZXhwciIsImV2YWwiLCJ0cmFuc2Zvcm0iLCJzaGlmdCIsInNjYWxlIiwiYnJhY2tldCIsInJldmVyc2UiLCJhbmQiLCJleHBycyIsImV2ZXJ5IiwiZXhwciIsIm9yIiwieG9yIiwiZXhwcjEiLCJleHByMiIsIm5vdCIsIk5lYXJieUluZGV4QVRUIiwiX3RyYW5zZm9ybV9jYWNoZSIsImN1cnNvcl90cmFuc2Zvcm0iLCJsYXllcl9yZWNvcmRlciIsImRzdCIsInNyY19zdGF0ZVByb3ZpZGVyIiwiZHN0X3N0YXRlUHJvdmlkZXIiLCJpc19yZWNvcmRpbmciLCJvbl9jdHJsX2NoYW5nZSIsIndhc19yZWNvcmRpbmciLCJjdHJsX3RzIiwiZHN0X29mZnNldCIsInN0b3BfcmVjb3JkaW5nIiwic3JjX29mZnNldCIsInNyY19pdGVtcyIsImRzdF9pdGVtcyIsInRpbWVzaGlmdF9pdGVtIiwiaXRlbTJzdHJpbmciLCJpZF90eHQiLCJ0eXBlX3R4dCIsIml0dl90eHQiLCJ0b0ZpeGVkIiwiaWRfaHRtbCIsIml0dl9odG1sIiwidHlwZV9odG1sIiwiZGF0YV9odG1sIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlbGV0ZV9hbGxvd2VkIiwiU3RhdGVQcm92aWRlclZpZXdlciIsImVsZW0iLCJfZWxlbSIsIl9vbmNoYW5nZSIsImRlZmF1bHRzIiwidG9TdHJpbmciLCJhZGRFdmVudExpc3RlbmVyIiwiZGVsZXRlQnRuIiwiY2xvc2VzdCIsImxpc3RJdGVtIiwic3RvcFByb3BhZ2F0aW9uIiwiaXRlbV9hIiwiaXRlbV9iIiwibG93RXBfYSIsImxvd0VwX2IiLCJyZXBsYWNlQ2hpbGRyZW4iLCJub2RlIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwib3BzIiwic2VsZWN0b3IiLCJyZW5kZXIiLCJub3ZhbHVlIiwiZWxlbXMiLCJ0ZXh0Q29udGVudCIsImNsb2NrIl0sIm1hcHBpbmdzIjoieUNBMkNBLFNBQVNBLEVBQVNDLEdBQ2QsTUFBbUIsaUJBQUxBLENBQ2xCLENBRUEsTUFBTUMsRUFBVUMsT0FBT0MsT0FBTyxDQUMxQkMsVUFBVyxJQUNYQyxZQUFhLElBQ2JDLE1BQU8sR0FDUEMsV0FBWSxJQUNaQyxTQUFVLE1BT2QsTUFBTUMsRUFBVyxJQUFJQyxJQUFJLENBQ3JCLENBQUNULEVBQVFHLFdBQVksR0FDckIsQ0FBQ0gsRUFBUUksWUFBYSxHQUN0QixDQUFDSixFQUFRSyxNQUFPLEdBQ2hCLENBQUNMLEVBQVFNLFdBQVksR0FDckIsQ0FBQ04sRUFBUU8sU0FBVSxLQUd2QixTQUFTRyxFQUFnQkMsR0FDckIsT0FBT0EsRUFBRyxJQUFNWCxFQUFRTSxZQUFjSyxFQUFHLElBQU1YLEVBQVFPLFFBQzNELENBU0EsU0FBU0ssRUFBb0JELEdBSXpCLEdBSEtFLE1BQU1DLFFBQVFILEtBQ2ZBLEVBQUssQ0FBQ0EsRUFBSVgsRUFBUUssUUFFTCxHQUFiTSxFQUFHSSxPQUNILE1BQU0sSUFBSUMsTUFBTSxvQ0FBcUNMLEdBRXpELElBQUtNLEVBQUVDLEdBQUtQLEVBQ1osR0EvQmdCUSxFQStCQUQsR0E5QlRqQixPQUFPbUIsT0FBT3BCLEdBQVNxQixTQUFTRixHQStCbkMsTUFBTSxJQUFJSCxNQUFNLDRCQUE2QkUsR0FoQ3JELElBQW9CQyxFQWtDaEIsR0FBSUYsSUFBTUssSUFDTixNQUFPLENBQUMsS0FBTXRCLEVBQVFNLFlBRTFCLEdBQUlXLEdBQUtLLElBQ0wsTUFBTyxDQUFDLEtBQU10QixFQUFRSSxhQUUxQixHQUFTbUIsTUFBTE4sR0FBdUIsTUFBTEEsR0FBYW5CLEVBQVNtQixHQUN4QyxNQUFPLENBQUNBLEVBQUdDLEdBRWYsTUFBTSxJQUFJRixNQUFNLGtDQUFtQ0MsRUFDdkQsQ0FFQSxNQUFNTyxFQUFtQlosRUFBb0JVLEtBQ3ZDRyxFQUFtQmIsR0FBcUJVLEtBTzlDLFNBQVNJLEVBQWtCZixHQUN2QixPQUFhLE1BQVRBLEVBQUcsR0FDSSxDQUFDQSxFQUFHLEdBQUlBLEVBQUcsSUFFbEJELEVBQWdCQyxHQUNULEVBQUVXLElBQVV0QixFQUFRTSxZQUVwQixDQUFDZ0IsSUFBVXRCLEVBQVFJLFlBRWxDLENBTUEsU0FBU3VCLEVBQVdDLEVBQUdDLEdBQ25CLE9BQUlELEVBQUlDLEdBQVcsRUFDZkQsRUFBSUMsRUFBVSxFQUNYLENBQ1gsQ0FTQSxTQUFTQyxFQUFhQyxFQUFLQyxHQUN2QixNQUFPQyxFQUFJQyxHQUFNUixFQUFrQkssSUFDNUJJLEVBQUlDLEdBQU1WLEVBQWtCTSxHQUM3QkssRUFBT1YsRUFBV00sRUFBSUUsR0FDNUIsR0FBWSxHQUFSRSxFQUFXLENBR1gsT0FBT1YsRUFGSW5CLEVBQVM4QixJQUFJSixHQUNiMUIsRUFBUzhCLElBQUlGLEdBRWhDLENBQ0ksT0FBT0MsQ0FDWCxDQUtBLFNBQVNFLEVBQWFDLEVBQUlDLEdBQ3RCLE9BQU9YLEVBQWFVLEVBQUlDLElBQU8sQ0FDbkMsQ0FJQSxTQUFTQyxFQUFhRixFQUFJQyxHQUN0QixPQUFPWCxFQUFhVSxFQUFJQyxJQUFPLENBQ25DLENBQ0EsU0FBU0UsRUFBYUgsRUFBSUMsR0FDdEIsT0FBK0IsR0FBeEJYLEVBQWFVLEVBQUlDLEVBQzVCLENBMkNBLFNBQVNHLEVBQXdCQyxHQUM3QixNQUFPQyxFQUFLQyxFQUFNQyxFQUFXQyxHQUFjSixFQUNyQ0ssRUFBVSxFQUFlbEQsRUFBUU0sV0FBYU4sRUFBUU8sU0FDdEQ0QyxFQUFXLEVBQWdCbkQsRUFBUUksWUFBY0osRUFBUUcsVUFHL0QsTUFBTyxDQUZPUyxFQUFvQixDQUFDa0MsRUFBS0ksSUFDekJ0QyxFQUFvQixDQUFDbUMsRUFBTUksSUFFOUMsQ0FlQSxTQUFTQyxFQUF5QlAsRUFBS2xDLEdBQ25DLE1BQU8wQyxFQUFRQyxHQUFXVixFQUF3QkMsR0FHbEQsT0FBT04sRUFBWWMsRUFGbkIxQyxFQUFLQyxFQUFvQkQsS0FFUzRCLEVBQVk1QixFQUFJMkMsRUFDdEQsQ0E0Rk8sTUFBTUMsRUFBVyxDQUNwQkMsR0FBSWpCLEVBQ0prQixHQWxMSixTQUFzQmpCLEVBQUlDLEdBQ3RCLE9BQU9YLEVBQWFVLEVBQUlDLEdBQU0sQ0FDbEMsRUFpTElpQixHQUFJaEIsRUFDSmlCLEdBOUtKLFNBQXNCbkIsRUFBSUMsR0FDdEIsT0FBT1gsRUFBYVUsRUFBSUMsR0FBTSxDQUNsQyxFQTZLSW1CLElBQUs5QixFQUNMK0IsR0FBSWxCLEVBQ0ptQixJQXhLSixTQUFzQnRCLEVBQUlDLEdBQ3RCLE9BQVFGLEVBQVlDLEVBQUlDLEdBQU9ELEVBQUtDLENBQ3hDLEVBdUtJc0IsSUF0S0osU0FBc0J2QixFQUFJQyxHQUN0QixPQUFRQyxFQUFZRixFQUFJQyxHQUFPRCxFQUFLQyxDQUN4QyxFQXFLSXVCLEtBekpKLFNBQXVCckQsRUFBSXNELEdBQ3ZCLEdBQUlBLEVBQ0EsTUFBTSxJQUFJakQsTUFBTSx3QkFFcEIsSUFBS0MsRUFBRUMsR0FBS1AsRUFDWixHQUFTLE1BQUxNLEVBQ0EsT0FBT04sRUFFWCxHQUFJTyxHQUFLbEIsRUFBUUcsVUFDYixNQUFPLENBQUNjLEVBQUdqQixFQUFRTSxZQUNoQixHQUFJWSxHQUFLbEIsRUFBUUksWUFDcEIsTUFBTyxDQUFDYSxFQUFHakIsRUFBUU8sVUFDaEIsR0FBSVcsR0FBS2xCLEVBQVFPLFNBQ3BCLE1BQU8sQ0FBQ1UsRUFBR2pCLEVBQVFJLGFBQ2hCLEdBQUljLEdBQUtsQixFQUFRTSxXQUNwQixNQUFPLENBQUNXLEVBQUdqQixFQUFRRyxXQUV0QixNQUFNLElBQUlhLE1BQU0sd0JBQXlCRSxFQUc5QyxFQXNJSWdELGNBQWV0QixFQUNmdUIsV0FBWXZELEVBQ1p3RCxNQUFPLElBQUlwRSxHQUNYcUUsUUFBVTdDLEVBQ1Y4QyxRQUFVN0MsR0FFRDhDLEVBQVcsQ0FDcEJDLGdCQUFpQnBCLEVBQ2pCcUIsYUE1R0osU0FBK0I1QixFQUFLNkIsR0FDaEMsT0FBT3RCLEVBQXlCUCxFQUFLNkIsRUFDekMsRUEyR0lDLFlBdEdKLFNBQThCSixHQUMxQixNQUFPbEIsRUFBUUMsR0FBV1YsRUFBd0JDLEtBQ2xELE9BQU9GLEVBQVlVLEVBQVFDLEVBQy9CLEVBb0dJc0IsZUEvRkosU0FBaUM3QyxFQUFLQyxHQUNsQyxJQUFLQyxFQUFJQyxHQUFNSCxHQUNWSSxFQUFJQyxHQUFNSixFQUNmLElBQUt0QixFQUFnQnFCLEdBQ2pCLE1BQU0sSUFBSWYsTUFBTSx1QkFBd0JlLEdBRTVDLElBekxzQnBCLEVBeUxBcUIsR0F4TFosSUFBTWhDLEVBQVFJLGFBQWVPLEVBQUcsSUFBTVgsRUFBUUcsVUF5THBELE1BQU0sSUFBSWEsTUFBTSx3QkFBeUJnQixHQTFMakQsSUFBMEJyQixFQTRMdEIsTUFBTyxDQUFDc0IsRUFBSUUsRUFBSUQsR0FBTWxDLEVBQVFNLFdBQVk4QixHQUFNcEMsRUFBUUksWUFDNUQsRUFzRkkrRCxXQW5GSixTQUE2QlUsR0FDekIsSUFBSWhDLEVBQU1nQyxFQUNWLEdBQVd0RCxNQUFQc0IsR0FBMkIsTUFBUEEsRUFDcEIsTUFBTSxJQUFJN0IsTUFBTSxzQkFFcEIsSUFBS0gsTUFBTUMsUUFBUStCLEdBQU0sQ0FDckIsSUFBSS9DLEVBQVMrQyxHQUlULE1BQU0sSUFBSTdCLE1BQU0sVUFBVTZELDhCQUYxQmhDLEVBQU0sQ0FBQ0EsRUFBS0EsR0FBSyxHQUFNLEVBS25DLENBQ3NCLEdBQWRBLEVBQUk5QixPQUNKOEIsRUFBTSxDQUFDQSxFQUFJLEdBQUlBLEVBQUksSUFBSSxHQUFNLEdBQ1IsR0FBZEEsRUFBSTlCLE9BQ1g4QixFQUFNLENBQUNBLEVBQUksR0FBSUEsRUFBSSxJQUFJLEdBQU0sR0FDUixHQUFkQSxFQUFJOUIsT0FDWDhCLEVBQU0sQ0FBQ0EsRUFBSSxHQUFJQSxFQUFJLEdBQUlBLEVBQUksSUFBSSxHQUN4QkEsRUFBSTlCLE9BQVMsSUFDcEI4QixFQUFNLENBQUNBLEVBQUksR0FBSUEsRUFBSSxHQUFJQSxFQUFJLEdBQUlBLEVBQUksS0FFdkMsSUFBS0MsRUFBS0MsRUFBTStCLEVBQVlDLEdBQWVsQyxFQVMzQyxHQVBXdEIsTUFBUHVCLEdBQW9CQSxJQUFReEIsTUFDNUJ3QixFQUFNLE1BRUV2QixNQUFSd0IsR0FBcUJBLEdBQVF6QixNQUM3QnlCLEVBQU8sTUFHQSxNQUFQRCxFQUNBZ0MsR0FBYSxPQUViLElBQUtoRixFQUFTZ0QsR0FBTSxNQUFNLElBQUk5QixNQUFNLG1CQUFvQjhCLEdBRzVELEdBQVksTUFBUkMsRUFDQWdDLEdBQWMsT0FFZCxJQUFLakYsRUFBU2lELEdBQU8sTUFBTSxJQUFJL0IsTUFBTSxvQkFBcUIrQixHQUc5RCxHQUFXLE1BQVBELEdBQXVCLE1BQVJDLEVBQWMsQ0FDN0IsR0FBSUQsRUFBTUMsRUFBTSxNQUFNLElBQUkvQixNQUFNLGFBQWM4QixFQUFLQyxHQUUvQ0QsR0FBT0MsSUFDUCtCLEdBQWEsRUFDYkMsR0FBYyxFQUUxQixDQUVJLEdBQTBCLGtCQUFmRCxFQUNQLE1BQU0sSUFBSTlELE1BQU0sMEJBRXBCLEdBQTJCLGtCQUFoQitELEVBQ1AsTUFBTSxJQUFJL0QsTUFBTSwyQkFFcEIsTUFBTyxDQUFDOEIsRUFBS0MsRUFBTStCLEVBQVlDLEVBQ25DLEdDOU9PLE1BQU1DLEVBTVQsTUFBQUMsQ0FBT0MsR0FDSCxNQUFNLElBQUlsRSxNQUFNLGtCQUN4QixDQUVJLEtBQUFtRSxHQUNJLE9BQXVCNUQsTUFBaEI2RCxLQUFLQyxPQUNwQixDQUtJLEtBQUFBLEdBQ0ksSUFBSUMsT0FBQ0EsRUFBTUMsTUFBRUEsR0FBU0gsS0FBS0gsT0FBTzFCLEVBQVNlLFNBQzNDLE9BQUlnQixFQUFPdkUsT0FBUyxFQUNUd0MsRUFBU2UsUUFFaEJmLEVBQVNFLEdBQUc4QixFQUFPaEMsRUFBU2MsU0FDckJrQixPQUdQLENBRVosQ0FLSSxJQUFBQyxHQUNJLElBQUlDLEtBQUNBLEVBQUlILE9BQUVBLEdBQVVGLEtBQUtILE9BQU8xQixFQUFTYyxTQUMxQyxPQUFJaUIsRUFBT3ZFLE9BQVMsRUFDVHdDLEVBQVNjLFFBRWhCZCxFQUFTSSxHQUFHOEIsRUFBTWxDLEVBQVNlLFNBQ3BCbUIsT0FHUCxDQUVaLENBUUksWUFBQUMsQ0FBYVQsR0FDVCxNQUFNTSxFQTVEUCxTQUF5Qk4sR0FDNUIsTUFBTWxDLEVBQU9RLEVBQVNXLGNBQWNlLEVBQU9wQyxLQUFLLEdBQ2hELE9BQU9VLEVBQVNTLEtBQUtqQixFQUN6QixDQXlEc0I0QyxDQUFlVixHQUM3QixHQUFnQixNQUFaTSxFQUFNLEdBR1YsT0FBT0gsS0FBS0gsT0FBT00sRUFDM0IsQ0FPSSxXQUFBSyxDQUFZWCxHQUNSLE1BQU1RLEVBbkZQLFNBQXdCUixHQUMzQixNQUFNbkMsRUFBTVMsRUFBU1csY0FBY2UsRUFBT3BDLEtBQUssR0FDL0MsT0FBT1UsRUFBU1MsS0FBS2xCLEVBQ3pCLENBZ0ZxQitDLENBQWNaLEdBQzNCLEdBQWUsTUFBWFEsRUFBSyxHQUdULE9BQU9MLEtBQUtILE9BQU9RLEVBQzNCLENBVUksV0FBQUssQ0FBWWIsRUFBUWMsRUFBUSxJQUN4QixJQUlJQyxHQUpBQyxVQUNBQSxFQUFZLEVBQUNDLFVBQ2JBLEVBQWFaLEdBQVdBLEVBQU92RSxPQUFTLEdBQ3hDZ0YsRUFFSixPQUFZLENBTVIsR0FKSUMsRUFEYSxHQUFiQyxFQUNjYixLQUFLTSxhQUFhVCxHQUVsQkcsS0FBS1EsWUFBWVgsR0FFaEIxRCxNQUFmeUUsRUFDQSxPQUVKLEdBQUlFLEVBQVVGLEVBQVlWLFFBRXRCLE9BQU9VLEVBSVhmLEVBQVNlLENBQ3JCLENBQ0EsQ0FFSSxPQUFBRyxDQUFRSixHQUNKLE9BQU8sSUFBSUssRUFBZWhCLEtBQU1XLEVBQ3hDLEVBZ0JBLE1BQU1LLEVBRUYsV0FBQUMsQ0FBWUMsRUFBT1AsRUFBUSxJQUN2QixJQUFJUSxNQUNBQSxHQUFPakYsSUFBUWtGLEtBQ2ZBLEVBQUtsRixJQUFRbUYsYUFDYkEsR0FBYSxHQUNiVixFQUNKLEdBQUlRLEVBQVFDLEVBQ1IsTUFBTSxJQUFJeEYsTUFBTyxpQ0FBa0N1RixFQUFPQyxHQUU5RHBCLEtBQUtzQixPQUFTSixFQUNkbEIsS0FBS3VCLE9BQVNwRCxFQUFTWSxXQUFXb0MsR0FDbENuQixLQUFLd0IsTUFBUXJELEVBQVNZLFdBQVdxQyxHQUc3QnBCLEtBQUt5QixXQURMSixFQUNrQixLQUFNLEVBRUxuQixHQUFXQSxFQUFPdkUsT0FBUyxFQUVsRHFFLEtBQUswQixRQUNiLENBRUksSUFBQUMsR0FDSSxHQUFxQnhGLE1BQWpCNkQsS0FBSzBCLFdBRUwxQixLQUFLMEIsU0FBVzFCLEtBQUtzQixPQUFPekIsT0FBT0csS0FBS3VCLFFBQ3BDdkIsS0FBS3lCLFdBQVd6QixLQUFLMEIsU0FBU3hCLFNBQzlCLE1BQU8sQ0FBQ25FLE1BQU1pRSxLQUFLMEIsU0FBVUUsTUFBSyxHQUcxQyxJQUFJakIsRUFBVSxDQUFDRyxVQUFVZCxLQUFLeUIsV0FBWVosVUFBVSxHQUVwRCxPQURBYixLQUFLMEIsU0FBVzFCLEtBQUtzQixPQUFPWixZQUFZVixLQUFLMEIsU0FBVWYsR0FDbEN4RSxNQUFqQjZELEtBQUswQixTQUNFLENBQUMzRixXQUFNSSxFQUFXeUYsTUFBSyxHQUV2QixDQUFDN0YsTUFBTWlFLEtBQUswQixTQUFVRSxNQUFLLEVBRTlDLENBRUksQ0FBQ0MsT0FBT0MsWUFDSixPQUFPOUIsSUFDZixFQW9CQSxTQUFTK0IsRUFBYzNFLEVBQUlDLEdBQ3ZCLE9BQU9jLEVBQVNLLElBQUlwQixFQUFJQyxFQUM1QixDQUVBLFNBQVMyRSxFQUFlNUUsRUFBSUMsR0FDeEIsT0FBT2MsRUFBU0ssSUFBSW5CLEVBQUlELEVBQzVCLENBRU8sU0FBUzZFLEVBQ1pDLEVBQ0FDLEVBQ0FqQyxFQUNBa0MsRUFDQUMsR0FHQSxNQUFNQyxFQUFTLENBQUNwQyxVQUVoQixHQUFxQixHQUFqQkEsRUFBT3ZFLE9BRVAyRyxFQUFPbkMsTUFBUWtDLEVBQ2ZDLEVBQU9qQyxLQUFPNkIsTUFDWCxDQUlIRSxFQUFpQkcsS0FBS1IsR0FDdEIsSUFBSVMsRUFBa0JKLEVBQWlCLEdBQ25DSyxFQUFrQkwsRUFBaUJNLE9BQU8sR0FBRyxHQUM3Q0MsR0FBd0J4RSxFQUFTTSxHQUFHK0QsRUFBaUJDLEdBR3pETixFQUFnQkksS0FBS1AsR0FDckIsSUFBSVksRUFBaUJULEVBQWdCLEdBQ2pDVSxFQUFpQlYsRUFBZ0JPLE9BQU8sR0FBRyxHQUMzQ0ksR0FBdUIzRSxFQUFTTSxHQUFHbUUsRUFBZ0JDLEdBR25EMUUsRUFBU0MsR0FBR2lFLEVBQVVHLEdBQ3RCRixFQUFPbkMsTUFBUWtDLEVBRWZDLEVBQU9uQyxNQUFRaEMsRUFBU1MsS0FBSzRELEdBRWpDRixFQUFPWCxLQUFPLEVBQXlCVyxFQUFPbkMsTUFBUWtDLEVBR2xEbEUsRUFBU0csR0FBRzRELEVBQVdVLEdBQ3ZCTixFQUFPakMsS0FBTzZCLEVBRWRJLEVBQU9qQyxLQUFPbEMsRUFBU1MsS0FBS2dFLEdBRWhDTixFQUFPUyxLQUFPLEVBQXdCVCxFQUFPakMsS0FBTzZCLENBRTVELENBR0ksSUFBSXhFLEVBQU1TLEVBQVNTLEtBQUswRCxFQUFPakMsTUFDM0IxQyxFQUFPUSxFQUFTUyxLQUFLMEQsRUFBT25DLE9BR2hDLE9BRkFtQyxFQUFPN0UsSUFBTTBCLEVBQVNLLGVBQWU5QixFQUFLQyxHQUVuQzJFLENBQ1gsQ0FZTyxNQUFNVSxVQUF1QnBELEVBRWhDLFdBQUFxQixDQUFZZ0MsR0FDUkMsUUFDQWxELEtBQUttRCxLQUFPRixFQUNaakQsS0FBS29ELE9BQVNILEVBQUlJLGFBQzFCLENBRUksTUFBQXhELENBQU9DLEdBQ0gsTUFBTUQsRUFBU0csS0FBS21ELEtBQUtqQyxNQUFNckIsT0FBT0MsR0FFdEMsT0FEQUQsRUFBT0ssT0FBUyxDQUFDRixLQUFLb0QsUUFDZnZELENBQ2YsRUNyVUEsTUFBTXlELEVBRUwsV0FBQXJDLENBQWFzQyxFQUFXQyxFQUFNN0MsR0FDN0JBLEVBQVVBLEdBQVcsQ0FBQSxFQUNyQlgsS0FBS3VELFVBQVlBLEVBQ2pCdkQsS0FBS3dELEtBQU9BLEVBQ1p4RCxLQUFLeUQsVUFBeUJ0SCxJQUFqQndFLEVBQVE4QyxNQUE4QjlDLEVBQVE4QyxLQUMzRHpELEtBQUswRCxjQUFnQixFQUN2QixDQVNDLFNBQUFDLENBQVdDLEVBQVVqRCxHQUNwQixJQUFLaUQsR0FBZ0MsbUJBQWJBLEVBQ3ZCLE1BQU0sSUFBSWhJLE1BQU0sMEJBQTJCZ0ksR0FFNUMsTUFBTUMsRUFBTSxJQUFJQyxFQUFhOUQsS0FBTTRELEVBQVVqRCxHQUcxQyxHQUZIWCxLQUFLMEQsY0FBY0ssS0FBS0YsR0FFakI3RCxLQUFLeUQsTUFBUUksRUFBSUosS0FBTSxDQUMxQkksRUFBSUcsY0FBZSxFQUNuQixJQUFJQyxFQUFPakUsS0FDWGtFLFFBQVFDLFVBQVVDLE1BQUssV0FDdEIsTUFBTUMsRUFBUUosRUFBS1YsVUFBVWUsc0JBQXNCTCxFQUFLVCxPQUFTLEdBQ2pFSyxFQUFJRyxjQUFlLEVBQ25CLElBQUssSUFBSU8sS0FBUUYsRUFDaEJKLEVBQUtPLFFBQVFELEVBQU0sQ0FBQ1YsSUFBTSxFQUVsQyxHQUNBLENBQ0UsT0FBT0EsQ0FDVCxDQVFDLE9BQUFXLENBQVNELEVBQU1FLEVBQU1oQixHQUNwQixJQUFJaUIsRUFBT0MsRUFDWCxJQUFLLE1BQU1kLEtBQU9ZLEVBRWpCLElBQUlaLEVBQUllLFdBQVIsQ0FHQUYsRUFBUSxDQUNQekIsSUFBS2pELEtBQUt1RCxVQUNWQyxLQUFNeEQsS0FBS3dELEtBQ1hLLElBQUtBLEVBQ0xKLEtBQU1BLEdBRVBrQixFQUFNZCxFQUFJYyxLQUFPM0UsS0FBS3VELFVBQ3RCLElBQ0NNLEVBQUlELFNBQVNpQixLQUFLRixFQUFLSixFQUFNRyxFQUM3QixDQUFDLE1BQU9JLEdBQ1JDLFFBQVFDLElBQUksWUFBWWhGLEtBQUt3RCxTQUFTSyxFQUFJRCxZQUFZa0IsSUFDMUQsQ0FaQSxDQWNBLENBTUMsV0FBQUcsQ0FBWXBCLEdBQ1gsSUFBSXFCLEVBQU1sRixLQUFLMEQsY0FBY3lCLFFBQVF0QixHQUNqQ3FCLEdBQU8sSUFDVmxGLEtBQUswRCxjQUFjMEIsT0FBT0YsRUFBSyxHQUMvQnJCLEVBQUl3QixZQUVQLEVBUUEsTUFBTXZCLEVBRUwsV0FBQTdDLENBQVlxRSxFQUFPMUIsRUFBVWpELEdBQzVCQSxFQUFVQSxHQUFXLENBQUEsRUFDckJYLEtBQUtzRixNQUFRQSxFQUNidEYsS0FBS3dELEtBQU84QixFQUFNOUIsS0FDbEJ4RCxLQUFLNEQsU0FBV0EsRUFDaEI1RCxLQUFLeUQsVUFBeUJ0SCxJQUFqQndFLEVBQVE4QyxLQUFzQnpELEtBQUtzRixNQUFNN0IsS0FBTzlDLEVBQVE4QyxLQUNyRXpELEtBQUtnRSxjQUFlLEVBQ3BCaEUsS0FBSzRFLFlBQWEsRUFDbEI1RSxLQUFLMkUsSUFBTWhFLEVBQVFnRSxHQUNyQixDQUVDLFNBQUFVLEdBQ0NyRixLQUFLNEUsWUFBYSxFQUNsQjVFLEtBQUs0RCxjQUFXekgsRUFDaEI2RCxLQUFLc0YsTUFBTUwsWUFBWWpGLEtBQ3pCLEVBcUJPLFNBQVN1RixFQUFrQkMsR0FHakMsT0FGQUEsRUFBT0Msb0JBQXNCLElBQUlwSyxJQUNqQ21LLEVBQU9FLGtCQUFvQixHQUNwQkYsQ0FDUixDQVNPLFNBQVNHLEVBQWtCQyxHQUVqQyxTQUFTQyxFQUFpQkwsRUFBUWhDLEdBQ2pDLE1BQU04QixFQUFRRSxFQUFPQyxvQkFBb0J2SSxJQUFJc0csR0FDN0MsR0FBYXJILE1BQVRtSixFQUNILE1BQU0sSUFBSTFKLE1BQU0sa0JBQW1CNEgsR0FFcEMsT0FBTzhCLENBQ1QsQ0EwR0NNLEVBQVdFLGVBbEdYLFNBQXdCdEMsRUFBTTdDLEdBRTdCLEdBQUlYLEtBQUt5RixvQkFBb0JNLElBQUl2QyxHQUNoQyxNQUFNLElBQUk1SCxNQUFNLHdCQUF5QjRILEdBRTFDeEQsS0FBS3lGLG9CQUFvQk8sSUFBSXhDLEVBQU0sSUFBSUYsRUFBTXRELEtBQU13RCxFQUFNN0MsR0FDM0QsRUE2RkNpRixFQUFXSyxnQkFMWCxTQUF5QnpDLEVBQU1lLEdBQzlCLE9BQU92RSxLQUFLa0csbUJBQW1CLENBQUMsQ0FBQzFDLE9BQU1lLFNBQ3pDLEVBSUNxQixFQUFXTyxxQkFmWCxTQUE4QjNDLEVBQU1hLEdBQ25DLE9BQU9yRSxLQUFLa0csbUJBQW1CN0IsRUFBTStCLEtBQUk3QixJQUNqQyxDQUFDZixPQUFNZSxXQUVqQixFQVlDcUIsRUFBV00sbUJBM0RYLFNBQTRCRyxHQUMzQixHQUF5QixHQUFyQkEsRUFBVzFLLE9BQ2QsT0FRRCxJQUFJMkssRUFBZUQsRUFBV0QsS0FBS0csSUFDbEMsSUFBSS9DLEtBQUNBLEVBQUllLEtBQUVBLEdBQVFnQyxFQUNmQyxFQUFLWCxFQUFpQjdGLEtBQU13RCxHQUM1QmlCLEVBQU8rQixFQUFHOUMsY0FBYytDLFFBQU81QyxHQUEyQixHQUFwQkEsRUFBSUcsZUFDOUMsTUFBTyxDQUFDd0MsRUFBSWpDLEVBQU1FLEVBQUssR0FDckJ6RSxNQUdILE1BQU0wRyxFQUFNSixFQUFhM0ssT0FDbkJnTCxFQUFNM0csS0FBSzBGLGtCQUNYa0IsRUFBVTVHLEtBQUswRixrQkFBa0IvSixPQUV2Q3FFLEtBQUswRixrQkFBa0IvSixPQUFTaUwsRUFBVUYsRUFFMUMsSUFBSyxJQUFJRyxFQUFFLEVBQUdBLEVBQUVILEVBQUtHLElBQ3BCRixFQUFJQyxFQUFRQyxHQUFLUCxFQUFhTyxHQUcvQixHQUFlLEdBQVhELEVBQWMsQ0FDakIsSUFBSTNDLEVBQU9qRSxLQUNYa0UsUUFBUUMsVUFBVUMsTUFBSyxXQUN0QixJQUFLLElBQUtvQyxFQUFJakMsRUFBTUUsS0FBU1IsRUFBS3lCLGtCQUVqQ2MsRUFBR2hDLFFBQVFELEVBQU1FLEdBQU0sR0FFeEJSLEVBQUt5QixrQkFBb0IsRUFDN0IsR0FDQSxDQUNBLEVBc0JDRSxFQUFXa0Isc0JBM0VYLFNBQStCdEQsR0FDOUIsT0FBT3FDLEVBQWlCN0YsS0FBTXdELEdBQU1FLGFBQ3RDLEVBMEVDa0MsRUFBV21CLEdBMUZYLFNBQVl2RCxFQUFNSSxFQUFVakQsR0FDM0IsT0FBT2tGLEVBQWlCN0YsS0FBTXdELEdBQU1HLFVBQVVDLEVBQVVqRCxFQUMxRCxFQXlGQ2lGLEVBQVdvQixJQWxGWCxTQUFhbkQsR0FDWixPQUFPZ0MsRUFBaUI3RixLQUFNNkQsRUFBSUwsTUFBTXlCLFlBQVlwQixFQUN0RCxDQWlGQSxDQWtDQThCLEVBdEJPLE1BRU4sV0FBQTFFLENBQWFsRixHQUNad0osRUFBaUJ2RixNQUNqQkEsS0FBS2lILE9BQVNsTCxFQUNkaUUsS0FBSzhGLGVBQWUsU0FBVSxDQUFDckMsTUFBSyxHQUN0QyxDQUVDLHFCQUFBYSxDQUFzQmQsR0FDckIsR0FBWSxVQUFSQSxFQUNILE1BQU8sQ0FBQ3hELEtBQUtpSCxPQUVoQixDQUVDLFNBQUlsTCxHQUFVLE9BQU9pRSxLQUFLaUgsTUFBTSxDQUNoQyxTQUFJbEwsQ0FBT0EsR0FDTkEsR0FBU2lFLEtBQUtpSCxTQUNqQmpILEtBQUtpSCxPQUFTbEwsRUFDZGlFLEtBQUtpRyxnQkFBZ0IsU0FBVWxLLEdBRWxDLEdBRWdDbUwsV0M3VGhDLE1BQU1DLEVBQVMsYUFFUixTQUFTQyxFQUFTNUIsR0FDckJBLEVBQU8sR0FBRzJCLGNBQXFCLEVBQ25DLENBRUEsU0FBU0UsRUFBY0MsR0FDbkIsSUFBSUMsRUFBUyxDQUNURCxRQUFTQSxHQUdiLE9BREF0SCxLQUFLLEdBQUdtSCxjQUFtQnBELEtBQUt3RCxHQUN6QkEsQ0FDWCxDQUVBLFNBQVNDLEVBQWlCRCxHQUN0QixJQUFJckcsRUFBUWxCLEtBQUssR0FBR21ILGNBQW1CaEMsUUFBUW9DLEdBQzNDckcsR0FBUyxHQUNUbEIsS0FBSyxHQUFHbUgsY0FBbUIvQixPQUFPbEUsRUFBTyxFQUVqRCxDQUVBLFNBQVN1RyxFQUFrQmxELEdBQ3ZCdkUsS0FBSyxHQUFHbUgsY0FBbUJPLFNBQVEsU0FBU0gsR0FDeENBLEVBQU9ELFFBQVEvQyxFQUN2QixHQUNBLENBR08sU0FBU29ELEVBQVlDLEdBQ3hCLE1BQU1DLEVBQU0sQ0FDUlIsZUFBY0csa0JBQWlCQyxvQkFFbkM1TSxPQUFPaU4sT0FBT0YsRUFBS0MsRUFDdkIsQ0FLTyxTQUFTRSxFQUFpQkgsR0FDN0IsR0FBV3pMLE1BQVB5TCxFQUFrQixPQUFPLEVBQzdCLE1BQU1JLEVBQVUsQ0FBQyxlQUFnQixtQkFDakMsSUFBSyxNQUFNQyxLQUFRRCxFQUFTLENBQ3hCLEtBQU1DLEtBQVFMLEdBQU0sT0FBTyxFQUMzQixHQUF3QixtQkFBYkEsRUFBSUssR0FBcUIsT0FBTyxDQUNuRCxDQUNJLE9BQU8sQ0FDWCxDQ3BDTyxTQUFTQyxFQUFpQk4sR0FDN0IsTUFBc0IsaUJBQVBBLEdBQW9CTyxTQUFTUCxFQUNoRCxDQUVPLFNBQVNRLEVBQWE1RSxFQUFNb0UsR0FDL0IsSUFBS00sRUFBaUJOLEdBQ2xCLE1BQU0sSUFBSWhNLE1BQU0sR0FBRzRILDJCQUE4Qm9FLElBRXpELENBbURZLE1BQUNTLEVBQ0YsQ0FDSEMsSUFBSyxJQUNNQyxZQUFZRCxNQUFNLEtBTXhCRSxFQUNGLENBQ0hGLElBQUssSUFDTSxJQUFJRyxLQUFPLEtBV3ZCLFNBQVNDLEVBQVFDLEVBQVNDLEVBQVE5SSxFQUFRYSxFQUFRLENBQUEsR0FDckQsSUFBSWtJLFVBQUNBLEVBQVNDLFVBQUVBLEdBQWFuSSxFQUM3QixHQUFpQnhFLE1BQWIwTSxFQUF3QixDQUd4QixNQUFPLENBQUM5TSxNQUZJOE0sRUFBVSxDQUFDRixVQUFTQyxTQUFROUksV0FFekJpSixRQURESCxFQUFPeEMsS0FBS3ZLLEdBQU1BLEVBQUVtTixVQUFTQyxNQUFLQyxHQUFHQSxJQUMzQnBKLFNBQ2hDLENBQVcsT0FBaUIzRCxNQUFiMk0sRUFDQSxJQUFJQSxFQUFVLENBQUNILFVBQVNDLFNBQVE5SSxXQUFVQSxVQUdoQyxHQUFqQjhJLEVBQU9qTixPQUNBLENBQUNJLFdBQU1JLEVBQVc0TSxTQUFRLEVBQU9qSixVQUlyQyxJQURLOEksRUFBTyxHQUNEOUksU0FDdEIsQ0FrQ08sU0FBU3FKLEVBQWN4TixHQUcxQixJQUZBLElBQUl5TixFQUFPLEdBQ1BDLEVBQVcsdURBQ1B4QyxFQUFJLEVBQUdBLEVBQUlsTCxFQUFRa0wsSUFDdkJ1QyxHQUFRQyxFQUFTQyxPQUFPQyxLQUFLQyxNQUFzQkgsR0FBaEJFLEtBQUtFLFdBRTVDLE9BQU9MLENBQ1gsQ0FjTyxTQUFTTSxFQUFhOUYsRUFBVStGLEdBQ25DLElBR0lDLEVBREFDLEVBRkt0QixZQUFZRCxPQUNyQnFCLEVBQVdKLEtBQUs1SyxJQUFJZ0wsRUFBVSxJQWdCOUIsT0FEQUMsRUFBTUUsWUFUTixTQUFTQyxJQUNMLE1BQU1KLEVBQVdFLEVBQVl0QixZQUFZRCxNQUNyQ3FCLEVBQVcsRUFFWEMsRUFBTUUsV0FBV0MsRUFBZ0JKLEVBQVcsR0FFNUMvRixHQUVaLEdBQ3FDK0YsRUFBVyxHQUNyQyxDQUFDSyxPQWJSLFdBQ0lDLGFBQWFMLEVBQ3JCLEVBWUEsQ0ErQkEsU0FBU00sRUFBMEJDLEVBQVEvTSxHQUN2QyxNQUFPZ04sRUFBR0MsRUFBR0MsRUFBR0MsR0FBTUosRUFDdEIsT0FBUVosS0FBS2lCLElBQUlILEVBQUcsR0FBSyxFQUFFQyxHQUFJRixFQUFHaE4sSUFBUSxDQUM5QyxDQU9BLFNBQVNxTixFQUEyQk4sRUFBUS9NLEdBQ3hDLE1BQU9nTixFQUFHQyxFQUFHQyxFQUFHQyxHQUFNSixFQUV0QixHQUFXLElBQVBHLEdBQXFCLElBQVBELEVBQ2QsT0FBSUQsR0FBTWhOLEVBQVcsUUFJakIsRUFJUixHQUFXLElBQVBrTixFQUFZLE1BQU8sQ0FBQ0MsR0FBTW5OLEVBQUdnTixHQUFJQyxHQUVyQyxJQUE4QyxJQUExQ0gsRUFBMEJDLEVBQVEvTSxHQUFlLE1BQU8sR0FHNUQsR0FBcUIsSUFERm1NLEtBQUtpQixJQUFJSCxFQUFHLEdBQUssRUFBRUMsR0FBSUYsRUFBR2hOLEdBRXpDLE1BQU8sQ0FBQ21OLEVBQUdGLEVBQUdDLEdBRWxCLElBQUlJLEVBQU9uQixLQUFLbUIsS0FBS25CLEtBQUtpQixJQUFJSCxFQUFHLEdBQUssRUFBRUMsR0FBSUYsRUFBR2hOLElBQzNDdU4sRUFBS0osSUFBT0YsRUFBS0ssR0FBTUosRUFDdkJNLEVBQUtMLElBQU9GLEVBQUtLLEdBQU1KLEVBQzNCLE1BQU8sQ0FBQ2YsS0FBSzdLLElBQUlpTSxFQUFHQyxHQUFJckIsS0FBSzVLLElBQUlnTSxFQUFHQyxHQUN4QyxDQXNKTyxNQUFNQyxFQUFlLENBQ3hCQyxVQXpNRyxTQUEwQlgsRUFBT3JPLEdBQ3BDLE1BQU9zTyxFQUFHQyxFQUFHQyxFQUFHQyxHQUFNSixFQUNoQlksRUFBSWpQLEVBQUl5TyxFQUlkLE1BQU8sQ0FIR0gsRUFBS0MsRUFBR1UsRUFBSSxHQUFJVCxFQUFHZixLQUFLaUIsSUFBSU8sRUFBRSxHQUM5QlYsRUFBS0MsRUFBR1MsRUFDUlQsRUFDSXhPLEVBQ2xCLEVBbU1Ja1AsbUJBQW9CZCxFQUNwQmUsbUJBQW9CUixFQUNwQlMsc0JBcElKLFNBQXNDZixFQUFRZ0IsR0FDMUMsTUFBT2YsRUFBR0MsRUFBR0MsRUFBR0MsR0FBTUosRUFDdEIsSUFBS3pNLEVBQUtDLEdBQVF3TixFQUtsQixHQUpXLE1BQVB6TixJQUFhQSxHQUFPeEIsS0FDWixNQUFSeUIsSUFBY0EsRUFBT3pCLEtBR3JCd0IsSUFBUXhCLEtBQVl5QixHQUFRekIsSUFFNUIsTUFBTyxDQUFDLENBQUMsS0FBTSxPQUtuQixHQUFXLElBQVBtTyxHQUFxQixJQUFQQyxFQUVkLE9BQVFGLEdBQU0xTSxHQUFPME0sR0FBTXpNLEVBQVEsQ0FBQyxDQUFDLEtBQU0sT0FBUyxHQUl4RCxJQUFJeU4sRUFBWSxHQWFoQixJQVpLbFAsSUFBV3dCLEdBQ1owTixFQUFVckgsUUFBUTBHLEVBQTBCTixFQUFRek0sSUFFcERDLEVBQU96QixLQUNQa1AsRUFBVXJILFFBQVEwRyxFQUEwQk4sRUFBUXhNLElBR3hEeU4sRUFBWSxJQUFJLElBQUlDLElBQUlELElBRXhCQSxFQUFVN0ksTUFBSyxDQUFDL0YsRUFBRUMsSUFBTUQsRUFBRUMsSUFHdEJpQixJQUFReEIsSUFBVSxDQUVsQixHQUF3QixHQUFwQmtQLEVBQVV6UCxPQUdWLE9BQVF5TyxHQUFNek0sRUFBUSxDQUFDLENBQUMsS0FBTSxPQUFTLEdBRXRDLEdBQXdCLEdBQXBCeU4sRUFBVXpQLE9BQ2YsT0FBSTJPLEVBQUssRUFHRSxHQUNBQSxFQUFLLEVBR0wsQ0FBQyxDQUFDLEtBQU0sT0FHWEQsRUFBSyxFQUVFLENBQUMsQ0FBQyxLQUFNZSxFQUFVLEtBR2xCLENBQUMsQ0FBQ0EsRUFBVSxHQUFJLE9BRzVCLEdBQXdCLEdBQXBCQSxFQUFVelAsT0FBYSxDQUU5QixHQUFJMk8sRUFBSyxFQUVMLE1BQU8sQ0FBQyxDQUFDYyxFQUFVLEdBQUlBLEVBQVUsS0FDOUIsR0FBSWQsRUFBSyxFQUVaLE1BQU8sQ0FBQyxDQUFDLEtBQU1jLEVBQVUsSUFBSyxDQUFDQSxFQUFVLEdBQUksTUFFN0QsQ0FJQSxNQUFXLEdBQUl6TixHQUFRekIsSUFBVSxDQUV6QixHQUF3QixHQUFwQmtQLEVBQVV6UCxPQUdWLE9BQVF5TyxHQUFNMU0sRUFBTyxDQUFDLENBQUMsS0FBTSxPQUFTLEdBRXJDLEdBQXdCLEdBQXBCME4sRUFBVXpQLE9BQ2YsT0FBSTJPLEVBQUssRUFHRSxDQUFDLENBQUMsS0FBTSxPQUNSQSxFQUFLLEVBR0wsR0FHSEQsRUFBSyxFQUVFLENBQUMsQ0FBQ2UsRUFBVSxHQUFJLE9BR2hCLENBQUMsQ0FBQyxLQUFNQSxFQUFVLEtBRzlCLEdBQXdCLEdBQXBCQSxFQUFVelAsT0FBYSxDQUU5QixHQUFJMk8sRUFBSyxFQUVMLE1BQU8sQ0FBQyxDQUFDLEtBQU1jLEVBQVUsSUFBSyxDQUFDQSxFQUFVLEdBQUksT0FDMUMsR0FBSWQsRUFBSyxFQUVaLE1BQU8sQ0FBQyxDQUFDYyxFQUFVLEdBQUlBLEVBQVUsSUFFakQsQ0FHQSxLQUFXLENBRUgsR0FBd0IsR0FBcEJBLEVBQVV6UCxPQUFhLE1BQU8sR0FDbEMsR0FBd0IsR0FBcEJ5UCxFQUFVelAsT0FBYSxNQUFPLEdBQ2xDLEdBQXdCLEdBQXBCeVAsRUFBVXpQLE9BQWEsTUFBTyxDQUFDLENBQUN5UCxFQUFVLEdBQUlBLEVBQVUsS0FDNUQsR0FBd0IsR0FBcEJBLEVBQVV6UCxPQUFhLE1BQU8sQ0FBQyxDQUFDeVAsRUFBVSxHQUFJQSxFQUFVLEtBQzVELEdBQXdCLEdBQXBCQSxFQUFVelAsT0FBYSxNQUFPLENBQUMsQ0FBQ3lQLEVBQVUsR0FBSUEsRUFBVSxJQUFLLENBQUNBLEVBQVUsR0FBSUEsRUFBVSxJQUNsRyxDQUNBLEVBZUlFLFlBYkosU0FBNEIxRCxHQUN4QixHQUFJbk0sTUFBTUMsUUFBUWtNLElBQXNCLEdBQWRBLEVBQUlqTSxPQUMxQixNQUFNLElBQUlDLE1BQU0sZ0NBQWdDZ00sS0FFMUMsTUFBVkEsRUFBSSxJQUFjUSxFQUFhLE1BQU9SLEVBQUksSUFDaEMsTUFBVkEsRUFBSSxJQUFjUSxFQUFhLE9BQVFSLEVBQUksR0FDL0MsR0M5V08sTUFBTTJELEVBRVQsV0FBQXRLLENBQVlOLEVBQVEsSUFFaEIsSUFBSTZLLFdBQUNBLEVBQVdDLEtBQWVDLEdBQVEvSyxFQUd2Q1gsS0FBSzJMLFNBQVdELEVBR2hCRSxFQUFrQjVMLE1BRWxCNkwsRUFBa0I3TCxNQUNsQkEsS0FBSzhGLGVBQWUsU0FBVSxDQUFDckMsTUFBSyxJQUdwQ3pELEtBQUtrQixNQUdMbEIsS0FBSzhMLFlBQWNOLEVBQ25CeEwsS0FBSytMLGVBQ0wvTCxLQUFLZ00saUJBQW1CLEVBQ2hDLENBR0ksV0FBSXJMLEdBQWEsT0FBT1gsS0FBSzJMLFFBQVMsQ0FHdEMsU0FBSU0sR0FJQSxPQUgyQjlQLE1BQXZCNkQsS0FBSytMLGlCQUNML0wsS0FBSytMLGVBQWlCLElBQUkvTCxLQUFLOEwsWUFBWTlMLE9BRXhDQSxLQUFLK0wsY0FDcEIsQ0FHSSxLQUFBRyxDQUFNcE0sR0FDRixPQUFPRSxLQUFLaU0sTUFBTUMsTUFBTXBNLEVBQ2hDLENBR0ksV0FBQXVELEdBQ0ksTUFBTTRJLEVBQVEsSUFBSWpNLEtBQUs4TCxZQUFZOUwsTUFFbkMsT0FEQUEsS0FBS2dNLGlCQUFpQmpJLEtBQUtrSSxHQUNwQkEsQ0FDZixDQUNJLFlBQUFFLENBQWNGLEdBQ1YsTUFBTS9HLEVBQU1sRixLQUFLZ00saUJBQWlCN0csUUFBUThHLEdBQ3RDL0csR0FBTyxHQUNQbEYsS0FBS2dNLGlCQUFpQjVHLE9BQU9GLEVBQUssRUFFOUMsQ0FHSSxXQUFBa0gsR0FDSSxJQUFLLE1BQU1ILEtBQVNqTSxLQUFLZ00saUJBQ3JCQyxFQUFNSSxRQUVpQmxRLE1BQXZCNkQsS0FBSytMLGdCQUNML0wsS0FBSytMLGVBQWVNLE9BRWhDLENBR0ksUUFBQUMsR0FDSXRNLEtBQUtvTSxjQUNMcE0sS0FBS3lILG1CQUNMekgsS0FBS2lHLGdCQUFnQixTQUM3QixDQUdJLE9BQUFsRixDQUFTSixHQUNMLE9BQU9YLEtBQUtrQixNQUFNSCxRQUFRSixFQUNsQyxDQVlJLE1BQUE0TCxDQUFPNUwsRUFBUSxJQUNYLEdBQUlYLEtBQUtrQixNQUFNbkIsUUFDWCxNQUFPLEdBRVgsSUFBSW9CLE1BQUNBLEVBQUtDLEtBQUVBLEVBQUlvTCxLQUFFQSxFQUFLLEdBQUs3TCxFQUU1QixHQUFheEUsTUFBVGdGLEVBQW9CLENBRXBCLE1BQU1sQixFQUFRRCxLQUFLa0IsTUFBTWpCLFFBQ3pCLEdBQWdCLE1BQVpBLEVBQU0sR0FHTixNQUFNLElBQUlyRSxNQUFNLG1CQUZoQnVGLEVBQVFsQixFQUFNLEVBSTlCLENBQ1EsR0FBWTlELE1BQVJpRixFQUFtQixDQUVuQixNQUFNaEIsRUFBT0osS0FBS2tCLE1BQU1kLE9BQ3hCLEdBQWUsTUFBWEEsRUFBSyxHQUdMLE1BQU0sSUFBSXhFLE1BQU0sa0JBRmhCd0YsRUFBT2hCLEVBQUssRUFJNUIsQ0FDUSxHQUFJZSxFQUFRQyxFQUNSLE1BQU0sSUFBSXhGLE1BQU8saUNBQWtDdUYsRUFBT0MsR0FFOUQsTUFBTTZLLEVBQVFqTSxLQUFLcUQsY0FDYm9KLEVEaEdQLFNBQWdCdEwsRUFBT3VMLEVBQUtGLEVBQU8sRUFBRzdMLEVBQVEsSUFDakQsTUFBTTJCLEVBQVMsSUFDVHFLLFlBQUNBLEdBQVksR0FBU2hNLEVBQzVCLEdBQWEsSUFBVDZMLEVBQ0EsTUFBTSxJQUFJNVEsTUFBTSx3QkFFcEIsR0FBSXVGLEVBQVF1TCxFQUNSLElBQUssSUFBSTdGLEVBQUkxRixFQUFPMEYsRUFBSTZGLEVBQUs3RixHQUFLMkYsRUFDaENsSyxFQUFPeUIsS0FBSzhDLFFBRVgsR0FBSTFGLEVBQVF1TCxFQUNmLElBQUssSUFBSTdGLEVBQUkxRixFQUFPMEYsRUFBSTZGLEVBQUs3RixHQUFLMkYsRUFDaENsSyxFQUFPeUIsS0FBSzhDLEdBTWxCLE9BSEk4RixHQUNBckssRUFBT3lCLEtBQUsySSxHQUVUcEssQ0FDWCxDQzZFd0JzSyxDQUFNekwsRUFBT0MsRUFBTW9MLEVBQU0sQ0FBQ0csYUFBWSxJQUNqRHZHLEtBQUt0RyxHQUNLLENBQUNtTSxFQUFNQyxNQUFNcE0sR0FBUS9ELE1BQU8rRCxLQUczQyxPQURBRSxLQUFLbU0sYUFBYUYsR0FDWFEsQ0FDZixFQUVBSSxFQUFvQnRCLEVBQU1yRSxXQUMxQjRGLEVBQW9CdkIsRUFBTXJFLFdBeUJuQixNQUFNdUUsRUFFVCxXQUFBeEssQ0FBWThMLEdBRVIvTSxLQUFLZ04sT0FBU0QsRUFFZC9NLEtBQUtpTixRQUVMak4sS0FBS2tOLE1BQ2IsQ0FFSSxTQUFJSCxHQUFTLE9BQU8vTSxLQUFLZ04sTUFBTSxDQUsvQixLQUFBZCxDQUFNcE0sR0FDRixNQUFNcU4sRUFDY2hSLE1BQWhCNkQsS0FBS2lOLFVBQ0o5TixFQUFTQyxnQkFBZ0JZLEtBQUtpTixRQUFReFAsSUFBS3FDLEdBRWhELElBQ0txTixHQUNjaFIsTUFBZjZELEtBQUtrTixTQUNKbE4sS0FBS2tOLE9BQU9uRSxRQUdiLE1BQU8sSUFBSS9JLEtBQUtrTixPQUFRcE4sVUFHeEJxTixJQUNBbk4sS0FBS2lOLFFBQVVqTixLQUFLZ04sT0FBTzlMLE1BQU1yQixPQUFPQyxJQUc1QyxNQUFNOEksRUFBUzVJLEtBQUtpTixRQUFRL00sT0FBT2tHLEtBQUs2RixHQUM3QkEsRUFBTUMsTUFBTXBNLEtBR2pCc04sRUFBUTFFLEVBQVExSSxLQUFLaU4sUUFBUS9NLE9BQVEwSSxFQUFROUksRUFBUUUsS0FBS2dOLE9BQU9yTSxTQUd2RSxPQURBWCxLQUFLa04sT0FBVUUsRUFBYSxhQUFJalIsRUFBWWlSLEVBQ3JDQSxDQUNmLENBRUksS0FBQWYsR0FDSXJNLEtBQUtpTixhQUFVOVEsRUFDZjZELEtBQUtrTixZQUFTL1EsQ0FDdEIsRUN4TkEsTUFBTWtSLEVBRUYsV0FBQXBNLENBQVkyQyxHQUNSNUQsS0FBS3NOLFVBQVkxSixFQUNqQjVELEtBQUt1TixRQUNMdk4sS0FBS3dOLE1BQ2IsQ0FFSSxTQUFJQyxDQUFPQyxHQUNQLEdBQXVCLGlCQUFaQSxFQUNQLE1BQU0sSUFBSTlSLE1BQU0sMEJBQTBCOFIsS0FFMUMxTixLQUFLd04sUUFBVUUsSUFDZjFOLEtBQUt3TixPQUFTRSxFQUUxQixDQUNJLFNBQUlELEdBQVUsT0FBT3pOLEtBQUt3TixNQUFPLENBRWpDLFVBQUFHLEdBQ0ksT0FBdUJ4UixNQUFoQjZELEtBQUt1TixPQUNwQixDQUVJLEtBQUFLLEdBQ3dCelIsTUFBaEI2RCxLQUFLdU4sVUFDTHZOLEtBQUt1TixRQUFRdkQsU0FDYmhLLEtBQUt1TixhQUFVcFIsRUFFM0IsQ0FFSSxJQUFBMFIsR0FFSTdOLEtBQUtzTixZQUVMdE4sS0FBSzROLFFBQ0w1TixLQUFLOE4sUUFDYixDQUVJLE1BQUFBLEdBQ0ksR0FBb0IzUixNQUFoQjZELEtBQUt1TixRQUNMLEdBQW1CLEdBQWZ2TixLQUFLd04sT0FBYSxDQUVsQixNQUFNTyxFQUFNQyxzQkFBc0JoTyxLQUFLNk4sS0FBS0ksS0FBS2pPLE9BQ2pEQSxLQUFLdU4sUUFBVSxDQUFDdkQsT0FBUSxJQUFNa0UscUJBQXFCSCxHQUNuRSxLQUFtQixDQUVILE1BQU1uRSxFQUFNRSxXQUFXOUosS0FBSzZOLEtBQUtJLEtBQUtqTyxNQUFPQSxLQUFLd04sUUFDbER4TixLQUFLdU4sUUFBVSxDQUFDdkQsT0FBUSxJQUFNQyxhQUFhTCxHQUMzRCxDQUVBLEVBb0lBLE1BQU11RSxFQUFVLElBN0hoQixNQUNJLFdBQUFsTixHQVVJakIsS0FBS29PLGFBQWUsSUFBSS9DLElBTXhCckwsS0FBS3FPLFlBQWMsSUFBSWhULElBR3ZCMkUsS0FBS3NPLFFBQVUsSUFBSWpCLEVBQU9yTixLQUFLdU8sT0FBT04sS0FBS2pPLE1BQ25ELENBRUksSUFBQWlPLENBQUtPLEVBQVE1SyxFQUFVNkosR0FFbkIsR0FBYXRSLE1BQVRzUixFQUNBQSxFQUFRLE9BQ0wsR0FBb0IsaUJBQVRBLEVBQ2QsTUFBTSxJQUFJN1IsTUFBTSwwQkFBMEI2UixLQUc5QyxJQUFJZ0IsRUFBVSxDQUFDRCxTQUFRNUssV0FBVTZKLFNBR2pDLEdBRkF6TixLQUFLb08sYUFBYU0sSUFBSUQsR0FFakJ6TyxLQUFLcU8sWUFBWXRJLElBQUl5SSxHQU10QnhPLEtBQUtxTyxZQUFZblIsSUFBSXNSLEdBQVFHLFNBQVM1SyxLQUFLMEssT0FOWixDQUMvQixJQUFJNUssRUFBTTJLLEVBQU96SCxHQUFHLFNBQVUvRyxLQUFLNE8sZUFBZVgsS0FBS2pPLE9BQ3ZEQSxLQUFLcU8sWUFBWXJJLElBQUl3SSxFQUFRLENBQ3pCM0ssTUFBS2dMLFNBQVMsRUFBT0YsU0FBVSxDQUFDRixJQUVoRCxDQUdRLE9BQU9BLENBQ2YsQ0FFSSxPQUFBSyxDQUFTTCxHQUdMLElBRGdCek8sS0FBS29PLGFBQWFXLE9BQU9OLEdBQzNCLE9BRWQsTUFBTUQsRUFBU0MsRUFBUUQsUUFDakIzSyxJQUFDQSxFQUFHOEssU0FBRUEsR0FBWTNPLEtBQUtxTyxZQUFZblIsSUFBSXNSLEdBRXZDdEosRUFBTXlKLEVBQVN4SixRQUFRc0osR0FDekJ2SixHQUFPLEdBQ1B5SixFQUFTdkosT0FBT0YsRUFBSyxHQUVGLEdBQW5CeUosRUFBU2hULFNBRVQ2UyxFQUFPeEgsSUFBSW5ELEdBQ1g3RCxLQUFLcU8sWUFBWVUsT0FBT1AsR0FFcEMsQ0FRSSxjQUFBSSxDQUFlckssRUFBTUcsR0FDakIsTUFBTThKLEVBQVM5SixFQUFNekIsSUFDZm1LLEVBQVE3SSxFQUVkdkUsS0FBS3FPLFlBQVluUixJQUFJc1IsR0FBUUssUUFBVXpCLEVBQU1yRSxRQUU3QyxNQUFNaUcsRUFBa0IsSUFBSWhQLEtBQUtxTyxZQUFZclMsVUFDeEN5SyxRQUFPd0ksR0FBU0EsRUFBTUosVUFDM0I3TyxLQUFLa1AsbUJBQW1CRixHQUV4QixNQUFNTCxTQUFDQSxHQUFZM08sS0FBS3FPLFlBQVluUixJQUFJc1IsR0FDeEMsSUFBSyxNQUFNQyxLQUFXRSxFQUNsQkYsRUFBUTdLLFNBQVN3SixFQUU3QixDQUVJLE1BQUFtQixHQUNJLE1BQU1ZLEVBQUs5RyxFQUFZQyxNQUV2QixJQUFLLE1BQU9rRyxFQUFRUyxLQUFValAsS0FBS3FPLFlBQy9CLEdBQUlZLEVBQU1KLFFBQVMsQ0FDZixNQUFNekIsRUFBUW9CLEVBQU90QyxNQUFNaUQsR0FFM0IsSUFBSyxNQUFNVixLQUFXUSxFQUFNTixTQUN4QkYsRUFBUTdLLFNBQVN3SixFQUVyQyxDQUVBLENBRUksa0JBQUE4QixDQUFtQkYsR0FDZixHQUE4QixHQUExQkEsRUFBZ0JyVCxPQUNoQnFFLEtBQUtzTyxRQUFRVixZQUNWLENBRUgsTUFBTXdCLEVBQVMsR0FDZixJQUFLLE1BQU1ILEtBQVNELEVBQ2hCLElBQUssTUFBTVAsS0FBV1EsRUFBTU4sU0FDeEJTLEVBQU9yTCxLQUFLMEssRUFBUWhCLE9BRzVCLE1BQU00QixFQUFZOUYsS0FBSzdLLE9BQU8wUSxHQUM5QnBQLEtBQUtzTyxRQUFRYixNQUFRNEIsRUFDckJyUCxLQUFLc08sUUFBUVYsUUFDYjVOLEtBQUtzTyxRQUFRUixRQUN6QixDQUNBLEdDN0tPLFNBQVN3QixFQUF1QmQsRUFBUWUsR0FDM0MsTUFBTW5DLEVBQVFvQixFQUFPZ0IsS0FBS3RELE1BQU1xRCxHQUNoQyxJQUFLckgsRUFBaUJrRixFQUFNclIsT0FDeEIsTUFBTSxJQUFJSCxNQUFNLDZDQUE2Q3dSLEVBQU1yUixTQUV2RSxPQUFPcVIsQ0FDWCxDQVVPLE1BQU1xQyxFQUVULFdBQUF4TyxHQUVJMkssRUFBa0I1TCxNQUVsQjZMLEVBQWtCN0wsTUFDbEJBLEtBQUs4RixlQUFlLFNBQVUsQ0FBQ3JDLE1BQUssR0FDNUMsQ0FNSSxLQUFBeUksR0FDSSxNQUFNLElBQUl0USxNQUFNLDBCQUN4QixDQUVJLFNBQUlHLEdBQVUsT0FBT2lFLEtBQUtrTSxRQUFRblEsS0FBSyxDQUV2QyxHQUFBbUIsR0FDSSxPQUFPOEMsS0FBS2tNLFFBQVFuUSxLQUM1QixDQUtJLHFCQUFBdUksQ0FBc0JkLEdBQ2xCLEdBQVksVUFBUkEsRUFDQSxNQUFPLENBQUN4RCxLQUFLa00sUUFFekIsQ0FNSSxJQUFBK0IsQ0FBS3JLLEVBQVU2SixFQUFPOU0sRUFBUSxDQUFBLEdBQzFCLE9Ea0lELFNBQWM2TixFQUFRNUssRUFBVTZKLEdBQ25DLE9BQU9VLEVBQVFGLEtBQUtPLEVBQVE1SyxFQUFVNkosRUFDMUMsQ0NwSWVRLENBQUtqTyxLQUFNNEQsRUFBVTZKLEVBQ3BDLENBQ0ksT0FBQXFCLENBQVF2SCxHQUNKLE9Ea0lnQmtILEVDbElEbEgsRURtSVo0RyxFQUFRVyxRQUFRTCxHQURwQixJQUFpQkEsQ0NqSXhCLENBR0ksUUFBQW5DLEdBQ0l0TSxLQUFLeUgsbUJBQ0x6SCxLQUFLaUcsZ0JBQWdCLFNBQVVqRyxLQUFLa00sUUFDNUMsRUNwRU8sU0FBU3dELEVBQWtCOUgsR0FDOUIsT0FBV3pMLE1BQVB5TCxJQUNFLFFBQVNBLEdBQ08sbUJBQVhBLEVBQUlVLElBRW5CLENEaUVBdUUsRUFBb0I0QyxFQUFPdkksV0FDM0I0RixFQUFvQjJDLEVBQU92SSxXQ3pEcEIsTUFBTXlJLEVBQXVCLFdBQ2hDLE1BQU1wRixFQUFLbEMsRUFBWUMsTUFDakJzSCxFQUFXcEgsRUFBWUYsTUFDN0IsTUFBTyxDQUNIQSxJQUFJLENBQUN1SCxFQUFXeEgsRUFBWUMsUUFDakJzSCxHQUFZQyxFQUFXdEYsR0FHMUMsQ0FSb0MsR0NmcEMsU0FBU3VGLEVBQVd2SixHQUdoQixPQUZBQSxFQUFLOUksSUFBTTBCLEVBQVNKLFdBQVd3SCxFQUFLOUksS0FDcEM4SSxFQUFLd0osR0FBS3hKLEVBQUt3SixJQUFNNUcsRUFBYyxJQUM1QjVDLENBQ1gsQ0FNTyxTQUFTeUosR0FBdUJwSSxHQUNuQyxRQUFLcUksRUFBeUJySSxLQUN4QixRQUFTQSxJQUNPLG1CQUFYQSxFQUFJMUssTUFDVCxXQUFZMEssR0FDTyxtQkFBZEEsRUFBSXNJLFNBRW5CLENBbUJPLE1BQU1DLEdBRVQsV0FBQWxQLENBQVlOLEVBQVEsSUFDaEJpTCxFQUFrQjVMLE1BQ2xCQSxLQUFLb1EsS0FBTyxJQUFJL1UsSUFFaEIsSUFBSWdWLE9BQUNBLEdBQVUxUCxFQUNEeEUsTUFBVmtVLEdBQ0FyUSxLQUFLc1EsUUFBUSxDQUFDRCxTQUFRRSxPQUFNLEdBRXhDLENBTUksTUFBQUwsQ0FBUU0sR0FDSixPQUFPdE0sUUFBUUMsVUFDZEMsTUFBSyxLQUNGLElBQUlxTSxFQUtKLE9BSmV0VSxNQUFYcVUsSUFDQUMsRUFBUXpRLEtBQUtzUSxRQUFRRSxHQUNyQnhRLEtBQUt5SCxpQkFBaUJnSixJQUVuQkEsQ0FBSyxHQUV4QixDQUVJLE9BQUFILENBQVFFLEdBQ0osTUFBTUUsRUFBVyxJQUFJclYsSUFDckIsSUFBSWdWLE9BQ0FBLEVBQU8sR0FBRU0sT0FDVEEsRUFBTyxHQUFFSixNQUNUQSxHQUFNLEdBQ05DLEVBR0osR0FBSUQsRUFBTyxDQUNQLElBQUssTUFBT1IsRUFBSXhKLEtBQVN2RyxLQUFLb1EsS0FBS1EsVUFDL0JGLEVBQVMxSyxJQUFJK0osRUFBSSxDQUFDQSxLQUFJYyxTQUFJMVUsRUFBVzJVLElBQUl2SyxJQUc3Q3ZHLEtBQUtvUSxLQUFPLElBQUkvVSxHQUM1QixNQUVZLElBQUssTUFBTTBVLEtBQU1ZLEVBQVEsQ0FDckIsSUFBSXBLLEVBQU92RyxLQUFLb1EsS0FBS2xULElBQUk2UyxHQUNiNVQsTUFBUm9LLElBQ0FtSyxFQUFTMUssSUFBSU8sRUFBS3dKLEdBQUksQ0FDbEJBLEdBQUd4SixFQUFLd0osR0FBSWMsU0FBSTFVLEVBQVcyVSxJQUFJdkssSUFFbkN2RyxLQUFLb1EsS0FBS3JCLE9BQU9nQixHQUVyQyxDQUdRLElBQUssSUFBSXhKLEtBQVE4SixFQUFRLENBQ3JCOUosRUFBT3VKLEVBQVd2SixHQUNsQixNQUFNdEosRUFBT3lULEVBQVN4VCxJQUFJcUosRUFBS3dKLElBQ3pCZSxFQUFlM1UsTUFBUmMsRUFBcUJBLEVBQUs2VCxJQUFNOVEsS0FBS29RLEtBQUtsVCxJQUFJcUosRUFBS3dKLElBQ2hFVyxFQUFTMUssSUFBSU8sRUFBS3dKLEdBQUksQ0FBQ0EsR0FBR3hKLEVBQUt3SixHQUFJYyxJQUFJdEssRUFBTXVLLFFBQzdDOVEsS0FBS29RLEtBQUtwSyxJQUFJTyxFQUFLd0osR0FBSXhKLEVBQ25DLENBQ1EsTUFBTyxJQUFJbUssRUFBUzFVLFNBQzVCLENBRUksR0FBQWtCLEdBQ0ksTUFBTyxJQUFJOEMsS0FBS29RLEtBQUtwVSxTQUN4QixFQ3RHRSxTQUFTK1UsR0FBcUJuSixHQUNqQyxRQUFLcUksRUFBeUJySSxLQUN4QixRQUFTQSxJQUNPLG1CQUFYQSxFQUFJMUssTUFDVCxRQUFTMEssR0FDTyxtQkFBWEEsRUFBSTVCLE1BRW5CLENEaUdBNkcsRUFBb0JzRCxHQUFtQmpKLFdDdEZoQyxNQUFNOEosR0FFVCxXQUFBL1AsQ0FBWU4sRUFBUSxJQUNoQmlMLEVBQWtCNUwsTUFDbEJBLEtBQUtpUixPQUFTLEdBRWQsTUFBTWxWLE1BQUNBLEdBQVM0RSxFQUNIeEUsTUFBVEosSUFDQWlFLEtBQUtpUixPQUFTLENBQUMsQ0FDWGxCLEdBQUk1RyxFQUFjLElBQ2xCMUwsSUFBSyxDQUFDLEtBQU0sTUFBTSxHQUFNLEdBQ3hCeVQsS0FBTSxTQUNOQyxLQUFNcFYsSUFHdEIsQ0FFSSxHQUFBaUssQ0FBS29MLEdBQ0QsT0FBT2xOLFFBQVFDLFVBQ1ZDLE1BQUssS0FDRnBFLEtBQUtpUixPQUFTRyxFQUNkcFIsS0FBS3lILGtCQUFrQixHQUV2QyxDQUVJLEdBQUF2SyxHQUNJLE9BQU84QyxLQUFLaVIsTUFDcEIsRUFFQXBFLEVBQW9CbUUsR0FBaUI5SixXQ3RDckMsTUFBTW1LLEdBQU8sVUFDUGxLLEdBQVMsS0FBS2tLLEtBRWIsU0FBU2pLLEdBQVU1QixHQUN0QkEsRUFBTyxHQUFHMkIsTUFBWSxJQUFJOUwsR0FDOUIsQ0FFTyxTQUFTc00sR0FBWW5DLEdBbUV4QixNQUFNcUMsRUFBTSxDQUFFLEVBQ2RBLEVBQUksR0FBR3dKLGVBbEVQLFNBQWtCQyxFQUFVM1EsRUFBUSxJQUNoQyxJQUFJNFEsUUFBQ0EsR0FBUSxHQUFRNVEsRUFDckIsTUFBTXlGLEVBQU1wRyxLQUFLLEdBQUdtSCxNQUNwQmYsRUFBSUosSUFBSXNMLEVBQVUsQ0FDZDdOLE1BQUssRUFDTDhOLFVBQ0FDLFlBQVFyVixFQUNSc1YsUUFBUyxLQUliNVcsT0FBTzZXLGVBQWUxUixLQUFNc1IsRUFBVSxDQUNsQ3BVLElBQUssV0FDRCxPQUFPa0osRUFBSWxKLElBQUlvVSxHQUFVRSxNQUM1QixFQUNEeEwsSUFBSyxTQUFVd0wsR0FDUHhSLEtBQUssR0FBR3FSLGNBQ1JHLEVBQVN4UixLQUFLLEdBQUdxUixZQUFjQyxFQUFVRSxJQUV6Q0EsR0FBVXBMLEVBQUlsSixJQUFJb1UsR0FBVUUsUUFDNUJ4UixLQUFLLEdBQUdtSCxhQUFpQm1LLEVBQVVFLEVBRXZELEdBRUEsRUEyQ0kzSixFQUFJLEdBQUdWLGFBekNQLFNBQWlCbUssRUFBVUUsR0FFdkIsTUFDTXBFLEVBRE1wTixLQUFLLEdBQUdtSCxNQUNGakssSUFBSW9VLEdBRXRCLEdBQUlsRSxFQUFNM0osT0FBUzJKLEVBQU1tRSxRQUNyQixNQUFNLElBQUkzVixNQUFNLEdBQUcwViwyQkFHdkIsTUFBTUssRUFBWWxXLE1BQU1DLFFBQVE4VixHQUFXQSxFQUFTLENBQUNBLEdBR3JELEdBQUlwRSxFQUFNcUUsUUFBUTlWLE9BQVMsRUFDdkIsSUFBSyxNQUFPdUosRUFBS2dFLEtBQU1yTyxPQUFPK1YsUUFBUWUsR0FDOUI1SixFQUFnQm1CLElBQ2hCQSxFQUFFMUIsZ0JBQWdCNEYsRUFBTXFFLFFBQVF2TSxJQVc1QyxHQVBBa0ksRUFBTXFFLFFBQVUsR0FHaEJyRSxFQUFNb0UsT0FBU0EsRUFDZnBFLEVBQU0zSixNQUFPLEVBR1R6RCxLQUFLLEdBQUdxUixlQUFrQixDQUMxQixNQUFNL0osRUFBVSxTQUFVL0MsR0FDdEJ2RSxLQUFLLEdBQUdxUixlQUFpQkMsRUFBVS9NLEVBQ25ELEVBQWMwSixLQUFLak8sTUFDUCxJQUFLLE1BQU1rSixLQUFLeUksRUFDUjVKLEVBQWdCbUIsSUFDaEJrRSxFQUFNcUUsUUFBUTFOLEtBQUttRixFQUFFN0IsYUFBYUMsSUFHMUN0SCxLQUFLLEdBQUdxUixlQUFpQkMsRUFBVSxRQUMvQyxDQUNBLEVBS0l6VyxPQUFPaU4sT0FBT3RDLEVBQVFxQyxFQUMxQixDQzlFTyxNQUFNK0osR0FFWixXQUFBM1EsR0FDQ2pCLEtBQUs2UixPQUFTLEVBQ2hCLENBRUMsUUFBSUMsR0FBUSxPQUFPOVIsS0FBSzZSLE9BQU9sVyxNQUFPLENBQ3RDLFNBQUlvVyxHQUFTLE9BQU8vUixLQUFLNlIsTUFBTyxDQWNoQyxPQUFBMU0sQ0FBUTZNLEdBQ1AsTUFBTUMsRUFBWTlULEVBQVNZLFdBQVdpVCxHQUN0QyxJQUFJRSxFQUFXLEVBQ1hDLEVBQVluUyxLQUFLNlIsT0FBT2xXLE9BQVMsRUFDckMsS0FBT3VXLEdBQVlDLEdBQVcsQ0FDN0IsTUFBTUMsRUFBVTdJLEtBQUtDLE9BQU8wSSxFQUFXQyxHQUFhLEdBQ3BELElBQUlFLEVBQVlyUyxLQUFLNlIsT0FBT08sR0FDNUIsR0FBSWpVLEVBQVNNLEdBQUc0VCxFQUFXSixHQUMxQixNQUFPLEVBQUMsRUFBTUcsR0FDSmpVLEVBQVNFLEdBQUdnVSxFQUFXSixHQUMvQkMsRUFBV0UsRUFBVSxFQUVyQkQsRUFBWUMsRUFBVSxDQUU1QixDQUNJLE1BQU8sRUFBQyxFQUFPRixFQUNuQixDQU1DLFNBQUFJLENBQVVOLEdBQ1QsSUFBS08sRUFBT3JOLEdBQU9sRixLQUFLbUYsUUFBUTZNLEdBQ2hDLE9BQVE5TSxFQUFNbEYsS0FBSzZSLE9BQU9sVyxPQUFVdUosR0FBTyxDQUM3QyxDQU1DLFNBQUFzTixDQUFVUixHQUNULElBQUtPLEVBQU9yTixHQUFPbEYsS0FBS21GLFFBQVE2TSxHQUVoQyxPQURBOU0sRUFBTSxFQUFVQSxFQUFNQSxFQUFJLEVBQ2xCQSxHQUFPLEVBQUtBLEdBQU8sQ0FDN0IsQ0FNQyxTQUFBdU4sQ0FBVVQsR0FDVCxJQUFLTyxFQUFPck4sR0FBT2xGLEtBQUttRixRQUFRNk0sR0FFaEMsT0FEQTlNLEVBQU0sRUFBVUEsRUFBTSxFQUFJQSxFQUNsQkEsRUFBTWxGLEtBQUs2UixPQUFPbFcsT0FBVXVKLEdBQU8sQ0FDN0MsQ0FNQyxTQUFBd04sQ0FBVVYsR0FDVCxJQUFLTyxFQUFPck4sR0FBT2xGLEtBQUttRixRQUFRNk0sR0FFaEMsT0FEQTlNLEdBQVUsRUFDRkEsR0FBTyxFQUFLQSxHQUFPLENBQzdCLENBa0JDLE1BQUFnTCxDQUFPeUMsRUFBWSxHQUFJQyxFQUFZLElBYWxDLElBQUlDLEVBQWtCLEdBQ3RCLElBQUssSUFBSTlXLEtBQVM0VyxFQUFhLENBQzlCLElBQUtKLEVBQU9yTixHQUFPbEYsS0FBS21GLFFBQVFwSixHQUM1QndXLEdBQ0hNLEVBQWdCOU8sS0FBS21CLEVBRXpCLENBQ0UsSUFBSyxJQUFJQSxLQUFPMk4sRUFDZjdTLEtBQUs2UixPQUFPM00sUUFBTy9JLEVBRXBCLElBQUkyVyxFQUFjRCxFQUFnQmxYLE9BQVMsRUFhdkNvWCxFQUFjSCxFQUFZalgsT0FBUyxFQUNuQ29YLEdBc0ZOLFNBQXlCQyxFQUFXQyxHQUNuQyxNQUFNQyxFQUFtQkYsRUFBVXJYLE9BQzdCd1gsRUFBb0JGLEVBQVd0WCxPQUNuQ3FYLEVBQVVyWCxRQUFVd1gsRUFDcEIsSUFBSyxJQUFJdE0sRUFBSSxFQUFHQSxFQUFJc00sRUFBbUJ0TSxJQUNyQ21NLEVBQVVFLEVBQW1Cck0sR0FBS29NLEVBQVdwTSxFQUVsRCxDQTVGR3VNLENBQWdCcFQsS0FBSzZSLE9BQVFlLElBTzFCRSxHQUFlQyxJQUNsQi9TLEtBQUs2UixPQUFPdFAsS0FBS3BFLEVBQVNLLEtBT3ZCc1UsSUFDSDlTLEtBQUs2UixPQUFPbFcsUUFBVWtYLEVBQWdCbFgsUUFTbkNvWCxHQXdFTixTQUEyQk0sR0FDMUIsSUFBSXhNLEVBQUksRUFDUixPQUNLQSxFQUFJLEdBQUt3TSxFQUFXMVgsU0FHcEJ3QyxFQUFTTSxHQUFHNFUsRUFBV3hNLEdBQUl3TSxFQUFXeE0sRUFBSSxJQUM3Q3dNLEVBQVdqTyxPQUFPeUIsRUFBSSxFQUFHLEdBRXpCQSxHQUFLLENBR1IsQ0FuRkd5TSxDQUFrQnRULEtBQUs2UixPQUUxQixDQUtDLFlBQUEwQixDQUFhck8sR0FDWixHQUFJQSxHQUFPLEdBQUtBLEVBQU1sRixLQUFLNlIsT0FBT2xXLE9BQ2pDLE9BQU9xRSxLQUFLNlIsT0FBTzNNLEVBRXRCLENBS0MsTUFBQXNPLENBQU8vVixHQUNLdEIsTUFBUHNCLElBQ0hBLEVBQU0sQ0FBQyxLQUFNLE1BQU0sR0FBTSxJQUUxQixJQUFLZ1csRUFBTUMsR0FBUXZWLEVBQVNXLGNBQWNyQixHQUN0Q2tXLEVBQVEzVCxLQUFLc1MsVUFBVW1CLEdBQ3ZCRyxFQUFRNVQsS0FBS3dTLFVBQVVrQixHQUMzQixPQUFjLEdBQVZDLElBQXlCLEdBQVZDLEVBQ1gsR0FFQTVULEtBQUs2UixPQUFPblAsTUFBTWlSLEVBQU9DLEVBQU0sRUFFekMsQ0FFQyxFQUFBdlYsQ0FBSXlCLEdBQ0gsT0FBT0UsS0FBS3VULGFBQWF2VCxLQUFLMFMsVUFBVTVTLEdBQzFDLENBQ0MsRUFBQTFCLENBQUkwQixHQUNILE9BQU9FLEtBQUt1VCxhQUFhdlQsS0FBS3dTLFVBQVUxUyxHQUMxQyxDQUNDLEdBQUE1QyxDQUFLNEMsR0FDSixJQUFLeVMsRUFBT3JOLEdBQU9sRixLQUFLbUYsUUFBUXJGLEdBQ2hDLEdBQUl5UyxFQUNILE9BQU92UyxLQUFLNlIsT0FBTzNNLEVBRXRCLENBQ0MsRUFBQTNHLENBQUl1QixHQUNILE9BQU9FLEtBQUt1VCxhQUFhdlQsS0FBS3lTLFVBQVUzUyxHQUMxQyxDQUNDLEVBQUF4QixDQUFJd0IsR0FDSCxPQUFPRSxLQUFLdVQsYUFBYXZULEtBQUtzUyxVQUFVeFMsR0FDMUMsRUN2TkEsTUFBTTVFLFdBQUNBLEdBQVVDLFNBQUVBLEdBQVFILFlBQUVBLEdBQVdELFVBQUVBLElBQWFvRCxFQUFTYSxNQUMxRDZVLEdBQVcsQ0FBQzNZLEdBQVlDLEdBQVVILEdBQWFELElBSXJELE1BQU0rWSxHQUNMLFdBQUE3UyxHQUNDakIsS0FBS29RLEtBQU8sSUFBSS9VLElBQUksQ0FDbkIsQ0FBQ0gsR0FBWSxJQUFJbVEsS0FDakIsQ0FBQ2xRLEdBQVUsSUFBSWtRLEtBQ2YsQ0FBQ3JRLEdBQWEsSUFBSXFRLEtBQ2xCLENBQUN0USxHQUFXLElBQUlzUSxNQUVuQixDQUNDLEdBQUFxRCxDQUFJblQsR0FDSCxNQUFPUSxFQUFPbVYsR0FBUTNWLEVBQ3RCLE9BQU95RSxLQUFLb1EsS0FBS2xULElBQUlnVSxHQUFNeEMsSUFBSTNTLEVBQ2pDLENBQ0MsR0FBQWdLLENBQUt4SyxHQUNKLE1BQU9RLEVBQU9tVixHQUFRM1YsRUFDdEIsT0FBT3lFLEtBQUtvUSxLQUFLbFQsSUFBSWdVLEdBQU1uTCxJQUFJaEssRUFDakMsQ0FDQyxHQUFBbUIsQ0FBSTNCLEdBQ0gsTUFBT1EsRUFBT21WLEdBQVEzVixFQUN0QixPQUFPeUUsS0FBS29RLEtBQUtsVCxJQUFJZ1UsR0FBTWhVLElBQUluQixFQUNqQyxDQUVDLElBQUFnWSxHQUNDLE1BQU1DLEVBQVFILEdBQVN6TixLQUFLOEssR0FDcEIsSUFBSWxSLEtBQUtvUSxLQUFLbFQsSUFBSWdVLEdBQU1sVixVQUM3Qm9LLEtBQUtySyxHQUFVLENBQUNBLEVBQU9tVixPQUUxQixNQUFPLEdBQUcrQyxVQUFVRCxFQUN0QixFQWtCQSxNQUFNRSxHQUFNLE1BQ05DLEdBQVMsU0FDVEMsR0FBTyxPQUdiLE1BQU1DLEdBRUwsV0FBQXBULEdBRUNqQixLQUFLb1EsS0FBTyxJQUFJL1UsSUFBSSxDQUNuQixDQUFDSCxHQUFZLElBQUlHLEtBQ2pCLENBQUNGLEdBQVUsSUFBSUUsS0FDZixDQUFDTCxHQUFhLElBQUlLLEtBQ2xCLENBQUNOLEdBQVcsSUFBSU0sTUFFbkIsQ0FFQyxpQkFBQWlaLENBQW1CL1ksRUFBSWdaLEdBQ3RCLE1BQU94WSxFQUFPbVYsR0FBUTNWLEVBQ2hCMFQsRUFBUWpQLEtBQUtvUSxLQUFLbFQsSUFBSWdVLEdBQU1oVSxJQUFJbkIsR0FDdEMsT0FBaUJJLE1BQVQ4UyxFQUFzQkEsRUFBTXNGLEdBQVEsRUFDOUMsQ0FNQyxRQUFBQyxDQUFTalosRUFBSWdMLEVBQU1nTyxHQUNsQixNQUFPeFksRUFBT21WLEdBQVEzVixFQUNoQmtaLEVBQVd6VSxLQUFLb1EsS0FBS2xULElBQUlnVSxHQUMxQnVELEVBQVMxTyxJQUFJaEssSUFDakIwWSxFQUFTek8sSUFBSWpLLEVBQU8sQ0FBQzJCLElBQUssR0FBSWdYLE9BQU8sR0FBSS9XLEtBQUssS0FFL0MsTUFBTXNSLEVBQVF3RixFQUFTdlgsSUFBSW5CLEdBQ3JCNFksRUFBWTFGLEVBQU1pRixJQUFLdlksT0FBU3NULEVBQU1tRixJQUFNelksUUFBVSxHQUloRCxHQUhGc1QsRUFBTXNGLEdBQU1LLFdBQVdDLEdBQ3pCQSxFQUFNOUUsSUFBTXhKLEVBQUt3SixNQUd4QmQsRUFBTXNGLEdBQU14USxLQUFLd0MsR0FFbEIsTUFBTXVPLEVBQVc3RixFQUFNaUYsSUFBS3ZZLE9BQVNzVCxFQUFNbUYsSUFBTXpZLFFBQVUsRUFDM0QsT0FBT2daLElBQWNHLENBQ3ZCLENBTUMsVUFBQUMsQ0FBV3haLEVBQUlnTCxHQUNkLE1BQU94SyxFQUFPbVYsR0FBUTNWLEVBQ2hCa1osRUFBV3pVLEtBQUtvUSxLQUFLbFQsSUFBSWdVLEdBQ3pCakMsRUFBUXdGLEVBQVN2WCxJQUFJbkIsR0FDM0IsR0FBYUksTUFBVDhTLEVBQW9CLENBQ3ZCLE1BQU0wRixFQUFZMUYsRUFBTWlGLElBQUt2WSxPQUFTc1QsRUFBTW1GLElBQU16WSxRQUFVLEVBRTVELElBQUssTUFBTTRZLElBQVEsQ0FBQ0wsR0FBS0MsR0FBUUMsSUFBTyxDQUN2QyxJQUFJbFAsRUFBTStKLEVBQU1zRixHQUFNSyxXQUFXQyxHQUN6QkEsRUFBTTlFLElBQU14SixFQUFLd0osS0FFckI3SyxHQUFPLEdBQ1YrSixFQUFNc0YsR0FBTW5QLE9BQU9GLEVBQUssRUFFN0IsQ0FDRyxNQUFNNFAsRUFBVzdGLEVBQU1pRixJQUFLdlksT0FBU3NULEVBQU1tRixJQUFNelksUUFBVSxFQUMzRCxJQUFLZ1osR0FBYUcsRUFHakIsT0FEQUwsRUFBUzFGLE9BQU9oVCxJQUNULENBRVgsQ0FDRSxPQUFPLENBQ1QsRUFVTyxNQUFNaVosV0FBb0JwVixFQUU3QixXQUFBcUIsQ0FBWWdVLEdBR2QsR0FGTS9SLFNBR0o4TSxHQUF1QmlGLEtBQ3ZCbEUsR0FBcUJrRSxHQUV0QixNQUFNLElBQUlyWixNQUFNLGdFQUFnRXFaLEtBRTNFalYsS0FBS2tWLElBQU1ELEVBQ2pCalYsS0FBS21WLGNBQ0xuVixLQUFLb1YsU0FDUCxDQUVJLE9BQUluUyxHQUFRLE9BQU9qRCxLQUFLa1YsR0FBSSxDQUcvQixXQUFBQyxHQUVDblYsS0FBS3FWLFVBQVksSUFBSWhCLEdBRXJCclUsS0FBS3NWLFdBQWEsSUFBSTFELEdBRXRCNVIsS0FBS3NCLE9BQVMsRUFDaEIsQ0FHQyxPQUFBOFQsQ0FBUTNFLEdBRVAsTUFBTThFLEVBQW1CLElBQUl6QixHQUN2QjBCLEVBQW1CLElBQUkxQixHQUU3QixJQW1DSTJCLEVBbkNBQyxFQUFlLEdBQ2ZDLEVBQWUsR0FFbkIsR0FBYXhaLE1BQVRzVSxFQUNIaUYsRUFBZTFWLEtBQUtpRCxJQUFJL0YsT0FBUyxHQUVqQzhDLEtBQUttVixtQkFHTCxJQUFLLE1BQU1sWSxLQUFRd1QsRUFDRnRVLE1BQVpjLEVBQUs0VCxLQUNSNkUsRUFBYTNSLEtBQUs5RyxFQUFLNFQsS0FFUjFVLE1BQVpjLEVBQUs2VCxLQUNSNkUsRUFBYTVSLEtBQUs5RyxFQUFLNlQsS0FTMUIsSUFBSyxNQUFNdkssS0FBUW9QLEVBQ2xCLElBQUssTUFBTXBhLEtBQU15RSxLQUFLc1YsV0FBVzlCLE9BQU9qTixFQUFLOUksS0FBTSxDQUU3QnVDLEtBQUtxVixVQUFVTixXQUFXeFosRUFBSWdMLElBQ2pDZ1AsRUFBaUI3RyxJQUFJblQsRUFDdkMsQ0FRRixJQUFLLE1BQU1nTCxLQUFRbVAsRUFBYyxDQUNoQyxNQUFPaFksRUFBS0MsR0FBUVEsRUFBU1csY0FBY3lILEVBQUs5SSxLQUNoRGdZLEVBQWtCelYsS0FBS3FWLFVBQVViLFNBQVM5VyxFQUFLNkksRUFBTTJOLElBQ2pEdUIsR0FBaUJELEVBQWlCOUcsSUFBSWhSLEdBQzFDK1gsRUFBa0J6VixLQUFLcVYsVUFBVWIsU0FBUzdXLEVBQU00SSxFQUFNNk4sSUFDbERxQixHQUFpQkQsRUFBaUI5RyxJQUFJL1EsRUFDN0MsQ0FPRXFDLEtBQUtzVixXQUFXcEYsT0FDZnFGLEVBQWlCeEIsT0FDakJ5QixFQUFpQnpCLFFBTWxCLE1BQU02QixFQUFZLElBQUl2SyxJQUN0QixJQUFLLE1BQU05UCxLQUFNeUUsS0FBS3NWLFdBQVd2RCxNQUFPLENBRXZDLElBQUssSUFBSXhMLEtBQVF2RyxLQUFLcVYsVUFBVWYsa0JBQWtCL1ksRUFBSTJZLElBQ3JEMEIsRUFBVWxILElBQUluSSxHQUdmLElBQUssSUFBSUEsS0FBUXFQLEVBQ2hCNVYsS0FBS3FWLFVBQVViLFNBQVNqWixFQUFJZ0wsRUFBTTROLElBR25DLElBQUssSUFBSTVOLEtBQVF2RyxLQUFLcVYsVUFBVWYsa0JBQWtCL1ksRUFBSTZZLElBQ3JEd0IsRUFBVTdHLE9BQU94SSxFQUVyQixDQUNBLENBRUMsT0FBQXNQLENBQVMvVixHQUNSLE1BQU12RSxFQUFLNEMsRUFBU1ksV0FBV2UsR0FDekJuRCxFQUFNcUQsS0FBS3NWLFdBQVdsWCxHQUFHN0MsSUFBTzRDLEVBQVNlLFFBQ3pDdEMsRUFBTW9ELEtBQUtzVixXQUFXaFgsR0FBRy9DLElBQU80QyxFQUFTYyxRQUMvQyxHQUFJZCxFQUFTTSxHQUFHOUIsRUFBS0MsR0FDcEIsT0FBT29ELEtBQUtxVixVQUFVZixrQkFBa0IzWCxFQUFLd1gsSUFDdkMsQ0FFTixNQUFNMkIsRUFBUzlWLEtBQUtxVixVQUFVZixrQkFBa0IzWCxFQUFLd1gsSUFDL0M0QixFQUFTL1YsS0FBS3FWLFVBQVVmLGtCQUFrQjFYLEVBQUt1WCxJQUUvQzZCLEVBQVEsSUFBSTNLLElBQUl5SyxFQUFPMVAsS0FBSUcsR0FBUUEsRUFBS3dKLE1BQzlDLE9BQU9nRyxFQUFPdFAsUUFBT0YsR0FBUXlQLEVBQU1qUSxJQUFJUSxFQUFLd0osS0FDL0MsQ0FDQSxDQUtDLE1BQUFsUSxDQUFPQyxHQUNOLE1BQU12RSxFQUFLNEMsRUFBU1ksV0FBV2UsR0FHL0IsSUFBSUksRUFBU0YsS0FBSzZWLFFBQVF0YSxHQUMxQixNQUFNNkcsRUFBbUIsR0FDbkJELEVBQWtCLEdBQ3hCLElBQUssTUFBTW9FLEtBQVFyRyxFQUFRLENBQzFCLE1BQU94QyxFQUFLQyxHQUFRUSxFQUFTVyxjQUFjeUgsRUFBSzlJLEtBQ2hEMkUsRUFBaUIyQixLQUFLcEcsR0FDdEJ3RSxFQUFnQjRCLEtBQUtyRyxFQUN4QixDQUdFLElBQ0kwVCxFQURBbFAsRUFBWTNHLEVBRWhCLE9BQ0MyRyxFQUFZbEMsS0FBS3NWLFdBQVdqWCxHQUFHNkQsSUFBYy9ELEVBQVNlLFFBQ2xDLE1BQWhCZ0QsRUFBVSxLQUdka1AsRUFBUXBSLEtBQUtxVixVQUFVZixrQkFBa0JwUyxFQUFXa1MsSUFDaERoRCxFQUFNelYsT0FBUyxNQU1wQixJQUFJMEcsRUFBVzlHLEVBQ2YsT0FDQzhHLEVBQVdyQyxLQUFLc1YsV0FBVy9XLEdBQUc4RCxJQUFhbEUsRUFBU2MsUUFDakMsTUFBZm9ELEVBQVMsS0FHYitPLEVBQVFwUixLQUFLcVYsVUFBVWYsa0JBQWtCalMsRUFBVTZSLElBQy9DOUMsRUFBTXpWLE9BQVMsTUFLcEIsT0FBT3NHLEVBQ05DLEVBQ0FDLEVBQ0FqQyxFQUNBa0MsRUFDQUMsRUFFSCxFQ3hTTyxNQUFNNFQsR0FFWixXQUFBaFYsQ0FBWXhELEdBQ1h1QyxLQUFLa1csS0FBT3pZLENBQ2QsQ0FFQyxPQUFJQSxHQUFPLE9BQU91QyxLQUFLa1csSUFBSyxDQU16QixLQUFBOUksQ0FBTXROLEdBQ0wsTUFBTSxJQUFJbEUsTUFBTSxrQkFDckIsQ0FPSSxLQUFBc1EsQ0FBTXBNLEdBQ0YsT0FBSVgsRUFBU0UsYUFBYVcsS0FBS2tXLEtBQU1wVyxHQUMxQixJQUFJRSxLQUFLb04sTUFBTXROLEdBQVNBLFVBRTVCLENBQUMvRCxXQUFPSSxFQUFXNE0sU0FBUSxFQUFPakosU0FDakQsRUFPTyxNQUFNcVcsV0FBc0JGLEdBRWxDLFdBQUFoVixDQUFZeEQsRUFBSzBULEdBQ1ZqTyxNQUFNekYsR0FDWnVDLEtBQUtpSCxPQUFTa0ssQ0FDaEIsQ0FFQyxLQUFBL0QsR0FDTyxNQUFPLENBQUNyUixNQUFPaUUsS0FBS2lILE9BQVE4QixTQUFRLEVBQzVDLEVBUU8sTUFBTXFOLFdBQXNCSCxHQUUvQixXQUFBaFYsQ0FBWXhELEVBQUswVCxHQUNiak8sTUFBTXpGLEdBQ051QyxLQUFLcVcsUUFBVWxGLENBQ3ZCLENBRUksS0FBQS9ELENBQU10TixHQUNGLE1BQU9SLEVBQUV6RCxFQUFFVyxFQUFFVixHQUFLK08sRUFBYUMsVUFBVTlLLEtBQUtxVyxRQUFTdlcsR0FDdkQsTUFBTyxDQUFDL0QsTUFBT3VELEVBQUd5SixRQUFlLEdBQUxsTixHQUFlLEdBQUxXLEVBQzlDLEVBZUEsU0FBUzhaLEdBQVFuSCxHQUNiLE9BQU81RixLQUFLaUIsSUFBSTJFLEVBQUcsRUFDdkIsQ0FZTyxNQUFNb0gsV0FBMEJOLEdBRXRDLFdBQUFoVixDQUFZeEQsRUFBSzBULEdBQ2hCak8sTUFBTXpGLEdBQ0EsSUFBSTRNLEdBQUNBLEVBQUV4TixHQUFFQSxFQUFFMlosT0FBRUEsR0FBVXJGLEdBQ2xCNUcsRUFBSXpOLEdBQU1rRCxLQUFLa1csS0FBS3hULE1BQU0sRUFBRSxHQUdqQzFDLEtBQUt5VyxTQUFXNVosRUFBR3dOLEdBQU0sRUFDekJySyxLQUFLMFcsT0FBUyxTQUFVdkgsR0FpQnBCLE9BYkFBLEdBQVU1RSxFQUNWNEUsR0FBUXdILFdBQVc3WixFQUFHeU4sR0FFUixXQUFWaU0sRUFDQXJILEVBQUttSCxHQUFPbkgsR0FDSyxZQUFWcUgsRUFDUHJILEVBOUJoQixTQUFrQkEsR0FDZCxPQUFPLEVBQUltSCxHQUFPLEVBQUluSCxFQUMxQixDQTRCcUJ5SCxDQUFRekgsR0FDSSxlQUFWcUgsSUFDUHJILEVBN0JoQixTQUFvQkEsR0FDaEIsT0FBSUEsRUFBSyxHQUNFbUgsR0FBTyxFQUFJbkgsR0FBTSxHQUVoQixFQUFJbUgsR0FBTyxHQUFLLEVBQUluSCxLQUFRLENBRTVDLENBdUJxQjBILENBQVUxSCxJQUduQkEsRUFBSzVGLEtBQUs1SyxJQUFJd1EsRUFBSSxHQUNsQkEsRUFBSzVGLEtBQUs3SyxJQUFJeVEsRUFBSSxHQUNYOUUsR0FBTXhOLEVBQUd3TixHQUFJOEUsQ0FDaEMsQ0FDQSxDQUVDLEtBQUEvQixDQUFNdE4sR0FDQyxNQUFPLENBQUMvRCxNQUFPaUUsS0FBSzBXLE9BQU81VyxHQUFTaUosUUFBUS9JLEtBQUt5VyxTQUN6RCxFQTZETyxNQUFNSyxXQUE2QmIsR0FFdEMsV0FBQWhWLENBQVl4RCxFQUFLc1osR0FDYjdULE1BQU16RixHQUVOdUMsS0FBSzBXLE9BL0NiLFNBQXFCSyxHQUVqQixHQUFJQSxFQUFPcGIsT0FBUyxFQUNoQixPQUFPLFdBQTJDLEVBQy9DLEdBQXFCLEdBQWpCb2IsRUFBT3BiLE9BQ2QsT0FBTyxXQUEwQixPQUFPb2IsRUFBTyxHQUFHLEVBQUcsRUFJekQsTUFBTUMsRUFBZSxJQUFJRCxHQUFReFUsTUFBSyxDQUFDL0YsRUFBR0MsSUFBTUQsRUFBRSxHQUFLQyxFQUFFLEtBRXpELE9BQU8sU0FBc0JxRCxHQUUzQixHQUFJQSxHQUFVa1gsRUFBYSxHQUFHLEdBQUksQ0FDaEMsTUFBT0MsRUFBUUMsR0FBV0YsRUFBYSxJQUNoQ0csRUFBUUMsR0FBV0osRUFBYSxHQUN2QyxPQUFPQyxHQUFXblgsRUFBU29YLElBQVlDLEVBQVNGLElBQVdHLEVBQVVGLEVBQzdFLENBR00sR0FBSXBYLEdBQVVrWCxFQUFhQSxFQUFhcmIsT0FBUyxHQUFHLEdBQUksQ0FDdEQsTUFBT3NiLEVBQVFDLEdBQVdGLEVBQWFBLEVBQWFyYixPQUFTLElBQ3REd2IsRUFBUUMsR0FBV0osRUFBYUEsRUFBYXJiLE9BQVMsR0FDN0QsT0FBT3NiLEdBQVduWCxFQUFTb1gsSUFBWUMsRUFBU0YsSUFBV0csRUFBVUYsRUFDN0UsQ0FHTSxJQUFLLElBQUlyUSxFQUFJLEVBQUdBLEVBQUltUSxFQUFhcmIsT0FBUyxFQUFHa0wsSUFDM0MsR0FBSS9HLEdBQVVrWCxFQUFhblEsR0FBRyxJQUFNL0csR0FBVWtYLEVBQWFuUSxFQUFJLEdBQUcsR0FBSSxDQUNwRSxNQUFPb1EsRUFBUUMsR0FBV0YsRUFBYW5RLElBQ2hDc1EsRUFBUUMsR0FBV0osRUFBYW5RLEVBQUksR0FFM0MsT0FBT29RLEdBQVduWCxFQUFTb1gsSUFBWUMsRUFBU0YsSUFBV0csRUFBVUYsRUFDL0UsQ0FLSyxDQUNMLENBUXNCRyxDQUFZTixFQUNsQyxDQUVJLEtBQUEzSixDQUFNdE4sR0FDRixNQUFPLENBQUMvRCxNQUFPaUUsS0FBSzBXLE9BQU81VyxHQUFTaUosU0FBUSxFQUNwRCxFQVFPLFNBQVN1TyxHQUFhN1osRUFBSzhJLEdBQzlCLElBQUkySyxLQUFDQSxFQUFLLFNBQVFDLEtBQUVBLEdBQVE1SyxFQUM1QixNQUFZLFVBQVIySyxFQUNPLElBQUlpRixHQUFjMVksRUFBSzBULEdBQ2YsY0FBUkQsRUFDQSxJQUFJcUYsR0FBa0I5WSxFQUFLMFQsR0FDbkIsaUJBQVJELEVBQ0EsSUFBSTRGLEdBQXFCclosRUFBSzBULEdBQ3RCLFVBQVJELEVBQ0EsSUFBSWtGLEdBQWMzWSxFQUFLMFQsUUFFOUJwTSxRQUFRQyxJQUFJLDRCQUE2QmtNLEVBRWpELENDcE5PLFNBQVNxRyxHQUFnQjNQLEdBQzVCLEdBQVd6TCxNQUFQeUwsRUFBa0IsT0FBTyxFQUU3QixLQUFNQSxhQUFlMkQsR0FBUSxPQUFPLEVBRXBDLE1BQU1pTSxFQUFPM2MsT0FBTzRjLHlCQUF5QjdQLEVBQUssT0FDbEQsT0FBa0MsTUFBM0I0UCxHQUFNdGEsTUFBT3NhLEdBQU14UixJQUU5QixDQUVPLFNBQVMwUixHQUFZL1csRUFBUSxJQUVoQyxNQUFNc0MsSUFBQ0EsS0FBUXlJLEdBQVEvSyxFQUNqQm9NLEVBQVEsSUFBSXhCLEVBQU0sQ0FBQ0MsV0FBV21NLE1BQW9Cak0sSUF5RHhELE9BdERBa00sR0FBaUI3SyxHQUNqQjhLLEdBQW1COUssR0FFbkJBLEVBQU0rSyxpQkFBaUIsT0FDdkIvSyxFQUFNZ0wsY0FBZ0IsU0FBVXpHLEVBQVVyTyxHQUN0QyxHQUFnQixPQUFacU8sRUFBbUIsQ0FDbkIsSUFBTXRCLEdBQXVCL00sS0FBVzhOLEdBQXFCOU4sR0FDekQsTUFBTSxJQUFJckgsTUFBTSxxREFBcURxSCxLQUV6RSxPQUFPQSxDQUNuQixDQUNBLEVBQ0k4SixFQUFNaUwsaUJBQW1CLFNBQVUxRyxFQUFVL00sR0FDekIsT0FBWitNLElBQ1ksU0FBUi9NLElBQ0l5TCxHQUF1QmpELEVBQU05SixNQUV0QjhOLEdBQXFCaEUsRUFBTTlKLFFBRGxDOEosRUFBTTdMLE1BQVEsSUFBSThULEdBQVlqSSxFQUFNOUosTUFLekI5RyxNQUFmNFEsRUFBTTdMLFFBQ0Y4TyxHQUF1QmpELEVBQU05SixLQUM3QjhKLEVBQU03TCxNQUFNa1UsUUFBUTdRLEdBQ2J3TSxHQUFxQmhFLEVBQU05SixNQUNsQzhKLEVBQU03TCxNQUFNa1UsVUFFaEJySSxFQUFNVCxZQUd0QixFQU9JUyxFQUFNa0wsVUFBWSxTQUFtQm5ZLEdBQ2pDLE1BQU8sSUFBSWlOLEVBQU03TCxNQUFNckIsT0FBT0MsR0FBUUksT0FDOUMsRUFLSTZNLEVBQU1tRCxPQUFTLFNBQWdCTSxHQUMzQixPQUFPMEgsR0FBYW5MLEVBQU95RCxFQUNuQyxFQUNJekQsRUFBTW9MLE9BQVMsU0FBZ0IvRyxFQUFPdFIsR0FDbEMsT0FrSVIsU0FBc0JpTixFQUFPcUUsRUFBT3RSLEdBQ2hDLE1BQU12RSxFQUFLNEMsRUFBU1ksV0FBV2UsR0FHekI0VixFQUFldEUsRUFDaEIzSyxRQUFRRixJQUVMLE1BQU02UixFQUFTamEsRUFBU1csY0FBY3lILEVBQUs5SSxLQUFLLEdBQ2hELE9BQU9VLEVBQVNHLEdBQUc4WixFQUFRN2MsRUFBRyxJQUVqQzZLLEtBQUtHLElBRUYsR0FBSXBILEVBQVNDLGdCQUFnQm1ILEVBQUs5SSxJQUFLbEMsR0FBSyxDQUN4QyxNQUFNOGMsRUFBVyxJQUFJOVIsR0FFckIsT0FEQThSLEVBQVM1YSxJQUFNLENBQUNxQyxFQUFReUcsRUFBSzlJLElBQUksSUFBSSxFQUFNOEksRUFBSzlJLElBQUksSUFDN0M0YSxDQUN2QixDQUNZLE9BQU85UixDQUFJLElBTWIrUixFQUFldkwsRUFBTTdMLE1BQU1yQixPQUFPQyxHQUFRSSxPQUFPa0csS0FBS0csSUFDeEQsTUFBTThSLEVBQVcsSUFBSTlSLEdBRXJCLE9BREE4UixFQUFTNWEsSUFBTSxDQUFDOEksRUFBSzlJLElBQUksR0FBSXFDLEVBQVF5RyxFQUFLOUksSUFBSSxJQUFJLEdBQzNDNGEsQ0FBUSxJQU1iMUgsRUFBUzVELEVBQU05SixJQUFJL0YsTUFDcEJ1SixRQUFRRixJQUNMLE1BQU1nUyxFQUFRcGEsRUFBU1csY0FBY3lILEVBQUs5SSxLQUFLLEdBQy9DLE9BQU9VLEVBQVNJLEdBQUdnYSxFQUFPaGQsRUFBRyxJQUVoQzZLLEtBQUtHLEdBQ0tBLEVBQUt3SixLQU1kTSxFQUFTLElBQUlpSSxLQUFpQjVDLEdBQ3BDLE9BQU93QyxHQUFhbkwsRUFBTyxDQUFDNEQsU0FBUU4sU0FBUUUsT0FBTSxHQUN0RCxDQWhMZWlJLENBQWF6TCxFQUFPcUUsRUFBT3RSLEVBQzFDLEVBR0lpTixFQUFNOUosSUFBTUEsRUFFTDhKLENBQ1gsQ0FpQkEsTUFBTTRLLEdBQ0YsV0FBQTFXLENBQVk4TCxFQUFPcE0sRUFBUSxJQUV2QlgsS0FBS2dOLE9BQVNELEVBRWQvTSxLQUFLaU4sYUFBVTlRLEVBRWY2RCxLQUFLeVksY0FBV3RjLEVBRWhCNkQsS0FBSzJMLFNBQVdoTCxDQUV4QixDQUVJLE9BQUlzQyxHQUFPLE9BQU9qRCxLQUFLZ04sTUFBTSxDQUM3QixXQUFJMEwsR0FBVyxPQUFPMVksS0FBS3lZLFFBQVEsQ0FFbkMsS0FBQXZNLENBQU1wTSxHQUtGLEdBSG9CM0QsTUFBaEI2RCxLQUFLaU4sVUFDSjlOLEVBQVNDLGdCQUFnQlksS0FBS2lOLFFBQVF4UCxJQUFLcUMsR0FFekIsQ0FFbkJFLEtBQUtpTixRQUFVak4sS0FBS2dOLE9BQU85TCxNQUFNckIsT0FBT0MsR0FDeEMsSUFBSXJDLElBQUNBLEVBQUd5QyxPQUFFQSxHQUFVRixLQUFLaU4sUUFDekJqTixLQUFLMlksVUFBWXpZLEVBQU9rRyxLQUFLRyxHQUNsQitRLEdBQWE3WixFQUFLOEksSUFFekMsQ0FFUSxNQUFNcUMsRUFBUzVJLEtBQUsyWSxVQUFVdlMsS0FBS3dTLEdBQ3hCQSxFQUFJMU0sTUFBTXBNLEtBR3JCLE9BQU80SSxFQUFRMUksS0FBSzJZLFVBQVcvUCxFQUFROUksRUFBUUUsS0FBS2dOLE9BQU9yTSxRQUNuRSxDQUVJLEtBQUEwTCxHQUNJck0sS0FBS2lOLGFBQVU5USxFQUNmNkQsS0FBS3lZLGNBQVd0YyxDQUN4QixFQXFCQSxTQUFTK2IsR0FBYW5MLEVBQU95RCxFQUFRLElBQ2pDLEdBQUlSLEdBQXVCakQsRUFBTTlKLEtBQzdCLE9BQU84SixFQUFNOUosSUFBSWlOLE9BQU9NLEdBQ3JCLEdBQUlPLEdBQXFCaEUsRUFBTTlKLEtBQU0sQ0FDeEMsSUFBSW9OLE9BQ0FBLEVBQU8sR0FBRU0sT0FDVEEsRUFBTyxHQUFFSixNQUNUQSxHQUFNLEdBQ05DLEVBQ0osR0FBSUQsRUFDQSxPQUFPeEQsRUFBTTlKLElBQUkrQyxJQUFJcUssR0FDbEIsQ0FDSCxNQUFNakssRUFBTSxJQUFJL0ssS0FBSzBSLEVBQU05SixJQUFJL0YsT0FBUyxJQUNuQ2tKLEtBQUtHLEdBQVMsQ0FBQ0EsRUFBS3dKLEdBQUl4SixNQUU3Qm9LLEVBQU9qSixTQUFTcUksR0FBTzNKLEVBQUkySSxPQUFPZ0IsS0FFbENNLEVBQU8zSSxTQUFTbkIsR0FBU0gsRUFBSUosSUFBSU8sRUFBS3dKLEdBQUl4SixLQUUxQyxNQUFNNkssRUFBUTNWLE1BQU1vZCxLQUFLelMsRUFBSXBLLFVBQzdCLE9BQU8rUSxFQUFNOUosSUFBSStDLElBQUlvTCxFQUNqQyxDQUNBLENBQ0EsQ0M1S08sU0FBUzBILEdBQWdCbFIsR0FDNUIsT0FBT0EsYUFBZTZILEdBQXNCdFQsTUFBWnlMLEVBQUk0SCxNQUFnQ3JULE1BQVh5TCxFQUFJM0UsR0FDakUsQ0FFTyxTQUFTOFYsR0FBYTlWLEVBQUkwTSxHQUM3QixJQUFLRCxFQUFrQnpNLEdBQ25CLE1BQU0sSUFBSXJILE1BQU0sNkJBQTZCcUgsS0FFakQsTUFBTXVMLEVBQVMsSUFBSWlCLEVBS25CLE9BSkFqQixFQUFPdEMsTUFBUSxTQUFVMkQsR0FFckIsTUFBTyxDQUFDOVQsTUFEU2tILEVBQUlxRixJQUFJdUgsR0FDRDlHLFNBQVEsRUFBTWpKLE9BQU8rUCxFQUNyRCxFQUNXckIsQ0FDWCxDQ3RCQSxNQUFNbEQsR0FBY1QsRUFBYVMsWUFnQzFCLFNBQVMwTixHQUFnQnhKLEVBQU12TSxFQUFLdEMsRUFBUSxDQUFBLEdBRS9DLE1BQU02TixFQUFTLElBQUlpQixFQUduQixJQUFJd0osRUFFQXJQLEVBOEZKLE9BM0ZBZ08sR0FBaUJwSixHQUNqQnFKLEdBQW1CckosR0FDbkJBLEVBQU9zSixpQkFBaUIsUUFDeEJ0SixFQUFPc0osaUJBQWlCLE9BRXhCdEosRUFBT3VKLGNBQWdCLFNBQVV6RyxFQUFVMUosRUFBSStILEdBQzNDLEdBQWdCLFFBQVoyQixFQUFvQixDQUlwQixHQUhJNUIsRUFBa0I5SCxLQUNsQkEsRUFBTW1SLEdBQWFuUixLQUVsQmtSLEdBQWdCbFIsR0FDakIsTUFBTSxJQUFJaE0sTUFBTSwwQ0FBMENnTSxLQUU5RCxPQUFPQSxDQUNuQixDQUNRLEdBQWdCLE9BQVowSixFQUFtQixDQUluQixJQUhJdEIsR0FBdUJwSSxJQUFRbUosR0FBcUJuSixNQUNwREEsRUFBTThQLEdBQVksQ0FBQ3pVLElBQUkyRSxNQUV0QjJQLEdBQWUzUCxHQUNoQixNQUFNLElBQUloTSxNQUFNLHdDQUF3Q2dNLEtBRTVELE9BQU9BLENBQ25CLENBQ0EsRUFDSTRHLEVBQU93SixpQkFBbUIsU0FBVTFHLEVBQVUvTSxHQUN4QnBJLE1BQWRxUyxFQUFPdkwsS0FBbUM5RyxNQUFmcVMsRUFBT2dCLE9BR3RCLE9BQVo4QixJQUNZLFNBQVIvTSxFQUNBMFUsRUFBWXpLLEVBQU92TCxJQUFJSSxjQUV2QjRWLEVBQVU1TSxTQWdCdEIsV0FDUXpDLEdBQU1BLEVBQUlJLFNBQ2QsTUFBTW1GLEVBQUtYLEVBQU9nQixLQUFLelQsTUFHakJtZCxFQURTMUssRUFBT3ZMLElBQUkvQixNQUFNckIsT0FBT3NQLEdBQ1oxUixJQUFJLElBQU12QixJQUVyQyxHQUFJZ2QsR0FBZWhkLElBRWYsT0FHSjBOLEVBQU1GLEdBQVksS0FDZDhFLEVBQU9sQyxVQUFVLEdBRmlCLEtBQXBCNE0sRUFBYy9KLEdBSXhDLENBMUJRZ0ssR0FDQTNLLEVBQU9sQyxXQUNmLEVBMEJJa0MsRUFBT3RDLE1BQVEsU0FBZTJELEdBQzFCLE1BQU0vUCxFQUFTME8sRUFBT2dCLEtBQUt0RCxNQUFNMkQsR0FBVTlULE1BQzNDLE9BQU9rZCxFQUFVL00sTUFBTXBNLEVBQy9CLEVBS0kwTyxFQUFPeEksSUFBTSxTQUFhakssR0FDdEIsT0E0QlIsU0FBbUJ5UyxFQUFRelMsR0FDdkIsSUFBSXFWLEVBQVEsR0FDQ2pWLE1BQVRKLElBQ0FxVixFQUFRLENBQUMsQ0FDTHJCLEdBQUk1RyxFQUFjLElBQ2xCMUwsSUFBSyxDQUFDLEtBQU0sTUFBTSxHQUFNLEdBQ3hCeVQsS0FBTSxTQUNOQyxLQUFNcFYsS0FHZCxPQUFPcWQsR0FBZTVLLEVBQVE0QyxFQUNsQyxDQXZDZWlJLENBQVU3SyxFQUFRelMsRUFDakMsRUFDSXlTLEVBQU84SyxPQUFTLFNBQWdCblAsR0FDNUIsT0FxRFIsU0FBb0JxRSxFQUFRckUsRUFBTyxJQUUvQixJQUFLcE8sTUFBTXFPLEVBQUl0SyxPQUFPeUssR0FBTWlFLEVBQU90QyxRQUVqQixpQkFBUDlCLEdBQW9CakMsU0FBU2lDLEtBQ3BDQSxFQUFLLEdBR1QsTUFDSW1QLFNBQVNuYyxFQUFHZ04sRUFDWm9QLFNBQVMzYyxFQUFHLEVBQ1o0YyxhQUFhQyxFQUFHLEVBQ2hCQyxVQUFVN2MsRUFBR3lOLEVBQUVxQyxNQUNmQSxFQUFNLENBQUMsS0FBTSxPQUNiekMsRUFDSm1CLEdBQVlzQixHQUNaeEUsRUFBYSxXQUFZaEwsR0FDekJnTCxFQUFhLFdBQVl2TCxHQUN6QnVMLEVBQWEsZUFBZ0JzUixHQUM3QnRSLEVBQWEsWUFBYXRMLEdBRTFCLE1BQU1zVSxFQUFRLEdBU1J3SSxHQUFjQyxFQURSaFAsRUFBYUssdUJBQ0QsQ0FBQzlOLEVBQUdQLEVBQUc2YyxFQUFHNWMsR0FBSzhQLEdBRWpDdUMsRUFBS1gsRUFBT2dCLEtBQUt6VCxNQUVqQitkLEVBQWFGLEVBQVlHLE1BQU1DLElBQ2pDLE1BQU10YyxFQUFNc2MsRUFBRyxLQUFPOWQsSUFDaEJ5QixFQUFPcWMsRUFBRyxJQUFNOWQsSUFDdEIsT0FBT3dCLEdBQU95UixHQUFNQSxHQUFNeFIsQ0FBSSxJQUVsQyxHQUFrQnhCLE1BQWQyZCxFQUF5QixDQUN6QixNQUFPcGMsRUFBS0MsR0FBUW1jLEVBQ3BCMUksRUFBTXJOLEtBQUssQ0FDUGdNLEdBQUk1RyxFQUFjLElBQ2xCMUwsSUFBSyxDQUFDQyxFQUFLQyxHQUFNLEdBQU0sR0FDdkJ1VCxLQUFNLFNBQ05DLEtBQU0sQ0FBQy9ULEVBQUlQLEVBQUk2YyxFQUFJNWMsS0FHWixNQUFQWSxHQUNBMFQsRUFBTXJOLEtBQUssQ0FDUGdNLEdBQUk1RyxFQUFjLElBQ2xCMUwsSUFBSyxDQUFDLEtBQU1DLEdBQUssR0FBTSxHQUN2QndULEtBQU0sU0FDTkMsS0FBTXZFLEVBQU0sS0FJUixNQUFSalAsR0FDQXlULEVBQU1yTixLQUFLLENBQ1BnTSxHQUFJNUcsRUFBYyxJQUNsQjFMLElBQUssQ0FBQ0UsRUFBTSxNQUFNLEdBQU8sR0FDekJ1VCxLQUFNLFNBQ05DLEtBQU12RSxFQUFNLElBRzVCLEtBQVcsQ0FRSCxNQUFNcU4sRUFBTzdjLEVBQUt3UCxFQUFNLEdBQU1BLEVBQU0sR0FBS0EsRUFBTSxHQUMvQ3dFLEVBQU1yTixLQUFLLENBQ1BnTSxHQUFJNUcsRUFBYyxJQUNsQjFMLElBQUssQ0FBQyxLQUFNLE1BQU0sR0FBTSxHQUN4QnlULEtBQU0sU0FDTkMsS0FBTThJLEdBRWxCLENBQ0ksT0FBT2IsR0FBZTVLLEVBQVE0QyxFQUNsQyxDQXZJZThJLENBQVcxTCxFQUFRckUsRUFDbEMsRUFDSXFFLEVBQU8yTCxXQUFhLFVBQW9CdGIsT0FBQ0EsRUFBTXViLFNBQUVBLEVBQVE1RCxPQUFFQSxJQUN2RCxPQTBJUixTQUF3QmhJLEVBQVEzUCxFQUFRdWIsRUFBVTVELEdBQzlDLE1BQU96YSxNQUFNc08sRUFBSXZLLE9BQU95SyxHQUFNaUUsRUFBT3RDLFFBQy9CclAsRUFBS2dDLEVBQ0wvQixFQUFLeU4sRUFBSzZQLEVBQ2hCaFMsRUFBYSxXQUFZaUMsR0FDekJqQyxFQUFhLFdBQVl2TCxHQUN6QnVMLEVBQWEsV0FBWW1DLEdBQ3pCbkMsRUFBYSxXQUFZdEwsR0FDekIsSUFBSXNVLEVBQVEsQ0FDUixDQUNJckIsR0FBSTVHLEVBQWMsSUFDbEIxTCxJQUFLLENBQUMsS0FBTThNLEdBQUksR0FBTSxHQUN0QjJHLEtBQU0sU0FDTkMsS0FBTTlHLEdBRVYsQ0FDSTBGLEdBQUk1RyxFQUFjLElBQ2xCMUwsSUFBSyxDQUFDOE0sRUFBSXpOLEdBQUksR0FBTSxHQUNwQm9VLEtBQU0sYUFDTkMsS0FBTSxDQUFDOUcsS0FBSXhOLEtBQUkwTixLQUFJek4sS0FBSTBaLFdBRTNCLENBQ0l6RyxHQUFJNUcsRUFBYyxJQUNsQjFMLElBQUssQ0FBQ1gsRUFBSSxNQUFNLEdBQU8sR0FDdkJvVSxLQUFNLFNBQ05DLEtBQU10VSxJQUdkLE9BQU91YyxHQUFlNUssRUFBUTRDLEVBQ2xDLENBdktlaUosQ0FBZTdMLEVBQVEzUCxFQUFRdWIsRUFBVTVELEVBQ3hELEVBQ0loSSxFQUFPNkksWUFBYyxVQUFzQk4sT0FBQ0EsRUFBTXFELFNBQUVBLElBQ2hELE9BMktSLFNBQTJCNUwsRUFBUXVJLEVBQVFxRCxHQUN2QyxNQUFNOVIsRUFBTWtHLEVBQU9nQixLQUFLelQsTUFDeEJnYixFQUFTQSxFQUFPM1EsS0FBSSxFQUFFdkssRUFBRUMsTUFDcEJzTSxFQUFhLEtBQU10TSxHQUNuQnNNLEVBQWEsTUFBT3ZNLEdBQ2IsQ0FBQ0EsRUFBR3lNLEVBQU14TSxNQUlyQixNQUFNOGMsRUFBTXRCLEdBQWEsQ0FBQyxLQUFNLE1BQU0sR0FBTSxHQUFPLENBQy9DcEcsS0FBTSxnQkFDTkMsS0FBTTRGLElBR0p4TSxFQUFLakMsRUFDTHhMLEVBQUt5TixFQUFLNlAsRUFDVi9QLEVBQUt1TyxFQUFJeEwsTUFBTTdDLEdBQUl4TyxNQUNuQmMsRUFBSytiLEVBQUl4TCxNQUFNdFEsR0FBSWYsTUFDbkJxVixFQUFRLENBQ1YsQ0FDSXJCLEdBQUk1RyxFQUFjLElBQ2xCMUwsSUFBSyxFQUFFdkIsSUFBVXFPLEdBQUksR0FBTSxHQUMzQjJHLEtBQU0sU0FDTkMsS0FBTTlHLEdBRVYsQ0FDSTBGLEdBQUk1RyxFQUFjLElBQ2xCMUwsSUFBSyxDQUFDOE0sRUFBSXpOLEdBQUksR0FBTSxHQUNwQm9VLEtBQU0sZ0JBQ05DLEtBQU00RixHQUVWLENBQ0loSCxHQUFJNUcsRUFBYyxJQUNsQjFMLElBQUssQ0FBQ1gsRUFBSVosS0FBVSxHQUFNLEdBQzFCZ1YsS0FBTSxTQUNOQyxLQUFNdFUsSUFHZCxPQUFPdWMsR0FBZTVLLEVBQVE0QyxFQUNsQyxDQWxOZWtKLENBQWtCOUwsRUFBUXVJLEVBQVFxRCxFQUNqRCxFQUdJNUwsRUFBTzdOLFFBQVVBLEVBQ2pCNk4sRUFBT2dCLEtBQU9BLEVBQ2RoQixFQUFPdkwsSUFBTUEsRUFDTnVMLENBQ1gsQ0E2TUEsU0FBUzRLLEdBQWM1SyxFQUFRNEMsR0FDM0IsTUFBTW1KLE9BQUNBLEdBQU8sR0FBUy9MLEVBQU83TixRQUM5QixPQUFJNFosRUFDTy9MLEVBQU92TCxJQUFJa1YsT0FBTy9HLEVBQU81QyxFQUFPZ0IsS0FBS3pULE9BRXJDeVMsRUFBT3ZMLElBQUlpTixPQUFPLENBQUNHLE9BQU9lLEVBQU9iLE9BQU0sR0FFdEQsQ0MxVU8sU0FBU2lLLEdBQWdCaEwsRUFBTXZNLEdBRWxDLE1BQU11TCxFQUFTLElBQUlpQixFQUduQixJQUFJd0osRUFFQXJQLEVBRUE2USxFQXNESixTQUFTQyxJQUNMbE0sRUFBT2xDLFdBVVgsV0FDUTFDLEdBQU9BLEVBQUlJLFNBQ1h5USxHQUFPRSxjQUFjRixHQUd6QixNQUFNRyxFQUFhdEwsRUFBc0JkLEdBRW5DcU0sRUFBY0QsRUFBVzdlLE1BQ3pCK2UsRUFBYUYsRUFBVzlhLE9BRzlCLElBQUs4YSxFQUFXN1IsUUFFWixPQUlKLE1BQU1nUyxFQUFhdk0sRUFBT3ZMLElBQUkvQixNQUFNckIsT0FBT2diLEdBRXJDRyxFQUFhRCxFQUFXdGQsSUFBSSxLQUFPdkIsSUFDbkNnZCxFQUFjNkIsRUFBV3RkLElBQUksSUFBTXZCLElBR3pDLEdBQUk4ZSxJQUFlOWUsS0FBWWdkLEdBQWVoZCxJQUUxQyxPQUdKLEdBQUk0YyxHQUFnQnRLLEVBQU9nQixNQUFPLENBYTlCLFlBSkE1RixFQUFNRixHQUFZLEtBQ2RnUixHQUFpQixHQUZ5QixLQUQ1QnhCLEVBQ2EyQixJQU1sQyxDQUVELEdBQ0kvQixHQUFnQnRLLEVBQU9nQixLQUFLQSxPQUM1QitILEdBQWUvSSxFQUFPZ0IsS0FBS3ZNLEtBQzdCLENBYUUsTUFBTWdZLEVBQWV6TSxFQUFPZ0IsS0FBS3ZNLElBQUlnVixVQUFVNkMsR0FDL0MsSUFBSUksRUFFSixHQUEyQixHQUF2QkQsRUFBYXRmLE9BQWEsQ0FDMUIsTUFBTXdmLEVBQWNGLEVBQWEsR0FDakMsR0FBd0IsVUFBcEJFLEVBQVlqSyxLQUFrQixDQUM5QixNQUFPNVIsRUFBRXpELEVBQUVXLEVBQUVWLEdBQUtxZixFQUFZaEssS0FFOUIsR0FBUyxHQUFMM1UsRUFBVSxDQUdOMGUsRUFEQXJmLEVBQUksRUFDU3FkLEVBRUE4QixFQU9qQixZQUpBcFIsRUFBTUYsR0FBWSxLQUNkZ1IsR0FBaUIsR0FGeUIsS0FBNUJRLEVBQWFMLElBTXZELENBQ0EsTUFBdUIsR0FBd0IsY0FBcEJNLEVBQVlqSyxLQUFzQixDQUN6QyxNQUFNN0csR0FBQ0EsRUFBRXhOLEdBQUVBLEVBQUUwTixHQUFFQSxFQUFFek4sR0FBRUEsRUFBRTBaLE9BQUVBLEVBQU8sVUFBWTJFLEVBQVloSyxLQUN0RCxHQUFjLFVBQVZxRixFQUFvQixDQUloQjBFLEdBRllyZSxFQUFHd04sSUFBS3ZOLEVBQUd5TixHQUNaLEVBQ0VoQixLQUFLN0ssSUFBSXdhLEVBQWFyYyxHQUd0QjBNLEtBQUs1SyxJQUFJcWMsRUFBWW5lLEdBT3RDLFlBSkErTSxFQUFNRixHQUFZLEtBQ2RnUixHQUFpQixHQUZ5QixLQUE1QlEsRUFBYUwsSUFNdkQsQ0FDQSxDQUNBLENBQ0EsRUFXSSxTQUF1QnBkLEdBQ25CZ2QsRUFBTVcsYUFBWSxNQVF0QixTQUF3QjNkLEdBQ3BCLElBQUlxQyxFQUFTME8sRUFBT2dCLEtBQUt6VCxNQUNwQm9ELEVBQVNDLGdCQUFnQjNCLEVBQUtxQyxJQUMvQjRhLEdBRVosQ0FaWVcsQ0FBZTVkLEVBQUksR0FDcEIsSUFDWCxDQVZRNmQsQ0FBY1AsRUFBV3RkLElBQ2pDLENBckhRMGIsRUFDUixDQXVKSSxPQTdNQXZCLEdBQWlCcEosR0FDakJxSixHQUFtQnJKLEdBQ25CQSxFQUFPc0osaUJBQWlCLFFBQ3hCdEosRUFBT3NKLGlCQUFpQixPQUt4QnRKLEVBQU91SixjQUFnQixTQUFVekcsRUFBVTFKLEVBQUkrSCxHQUMzQyxHQUFnQixRQUFaMkIsRUFBb0IsQ0FJcEIsR0FISTVCLEVBQWtCOUgsS0FDbEJBLEVBQU1tUixHQUFhblIsSUFFbkJBLGFBQWU2SCxFQUNmLE9BQU83SCxFQUVQLE1BQU0sSUFBSWhNLE1BQU0sd0NBQXdDZ00sSUFFeEUsQ0FDUSxHQUFnQixPQUFaMEosRUFBbUIsQ0FJbkIsSUFISXRCLEdBQXVCcEksSUFBUW1KLEdBQXFCbkosTUFDcERBLEVBQU04UCxHQUFZLENBQUN6VSxJQUFJMkUsS0FFdkJBLGFBQWUyRCxFQUNmLE9BQU8zRCxFQUVQLE1BQU0sSUFBSWhNLE1BQU0scUJBQXFCZ00sSUFFckQsQ0FDQSxFQUtJNEcsRUFBT3dKLGlCQUFtQixTQUFVMUcsRUFBVS9NLEdBQ3hCcEksTUFBZHFTLEVBQU92TCxLQUFtQzlHLE1BQWZxUyxFQUFPZ0IsT0FHdEIsT0FBWjhCLElBQ1ksU0FBUi9NLEVBQ0EwVSxFQUFZekssRUFBT3ZMLElBQUlJLGNBRXZCNFYsRUFBVTVNLFNBR2xCcU8sSUFDUixFQXVKSWxNLEVBQU90QyxNQUFRLFNBQWUyRCxHQUMxQixNQUFNL1AsRUFBU3dQLEVBQXNCZCxFQUFRcUIsR0FBVTlULE1BQ3ZELE9BQU9rZCxFQUFVL00sTUFBTXBNLEVBQy9CLEVBR0kwTyxFQUFPZ0IsS0FBT0EsRUFDZGhCLEVBQU92TCxJQUFNQSxFQUNOdUwsQ0FDWCxDQzFNQSxNQUFNK00sV0FBb0IzYixFQUV0QixXQUFBcUIsQ0FBWXVOLEdBQ1J0TCxRQUNBbEQsS0FBS3diLFFBQVVoTixDQUN2QixDQUVJLE1BQUEzTyxDQUFPQyxHQUVILE1BQU8sQ0FDSHJDLElBQUssQ0FBQyxLQUFNLE1BQU0sR0FBTSxHQUN4QnlDLE9BQVEsQ0FBQ0YsS0FBS3diLFNBQ2RuYixLQUFNbEMsRUFBU2UsUUFDZjZELEtBQU01RSxFQUFTZSxRQUNmaUIsTUFBT2hDLEVBQVNjLFFBQ2hCMEMsS0FBTXhELEVBQVNjLFFBRTNCLEVDbERBLE1BQU13YyxHQUFnQixDQUNsQkMsSUFBSyxDQUNEN1MsVUFBVyxTQUFVOFMsR0FFakIsT0FBT0EsRUFBSy9TLE9BQ1B4QyxLQUFJZ0gsR0FBU0EsRUFBTXJSLFFBQ25CNmYsUUFBTyxDQUFDQyxFQUFLOWYsSUFBVThmLEVBQU05ZixHQUFPLEVBQ3JELEdBRUkrZixNQUFPLENBQ0hoVCxVQUFXLFNBQVU2UyxHQUVqQixNQUFPLElBQUlBLEVBQUsvUyxPQUFPLEdBQ25DLEdBRUltSixNQUFPLENBQ0hsSixVQUFXLFNBQVU4UyxHQUVqQixPQUFPQSxFQUFLL1MsT0FBT3hDLEtBQUlnSCxHQUFTQSxFQUFNclIsT0FDbEQsSUFtRUEsU0FBU2dHLEdBQWMzRSxFQUFJQyxHQUN2QixPQUFPYyxFQUFTSyxJQUFJcEIsRUFBSUMsRUFDNUIsQ0FFQSxTQUFTMkUsR0FBZTVFLEVBQUlDLEdBQ3hCLE9BQU9jLEVBQVNLLElBQUluQixFQUFJRCxFQUM1QixDQUVPLE1BQU0yZSxXQUF5Qm5jLEVBRWxDLFdBQUFxQixDQUFZMEgsR0FDUnpGLFFBQ0FsRCxLQUFLZ2MsU0FBV3JULEVBQ2hCM0ksS0FBS2ljLFFBQVUsSUFBSTVnQixJQUFJc04sRUFBUXZDLEtBQUtuRCxHQUN6QixDQUFDQSxFQUFLQSxFQUFJSSxpQkFFN0IsQ0FFSSxNQUFBeEQsQ0FBT0MsR0FDSEEsRUFBUzNCLEVBQVNZLFdBQVdlLEdBRTdCLE1BQU1vYyxFQUFZLEdBQUlDLEVBQVksR0FDNUJqYyxFQUFTLEdBQ1RrQyxFQUFtQixHQUNuQkQsRUFBa0IsR0FDeEIsSUFBSyxJQUFJYyxLQUFPakQsS0FBS2djLFNBQVUsQ0FDM0IsSUFBSW5jLEVBQVNvRCxFQUFJL0IsTUFBTXJCLE9BQU9DLEdBQzFCc2MsRUFBY25aLEVBQUkvQixNQUFNUixZQUFZYixFQUFRLENBQUNnQixXQUFXLElBQ3hEd2IsRUFBY3BaLEVBQUkvQixNQUFNUixZQUFZYixFQUFRLENBQUNnQixVQUFVLElBTzNELEdBTm1CMUUsTUFBZmlnQixHQUNBRixFQUFVblksS0FBSzVGLEVBQVNXLGNBQWNzZCxFQUFZM2UsS0FBSyxJQUV4Q3RCLE1BQWZrZ0IsR0FDQUYsRUFBVXBZLEtBQUs1RixFQUFTVyxjQUFjdWQsRUFBWTVlLEtBQUssSUFFdkRvQyxFQUFPSyxPQUFPdkUsT0FBUyxFQUFHLENBQzFCdUUsRUFBTzZELEtBQUsvRCxLQUFLaWMsUUFBUS9lLElBQUkrRixJQUM3QixJQUFLdkYsRUFBS0MsR0FBUVEsRUFBU1csY0FBY2UsRUFBT3BDLEtBQ2hEMkUsRUFBaUIyQixLQUFLcEcsR0FDdEJ3RSxFQUFnQjRCLEtBQUtyRyxFQUNyQyxDQUNBLENBR1F5ZSxFQUFVNVosS0FBS1IsSUFDZixNQUFNTSxFQUFXOFosRUFBVSxJQUFNaGUsRUFBU2MsUUFHMUNpZCxFQUFVM1osS0FBS1AsSUFHZixPQUFPQyxFQUZXaWEsRUFBVSxJQUFNL2QsRUFBU2UsUUFJbkNpRCxFQUNBakMsRUFDQWtDLEVBQ0FDLEVBRWhCLEVDN0dPLE1BQU1pYSxXQUEyQjFjLEVBRXBDLFdBQUFxQixDQUFZQyxFQUFPUCxFQUFRLElBQ3ZCdUMsUUFDQWxELEtBQUtzQixPQUFTSixFQUNkLElBQUlKLFVBQUNBLEVBQWFaLEdBQVdBLEVBQU92RSxPQUFTLEdBQUtnRixFQUNsRFgsS0FBS3lCLFdBQWFYLENBQzFCLENBRUksTUFBQWpCLENBQU9DLEdBQ0hBLEVBQVMzQixFQUFTWSxXQUFXZSxHQUM3QixNQUFNRCxFQUFTRyxLQUFLc0IsT0FBT3pCLE9BQU9DLEdBRWxDLElBQUl5YyxFQUFhdmMsS0FBS3lCLFdBQVc1QixFQUFPSyxRQUt4QyxNQUFNWSxFQUFhWixHQUNSRixLQUFLeUIsV0FBV3ZCLElBQVdxYyxFQUl0QyxJQUFJcGMsRUFTQUUsRUFSQW1jLEVBQWV4YyxLQUFLc0IsT0FBT1osWUFBWWIsRUFBUSxDQUMvQ2dCLFVBQVUsRUFBR0MsY0FFRzNFLE1BQWhCcWdCLElBQ0FyYyxFQUFRaEMsRUFBU1csY0FBYzBkLEVBQWEvZSxLQUFLLElBS3JELElBQUlnZixFQUFjemMsS0FBS3NCLE9BQU9aLFlBQVliLEVBQVEsQ0FDOUNnQixXQUFXLEVBQUdDLGNBRUMzRSxNQUFmc2dCLElBQ0FwYyxFQUFPbEMsRUFBU1csY0FBYzJkLEVBQVloZixLQUFLLElBSW5ENEMsRUFBT0EsR0FBUWxDLEVBQVNlLFFBQ3hCaUIsRUFBUUEsR0FBU2hDLEVBQVNjLFFBQzFCLE1BQU12QixFQUFNUyxFQUFTUyxLQUFLeUIsR0FDcEIxQyxFQUFPUSxFQUFTUyxLQUFLdUIsR0FDM0IsTUFBTyxDQUNIMUMsSUFBSzBCLEVBQVNLLGVBQWU5QixFQUFLQyxHQUNsQ3VDLE9BQVMsRUF2RENuRSxFQXVEWXdnQixFQXREdkIsQ0FDSHJRLE1BQU8sU0FBVXBNLEdBQ2IsTUFBTyxDQUFDL0QsUUFBT2dOLFNBQVEsRUFBT2pKLFNBQzFDLEtBb0RZTyxPQUNBRixTQXpEWixJQUFzQnBFLENBMkR0QixFQ2pFTyxTQUFTMmdCLEdBQWN6WixHQUMxQixLQUFNQSxhQUFlc0ksR0FDakIsTUFBTSxJQUFJM1AsTUFBTSxpQkFBaUJxSCxLQUVyQyxNQUFPLENBQ0gwWixLQUFNLFNBQVV6YyxHQUNaLElBQUssSUFBSStMLEtBQVMvTCxFQUNkLEdBQUkrTCxFQUFNaEosS0FBT0EsRUFDYixPQUFPLEVBR2YsT0FBTyxDQUNuQixFQUVBLENDbENBLFNBQVMyWixHQUFVdGQsR0FBR3VkLE1BQUNBLEVBQU0sRUFBQ0MsTUFBRUEsRUFBTSxJQUNsQyxHQUFTM2dCLE1BQUxtRCxJQUFtQjZJLFNBQVM3SSxHQUU1QixPQUFPQSxFQUVOLEdBQWdCLGlCQUFMQSxFQUVaLE9BQVFBLEVBQUV3ZCxFQUFTRCxFQUNoQixHQUFJcGhCLE1BQU1DLFFBQVE0RCxJQUFNQSxFQUFFM0QsT0FBUyxFQUFHLENBRXpDLElBQUtzZSxFQUFLOEMsR0FBV3pkLEVBQ3JCLE9BQU9uQixFQUFTWSxXQUFXLENBQUVrYixFQUFJNkMsRUFBT0QsRUFBT0UsR0FDdkQsQ0FDQSxDQUVBLFNBQVNDLEdBQVExZCxHQUFHdWQsTUFBQ0EsRUFBTSxFQUFDQyxNQUFFQSxFQUFNLElBQ2hDLEdBQVMzZ0IsTUFBTG1ELElBQW1CNkksU0FBUzdJLEdBRTVCLE9BQU9BLEVBRU4sR0FBZ0IsaUJBQUxBLEVBRVosT0FBUUEsRUFBRXVkLEdBQU9DLEVBQ2QsR0FBSXJoQixNQUFNQyxRQUFRNEQsSUFBTUEsRUFBRTNELE9BQVMsRUFBRyxDQUV6QyxJQUFLc2UsRUFBSzhDLEdBQVd6ZCxFQUNyQixPQUFPbkIsRUFBU1ksV0FBVyxFQUFHa2IsRUFBSTRDLEdBQU9DLEVBQVFDLEdBQ3pELENBQ0EsQ0RRQUwsR0FBYU8sSUFBTSxZQUFnQkMsR0FDL0IsTUFBTyxDQUNIUCxLQUFNLFNBQVV6YyxHQUNaLE9BQU9nZCxFQUFNQyxPQUFPQyxHQUFTQSxFQUFLVCxLQUFLemMsSUFDMUMsRUFFVCxFQUVBd2MsR0FBYVcsR0FBSyxZQUFlSCxHQUM3QixNQUFPLENBQ0hQLEtBQU0sU0FBVXpjLEdBQ1osT0FBT2dkLEVBQU1qVSxNQUFNbVUsR0FBU0EsRUFBS1QsS0FBS3pjLElBQ3pDLEVBRVQsRUFFQXdjLEdBQWFZLElBQU0sU0FBYUMsRUFBT0MsR0FDbkMsTUFBTyxDQUNIYixLQUFNLFNBQVV6YyxHQUNaLE9BQU9xZCxFQUFNWixLQUFLemMsSUFBV3NkLEVBQU1iLEtBQUt6YyxFQUMzQyxFQUVULEVBRUF3YyxHQUFhZSxJQUFNLFNBQWFMLEdBQzVCLE1BQU8sQ0FDSFQsS0FBTSxTQUFVemMsR0FDWixPQUFRa2QsRUFBS1QsS0FBS3pjLEVBQ3JCLEVBRVQsRUMvQkEsTUFBTXdkLFdBQXVCOWQsRUFFekIsV0FBQXFCLENBQWE4TCxFQUFPcE0sRUFBUSxJQUN4QnVDLFFBQ0FsRCxLQUFLZ04sT0FBU0QsRUFDZC9NLEtBQUtvRCxPQUFTMkosRUFBTTFKLGNBQ3BCckQsS0FBSzJMLFNBQVdoTCxFQUdoQlgsS0FBSzJkLGlCQUFtQixDQUNwQnpSLE1BQU8sU0FBVXBNLEdBSWIsTUFBTyxJQUZPRSxLQUFLb0QsT0FBTzhJLE1BQU04USxHQUFRbGQsRUFBUUUsS0FBSzJMLFdBRW5DN0wsU0FDckIsRUFBQ21PLEtBQUtqTyxNQUVuQixDQUVJLE1BQUFILENBQU9DLEdBQ0hBLEVBQVMzQixFQUFTWSxXQUFXZSxHQUU3QixNQUFNRCxFQUFTRyxLQUFLZ04sT0FBTzlMLE1BQU1yQixPQUFPbWQsR0FBUWxkLEVBQVFFLEtBQUsyTCxXQUV2RGxPLEVBQU1vQyxFQUFPcEMsSUFBSWlGLFFBR3ZCLE9BRkFqRixFQUFJLEdBQUttZixHQUFVL2MsRUFBT3BDLElBQUksR0FBSXVDLEtBQUsyTCxVQUN2Q2xPLEVBQUksR0FBS21mLEdBQVUvYyxFQUFPcEMsSUFBSSxHQUFJdUMsS0FBSzJMLFVBQ2hDLENBQ0hsTyxNQUNBNEMsS0FBTXVjLEdBQVUvYyxFQUFPUSxLQUFNTCxLQUFLMkwsVUFDbEN4TCxNQUFPeWMsR0FBVS9jLEVBQU9NLE1BQU9ILEtBQUsyTCxVQUNwQ3pMLE9BQVFMLEVBQU9LLE9BQU9rRyxLQUFJLElBQU1wRyxLQUFLMmQsbUJBRWpELEVDeERPLFNBQVNDLEdBQWlCM2EsRUFBS3RDLEVBQVEsSUFFMUMsS0FBTXNDLGFBQWV3TSxHQUNqQixNQUFNLElBQUk3VCxNQUFNLHdCQUF3QnFILEtBRzVDLE1BQU11TCxFQUFTLElBQUlpQixFQWdDbkIsT0E3QkFqQixFQUFPdEMsTUFBUSxXQUVYLE9BM0JSLFNBQWlCa0IsRUFBT3pNLEVBQVEsSUFDNUIsTUFBTWtJLFVBQUNBLEVBQVNDLFVBQUVBLEdBQWFuSSxFQUMvQixPQUFpQnhFLE1BQWIwTSxHQUNBdUUsRUFBTXJSLE1BQVE4TSxFQUFVdUUsRUFBTXJSLE9BQ3ZCcVIsR0FDYWpSLE1BQWIyTSxFQUNBQSxFQUFVc0UsR0FFVkEsQ0FFZixDQWlCZTFFLENBRE96RixFQUFJaUosUUFDSXZMLEVBQzlCLEVBR1NtWSxHQUFnQjdWLEtBQ2pCdUwsRUFBT2dCLEtBQU92TSxFQUFJdU0sS0FFbEJoQixFQUFPZ0IsS0FBS25JLGNBQWEsS0FBT21ILEVBQU9sQyxVQUFRLEtBYzlDd00sR0FBZ0I3VixLQUNqQnVMLEVBQU92TCxJQUFNQSxFQUFJQSxLQUlyQkEsRUFBSW9FLGNBQWEsS0FBT21ILEVBQU9sQyxVQUFVLElBQ2xDa0MsQ0FDWCxDQ05PLFNBQVNxUCxHQUFlck8sRUFBS0csRUFBc0IxTSxFQUFLNmEsR0FNM0QsR0FISXBPLEVBQWtCRixLQUNsQkEsRUFBT3VKLEdBQWF2SixLQUduQnNKLEdBQWdCdEosS0FDaEJzSixHQUFnQnRKLEVBQUtBLE1BRXRCLE1BQU0sSUFBSTVULE1BQU0sNENBQTRDNFQsS0FJaEUsS0FBTXZNLGFBQWV3TSxHQUNqQixNQUFNLElBQUk3VCxNQUFNLHdCQUF3QnFILEtBRTVDLEdBQUk2VixHQUFnQjdWLEdBQ2hCLE1BQU0sSUFBSXJILE1BQU0saUNBQWlDcUgsS0FFckQsSUFBS3NVLEdBQWV0VSxFQUFJQSxLQUNwQixNQUFNLElBQUlySCxNQUFNLGlDQUFpQ3FILEVBQUlBLE9BSXpELElBQUtzVSxHQUFldUcsR0FDaEIsTUFBTSxJQUFJbGlCLE1BQU0sNEJBQTRCa2lCLEtBSWhELE1BQU1DLEVBQW9COWEsRUFBSUEsSUFBSUEsSUFDNUIrYSxFQUFvQkYsRUFBSTdhLElBQzlCLEdBQUk4YSxJQUFzQkMsRUFDdEIsTUFBTSxJQUFJcGlCLE1BQU0sbURBK0JwQixJQUFJcWlCLEdBQWUsRUFjbkIsU0FBU0MsSUFFTCxNQUFNQyxFQUFnQkYsRUFFdEIsR0FEQUEsR0FBZSxFQUNYbkYsR0FBZ0J0SixHQUNoQnlPLEdBQWUsT0FDWixHQUFJbkYsR0FBZ0J0SixFQUFLQSxNQUFPLENBQ25DLE1BQU00TyxFQUFVNU8sRUFBS0EsS0FBS3pULE1BQ3BCcVYsRUFBUTVCLEVBQUt2TSxJQUFJL0IsTUFBTXJCLE9BQU91ZSxHQUFTbGUsT0FDN0MsR0FBb0IsR0FBaEJrUixFQUFNelYsUUFDZSxVQUFqQnlWLEVBQU0sR0FBR0YsS0FBbUIsQ0FDNUIsTUFBTzVSLEVBQUV6RCxFQUFFVyxFQUFFVixHQUFLc1YsRUFBTSxHQUFHRCxNQUN2QnRWLEVBQUksR0FBVSxHQUFMQSxHQUFVVyxFQUFJLEtBQ3ZCeWhCLEdBQWUsRUFFdkMsQ0FDQSxFQUNhRSxHQUFpQkYsR0FXdEJsWixRQUFRQyxJQUFJLG1CQUNadVYsS0FWVzRELElBQWtCRixHQWFqQyxXQUNJbFosUUFBUUMsSUFBSSxrQkFFWixNQUFNbUssRUFBSzlHLEVBQVlDLE1BQ2pCK1YsRUFBYTdPLEVBQUt0RCxNQUFNaUQsR0FBSXBULE1BQzVCcVYsRUFBUTBNLEVBQUk1YyxNQUFNckIsT0FBT3dlLEdBQVluZSxPQUNyQ21RLEVBQVNlLEVBQU1oTCxLQUFLRyxJQUN0QixNQUFNOFIsRUFBVyxJQUFJOVIsR0FHckIsT0FGQThSLEVBQVM1YSxJQUFJLEdBQUs0Z0IsRUFDbEJoRyxFQUFTNWEsSUFBSSxJQUFLLEVBQ1g0YSxDQUFRLElBRWZqSCxFQUFNelYsT0FBUyxHQUNmbWlCLEVBQUk1TixPQUFPLENBQUNHLFNBQVFFLE9BQU0sR0FFdEMsQ0EzQlkrTixFQUVaLENBMkJJLFNBQVMvRCxJQUNMeFYsUUFBUUMsSUFBSSxVQUNaLE1BQU1tSyxFQUFLOUcsRUFBWUMsTUFDakJpVyxFQUFhdGIsRUFBSWlKLE1BQU1pRCxHQUFJclAsT0FDM0J1ZSxFQUFhN08sRUFBS3RELE1BQU1pRCxHQUFJcFQsTUFFbEMsSUFBSXlpQixFQUFZVCxFQUFrQjdnQixNQUVsQyxNQUFNNEMsRUFBU3VlLEVBQWFFLEVBQzVCLEdBQWMsR0FBVnplLEVBQWEsQ0FDYixNQUFNMmUsRUFBWUQsRUFBVXBZLEtBQUtHLEdBb0I3QyxTQUF5QkEsRUFBTXpHLEdBQzNCeUcsRUFBTyxJQUFJQSxHQUNYQSxFQUFLOUksSUFBSSxHQUFxQixNQUFmOEksRUFBSzlJLElBQUksR0FBYzhJLEVBQUs5SSxJQUFJLEdBQUtxQyxFQUFTLEtBQzdEeUcsRUFBSzlJLElBQUksR0FBcUIsTUFBZjhJLEVBQUs5SSxJQUFJLEdBQWM4SSxFQUFLOUksSUFBSSxHQUFLcUMsRUFBUyxLQUk1QyxVQUFieUcsRUFBSzJLLEtBQ0wzSyxFQUFLNEssS0FBS3dJLFVBQVlwVCxFQUFLNEssS0FBS3dJLFVBQVk3WixFQUN4QixjQUFieUcsRUFBSzJLLE9BQ1ozSyxFQUFLNEssS0FBSzVHLEdBQUtoRSxFQUFLNEssS0FBSzVHLEdBQUt6SyxFQUM5QnlHLEVBQUs0SyxLQUFLclUsR0FBS3lKLEVBQUs0SyxLQUFLclUsR0FBS2dELEdBRWxDLE9BQU95RyxDQUNYLENBakN1Qm1ZLENBQWVuWSxFQUFNekcsS0FFaENnZSxFQUFJM0YsT0FBT3NHLEVBQVdKLEVBQ2xDLE1BQ1lQLEVBQUkzRixPQUFPcUcsRUFBV0QsRUFFbEMsQ0FNSSxPQUhBUixFQUFrQjFXLGNBN0VsQixXQUNTNFcsR0FDTDFELEdBQ1IsSUEyRUkvSyxFQUFLbkksYUFBYTZXLEdBQ2xCQSxJQUNPLENBQUUsQ0FDYixDQ3hNQSxTQUFTUyxHQUFZcFksRUFBTTVGLEdBRXZCLE1BQU1pZSxFQUFTclksRUFBS3dKLEdBQ2Q4TyxFQUFXdFksRUFBSzJLLEtBQ3RCLElBQUk0TixFQUFVLEdBQ2QsR0FBZ0IzaUIsTUFBWm9LLEVBQUs5SSxJQUFrQixDQUN2QixNQUFPQyxFQUFLQyxFQUFNK0IsRUFBWUMsR0FBZTRHLEVBQUs5SSxJQUdsRHFoQixFQUFVLElBRmMsTUFBUHBoQixFQUFlLE9BQVNBLEVBQUlxaEIsUUFBUSxNQUMzQixNQUFScGhCLEVBQWdCLE9BQVNBLEVBQUtvaEIsUUFBUSxNQUNuQnJmLEtBQWNDLElBQzNELENBQ0ksSUFHSXFmLEVBQVUseUJBQXlCSixXQUNuQ0ssRUFBVywwQkFBMEJILFdBQ3JDSSxFQUFZLDJCQUEyQkwsV0FDdkNNLEVBQVksMkJBTkRDLEtBQUtDLFVBQVU5WSxFQUFLNEssZUFTbkMsTUFBTW1PLGVBQUNBLEdBQWUsR0FBUzNlLEVBQy9CLE9BQUkyZSxFQUNPLDRFQUdETixNQUFZRSxLQUFhRCxLQUFZRSxvQkFHcEMsZ0NBRURILE1BQVlFLEtBQWFELEtBQVlFLG1CQUduRCxDQUdPLE1BQU1JLEdBRVQsV0FBQXRlLENBQVlnVSxFQUFldUssRUFBTTdlLEVBQVEsQ0FBQSxHQUNyQ1gsS0FBS2tWLElBQU1ELEVBQ1hqVixLQUFLeWYsTUFBUUQsRUFDYnhmLEtBQUt1TixRQUFVdk4sS0FBS2tWLElBQUk3TixhQUFhckgsS0FBSzBmLFVBQVV6UixLQUFLak8sT0FHekQsSUFBSTJmLEVBQVcsQ0FDWEMsU0FBU2pCLElBRWIzZSxLQUFLMkwsU0FBVyxJQUFJZ1UsS0FBYWhmLEdBSzdCWCxLQUFLMkwsU0FBUzJULGdCQUVkRSxFQUFLSyxpQkFBaUIsU0FBVTNXLElBRTVCLE1BQU00VyxFQUFZNVcsRUFBRXJLLE9BQU9raEIsUUFBUSxXQUNuQyxHQUFJRCxFQUFXLENBQ1gsTUFBTUUsRUFBV0YsRUFBVUMsUUFBUSxjQUMvQkMsSUFDQWhnQixLQUFLa1YsSUFBSWhGLE9BQU8sQ0FBQ1MsT0FBTyxDQUFDcVAsRUFBU2pRLE1BQ2xDN0csRUFBRStXLGtCQUUxQixLQU9RamdCLEtBQUswZixXQUNiLENBRUksU0FBQUEsR0FDSSxNQUFNdE8sRUFBUXBSLEtBQUtrVixJQUFJaFksT0FBUyxHQUdoQ2tVLEVBQU03TyxNQUFLLENBQUMyZCxFQUFRQyxLQUNoQixJQUFJQyxFQUFVamlCLEVBQVNXLGNBQWNvaEIsRUFBT3ppQixLQUFLLEdBQzdDNGlCLEVBQVVsaUIsRUFBU1csY0FBY3FoQixFQUFPMWlCLEtBQUssR0FDakQsT0FBT1UsRUFBU0ssSUFBSTRoQixFQUFTQyxFQUFRLElBSXpDcmdCLEtBQUt5ZixNQUFNYSxrQkFFWCxNQUFNVixTQUFDQSxHQUFZNWYsS0FBSzJMLFNBQ3hCLElBQUssSUFBSXBGLEtBQVE2SyxFQUFPLENBRXBCLElBQUltUCxFQUFPdmdCLEtBQUt5ZixNQUFNZSxjQUFjLElBQUlqYSxFQUFLd0osTUFDakMsTUFBUndRLElBQ0FBLEVBQU9FLFNBQVNDLGNBQWMsT0FDOUJILEVBQUtJLGFBQWEsS0FBTXBhLEVBQUt3SixJQUM3QndRLEVBQUtLLFVBQVVsUyxJQUFJLGFBQ25CMU8sS0FBS3lmLE1BQU1vQixZQUFZTixJQUUzQkEsRUFBS08sVUFBWWxCLEVBQVNyWixFQUFNdkcsS0FBSzJMLFNBQ2pELENBQ0EsRUNyRUEsU0FBU29CLEdBQU1wTSxFQUFRLElBQ25CLElBQUlzQyxJQUFDQSxFQUFHb04sT0FBRUEsRUFBTXRVLE1BQUVBLEtBQVUyUCxHQUFRL0ssRUFDcEMsT0FBSXNDLGFBQWVzSSxFQUNSdEksR0FFQTlHLE1BQVA4RyxJQUVJQSxFQURTOUcsTUFBVEosRUFDTSxJQUFJaVYsR0FBaUIsQ0FBQ2pWLFVBRXRCLElBQUlvVSxHQUFtQixDQUFDRSxZQUcvQnFILEdBQVksQ0FBQ3pVLFNBQVF5SSxJQUNoQyx5R054Q08sU0FBdUJ6SSxHQUUxQixNQUFNOEosRUFBUSxJQUFJeEIsRUFVbEIsT0FUQXdCLEVBQU03TCxNQUFRLElBQUlvYixHQUFtQnJaLEVBQUkvQixPQUd6QytCLEVBQUlvRSxjQUFjOUMsSUFDZHdJLEVBQU1ULFNBQVMvSCxFQUFLLElBSXhCd0ksRUFBTTlKLElBQU1BLEVBQ0w4SixDQUNYLFVNc0NBLFNBQWdCOUosR0FDWixPQUFPOFYsR0FBYTlWLEVBQ3hCLHVEUnBETyxTQUEyQkEsR0FFOUIsS0FBTUEsYUFBZXdNLEdBQ2pCLE1BQU0sSUFBSTdULE1BQU0sd0JBQXdCcUgsS0FHNUMsTUFBTThKLEVBQVEsSUFBSXhCLEVBVWxCLE9BVEF3QixFQUFNN0wsTUFBUSxJQUFJcWEsR0FBWXRZLEdBRzlCQSxFQUFJb0UsY0FBYzlDLElBQ2R3SSxFQUFNVCxTQUFTL0gsRUFBSyxJQUl4QndJLEVBQU05SixJQUFNQSxFQUNMOEosQ0FDWCxvQkt1RE8sU0FBeUI5SixFQUFLdEMsRUFBUSxJQUV6QyxLQUFNc0MsYUFBZXNJLEdBQ2pCLE1BQU0sSUFBSTNQLE1BQU0sdUJBQXVCcUgsS0FHM0MsTUFBTThkLEVBQU0sQ0FBRSxFQWxCbEIsSUFBMEJsWSxFQU1BQyxFQWF0QmlZLEVBQUlsWSxXQW5Ca0JBLEVBbUJXbEksRUFBUWtJLFVBbEJsQyxVQUFVRixRQUFDQSxFQUFPQyxPQUFFQSxFQUFNOUksT0FBRUEsSUFDL0IsT0FBTytJLEVBQVVELEVBQU8sR0FBRzdNLE1BQ25DLEdBaUJJZ2xCLEVBQUlqWSxXQWRrQkEsRUFjV25JLEVBQVFtSSxVQWJsQyxVQUFVSCxRQUFDQSxFQUFPQyxPQUFFQSxFQUFNOUksT0FBRUEsSUFDL0IsT0FBT2dKLEVBQVVGLEVBQU8sR0FDaEMsR0FhSSxNQUFNbUUsRUFBUSxJQUFJeEIsRUFBTXdWLEdBSXhCLE9BSEFoVSxFQUFNN0wsTUFBUSxJQUFJOEIsRUFBZUMsR0FDakM4SixFQUFNOUosSUFBTUEsRUFDWjhKLEVBQU05SixJQUFJb0UsY0FBYzlDLElBQVV3SSxFQUFNVCxTQUFTL0gsRUFBSSxJQUM5Q3dJLENBQ1gsb0RGM0ZPLFNBQTZCcEUsRUFBU2hJLEVBQVEsSUFFakQsTUFBTXljLEtBQUNBLEdBQVF6YyxFQUNmLElBQUlHLEVBQ0FzYyxJQUNBdGMsRUFBYVosR0FDRmtkLEVBQUtULEtBQUt6YyxJQUl6QixNQUFNNk0sRUFBUSxJQUFJeEIsRUFDWnJLLEVBQVEsSUFBSTZhLEdBQWlCcFQsR0FVbkMsT0FUQW9FLEVBQU03TCxNQUFRLElBQUlvYixHQUFtQnBiLEVBQU8sQ0FBQ0osY0FHN0M2SCxFQUFRdkMsS0FBS25ELEdBQ0ZBLEVBQUlvRSxhQUFhMEYsRUFBTVQsWUFHbENTLEVBQU1wRSxRQUFVQSxFQUVUb0UsQ0FDWCxVRllPLFNBQXNCcEUsRUFBU2hJLEVBQVEsSUFDMUMsSUFBSXVRLEtBQUNBLEVBQUssTUFBT3hGLEdBQVEvSyxFQUdyQnVRLEtBQVF1SyxLQUNSL1AsRUFBTytQLEdBQWN2SyxJQUV6QixNQUFNbkUsRUFBUSxJQUFJeEIsRUFBTUcsR0FpQ3hCLE9BOUJBa00sR0FBaUI3SyxHQUNqQjhLLEdBQW1COUssR0FDbkJBLEVBQU0rSyxpQkFBaUIsV0FFdkIvSyxFQUFNZ0wsY0FBZ0IsU0FBU3pHLEVBQVUzSSxHQUNyQyxHQUFnQixXQUFaMkksRUFBdUIsQ0FFdkIsSUFBSzdWLE1BQU1DLFFBQVFpTixHQUNmLE1BQU0sSUFBSS9NLE1BQU0seUJBQXlCK00sS0FHN0MsSUFEbUJBLEVBQVF2QyxLQUFLOEMsR0FBTUEsYUFBYXFDLElBQU80UixPQUFNalUsR0FBS0EsSUFFakUsTUFBTSxJQUFJdE4sTUFBTSw4QkFBOEIrTSxJQUU5RCxDQUNRLE9BQU9BLENBQ2YsRUFFSW9FLEVBQU1pTCxpQkFBbUIsU0FBUzFHLEVBQVUvTSxHQUN4QixXQUFaK00sSUFDWSxTQUFSL00sSUFDQXdJLEVBQU03TCxNQUFRLElBQUk2YSxHQUFpQmhQLEVBQU1wRSxVQUU3Q29FLEVBQU1ULFdBRWxCLEVBR0lTLEVBQU1wRSxRQUFVQSxFQUVUb0UsQ0FDWCxhT1hBLFNBQWtCcE0sRUFBUSxJQUN0QixJQUFJNk8sS0FBQ0EsS0FBUzlELEdBQVEvSyxFQUV0QixPQUFPNlosR0FBZ0JoTCxFQURYekMsR0FBTXJCLEdBRXRCLGFBdkJBLFNBQW1CL0ssRUFBUSxJQUN2QixJQUFJNk8sS0FBQ0EsRUFBS0csRUFBb0IxTSxJQUFFQSxFQUFHNmEsSUFBRUEsR0FBT25kLEVBQzVDLE9BQU9rZCxHQUFlck8sRUFBTXZNLEVBQUs2YSxFQUNyQyxrQnZCMUJPLFNBQXdCdFAsRUFBUXdTLEVBQVVyZ0IsRUFBUSxDQUFBLEdBQ3JELE1BQU04TSxNQUFDQSxFQUFNLElBQUd3VCxPQUFFQSxFQUFNQyxRQUFFQSxHQUFXdmdCLEVBQy9Cd2dCLEVBQVFWLFNBQVNELGNBQWNRLEdBV3JDLE9BQU94UyxFQUFPUCxNQVZkLFNBQWlCYixHQUNNalIsTUFBZmlSLEVBQU1yUixPQUFpQ0ksTUFBWCtrQixJQUM1QjlULEVBQU1yUixNQUFRbWxCLEdBRUova0IsTUFBVjhrQixFQUNBQSxFQUFPN1QsRUFBTytULEdBRWRBLEVBQU1DLFlBQThCamxCLE1BQWZpUixFQUFNclIsTUFBc0IsR0FBR3FSLEVBQU1yUixRQUFVLEVBRWhGLEdBQ2dDMFIsRUFDaEMsb0JzQm1FTyxTQUF5QndILEVBQWUrTCxFQUFVcmdCLEVBQVEsQ0FBQSxHQUM3RCxNQUFNd2dCLEVBQVFWLFNBQVNELGNBQWNRLEdBQ3JDLE9BQU8sSUFBSXpCLEdBQW9CdEssRUFBZWtNLEVBQU94Z0IsRUFDekQsU0NwQ0EsU0FBZXNDLEVBQUtuRCxHQUloQixPQUFPOGQsR0FBaUIzYSxFQUFLLENBQUM0RixVQUg5QixTQUFtQjlNLEdBQ2YsT0FBT0EsRUFBUStELENBQ2xCLEdBRUwsdUJKZ0JPLFNBQTZCbUQsRUFBS3RDLEVBQVEsSUFFN0MsTUFBTW9NLEVBQVEsSUFBSXhCLEVBNEJsQixPQXpCQXFNLEdBQWlCN0ssR0FDakI4SyxHQUFtQjlLLEdBQ25CQSxFQUFNK0ssaUJBQWlCLE9BRXZCL0ssRUFBTWdMLGNBQWdCLFNBQVN6RyxFQUFVck8sR0FDckMsR0FBZ0IsT0FBWnFPLEVBQW1CLENBQ25CLEtBQU1yTyxhQUFlc0ksR0FDakIsTUFBTSxJQUFJM1AsTUFBTSx1QkFBdUJxSCxLQUUzQyxPQUFPQSxDQUNuQixDQUNBLEVBRUk4SixFQUFNaUwsaUJBQW1CLFNBQVMxRyxFQUFVL00sR0FDeEIsT0FBWitNLElBQ1ksU0FBUi9NLElBQ0F2RSxLQUFLa0IsTUFBUSxJQUFJd2MsR0FBZTFkLEtBQUtpRCxJQUFLdEMsSUFFOUNvTSxFQUFNVCxXQUVsQixFQUdJUyxFQUFNOUosSUFBTUEsRUFFTDhKLENBQ1gsYUloRUEsU0FBa0JwTSxFQUFRLElBQ3RCLElBQUkwZ0IsTUFBQ0EsS0FBVTNWLEdBQVEvSyxFQUV2QixPQUFPcVksR0FBZ0JxSSxFQURYdFUsR0FBTXJCLEdBRXRCIn0=

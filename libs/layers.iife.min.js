var LAYERS=function(t){"use strict";function e(t,e){let[n,i]=t,[r,s]=e,o=(a=n)===(c=r)?0:a===1/0?1:c===1/0||a===-1/0?-1:c===-1/0?1:a-c;var a,c;return 0!=o?o:i-s}function n(t,n){return e(t,n)<=0}function i(t,n){return e(t,n)>=0}function r(t){let[e,n,i,r]=t;return[i?[e,0]:[e,1],r?[n,0]:[n,-1]]}function s(t,e){let[i,s]=r(t);return n(i,e)&&n(e,s)}function o(t){return"number"==typeof t}const a={le:n,lt:function(t,n){return e(t,n)<0},ge:i,gt:function(t,n){return e(t,n)>0},cmp:e,eq:function(t,n){return 0==e(t,n)},min:function(t,e){return n(t,e)?t:e},max:function(t,e){return i(t,e)?t:e},flip:function(t,e){let[n,i]=t;if(!isFinite(n))return t;if("low"==e){if(i>0)throw new Error("endpoint is already low");t=[n,i+1]}else{if("high"!=e)throw new Error("illegal type",e);if(i<0)throw new Error("endpoint is already high");t=[n,i-1]}return t},from_interval:r,from_input:function(t){if("number"==typeof t)return[t,0];if(!Array.isArray(t)||2!=t.length)throw new Error("Endpoint must be a length-2 array");let[e,n]=t;if("number"!=typeof e)throw new Error("Endpoint value must be number");return[e,Math.sign(n)]}},c={covers_endpoint:s,covers_point:function(t,e){return s(t,[e,0])},is_singular:function(t){return t[0]==t[1]},from_endpoints:function(t,e){let[n,i]=t,[r,s]=e;if(-1==i)throw new Error("illegal low point",t);if(1==s)throw new Error("illegeal high point",e);return[n,r,0==i,0==s]},from_input:function(t){let e=t;if(null==e)throw new Error("input is undefined");if(!Array.isArray(e)){if(!o(e))throw new Error(`input: ${t}: must be Array or Number`);e=[e,e,!0,!0]}1==e.length?e=[e[0],e[0],!0,!0]:2==e.length?e=e.concat([!0,!1]):3==e.length?e=e.push(!1):e.length>4&&(e=e.slice(0,4));let[n,i,r,s]=e;if(null!=n&&null!=n||(n=-1/0),null!=i&&null!=i||(i=1/0),!o(n))throw new Error("low not a number",n);if(!o(i))throw new Error("high not a number",i);if(n>i)throw new Error("low > high",n,i);if(n==i&&(r=!0,s=!0),n==-1/0&&(r=!0),i==1/0&&(s=!0),"boolean"!=typeof r)throw new Error("lowInclude not boolean");if("boolean"!=typeof s)throw new Error("highInclude not boolean");return[n,i,r,s]}};function l(t,e){let n=Math.floor(t/e),i=function(t,e){return(t%e+e)%e}(t,e);return[n,i]}function h(t,e,n,i={}){let{valueFunc:r,stateFunc:s}=i;if(null!=r){return{value:r({sources:t,states:e,offset:n}),dynamic:e.map((t=>t.dymamic)).some((t=>t)),offset:n}}return null!=s?{...s({sources:t,states:e,offset:n}),offset:n}:0==e.length?{value:void 0,dynamic:!1,offset:n}:{...e[0],offset:n}}const u="__callback";function _(t){t[`${u}_handlers`]=[]}function f(t){let e={handler:t};return this[`${u}_handlers`].push(e),e}function d(t){let e=this[`${u}_handlers`].indexOf(t);e>-1&&this[`${u}_handlers`].splice(e,1)}function p(t){this[`${u}_handlers`].forEach((function(e){e.handler(t)}))}function g(t){const e={add_callback:f,remove_callback:d,notify_callbacks:p};Object.assign(t,e)}function m(t){const e=["add_callback","remove_callback"];for(const n of e){if(!(n in t))return!1;if("function"!=typeof t[n])return!1}return!0}function v(t){return t.itv=c.from_input(t.itv),t.id=t.id||function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i=0;i<t;i++)e+=n.charAt(Math.floor(52*Math.random()));return e}(10),t}function y(t){return!!m(t)&&("get_items"in t&&"function"==typeof t.get_items)}class b{constructor(t={}){_(this),this._map=new Map,this._initialise(t)}_initialise(t={}){let{insert:e,value:n}=t;null!=n&&(e=[{itv:[-1/0,1/0,!0,!0],type:"static",data:n}]),null!=e&&this._update({insert:e,reset:!0})}update(t){return Promise.resolve().then((()=>{let e;return null!=t&&(e=this._update(t),this.notify_callbacks(e)),e}))}_update(t){const e=new Map;let{insert:n=[],remove:i=[],reset:r=!1}=t;if(r){for(const[t,n]of this._map.entries())e.set(t,{id:t,new:void 0,old:n});this._map=new Map}else for(const t of i){let n=this._map.get(t);null!=n&&(e.set(n.id,{id:n.id,new:void 0,old:n}),this._map.delete(t))}for(let t of n){t=v(t);const n=e.get(t.id),i=null!=n?n.old:this._map.get(t.id);e.set(t.id,{id:t.id,new:t,old:i}),this._map.set(t.id,t)}return[...e.values()]}get_items(){return[...this._map.values()]}}g(b.prototype);class w{nearby(t){throw new Error("Not implemented")}first(){let{center:t,right:e}=this.nearby([-1/0,0]);return t.length>0?[-1/0,0]:e}last(){let{left:t,center:e}=this.nearby([1/0,0]);return e.length>0?[1/0,0]:t}right_region(t){const e=function(t){const e=a.from_interval(t.itv)[1];return a.flip(e,"low")}(t);if(e[0]!=1/0)return this.nearby(e)}left_region(t){const e=function(t){const e=a.from_interval(t.itv)[0];return a.flip(e,"high")}(t);if(e[0]!=-1/0)return this.nearby(e)}find_region(t,e={}){let n,{direction:i=1,condition:r=t=>t.length>0}=e;for(;;){if(n=1==i?this.right_region(t):this.left_region(t),null==n)return;if(r(n.center))return n;t=n}}regions(t){return new x(this,t)}}class x{constructor(t,e={}){let{start:n=-1/0,stop:i=1/0,includeEmpty:r=!0}=e;if(n>i)throw new Error("stop must be larger than start",n,i);this._index=t,this._start=[n,0],this._stop=[i,0],this._condition=r?()=>!0:t=>t.length>0,this._current}next(){if(null==this._current&&(this._current=this._index.nearby(this._start),this._condition(this._current.center)))return{value:this._current,done:!1};let t={condition:this._condition,direction:1};return this._current=this._index.find_region(this._current,t),null==this._current?{value:void 0,done:!0}:{value:this._current,done:!1}}[Symbol.iterator](){return this}}function k(t,e){return a.cmp(t,e)}function E(t,e){return a.cmp(e,t)}function q(t,e,n,i,r){const s={center:n};if(0==n.length)s.right=r,s.left=t;else{i.sort(k);let n=i[0],o=i.slice(-1)[0],c=!a.eq(n,o);e.sort(E);let l=e[0],h=e.slice(-1)[0],u=!a.eq(l,h);a.le(r,n)?s.right=r:s.right=a.flip(n,"low"),s.next=c?s.right:r,a.ge(t,l)?s.left=t:s.left=a.flip(l,"high"),s.prev=u?s.left:t}let o=a.flip(s.left,"low"),l=a.flip(s.right,"high");return s.itv=c.from_endpoints(o,l),s}class ${constructor(t,e,n){n=n||{},this.publisher=t,this.name=e,this.init=void 0!==n.init&&n.init,this.subscriptions=[]}subscribe(t,e){if(!t||"function"!=typeof t)throw new Error("Callback not a function",t);const n=new O(this,t,e);if(this.subscriptions.push(n),this.init&&n.init){n.init_pending=!0;let t=this;Promise.resolve().then((function(){const e=t.publisher.eventifyInitEventArgs(t.name)||[];n.init_pending=!1;for(let i of e)t.trigger(i,[n],!0)}))}return n}trigger(t,e,n){let i,r;for(const s of e)if(!s.terminated){i={src:this.publisher,name:this.name,sub:s,init:n},r=s.ctx||this.publisher;try{s.callback.call(r,t,i)}catch(t){console.log(`Error in ${this.name}: ${s.callback} ${t}`)}}}unsubscribe(t){let e=this.subscriptions.indexOf(t);e>-1&&(this.subscriptions.splice(e,1),t.terminate())}}class O{constructor(t,e,n){n=n||{},this.event=t,this.name=t.name,this.callback=e,this.init=void 0===n.init?this.event.init:n.init,this.init_pending=!1,this.terminated=!1,this.ctx=n.ctx}terminate(){this.terminated=!0,this.callback=void 0,this.event.unsubscribe(this)}}function M(t){return t.__eventify_eventMap=new Map,t.__eventify_buffer=[],t}function C(t){function e(t,e){const n=t.__eventify_eventMap.get(e);if(null==n)throw new Error("Event undefined",e);return n}t.eventifyDefine=function(t,e){if(this.__eventify_eventMap.has(t))throw new Error("Event already defined",t);this.__eventify_eventMap.set(t,new $(this,t,e))},t.eventifyTrigger=function(t,e){return this.eventifyTriggerAll([{name:t,eArg:e}])},t.eventifyTriggerAlike=function(t,e){return this.eventifyTriggerAll(e.map((e=>({name:t,eArg:e}))))},t.eventifyTriggerAll=function(t){if(0==t.length)return;let n=t.map((t=>{let{name:n,eArg:i}=t,r=e(this,n),s=r.subscriptions.filter((t=>0==t.init_pending));return[r,i,s]}),this);const i=n.length,r=this.__eventify_buffer,s=this.__eventify_buffer.length;this.__eventify_buffer.length=s+i;for(let t=0;t<i;t++)r[s+t]=n[t];if(0==s){let t=this;Promise.resolve().then((function(){for(let[e,n,i]of t.__eventify_buffer)e.trigger(n,i,!1);t.__eventify_buffer=[]}))}},t.eventifySubscriptions=function(t){return e(this,t).subscriptions},t.on=function(t,n,i){return e(this,t).subscribe(n,i)},t.off=function(t){return e(this,t.name).unsubscribe(t)}}C(class{constructor(t){M(this),this._value=t,this.eventifyDefine("change",{init:!0})}eventifyInitEventArgs(t){if("change"==t)return[this._value]}get value(){return this._value}set value(t){t!=this._value&&(this._value=t,this.eventifyTrigger("change",t))}}.prototype);const A="srcprop",F=`__${A}`;function I(t){t[`${F}`]=new Map}function T(t){const e={};e[`${A}_register`]=function(t,e={}){let{mutable:n=!0}=e;const i=this[`${F}`];i.set(t,{init:!1,mutable:n,entity:void 0,handles:[]}),Object.defineProperty(this,t,{get:function(){return i.get(t).entity},set:function(e){this[`${A}_check`]&&(e=this[`${A}_check`](t,e)),e!=i.get(t).entity&&this[`${F}_attach`](t,e)}})},e[`${F}_attach`]=function(t,e){const n=this[`${F}`].get(t);if(n.init&&!n.mutable)throw new Error(`${t} can not be reassigned`);const i=Array.isArray(e)?e:[e];if(n.handles.length>0)for(const[t,e]of Object.entries(i))m(e)&&e.remove_callback(n.handles[t]);if(n.handles=[],n.entity=e,n.init=!0,this[`${A}_onchange`]){const e=function(e){this[`${A}_onchange`](t,e)}.bind(this);for(const t of i)m(t)&&n.handles.push(t.add_callback(e));this[`${A}_onchange`](t,"reset")}},Object.assign(t,e)}class j{constructor(t){this._itv=t}get itv(){return this._itv}state(t){throw new Error("not implemented")}query(t){return c.covers_point(this._itv,t)?{...this.state(t),offset:t}:{value:void 0,dynamic:!1,offset:t}}}class S extends j{constructor(t,e){super(t),this._value=e}state(){return{value:this._value,dynamic:!1}}}class P extends j{constructor(t,e){super(t);const{position:n=0,velocity:i=0,acceleration:r=0,timestamp:s=0}=e;this._pos_func=function(t){let e=t-s;return n+i*e+.5*r*e*e},this._vel_func=function(t){return i+r*(t-s)},this._acc_func=function(t){return r}}state(t){let e=this._pos_func(t),n=this._vel_func(t),i=this._acc_func(t);return{position:e,velocity:n,acceleration:i,timestamp:t,value:e,dynamic:0!=n||0!=i}}}function D(t){return Math.pow(t,2)}class z extends j{constructor(t,e){super(t);let{v0:n,v1:i,easing:r}=e,[s,o]=this._itv.slice(0,2);this._dynamic=i-n!=0,this._trans=function(t){return t-=s,t/=parseFloat(o-s),"ease-in"==r?t=D(t):"ease-out"==r?t=function(t){return 1-D(1-t)}(t):"ease-in-out"==r&&(t=function(t){return t<.5?D(2*t)/2:(2-D(2*(1-t)))/2}(t)),t=Math.max(t,0),t=Math.min(t,1),n+(i-n)*t}}state(t){return{value:this._trans(t),dynamic:this._dynamic}}}class L extends j{constructor(t,e){super(t),this._trans=function(t){if(t.length<1)return function(){};if(1==t.length)return function(){return t[0][0]};const e=[...t].sort(((t,e)=>t[1]-e[1]));return function(t){if(t<=e[0][1]){const[n,i]=e[0],[r,s]=e[1];return n+(t-i)*(r-n)/(s-i)}if(t>=e[e.length-1][1]){const[n,i]=e[e.length-2],[r,s]=e[e.length-1];return n+(t-i)*(r-n)/(s-i)}for(let n=0;n<e.length-1;n++)if(t>=e[n][1]&&t<=e[n+1][1]){const[i,r]=e[n],[s,o]=e[n+1];return i+(t-r)*(s-i)/(o-r)}}}(e)}state(t){return{value:this._trans(t),dynamic:!0}}}function N(t,e){return a.lt(a.from_input(t),a.from_input(e))}function B(t,e){return a.cmp(a.from_input(t),a.from_input(e))}class R{constructor(){this._array=[]}get size(){return this._array.length}get array(){return this._array}indexOf(t){let e=0,n=this._array.length-1;for(;e<=n;){const s=Math.floor((e+n)/2);let o=this._array[s];if(i=o,r=t,a.eq(a.from_input(i),a.from_input(r)))return[!0,s];N(o,t)?e=s+1:n=s-1}var i,r;return[!1,e]}geIndexOf(t){let[e,n]=this.indexOf(t);return n<this._array.length?n:-1}leIndexOf(t){let[e,n]=this.indexOf(t);return n=e?n:n-1,n>=0?n:-1}gtIndexOf(t){let[e,n]=this.indexOf(t);return n=e?n+1:n,n<this._array.length?n:-1}ltIndexOf(t){let[e,n]=this.indexOf(t);return n-=1,n>=0?n:-1}update(t=[],e=[]){let n=[];for(let e of t){let[t,i]=this.indexOf(e);t&&n.push(i)}for(let t of n)this._array[t]=void 0;let i=n.length>0,r=e.length>0;r&&function(t,e){const n=t.length,i=e.length;t.length+=i;for(let r=0;r<i;r++)t[n+r]=e[r]}(this._array,e),(i||r)&&this._array.sort(B),i&&(this._array.length-=n.length),r&&function(t){let e=0;for(;!(e+1>=t.length);)t[e]==t[e+1]?t.splice(e+1,1):e+=1}(this._array)}get_by_index(t){if(t>-1&&t<this._array.length)return this._array[t]}lookup(t){null==t&&(t=[-1/0,1/0,!0,!0]);let[e,n]=a.from_interval(t),i=this.geIndexOf(e),r=this.leIndexOf(n);return-1==i||-1==r?[]:this._array.slice(i,r+1)}lt(t){return this.get_by_index(this.ltIndexOf(t))}le(t){return this.get_by_index(this.leIndexOf(t))}get(t){let[e,n]=this.indexOf(t);if(e)return this._array[n]}gt(t){return this.get_by_index(this.gtIndexOf(t))}ge(t){return this.get_by_index(this.geIndexOf(t))}}class Y{constructor(){this._map=new Map([[-1,new Set],[0,new Set],[1,new Set]])}add([t,e]){return this._map.get(e).add(t)}has([t,e]){return this._map.get(e).has(t)}get([t,e]){return this._map.get(e).get(t)}list(){const t=[-1,0,1].map((t=>[...this._map.get(t).values()].map((e=>[e,t]))));return[].concat(...t)}}const G="low",H="active",J="high";class K{constructor(){this._map=new Map([[-1,new Map],[0,new Map],[1,new Map]])}get_items_by_role([t,e],n){const i=this._map.get(e).get(t);return null!=i?i[n]:[]}register([t,e],n,i){const r=this._map.get(e);r.has(t)||r.set(t,{low:[],active:[],high:[]});const s=r.get(t),o=s[G].length+s[J].length==0;-1==s[i].findIndex((t=>t.id==n.id))&&s[i].push(n);const a=s[G].length+s[J].length==0;return o&&!a}unregister([t,e],n){const i=this._map.get(e),r=i.get(t);if(null!=r){const e=r[G].length+r[J].length==0;for(const t of[G,H,J]){let e=r[t].findIndex((t=>t.id==n.id));e>-1&&r[t].splice(e,1)}const s=r[G].length+r[J].length==0;if(!e&&s)return i.delete(t),!0}return!1}}class Q extends w{constructor(t){if(super(),!y(t))throw new Error(`must be stateprovider ${t}`);this._sp=t,this._initialise(),this.refresh()}get src(){return this._sp}_initialise(){this._itemsmap=new K,this._endpoints=new R,this._index=[]}refresh(t){const e=new Y,n=new Y;let i,r=[],s=[];if(null==t)r=this.src.get_items(),this._initialise();else for(const e of t)null!=e.new&&r.push(e.new),null!=e.old&&s.push(e.old);for(const t of s){this._endpoints.lookup(t.itv);for(const n of this._endpoints.lookup(t.itv)){this._itemsmap.unregister(n,t)&&e.add(n)}}for(const t of r){const[e,r]=a.from_interval(t.itv);i=this._itemsmap.register(e,t,G),i&&n.add(e),i=this._itemsmap.register(r,t,J),i&&n.add(r)}this._endpoints.update(e.list(),n.list());const o=new Set;for(const t of this._endpoints.array){for(let e of this._itemsmap.get_items_by_role(t,G))o.add(e);for(let e of o)this._itemsmap.register(t,e,H);for(let e of this._itemsmap.get_items_by_role(t,J))o.delete(e)}}_covers(t){const e=this._endpoints.le(t)||[-1/0,0],n=this._endpoints.ge(t)||[1/0,0];if(a.eq(e,n))return this._itemsmap.get_items_by_role(e,H);{const t=this._itemsmap.get_items_by_role(e,H),i=this._itemsmap.get_items_by_role(n,H),r=new Set(t.map((t=>t.id)));return i.filter((t=>r.has(t.id)))}}nearby(t){t=a.from_input(t);let e=this._covers(t);const n=[],i=[];for(const t of e){const[e,r]=a.from_interval(t.itv);n.push(r),i.push(e)}let r,s=t;for(;!(s=this._endpoints.lt(s)||[-1/0,0],s[0]==-1/0||(r=this._itemsmap.get_items_by_role(s,J),r.length>0)););let o=t;for(;!(o=this._endpoints.gt(o)||[1/0,0],o[0]==1/0||(r=this._itemsmap.get_items_by_role(o,G),r.length>0)););return q(s,i,e,n,o)}}class U{constructor(t={}){const{CacheClass:e=V}=t,{valueFunc:n,stateFunc:i}=t;_(this),M(this),this.eventifyDefine("change",{init:!0}),this._index,this._CacheClass=e,this._cache_object,this._cache_objects=[],this._queryOptions={valueFunc:n,stateFunc:i}}get index(){return this._index}set index(t){this._index=t}get queryOptions(){return this._queryOptions}get cache(){return null==this._cache_object&&(this._cache_object=new this._CacheClass(this)),this._cache_object}getCache(){const t=new this._CacheClass(this);return this._cache_objects.push(t),t}clearCaches(){for(const t of this._cache_objects)t.clear()}query(t){return this.cache.query(t)}regions(t){return this.index.regions(t)}sample(t={}){let{start:e=-1/0,stop:n=1/0,step:i=1}=t;if(e>n)throw new Error("stop must be larger than start",e,n);e=[e,0],n=[n,0],e=a.max(this.index.first(),e),n=a.min(this.index.last(),n);const r=this.getCache();return function(t,e,n=1,i={}){const r=[],{include_end:s=!1}=i;if(0===n)throw new Error("Step cannot be zero.");if(t<e)for(let i=t;i<e;i+=n)r.push(i);else if(t>e)for(let i=t;i>e;i-=n)r.push(i);return s&&r.push(e),r}(e[0],n[0],i,{include_end:!0}).map((t=>[r.query(t).value,t]))}}g(U.prototype),C(U.prototype);class V{constructor(t){this._layer=t,this._nearby,this._state}get src(){return this._layer}query(t){const e=null==this._nearby||!c.covers_point(this._nearby.itv,t);if(!e&&null!=this._state&&!this._state.dynamic)return{...this._state,offset:t};e&&(this._nearby=this._layer.index.nearby(t));const n=this._nearby.center.map((e=>e.query(t))),i=h(this._nearby.center,n,t,this._layer.queryOptions);return this._state=i.dynamic?void 0:i,i}clear(){this._nearby=void 0,this._state=void 0}}class W extends U{constructor(t={}){const{src:e,valueFunc:n,stateFunc:i}=t;super({CacheClass:X,valueFunc:n,stateFunc:i}),I(this),this.srcprop_register("src"),this.src=e}srcprop_check(t,e){if("src"==t){if(!y(e))throw new Error(`"src" must be state provider ${e}`);return e}}srcprop_onchange(t,e){"src"==t&&(null!=this.index&&"reset"!=e||(this.index=new Q(this.src)),"reset"!=e&&this.index.refresh(e),this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change"))}}T(W.prototype);class X{constructor(t){this._layer=t,this._nearby=void 0,this._segment=void 0}get src(){return this._layer}query(t){if(null==this._nearby||!c.covers_point(this._nearby.itv,t)){this._nearby=this._layer.index.nearby(t);let{itv:e,center:n}=this._nearby;this._segments=n.map((t=>function(t,e){let{type:n="static",data:i}=e;if("static"==n)return new S(t,i);if("transition"==n)return new z(t,i);if("interpolation"==n)return new L(t,i);if("motion"==n)return new P(t,i);console.log("unrecognized segment type",n)}(e,t)))}const e=this._segments.map((e=>e.query(t)));return h(this._segments,e,t,this._layer.queryOptions)}clear(){this._nearby=void 0,this._segment=void 0}}const Z={sum:{valueFunc:function(t){return t.states.map((t=>t.value)).reduce(((t,e)=>t+e),0)}},stack:{stateFunc:function(t){return{...t.states[0]}}},array:{valueFunc:function(t){return t.states.map((t=>t.value))}}};class tt extends U{constructor(t,e){super(e),I(this),this.srcprop_register("sources",{mutable:!1}),this.sources=t}srcprop_check(t,e){if("sources"==t){if(!Array.isArray(e))throw new Error(`sources must be array ${e}`);if(!e.map((t=>t instanceof U)).every((t=>t)))throw new Error(`sources must all be layers ${e}`)}return e}srcprop_onchange(t,e){"sources"==t&&(null!=this.index&&"reset"!=e||(this.index=new it(this.sources)),this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change"))}}function et(t,e){return a.cmp(t,e)}function nt(t,e){return a.cmp(e,t)}T(tt.prototype);class it extends w{constructor(t){super(),this._sources=t,this._caches=new Map(t.map((t=>[t,t.getCache()])))}nearby(t){t=a.from_input(t);const e=[],n=[],i=[],r=[],s=[];for(let o of this._sources){let c=o.index.nearby(t),l=o.index.find_region(c,{direction:-1}),h=o.index.find_region(c,{direction:1});if(null!=l&&e.push(a.from_interval(l.itv)[1]),null!=h&&n.push(a.from_interval(h.itv)[0]),c.center.length>0){i.push(this._caches.get(o));let[t,e]=a.from_interval(c.itv);r.push(e),s.push(t)}}n.sort(et);const o=n[0]||[1/0,0];e.sort(nt);return q(e[0]||[-1/0,0],s,i,r,o)}}function rt(t,e){if(null==t||!isFinite(t))return t;if("number"==typeof t)return t+e;if(Array.isArray(t)&&t.length>1){let[n,i]=t;return[n+e,i]}}class st extends w{constructor(t,e){super(),this._layer=t,this._skew=e,this._cache=t.getCache(),this._shifted_cache={query:function(t){return{...this._cache.query(rt(t,-this._skew)),offset:t}}.bind(this)}}nearby(t){t=a.from_input(t);const e=this._layer.index.nearby(rt(t,-this._skew)),n=e.itv.slice();return n[0]=rt(e.itv[0],this._skew),n[1]=rt(e.itv[1],this._skew),{itv:n,left:rt(e.left,this._skew),right:rt(e.right,this._skew),center:e.center.map((()=>this._shifted_cache))}}}class ot extends U{constructor(t,e,n={}){super(n),this._skew=e,I(this),this.srcprop_register("src"),this.src=t}srcprop_check(t,e){if("src"==t){if(!(e instanceof U))throw new Error(`"src" must be Layer ${e}`);return e}}srcprop_onchange(t,e){"src"==t&&(null!=this.index&&"reset"!=e||(this.index=new st(this.src,this._skew)),this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change"))}}T(ot.prototype);const at=function(){return performance.now()/1e3},ct=function(){return new Date/1e3},lt=function(){const t=at(),e=ct();return{now:function(){const n=at();return e+(n-t)}}}();function ht(t){return"now"in t&&typeof("function"==t.now)}const ut={assign:function(t){if(null==t)return[];return[{itv:[-1/0,1/0,!0,!0],type:"static",data:t}]},move:function(t){return[{itv:[-1/0,1/0,!0,!0],type:"motion",data:t}]},transition:function(t,e,n,i,r){return[{itv:[-1/0,n,!0,!1],type:"static",data:t},{itv:[n,i,!0,!1],type:"transition",data:{v0:t,v1:e,t0:n,t1:i,easing:r}},{itv:[i,1/0,!0,!0],type:"static",data:e}]},interpolate:function(t){let[e,n]=t[0],[i,r]=t[t.length-1];return[{itv:[-1/0,n,!0,!1],type:"static",data:e},{itv:[n,r,!0,!1],type:"interpolation",data:t},{itv:[r,1/0,!0,!0],type:"static",data:i}]}};function _t(t){if(!y(t))throw new Error(`target.src must be stateprovider ${t}`);let e=Object.entries(ut).map((([e,n])=>[e,function(...e){let i=n.call(this,...e);return t.update({insert:i,reset:!0})}]));return Object.fromEntries(e)}class ft{constructor(t={}){if(this._options=Object.assign({rate:50},t),this._options.rate<50)throw new Error(`illegal rate ${rate}, minimum rate is 50`);this._set=new Set,this._variable_map=new Map,this.__onvariablechange=this._onvariablechange.bind(this)}bind(t,e,n,i={}){let r={callback:e,variable:t,delay:n};if(this._set.add(r),this._variable_map.has(t))this._variable_map.get(t).handles.push(r);else{let e={sub:t.on("change",this.__onvariablechange),polling:!1,handles:[r]};this._variable_map.set(t,e)}return r}release(t){if(!this._set.delete(t))return;t.tid=void 0;let e=t.variable,{sub:n,handles:i}=this._variable_map.get(e),r=i.indexOf(t);r>-1&&i.splice(r,1),0==i.length&&(this._variable_map.delete(e),e.off(n))}_onvariablechange(t,e){let n=e.src,{handles:i}=this._variable_map.get(n),r=t;this._reevaluate_polling(n,r);for(let t of i)t.callback(r)}_reevaluate_polling(t,e){let n=this._variable_map.get(t),{polling:i}=n,r=(e=e||t.query()).dynamic;!i&&r?(n.polling=!0,this._set_timeouts(t)):i&&!r&&(n.polling=!1,this._clear_timeouts(t))}_set_timeouts(t){let{handles:e}=this._variable_map.get(t);for(let t of e)this._set_timeout(t)}_set_timeout(t){let e=this._calculate_delta(t.delay),n=function(){this._handle_timeout(t)}.bind(this);t.tid=setTimeout(n,e)}_calculate_delta(t){let e=this._options.rate,n=Math.round(performance.now()),[i,r]=l(n,e),[s,o]=l(n+t,e);return Math.max(s,i+1)*e-performance.now()}_clear_timeouts(t){let{handles:e}=this._variable_map.get(t);for(let t of e)null!=t.tid&&(clearTimeout(t.tid),t.tid=void 0)}_handle_timeout(t){if(null==t.tid)return;t.tid=void 0;let{variable:e}=t,n=e.query();if(n.dynamic)this._set_timeout(t);else{this._variable_map.get(e).polling=!1}t.callback(n)}}const dt=new ft,pt=new class extends ft{constructor(t={}){super(t),this._handle}_set_timeouts(t){}_set_timeout(t){}_calculate_delta(t){}_clear_timeouts(t){}_handle_timeout(t){}_onvariablechange(t,e){super._onvariablechange(t,e),this._callback()}_callback(){let t=[...this._variable_map.entries()].filter((([t,e])=>e.polling)).map((([t,e])=>t));if(t.length>0){for(let e of t){let{handles:t}=this._variable_map.get(e),n=e.query();for(let e of t)e.callback(n)}this._handle=requestAnimationFrame(this._callback.bind(this))}}};class gt extends w{constructor(t){super(),this._cache=t.getCache()}nearby(t){return{itv:[-1/0,1/0,!0,!0],center:[this._cache],left:[-1/0,0],prev:[-1/0,0],right:[1/0,0],next:[1/0,0]}}}class mt{constructor(t){this._cursor=t,this._cache=this._cursor.src.getCache()}query(){const t=this._cursor._get_ctrl_state().value;return this._cache.query(t)}clear(){this._cache.clear()}}class vt extends U{constructor(t={}){super({CacheClass:mt}),I(this),this.srcprop_register("src"),this.srcprop_register("ctrl"),this._tid,this._pid;let{src:e,ctrl:n}=t;this.ctrl=n||lt,this.src=e}srcprop_check(t,e){if("ctrl"==t){if(!(ht(e)||e instanceof vt))throw new Error(`"ctrl" must be clockProvider or Cursor ${e}`)}else if("src"==t&&!(e instanceof U))throw new Error(`"src" must be Layer ${e}`);return e}srcprop_onchange(t,e){this.__handle_change(t,e)}__handle_change(t,e){clearTimeout(this._tid),clearInterval(this._pid),this.src&&this.ctrl&&(null!=this.index&&"reset"!=e||(this.index=new gt(this)),this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change",this.query()),this.__detect_future_change())}__detect_future_change(){const t=this._get_ctrl_state(),{value:e,offset:n}=t;if(!t.dynamic)return;const i=this.src.index.nearby(e),[r,s]=i.itv.slice(0,2);if(ht(this.ctrl))return isFinite(s)?void this.__set_timeout(s,e,1,n):void 0;if(ht(this.ctrl.ctrl)){const t=this.ctrl.index.nearby(n);if(!isFinite(r)&&!isFinite(s))return;if(1==t.center.length){const i=t.center[0];if("motion"==i.type){const{velocity:t,acceleration:o=0}=i.data;if(0==o){let i=t>0?s:r;return isFinite(i)?void this.__set_timeout(i,e,t,n):void 0}}else if("transition"==i.type){const{v0:t,v1:o,t0:a,t1:c,easing:l="linear"}=i.data;if("linear"==l){let i=(o-t)/(c-a);const l=i>0?Math.min(s,o):Math.max(r,o);return void this.__set_timeout(l,e,i,n)}}}}this.__set_polling(i.itv)}__set_timeout(t,e,n,i){const r=(t-e)/n,s=i+r;this._tid=setTimeout((()=>{this.__handle_timeout(s)}),1e3*r+1)}__handle_timeout(t){const e=this._get_ctrl_state().offset,n=t-e;n<=0?this.__handle_change("timeout"):this._tid=setTimeout((()=>{this.__handle_timeout(t)}),1e3*n)}__set_polling(t){this._pid=setInterval((()=>{this.__handle_poll(t)}),100)}__handle_poll(t){let e=this.query().value;c.covers_point(t,e)||this.__handle_change("timeout")}_get_ctrl_state(){if(ht(this.ctrl)){let t=this.ctrl.now();return{value:t,dynamic:!0,offset:t}}{let t=this.ctrl.query();if("number"!=typeof t.value)throw new Error(`warning: ctrl state must be number ${t.value}`);return t}}get value(){return this.query().value}eventifyInitEventArgs(t){if("change"==t)return[this.query()]}bind(t,e,n={}){return function(t,e,n,i={}){let r;return Boolean(parseFloat(n))?(r=dt.bind(t,e,n,i),["timeout",r]):(r=pt.bind(t,e,0,i),["framerate",r])}(this,t,e,n)}release(t){return function(t){let[e,n]=t;return"timeout"==e?dt.release(n):"framerate"==e?pt.release(n):void 0}(t)}assign(t){return _t(this.src.src).assign(t)}move({position:t,velocity:e}){let{value:n,offset:i}=this.query();if("number"!=typeof n)throw new Error(`warning: cursor state must be number ${n}`);return t=null!=t?t:n,e=null!=e?e:0,_t(this.src.src).move({position:t,velocity:e,timestamp:i})}transition({target:t,duration:e,easing:n}){let{value:i,offset:r}=this.query();if("number"!=typeof i)throw new Error(`warning: cursor state must be number ${i}`);return _t(this.src.src).transition(i,t,r,r+e,n)}interpolate({tuples:t,duration:e}){let n=this.query().offset;return t=t.map((([t,i])=>[t,n+i*e])),_t(this.src.src).interpolate(t)}}T(vt.prototype),T(vt.prototype);class yt extends U{constructor(t){super(),this.index=new bt(t.index);const e=this._onchange.bind(this);t.add_callback(e)}_onchange(t){this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change")}}class bt extends w{constructor(t,e={}){super(),this._index=t;let{condition:n=t=>t.length>0}=e;this._condition=n}nearby(t){t=a.from_input(t);const e=this._index.nearby(t);let n=this._condition(e.center);const i=t=>this._condition(t)!=n;let r,s,o=this._index.find_region(e,{direction:1,condition:i});null!=o&&(r=a.from_interval(o.itv)[0]);let l=this._index.find_region(e,{direction:-1,condition:i});null!=l&&(s=a.from_interval(l.itv)[1]),s=s||[-1/0,0],r=r||[1/0,0];const h=a.flip(s,"low"),u=a.flip(r,"high");return{itv:c.from_endpoints(h,u),center:[(_=n,{query:function(t){return{value:_,dynamic:!1,offset:t}}})],left:s,right:r};var _}}class wt extends U{constructor(t,e={}){super();const{expr:n}=e;let i;n&&(i=t=>n.eval(t));const r=this._onchange.bind(this);for(let e of t)e.add_callback(r);let s=new it(t);this._index=new bt(s,{condition:i})}get index(){return this._index}_onchange(t){this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change")}}function xt(t){if(!(t instanceof U))throw new Error(`must be layer ${t}`);return{eval:function(e){for(let n of e)if(n.src==t)return!0;return!1}}}function kt(t={}){let{src:e,...n}=t;return e instanceof U?e:(null==e&&(e=new b(n)),new W({src:e,...n}))}function Et(t={}){const{ctrl:e,...n}=t,i=kt(n);return new vt({ctrl:e,src:i})}return xt.and=function(...t){return{eval:function(e){return t.every((t=>t.eval(e)))}}},xt.or=function(...t){return{eval:function(e){return t.some((t=>t.eval(e)))}}},xt.xor=function(t,e){return{eval:function(n){return t.eval(n)!=e.eval(n)}}},xt.not=function(t){return{eval:function(e){return!t.eval(e)}}},t.boolean=function(t){return new yt(t)},t.cmd=_t,t.cursor=Et,t.layer=kt,t.logical_expr=xt,t.logical_merge=function(t,e){return new wt(t,e)},t.merge=function(t,e={}){const{type:n=""}=e;return new tt(t,n in Z?Z[n]:e)},t.playback=Et,t.shift=function(t,e){return new ot(t,e)},t.variable=Et,t}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5ZXJzLmlpZmUubWluLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW50ZXJ2YWxzLmpzIiwiLi4vLi4vc3JjL3V0aWwuanMiLCIuLi8uLi9zcmMvYXBpX2NhbGxiYWNrLmpzIiwiLi4vLi4vc3JjL3N0YXRlcHJvdmlkZXIuanMiLCIuLi8uLi9zcmMvbmVhcmJ5aW5kZXhfYmFzZS5qcyIsIi4uLy4uL3NyYy9hcGlfZXZlbnRpZnkuanMiLCIuLi8uLi9zcmMvYXBpX3NyY3Byb3AuanMiLCIuLi8uLi9zcmMvc2VnbWVudHMuanMiLCIuLi8uLi9zcmMvc29ydGVkYXJyYXkuanMiLCIuLi8uLi9zcmMvbmVhcmJ5aW5kZXguanMiLCIuLi8uLi9zcmMvbGF5ZXJzLmpzIiwiLi4vLi4vc3JjL29wcy9tZXJnZS5qcyIsIi4uLy4uL3NyYy9vcHMvc2hpZnQuanMiLCIuLi8uLi9zcmMvY2xvY2twcm92aWRlci5qcyIsIi4uLy4uL3NyYy9jbWQuanMiLCIuLi8uLi9zcmMvbW9uaXRvci5qcyIsIi4uLy4uL3NyYy9jdXJzb3JzLmpzIiwiLi4vLi4vc3JjL29wcy9ib29sZWFuLmpzIiwiLi4vLi4vc3JjL29wcy9sb2dpY2FsX21lcmdlLmpzIiwiLi4vLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gICAgXG4gICAgSU5URVJWQUwgRU5EUE9JTlRTXG5cbiAgICAqIGludGVydmFsIGVuZHBvaW50cyBhcmUgZGVmaW5lZCBieSBbdmFsdWUsIHNpZ25dLCBmb3IgZXhhbXBsZVxuICAgICogXG4gICAgKiA0KSAtPiBbNCwtMV0gLSBlbmRwb2ludCBpcyBvbiB0aGUgbGVmdCBvZiA0XG4gICAgKiBbNCwgNCwgNF0gLT4gWzQsIDBdIC0gZW5kcG9pbnQgaXMgYXQgNCBcbiAgICAqICg0IC0+IFs0LCAxXSAtIGVuZHBvaW50IGlzIG9uIHRoZSByaWdodCBvZiA0KVxuICAgICogXG4gICAgKiBUaGlzIHJlcHJlc2VudGF0aW9uIGVuc3VyZXMgdGhhdCB0aGUgaW50ZXJ2YWwgZW5kcG9pbnRzIGFyZSBvcmRlcmVkIGFuZCBhbGxvd3NcbiAgICAqIGludGVydmFscyB0byBiZSBleGNsdXNpdmUgb3IgaW5jbHVzaXZlLCB5ZXQgY292ZXIgdGhlIGVudGlyZSByZWFsIGxpbmUgXG4gICAgKiBcbiAgICAqIFthLGJdLCAoYSxiKSwgW2EsYiksIFthLCBiKSBhcmUgYWxsIHZhbGlkIGludGVydmFsc1xuXG4qL1xuXG4vKlxuICAgIEVuZHBvaW50IGNvbXBhcmlzb25cbiAgICByZXR1cm5zIFxuICAgICAgICAtIG5lZ2F0aXZlIDogY29ycmVjdCBvcmRlclxuICAgICAgICAtIDAgOiBlcXVhbFxuICAgICAgICAtIHBvc2l0aXZlIDogd3Jvbmcgb3JkZXJcblxuXG4gICAgTk9URSBcbiAgICAtIGNtcCg0XSxbNCApID09IDAgLSBzaW5jZSB0aGVzZSBhcmUgdGhlIHNhbWUgd2l0aCByZXNwZWN0IHRvIHNvcnRpbmdcbiAgICAtIGJ1dCBpZiB5b3Ugd2FudCB0byBzZWUgaWYgdHdvIGludGVydmFscyBhcmUgb3ZlcmxhcHBpbmcgaW4gdGhlIGVuZHBvaW50c1xuICAgIGNtcChoaWdoX2EsIGxvd19iKSA+IDAgdGhpcyB3aWxsIG5vdCBiZSBnb29kXG4gICAgXG4qLyBcblxuXG5mdW5jdGlvbiBjbXBOdW1iZXJzKGEsIGIpIHtcbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIDA7XG4gICAgaWYgKGEgPT09IEluZmluaXR5KSByZXR1cm4gMTtcbiAgICBpZiAoYiA9PT0gSW5maW5pdHkpIHJldHVybiAtMTtcbiAgICBpZiAoYSA9PT0gLUluZmluaXR5KSByZXR1cm4gLTE7XG4gICAgaWYgKGIgPT09IC1JbmZpbml0eSkgcmV0dXJuIDE7XG4gICAgcmV0dXJuIGEgLSBiO1xuICB9XG5cbmZ1bmN0aW9uIGVuZHBvaW50X2NtcCAocDEsIHAyKSB7XG4gICAgbGV0IFt2MSwgczFdID0gcDE7XG4gICAgbGV0IFt2MiwgczJdID0gcDI7XG4gICAgbGV0IGRpZmYgPSBjbXBOdW1iZXJzKHYxLCB2Mik7XG4gICAgcmV0dXJuIChkaWZmICE9IDApID8gZGlmZiA6IHMxIC0gczI7XG59XG5cbmZ1bmN0aW9uIGVuZHBvaW50X2x0IChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPCAwXG59XG5mdW5jdGlvbiBlbmRwb2ludF9sZSAocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50X2NtcChwMSwgcDIpIDw9IDBcbn1cbmZ1bmN0aW9uIGVuZHBvaW50X2d0IChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPiAwXG59XG5mdW5jdGlvbiBlbmRwb2ludF9nZSAocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50X2NtcChwMSwgcDIpID49IDBcbn1cbmZ1bmN0aW9uIGVuZHBvaW50X2VxIChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPT0gMFxufVxuZnVuY3Rpb24gZW5kcG9pbnRfbWluKHAxLCBwMikge1xuICAgIHJldHVybiAoZW5kcG9pbnRfbGUocDEsIHAyKSkgPyBwMSA6IHAyO1xufVxuZnVuY3Rpb24gZW5kcG9pbnRfbWF4KHAxLCBwMikge1xuICAgIHJldHVybiAoZW5kcG9pbnRfZ2UocDEsIHAyKSkgPyBwMSA6IHAyO1xufVxuXG4vKipcbiAqIGZsaXAgZW5kcG9pbnQgdG8gdGhlIG90aGVyIHNpZGVcbiAqIFxuICogdXNlZnVsIGZvciBtYWtpbmcgYmFjay10by1iYWNrIGludGVydmFscyBcbiAqIFxuICogaGlnaCkgPC0+IFtsb3dcbiAqIGhpZ2hdIDwtPiAobG93XG4gKi9cblxuZnVuY3Rpb24gZW5kcG9pbnRfZmxpcChwLCB0YXJnZXQpIHtcbiAgICBsZXQgW3Ysc10gPSBwO1xuICAgIGlmICghaXNGaW5pdGUodikpIHtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICAgIGlmICh0YXJnZXQgPT0gXCJsb3dcIikge1xuICAgIFx0Ly8gYXNzdW1lIHBvaW50IGlzIGhpZ2g6IHNpZ24gbXVzdCBiZSAtMSBvciAwXG4gICAgXHRpZiAocyA+IDApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImVuZHBvaW50IGlzIGFscmVhZHkgbG93XCIpOyAgICBcdFx0XG4gICAgXHR9XG4gICAgICAgIHAgPSBbdiwgcysxXTtcbiAgICB9IGVsc2UgaWYgKHRhcmdldCA9PSBcImhpZ2hcIikge1xuXHRcdC8vIGFzc3VtZSBwb2ludCBpcyBsb3c6IHNpZ24gaXMgMCBvciAxXG4gICAgXHRpZiAocyA8IDApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImVuZHBvaW50IGlzIGFscmVhZHkgaGlnaFwiKTsgICAgXHRcdFxuICAgIFx0fVxuICAgICAgICBwID0gW3YsIHMtMV07XG4gICAgfSBlbHNlIHtcbiAgICBcdHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgdHlwZVwiLCB0YXJnZXQpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuXG4vKlxuICAgIHJldHVybnMgbG93IGFuZCBoaWdoIGVuZHBvaW50cyBmcm9tIGludGVydmFsXG4qL1xuZnVuY3Rpb24gZW5kcG9pbnRzX2Zyb21faW50ZXJ2YWwoaXR2KSB7XG4gICAgbGV0IFtsb3csIGhpZ2gsIGxvd0Nsb3NlZCwgaGlnaENsb3NlZF0gPSBpdHY7XG4gICAgbGV0IGxvd19wID0gKGxvd0Nsb3NlZCkgPyBbbG93LCAwXSA6IFtsb3csIDFdOyBcbiAgICBsZXQgaGlnaF9wID0gKGhpZ2hDbG9zZWQpID8gW2hpZ2gsIDBdIDogW2hpZ2gsIC0xXTtcbiAgICByZXR1cm4gW2xvd19wLCBoaWdoX3BdO1xufVxuXG4vKlxuICAgIHJldHVybnMgZW5kcG9pbnRzIGZyb20gaW50ZXJ2YWxcbiovXG5cbmZ1bmN0aW9uIGVuZHBvaW50X2Zyb21faW5wdXQob2Zmc2V0KSB7XG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBbb2Zmc2V0LCAwXTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9mZnNldCkgfHwgb2Zmc2V0Lmxlbmd0aCAhPSAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuZHBvaW50IG11c3QgYmUgYSBsZW5ndGgtMiBhcnJheVwiKTtcbiAgICB9XG4gICAgbGV0IFt2YWx1ZSwgc2lnbl0gPSBvZmZzZXQ7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbmRwb2ludCB2YWx1ZSBtdXN0IGJlIG51bWJlclwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFt2YWx1ZSwgTWF0aC5zaWduKHNpZ24pXTtcbn1cblxuXG4vKlxuICAgIElOVEVSVkFMU1xuXG4gICAgSW50ZXJ2YWxzIGFyZSBbbG93LCBoaWdoLCBsb3dDbG9zZWQsIGhpZ2hDbG9zZWRdXG5cbiovIFxuXG4vKlxuICAgIHJldHVybiB0cnVlIGlmIHBvaW50IHAgaXMgY292ZXJlZCBieSBpbnRlcnZhbCBpdHZcbiAgICBwb2ludCBwIGNhbiBiZSBudW1iZXIgcCBvciBhIHBvaW50IFtwLHNdXG5cbiAgICBpbXBsZW1lbnRlZCBieSBjb21wYXJpbmcgcG9pbnRzXG4gICAgZXhjZXB0aW9uIGlmIGludGVydmFsIGlzIG5vdCBkZWZpbmVkXG4qL1xuZnVuY3Rpb24gaW50ZXJ2YWxfY292ZXJzX2VuZHBvaW50KGl0diwgcCkge1xuICAgIGxldCBbbG93X3AsIGhpZ2hfcF0gPSBlbmRwb2ludHNfZnJvbV9pbnRlcnZhbChpdHYpO1xuICAgIC8vIGNvdmVyczogbG93IDw9IHAgPD0gaGlnaFxuICAgIHJldHVybiBlbmRwb2ludF9sZShsb3dfcCwgcCkgJiYgZW5kcG9pbnRfbGUocCwgaGlnaF9wKTtcbn1cbi8vIGNvbnZlbmllbmNlXG5mdW5jdGlvbiBpbnRlcnZhbF9jb3ZlcnNfcG9pbnQoaXR2LCBwKSB7XG4gICAgcmV0dXJuIGludGVydmFsX2NvdmVyc19lbmRwb2ludChpdHYsIFtwLCAwXSk7XG59XG5cblxuXG4vKlxuICAgIFJldHVybiB0cnVlIGlmIGludGVydmFsIGhhcyBsZW5ndGggMFxuKi9cbmZ1bmN0aW9uIGludGVydmFsX2lzX3Npbmd1bGFyKGludGVydmFsKSB7XG4gICAgcmV0dXJuIGludGVydmFsWzBdID09IGludGVydmFsWzFdXG59XG5cbi8qXG4gICAgQ3JlYXRlIGludGVydmFsIGZyb20gZW5kcG9pbnRzXG4qL1xuZnVuY3Rpb24gaW50ZXJ2YWxfZnJvbV9lbmRwb2ludHMocDEsIHAyKSB7XG4gICAgbGV0IFt2MSwgczFdID0gcDE7XG4gICAgbGV0IFt2MiwgczJdID0gcDI7XG4gICAgLy8gcDEgbXVzdCBiZSBhIGxvdyBwb2ludFxuICAgIGlmIChzMSA9PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGxvdyBwb2ludFwiLCBwMSk7XG4gICAgfVxuICAgIGlmIChzMiA9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnZWFsIGhpZ2ggcG9pbnRcIiwgcDIpOyAgIFxuICAgIH1cbiAgICByZXR1cm4gW3YxLCB2MiwgKHMxPT0wKSwgKHMyPT0wKV1cbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIobikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PSBcIm51bWJlclwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJ2YWxfZnJvbV9pbnB1dChpbnB1dCl7XG4gICAgbGV0IGl0diA9IGlucHV0O1xuICAgIGlmIChpdHYgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlucHV0IGlzIHVuZGVmaW5lZFwiKTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGl0dikpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGl0dikpIHtcbiAgICAgICAgICAgIC8vIGlucHV0IGlzIHNpbmd1bGFyIG51bWJlclxuICAgICAgICAgICAgaXR2ID0gW2l0diwgaXR2LCB0cnVlLCB0cnVlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW5wdXQ6ICR7aW5wdXR9OiBtdXN0IGJlIEFycmF5IG9yIE51bWJlcmApXG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIG1ha2Ugc3VyZSBpbnRlcnZhbCBpcyBsZW5ndGggNFxuICAgIGlmIChpdHYubGVuZ3RoID09IDEpIHtcbiAgICAgICAgaXR2ID0gW2l0dlswXSwgaXR2WzBdLCB0cnVlLCB0cnVlXVxuICAgIH0gZWxzZSBpZiAoaXR2Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgIGl0diA9IGl0di5jb25jYXQoW3RydWUsIGZhbHNlXSk7XG4gICAgfSBlbHNlIGlmIChpdHYubGVuZ3RoID09IDMpIHtcbiAgICAgICAgaXR2ID0gaXR2LnB1c2goZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoaXR2Lmxlbmd0aCA+IDQpIHtcbiAgICAgICAgaXR2ID0gaXR2LnNsaWNlKDAsNCk7XG4gICAgfVxuICAgIGxldCBbbG93LCBoaWdoLCBsb3dJbmNsdWRlLCBoaWdoSW5jbHVkZV0gPSBpdHY7XG4gICAgLy8gdW5kZWZpbmVkXG4gICAgaWYgKGxvdyA9PSB1bmRlZmluZWQgfHwgbG93ID09IG51bGwpIHtcbiAgICAgICAgbG93ID0gLUluZmluaXR5O1xuICAgIH1cbiAgICBpZiAoaGlnaCA9PSB1bmRlZmluZWQgfHwgaGlnaCA9PSBudWxsKSB7XG4gICAgICAgIGhpZ2ggPSBJbmZpbml0eTtcbiAgICB9XG4gICAgLy8gY2hlY2sgdGhhdCBsb3cgYW5kIGhpZ2ggYXJlIG51bWJlcnNcbiAgICBpZiAoIWlzTnVtYmVyKGxvdykpIHRocm93IG5ldyBFcnJvcihcImxvdyBub3QgYSBudW1iZXJcIiwgbG93KTtcbiAgICBpZiAoIWlzTnVtYmVyKGhpZ2gpKSB0aHJvdyBuZXcgRXJyb3IoXCJoaWdoIG5vdCBhIG51bWJlclwiLCBoaWdoKTtcbiAgICAvLyBjaGVjayB0aGF0IGxvdyA8PSBoaWdoXG4gICAgaWYgKGxvdyA+IGhpZ2gpIHRocm93IG5ldyBFcnJvcihcImxvdyA+IGhpZ2hcIiwgbG93LCBoaWdoKTtcbiAgICAvLyBzaW5nbGV0b25cbiAgICBpZiAobG93ID09IGhpZ2gpIHtcbiAgICAgICAgbG93SW5jbHVkZSA9IHRydWU7XG4gICAgICAgIGhpZ2hJbmNsdWRlID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gY2hlY2sgaW5maW5pdHkgdmFsdWVzXG4gICAgaWYgKGxvdyA9PSAtSW5maW5pdHkpIHtcbiAgICAgICAgbG93SW5jbHVkZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChoaWdoID09IEluZmluaXR5KSB7XG4gICAgICAgIGhpZ2hJbmNsdWRlID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gY2hlY2sgdGhhdCBsb3dJbmNsdWRlLCBoaWdoSW5jbHVkZSBhcmUgYm9vbGVhbnNcbiAgICBpZiAodHlwZW9mIGxvd0luY2x1ZGUgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImxvd0luY2x1ZGUgbm90IGJvb2xlYW5cIik7XG4gICAgfSBcbiAgICBpZiAodHlwZW9mIGhpZ2hJbmNsdWRlICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJoaWdoSW5jbHVkZSBub3QgYm9vbGVhblwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFtsb3csIGhpZ2gsIGxvd0luY2x1ZGUsIGhpZ2hJbmNsdWRlXTtcbn1cblxuXG5cblxuZXhwb3J0IGNvbnN0IGVuZHBvaW50ID0ge1xuICAgIGxlOiBlbmRwb2ludF9sZSxcbiAgICBsdDogZW5kcG9pbnRfbHQsXG4gICAgZ2U6IGVuZHBvaW50X2dlLFxuICAgIGd0OiBlbmRwb2ludF9ndCxcbiAgICBjbXA6IGVuZHBvaW50X2NtcCxcbiAgICBlcTogZW5kcG9pbnRfZXEsXG4gICAgbWluOiBlbmRwb2ludF9taW4sXG4gICAgbWF4OiBlbmRwb2ludF9tYXgsXG4gICAgZmxpcDogZW5kcG9pbnRfZmxpcCxcbiAgICBmcm9tX2ludGVydmFsOiBlbmRwb2ludHNfZnJvbV9pbnRlcnZhbCxcbiAgICBmcm9tX2lucHV0OiBlbmRwb2ludF9mcm9tX2lucHV0XG59XG5leHBvcnQgY29uc3QgaW50ZXJ2YWwgPSB7XG4gICAgY292ZXJzX2VuZHBvaW50OiBpbnRlcnZhbF9jb3ZlcnNfZW5kcG9pbnQsXG4gICAgY292ZXJzX3BvaW50OiBpbnRlcnZhbF9jb3ZlcnNfcG9pbnQsIFxuICAgIGlzX3Npbmd1bGFyOiBpbnRlcnZhbF9pc19zaW5ndWxhcixcbiAgICBmcm9tX2VuZHBvaW50czogaW50ZXJ2YWxfZnJvbV9lbmRwb2ludHMsXG4gICAgZnJvbV9pbnB1dDogaW50ZXJ2YWxfZnJvbV9pbnB1dFxufVxuIiwiaW1wb3J0IHsgZW5kcG9pbnQsIGludGVydmFsIH0gZnJvbSBcIi4vaW50ZXJ2YWxzXCI7XG5cblxuLy8gb3Z2ZXJyaWRlIG1vZHVsbyB0byBiZWhhdmUgYmV0dGVyIGZvciBuZWdhdGl2ZSBudW1iZXJzXG5leHBvcnQgZnVuY3Rpb24gbW9kKG4sIG0pIHtcbiAgICByZXR1cm4gKChuICUgbSkgKyBtKSAlIG07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZGl2bW9kKHgsIGJhc2UpIHtcbiAgICBsZXQgbiA9IE1hdGguZmxvb3IoeCAvIGJhc2UpXG4gICAgbGV0IHIgPSBtb2QoeCwgYmFzZSk7XG4gICAgcmV0dXJuIFtuLCByXTtcbn1cblxuXG4vKlxuICAgIHNpbWlsYXIgdG8gcmFuZ2UgZnVuY3Rpb24gaW4gcHl0aG9uXG4qL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2UgKHN0YXJ0LCBlbmQsIHN0ZXAgPSAxLCBvcHRpb25zPXt9KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgY29uc3Qge2luY2x1ZGVfZW5kPWZhbHNlfSA9IG9wdGlvbnM7XG4gICAgaWYgKHN0ZXAgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGVwIGNhbm5vdCBiZSB6ZXJvLicpO1xuICAgIH1cbiAgICBpZiAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IHN0ZXApIHtcbiAgICAgICAgICByZXN1bHQucHVzaChpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhcnQgPiBlbmQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpID4gZW5kOyBpIC09IHN0ZXApIHtcbiAgICAgICAgICByZXN1bHQucHVzaChpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5jbHVkZV9lbmQpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goZW5kKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhIHNpbmdsZSBzdGF0ZSBmcm9tIGEgbGlzdCBvZiBzdGF0ZXMsIHVzaW5nIGEgdmFsdWVGdW5jXG4gKiBzdGF0ZTp7dmFsdWUsIGR5bmFtaWMsIG9mZnNldH1cbiAqIFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1N0YXRlKHNvdXJjZXMsIHN0YXRlcywgb2Zmc2V0LCBvcHRpb25zPXt9KSB7XG4gICAgbGV0IHt2YWx1ZUZ1bmMsIHN0YXRlRnVuY30gPSBvcHRpb25zOyBcbiAgICBpZiAodmFsdWVGdW5jICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB2YWx1ZUZ1bmMoe3NvdXJjZXMsIHN0YXRlcywgb2Zmc2V0fSk7XG4gICAgICAgIGxldCBkeW5hbWljID0gc3RhdGVzLm1hcCgodikgPT4gdi5keW1hbWljKS5zb21lKGU9PmUpO1xuICAgICAgICByZXR1cm4ge3ZhbHVlLCBkeW5hbWljLCBvZmZzZXR9O1xuICAgIH0gZWxzZSBpZiAoc3RhdGVGdW5jICE9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gey4uLnN0YXRlRnVuYyh7c291cmNlcywgc3RhdGVzLCBvZmZzZXR9KSwgb2Zmc2V0fTtcbiAgICB9XG4gICAgLy8gbm8gdmFsdWVGdW5jIG9yIHN0YXRlRnVuY1xuICAgIGlmIChzdGF0ZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZTp1bmRlZmluZWQsIGR5bmFtaWM6ZmFsc2UsIG9mZnNldH1cbiAgICB9XG4gICAgLy8gZmFsbGJhY2sgLSBqdXN0IHVzZSBmaXJzdCBzdGF0ZVxuICAgIGxldCBzdGF0ZSA9IHN0YXRlc1swXTtcbiAgICByZXR1cm4gey4uLnN0YXRlLCBvZmZzZXR9OyBcbn1cblxuXG4vKipcbiAqIGNoZWNrIGlucHV0IGl0ZW1zIHRvIGxvY2FsIHN0YXRlIHByb3ZpZGVyc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja19pbnB1dChpdGVtcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgbXVzdCBiZSBhbiBhcnJheVwiKTtcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIHRoYXQgaW50ZXJ2YWxzIGFyZSB3ZWxsIGZvcm1lZFxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICBpdGVtLml0diA9IGludGVydmFsLmZyb21faW5wdXQoaXRlbS5pdHYpO1xuICAgIH1cbiAgICAvLyBzb3J0IGl0ZW1zIGJhc2VkIG9uIGludGVydmFsIGxvdyBlbmRwb2ludFxuICAgIGl0ZW1zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgbGV0IGFfbG93ID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChhLml0dilbMF07XG4gICAgICAgIGxldCBiX2xvdyA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoYi5pdHYpWzBdO1xuICAgICAgICByZXR1cm4gZW5kcG9pbnQuY21wKGFfbG93LCBiX2xvdyk7XG4gICAgfSk7XG4gICAgLy8gY2hlY2sgdGhhdCBpdGVtIGludGVydmFscyBhcmUgbm9uLW92ZXJsYXBwaW5nXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcHJldl9oaWdoID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChpdGVtc1tpIC0gMV0uaXR2KVsxXTtcbiAgICAgICAgbGV0IGN1cnJfbG93ID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChpdGVtc1tpXS5pdHYpWzBdO1xuICAgICAgICAvLyB2ZXJpZnkgdGhhdCBwcmV2IGhpZ2ggaXMgbGVzcyB0aGF0IGN1cnIgbG93XG4gICAgICAgIGlmICghZW5kcG9pbnQubHQocHJldl9oaWdoLCBjdXJyX2xvdykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk92ZXJsYXBwaW5nIGludGVydmFscyBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlbXM7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbV9zdHJpbmcobGVuZ3RoKSB7XG4gICAgdmFyIHRleHQgPSBcIlwiO1xuICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59IiwiLypcbiAgICBUaGlzIGRlY29yYXRlcyBhbiBvYmplY3QvcHJvdG90eXBlIHdpdGggYmFzaWMgKHN5bmNocm9ub3VzKSBjYWxsYmFjayBzdXBwb3J0LlxuKi9cblxuY29uc3QgUFJFRklYID0gXCJfX2NhbGxiYWNrXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRUb0luc3RhbmNlKG9iamVjdCkge1xuICAgIG9iamVjdFtgJHtQUkVGSVh9X2hhbmRsZXJzYF0gPSBbXTtcbn1cblxuZnVuY3Rpb24gYWRkX2NhbGxiYWNrIChoYW5kbGVyKSB7XG4gICAgbGV0IGhhbmRsZSA9IHtcbiAgICAgICAgaGFuZGxlcjogaGFuZGxlclxuICAgIH1cbiAgICB0aGlzW2Ake1BSRUZJWH1faGFuZGxlcnNgXS5wdXNoKGhhbmRsZSk7XG4gICAgcmV0dXJuIGhhbmRsZTtcbn07XG5cbmZ1bmN0aW9uIHJlbW92ZV9jYWxsYmFjayAoaGFuZGxlKSB7XG4gICAgbGV0IGluZGV4ID0gdGhpc1tgJHtQUkVGSVh9X2hhbmRsZXJzYF0uaW5kZXhPZihoYW5kbGUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXNbYCR7UFJFRklYfV9oYW5kbGVyc2BdLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gbm90aWZ5X2NhbGxiYWNrcyAoZUFyZykge1xuICAgIHRoaXNbYCR7UFJFRklYfV9oYW5kbGVyc2BdLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgIGhhbmRsZS5oYW5kbGVyKGVBcmcpO1xuICAgIH0pO1xufTtcblxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9Qcm90b3R5cGUgKF9wcm90b3R5cGUpIHtcbiAgICBjb25zdCBhcGkgPSB7XG4gICAgICAgIGFkZF9jYWxsYmFjaywgcmVtb3ZlX2NhbGxiYWNrLCBub3RpZnlfY2FsbGJhY2tzXG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24oX3Byb3RvdHlwZSwgYXBpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltcGxlbWVudHNfY2FsbGJhY2sgKG9iaikge1xuICAgIGNvbnN0IG1ldGhvZHMgPSBbXCJhZGRfY2FsbGJhY2tcIiwgXCJyZW1vdmVfY2FsbGJhY2tcIl07XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIG1ldGhvZHMpIHtcbiAgICAgICAgaWYgKCEocHJvcCBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW3Byb3BdICE9ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59IiwiaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tIFwiLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IHJhbmRvbV9zdHJpbmcgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgKiBhcyBjYWxsYmFjayBmcm9tIFwiLi9hcGlfY2FsbGJhY2suanNcIjtcblxuXG5mdW5jdGlvbiBjaGVja19pdGVtKGl0ZW0pIHtcbiAgICBpdGVtLml0diA9IGludGVydmFsLmZyb21faW5wdXQoaXRlbS5pdHYpO1xuICAgIGl0ZW0uaWQgPSBpdGVtLmlkIHx8IHJhbmRvbV9zdHJpbmcoMTApO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBpc19zdGF0ZXByb3ZpZGVyKG9iaikge1xuICAgIGlmICghY2FsbGJhY2suaW1wbGVtZW50c19jYWxsYmFjayhvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCEoXCJnZXRfaXRlbXNcIiBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBvYmouZ2V0X2l0ZW1zICE9ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTE9DQUwgU1RBVEUgUFJPVklERVJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBsb2NhbCBzdGF0ZSBwcm92aWRlclxuICogY29sbGVjdGlvbiBvZiBpdGVtc1xuICogXG4gKiBjaGFuZ2VzID0ge1xuICogICByZW1vdmU9W10sXG4gKiAgIGluc2VydD1bXSxcbiAqICAgcmVzZXQ9ZmFsc2UgXG4gKiB9XG4gKiBcbiovXG5cbmV4cG9ydCBjbGFzcyBMb2NhbFN0YXRlUHJvdmlkZXIge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz17fSkge1xuICAgICAgICBjYWxsYmFjay5hZGRUb0luc3RhbmNlKHRoaXMpO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpc2Uob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9jYWwgc3RhdGVwcm92aWRlciBzdXBwb3J0IGluaXRpYWxpc2F0aW9uIHdpdGhcbiAgICAgKiBieSBnaXZpbmcgaXRlbXMgb3IgYSB2YWx1ZS4gXG4gICAgICovXG4gICAgX2luaXRpYWxpc2Uob3B0aW9ucz17fSkge1xuICAgICAgICAvLyBpbml0aWFsaXphdGlvbiB3aXRoIGl0ZW1zIG9yIHNpbmdsZSB2YWx1ZSBcbiAgICAgICAgbGV0IHtpbnNlcnQsIHZhbHVlfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmICh2YWx1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGluaXRpYWxpemUgZnJvbSB2YWx1ZVxuICAgICAgICAgICAgaW5zZXJ0ID0gW3tcbiAgICAgICAgICAgICAgICBpdHY6IFstSW5maW5pdHksIEluZmluaXR5LCB0cnVlLCB0cnVlXSwgXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdGF0aWNcIixcbiAgICAgICAgICAgICAgICBkYXRhOiB2YWx1ZVxuICAgICAgICAgICAgfV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc2VydCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSh7aW5zZXJ0LCByZXNldDp0cnVlfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2NhbCBzdGF0ZXByb3ZpZGVycyBkZWNvdXBsZSB1cGRhdGUgcmVxdWVzdCBmcm9tXG4gICAgICogdXBkYXRlIHByb2Nlc3NpbmcsIGFuZCByZXR1cm5zIFByb21pc2UuXG4gICAgICovXG4gICAgdXBkYXRlIChjaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGlmZnM7XG4gICAgICAgICAgICBpZiAoY2hhbmdlcyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkaWZmcyA9IHRoaXMuX3VwZGF0ZShjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeV9jYWxsYmFja3MoZGlmZnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRpZmZzO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfdXBkYXRlKGNoYW5nZXMpIHtcbiAgICAgICAgY29uc3QgZGlmZl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgICBpbnNlcnQ9W10sXG4gICAgICAgICAgICByZW1vdmU9W10sXG4gICAgICAgICAgICByZXNldD1mYWxzZVxuICAgICAgICB9ID0gY2hhbmdlcztcblxuXG4gICAgICAgIGlmIChyZXNldCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaWQsIGl0ZW1dIG9mIHRoaXMuX21hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBkaWZmX21hcC5zZXQoaWQsIHtpZCwgbmV3OnVuZGVmaW5lZCwgb2xkOml0ZW19KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyIGFsbCBpdGVtc1xuICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGl0ZW1zIGJ5IGlkXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5fbWFwLmdldChpZCk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZmZfbWFwLnNldChpdGVtLmlkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDppdGVtLmlkLCBuZXc6dW5kZWZpbmVkLCBvbGQ6aXRlbVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwLmRlbGV0ZShpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGluc2VydCBpdGVtc1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGluc2VydCkge1xuICAgICAgICAgICAgaXRlbSA9IGNoZWNrX2l0ZW0oaXRlbSk7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gZGlmZl9tYXAuZ2V0KGl0ZW0uaWQpXG4gICAgICAgICAgICBjb25zdCBvbGQgPSAoZGlmZiAhPSB1bmRlZmluZWQpID8gZGlmZi5vbGQgOiB0aGlzLl9tYXAuZ2V0KGl0ZW0uaWQpO1xuICAgICAgICAgICAgZGlmZl9tYXAuc2V0KGl0ZW0uaWQsIHtpZDppdGVtLmlkLCBuZXc6aXRlbSwgb2xkfSk7XG4gICAgICAgICAgICB0aGlzLl9tYXAuc2V0KGl0ZW0uaWQsIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4uZGlmZl9tYXAudmFsdWVzKCldO1xuICAgIH1cblxuICAgIGdldF9pdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLl9tYXAudmFsdWVzKCldO1xuICAgIH07XG59XG5jYWxsYmFjay5hZGRUb1Byb3RvdHlwZShMb2NhbFN0YXRlUHJvdmlkZXIucHJvdG90eXBlKTtcbiIsImltcG9ydCB7IGVuZHBvaW50LCBpbnRlcnZhbCB9IGZyb20gXCIuL2ludGVydmFscy5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTkVBUkJZIElOREVYXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogQWJzdHJhY3Qgc3VwZXJjbGFzcyBmb3IgTmVhcmJ5SW5kZXhlLlxuICogXG4gKiBTdXBlcmNsYXNzIHVzZWQgdG8gY2hlY2sgdGhhdCBhIGNsYXNzIGltcGxlbWVudHMgdGhlIG5lYXJieSgpIG1ldGhvZCwgXG4gKiBhbmQgcHJvdmlkZSBzb21lIGNvbnZlbmllbmNlIG1ldGhvZHMuXG4gKiBcbiAqIE5FQVJCWSBJTkRFWFxuICogXG4gKiBOZWFyYnlJbmRleCBwcm92aWRlcyBpbmRleGluZyBzdXBwb3J0IG9mIGVmZmVjdGl2ZWx5XG4gKiBsb29raW5nIHVwIHJlZ2lvbnMgYnkgb2Zmc2V0LCBcbiAqIGdpdmVuIHRoYXRcbiAqIChpKSBlYWNoIHJlZ2lvbiBpcyBhc3NvY2lhdGVkIHdpdGggYW4gaW50ZXJ2YWwgYW5kLFxuICogKGlpKSByZWdpb25zIGFyZSBub24tb3ZlcmxhcHBpbmcuXG4gKiBcbiAqIE5FQVJCWVxuICogVGhlIG5lYXJieSBtZXRob2QgcmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbmVpZ2hib3Job29kIFxuICogYXJvdW5kIGVuZHBvaW50LiBcbiAqIFxuICogUmV0dXJucyB7XG4gKiAgICAgIGNlbnRlcjogbGlzdCBvZiBvYmplY3RzIGNvdmVyZWQgYnkgcmVnaW9uLFxuICogICAgICBpdHY6IHJlZ2lvbiBpbnRlcnZhbCAtIHZhbGlkaXR5IG9mIGNlbnRlciBcbiAqICAgICAgbGVmdDpcbiAqICAgICAgICAgIGZpcnN0IGludGVydmFsIGVuZHBvaW50IHRvIHRoZSBsZWZ0IFxuICogICAgICAgICAgd2hpY2ggd2lsbCBwcm9kdWNlIGRpZmZlcmVudCB7Y2VudGVyfVxuICogICAgICAgICAgYWx3YXlzIGEgaGlnaC1lbmRwb2ludCBvciBbLUluZmluaXR5LCAwXVxuICogICAgICByaWdodDpcbiAqICAgICAgICAgIGZpcnN0IGludGVydmFsIGVuZHBvaW50IHRvIHRoZSByaWdodFxuICogICAgICAgICAgd2hpY2ggd2lsbCBwcm9kdWNlIGRpZmZlcmVudCB7Y2VudGVyfVxuICogICAgICAgICAgYWx3YXlzIGEgbG93LWVuZHBvaW50IG9yIFtJbmZpbml0eSwgMF0gICAgXG4gKiBcbiAqIFxuICogVGhlIG5lYXJieSBzdGF0ZSBpcyB3ZWxsLWRlZmluZWQgZm9yIGV2ZXJ5IGVuZHBvaW50XG4gKiBvbiB0aGUgdGltZWxpbmUuXG4gKiBcbiAqIElOVEVSVkFMU1xuICogXG4gKiBbbG93LCBoaWdoLCBsb3dJbmNsdXNpdmUsIGhpZ2hJbmNsdXNpdmVdXG4gKiBcbiAqIFRoaXMgcmVwcmVzZW50YXRpb24gZW5zdXJlcyB0aGF0IHRoZSBpbnRlcnZhbCBlbmRwb2ludHMgXG4gKiBhcmUgb3JkZXJlZCBhbmQgYWxsb3dzIGludGVydmFscyB0byBiZSBleGNsdXNpdmUgb3IgaW5jbHVzaXZlLCBcbiAqIHlldCBjb3ZlciB0aGUgZW50aXJlIHJlYWwgbGluZSBcbiAqIFxuICogW2EsYl0sIChhLGIpLCBbYSxiKSwgW2EsIGIpIGFyZSBhbGwgdmFsaWQgaW50ZXJ2YWxzXG4gKiBcbiAqIFxuICogSU5URVJWQUwgRU5EUE9JTlRTXG4gKiBcbiAqIGludGVydmFsIGVuZHBvaW50cyBhcmUgZGVmaW5lZCBieSBbdmFsdWUsIHNpZ25dLCBmb3IgZXhhbXBsZVxuICogXG4gKiA0KSAtPiBbNCwtMV0gLSBlbmRwb2ludCBpcyBvbiB0aGUgbGVmdCBvZiA0XG4gKiBbNCwgNCwgNF0gLT4gWzQsIDBdIC0gZW5kcG9pbnQgaXMgYXQgNCBcbiAqICg0IC0+IFs0LCAxXSAtIGVuZHBvaW50IGlzIG9uIHRoZSByaWdodCBvZiA0KVxuICogXG4gKiAgXG4gKi9cblxuXG4vKipcbiAqIHJldHVybiBmaXJzdCBoaWdoIGVuZHBvaW50IG9uIHRoZSBsZWZ0IGZyb20gbmVhcmJ5LFxuICogd2hpY2ggaXMgbm90IGluIGNlbnRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVmdF9lbmRwb2ludCAobmVhcmJ5KSB7XG4gICAgY29uc3QgbG93ID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChuZWFyYnkuaXR2KVswXTtcbiAgICByZXR1cm4gZW5kcG9pbnQuZmxpcChsb3csIFwiaGlnaFwiKTtcbn1cblxuLyoqXG4gKiByZXR1cm4gZmlyc3QgbG93IGVuZHBvaW50IG9uIHRoZSByaWdodCBmcm9tIG5lYXJieSxcbiAqIHdoaWNoIGlzIG5vdCBpbiBjZW50ZXJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmlnaHRfZW5kcG9pbnQgKG5lYXJieSkge1xuICAgIGNvbnN0IGhpZ2ggPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKG5lYXJieS5pdHYpWzFdO1xuICAgIHJldHVybiBlbmRwb2ludC5mbGlwKGhpZ2gsIFwibG93XCIpO1xufVxuXG5cblxuZXhwb3J0IGNsYXNzIE5lYXJieUluZGV4QmFzZSB7XG5cblxuICAgIC8qIFxuICAgICAgICBOZWFyYnkgbWV0aG9kXG4gICAgKi9cbiAgICBuZWFyYnkob2Zmc2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAgICByZXR1cm4gbG93IHBvaW50IG9mIGxlZnRtb3N0IGVudHJ5XG4gICAgKi9cbiAgICBmaXJzdCgpIHtcbiAgICAgICAgbGV0IHtjZW50ZXIsIHJpZ2h0fSA9IHRoaXMubmVhcmJ5KFstSW5maW5pdHksIDBdKTtcbiAgICAgICAgcmV0dXJuIChjZW50ZXIubGVuZ3RoID4gMCkgPyBbLUluZmluaXR5LCAwXSA6IHJpZ2h0O1xuICAgIH1cblxuICAgIC8qXG4gICAgICAgIHJldHVybiBoaWdoIHBvaW50IG9mIHJpZ2h0bW9zdCBlbnRyeVxuICAgICovXG4gICAgbGFzdCgpIHtcbiAgICAgICAgbGV0IHtsZWZ0LCBjZW50ZXJ9ID0gdGhpcy5uZWFyYnkoW0luZmluaXR5LCAwXSk7XG4gICAgICAgIHJldHVybiAoY2VudGVyLmxlbmd0aCA+IDApID8gW0luZmluaXR5LCAwXSA6IGxlZnRcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIHJldHVybiBuZWFyYnkgb2YgZmlyc3QgcmVnaW9uIHRvIHRoZSByaWdodFxuICAgICAqIHdoaWNoIGlzIG5vdCB0aGUgY2VudGVyIHJlZ2lvbi4gSWYgbm90IGV4aXN0cywgcmV0dXJuXG4gICAgICogdW5kZWZpbmVkLiBcbiAgICAgKi9cbiAgICByaWdodF9yZWdpb24obmVhcmJ5KSB7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gcmlnaHRfZW5kcG9pbnQobmVhcmJ5KTtcbiAgICAgICAgaWYgKHJpZ2h0WzBdID09IEluZmluaXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5lYXJieShyaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIG5lYXJieSBvZiBmaXJzdCByZWdpb24gdG8gdGhlIGxlZnRcbiAgICAgKiB3aGljaCBpcyBub3QgdGhlIGNlbnRlciByZWdpb24uIElmIG5vdCBleGlzdHMsIHJldHVyblxuICAgICAqIHVuZGVmaW5lZC4gXG4gICAgICovXG4gICAgbGVmdF9yZWdpb24obmVhcmJ5KSB7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBsZWZ0X2VuZHBvaW50KG5lYXJieSk7XG4gICAgICAgIGlmIChsZWZ0WzBdID09IC1JbmZpbml0eSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5uZWFyYnkobGVmdCk7ICAgIFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGZpbmQgZmlyc3QgcmVnaW9uIHRvIHRoZSBcInJpZ2h0XCIgb3IgXCJsZWZ0XCJcbiAgICAgKiB3aGljaCBpcyBub3QgdGhlIGNlbnRlciByZWdpb24sIGFuZCB3aGljaCBtZWV0c1xuICAgICAqIGEgY29uZGl0aW9uIG9uIG5lYXJieS5jZW50ZXIuXG4gICAgICogRGVmYXVsdCBjb25kaXRpb24gaXMgY2VudGVyIG5vbi1lbXB0eVxuICAgICAqIElmIG5vdCBleGlzdHMsIHJldHVybiB1bmRlZmluZWQuIFxuICAgICAqL1xuICAgIFxuICAgIGZpbmRfcmVnaW9uKG5lYXJieSwgb3B0aW9ucz17fSkge1xuICAgICAgICBsZXQge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gMSxcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IChjZW50ZXIpID0+IGNlbnRlci5sZW5ndGggPiAwXG4gICAgICAgIH0gPSBvcHRpb25zO1xuICAgICAgICBsZXQgbmV4dF9uZWFyYnk7XG4gICAgICAgIHdoaWxlKHRydWUpIHtcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gMSkge1xuICAgICAgICAgICAgICAgIG5leHRfbmVhcmJ5ID0gdGhpcy5yaWdodF9yZWdpb24obmVhcmJ5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dF9uZWFyYnkgPSB0aGlzLmxlZnRfcmVnaW9uKG5lYXJieSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dF9uZWFyYnkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25kaXRpb24obmV4dF9uZWFyYnkuY2VudGVyKSkge1xuICAgICAgICAgICAgICAgIC8vIGZvdW5kIHJlZ2lvbiBcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dF9uZWFyYnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZWdpb24gbm90IGZvdW5kXG4gICAgICAgICAgICAvLyBjb250aW51ZSBzZWFyY2hpbmcgdGhlIHJpZ2h0XG4gICAgICAgICAgICBuZWFyYnkgPSBuZXh0X25lYXJieTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZ2lvbnMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ2lvbkl0ZXJhdG9yKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cbi8qXG4gICAgSXRlcmF0ZSByZWdpb25zIG9mIGluZGV4IGZyb20gbGVmdCB0byByaWdodFxuXG4gICAgSXRlcmF0aW9uIGxpbWl0ZWQgdG8gaW50ZXJ2YWwgW3N0YXJ0LCBzdG9wXSBvbiB0aGUgdGltZWxpbmUuXG4gICAgUmV0dXJucyBsaXN0IG9mIGl0ZW0tbGlzdHMuXG4gICAgb3B0aW9uc1xuICAgIC0gc3RhcnRcbiAgICAtIHN0b3BcbiAgICAtIGluY2x1ZGVFbXB0eVxuKi9cblxuY2xhc3MgUmVnaW9uSXRlcmF0b3Ige1xuXG4gICAgY29uc3RydWN0b3IoaW5kZXgsIG9wdGlvbnM9e30pIHtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIHN0YXJ0PS1JbmZpbml0eSwgXG4gICAgICAgICAgICBzdG9wPUluZmluaXR5LCBcbiAgICAgICAgICAgIGluY2x1ZGVFbXB0eT10cnVlXG4gICAgICAgIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoc3RhcnQgPiBzdG9wKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IgKFwic3RvcCBtdXN0IGJlIGxhcmdlciB0aGFuIHN0YXJ0XCIsIHN0YXJ0LCBzdG9wKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuX3N0YXJ0ID0gW3N0YXJ0LCAwXTtcbiAgICAgICAgdGhpcy5fc3RvcCA9IFtzdG9wLCAwXTtcblxuICAgICAgICBpZiAoaW5jbHVkZUVtcHR5KSB7XG4gICAgICAgICAgICB0aGlzLl9jb25kaXRpb24gPSAoKSA9PiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29uZGl0aW9uID0gKGNlbnRlcikgPT4gY2VudGVyLmxlbmd0aCA+IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudDtcbiAgICB9XG5cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGluaXRpYWxzZVxuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX2luZGV4Lm5lYXJieSh0aGlzLl9zdGFydCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29uZGl0aW9uKHRoaXMuX2N1cnJlbnQuY2VudGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7dmFsdWU6dGhpcy5fY3VycmVudCwgZG9uZTpmYWxzZX07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wdGlvbnMgPSB7Y29uZGl0aW9uOnRoaXMuX2NvbmRpdGlvbiwgZGlyZWN0aW9uOjF9XG4gICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9pbmRleC5maW5kX3JlZ2lvbih0aGlzLl9jdXJyZW50LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbHVlOnVuZGVmaW5lZCwgZG9uZTp0cnVlfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsdWU6dGhpcy5fY3VycmVudCwgZG9uZTpmYWxzZX1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbi8qKlxuICogbmVhcmJ5X2Zyb21cbiAqIFxuICogdXRpbGl0eSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBuZWFyYnkgb2JqZWN0IGluIGNpcmN1bXN0YW5jZXNcbiAqIHdoZXJlIHRoZXJlIGFyZSBvdmVybGFwcGluZyBpbnRlcnZhbHMgVGhpcyBjb3VsZCBiZSB3aGVuIGEgXG4gKiBzdGF0ZXByb3ZpZGVyIGZvciBhIGxheWVyIGhhcyBvdmVybGFwcGluZyBpdGVtcyBvciB3aGVuIFxuICogbXVsdGlwbGUgbmVhcmJ5IGluZGV4ZXMgYXJlIG1lcmdlZCBpbnRvIG9uZS5cbiAqIFxuICogXG4gKiBAcGFyYW0geyp9IHByZXZfaGlnaCA6IHRoZSByaWdodG1vc3QgaGlnaC1lbmRwb2ludCBsZWZ0IG9mIG9mZnNldFxuICogQHBhcmFtIHsqfSBjZW50ZXJfbG93X2xpc3QgOiBsb3ctZW5kcG9pbnRzIG9mIGNlbnRlclxuICogQHBhcmFtIHsqfSBjZW50ZXIgOiBjZW50ZXJcbiAqIEBwYXJhbSB7Kn0gY2VudGVyX2hpZ2hfbGlzdCA6IGhpZ2gtZW5kcG9pbnRzIG9mIGNlbnRlclxuICogQHBhcmFtIHsqfSBuZXh0X2xvdyA6IHRoZSBsZWZ0bW9zdCBsb3ctZW5kcG9pbnQgcmlnaHQgb2Ygb2Zmc2V0XG4gKiBAcmV0dXJucyBcbiAqL1xuXG5mdW5jdGlvbiBjbXBfYXNjZW5kaW5nKHAxLCBwMikge1xuICAgIHJldHVybiBlbmRwb2ludC5jbXAocDEsIHAyKVxufVxuXG5mdW5jdGlvbiBjbXBfZGVzY2VuZGluZyhwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuY21wKHAyLCBwMSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5lYXJieV9mcm9tIChcbiAgICBwcmV2X2hpZ2gsIFxuICAgIGNlbnRlcl9sb3dfbGlzdCwgXG4gICAgY2VudGVyLFxuICAgIGNlbnRlcl9oaWdoX2xpc3QsXG4gICAgbmV4dF9sb3cpIHtcblxuICAgIC8vIG5lYXJieVxuICAgIGNvbnN0IHJlc3VsdCA9IHtjZW50ZXJ9O1xuXG4gICAgaWYgKGNlbnRlci5sZW5ndGggPT0gMCkge1xuICAgICAgICAvLyBlbXB0eSBjZW50ZXJcbiAgICAgICAgcmVzdWx0LnJpZ2h0ID0gbmV4dF9sb3c7XG4gICAgICAgIHJlc3VsdC5sZWZ0ID0gcHJldl9oaWdoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5vbi1lbXB0eSBjZW50ZXJcbiAgICAgICAgXG4gICAgICAgIC8vIGNlbnRlciBoaWdoXG4gICAgICAgIGNlbnRlcl9oaWdoX2xpc3Quc29ydChjbXBfYXNjZW5kaW5nKTtcbiAgICAgICAgbGV0IG1pbl9jZW50ZXJfaGlnaCA9IGNlbnRlcl9oaWdoX2xpc3RbMF07XG4gICAgICAgIGxldCBtYXhfY2VudGVyX2hpZ2ggPSBjZW50ZXJfaGlnaF9saXN0LnNsaWNlKC0xKVswXTtcbiAgICAgICAgbGV0IG11bHRpcGxlX2NlbnRlcl9oaWdoID0gIWVuZHBvaW50LmVxKG1pbl9jZW50ZXJfaGlnaCwgbWF4X2NlbnRlcl9oaWdoKVxuXG4gICAgICAgIC8vIGNlbnRlciBsb3dcbiAgICAgICAgY2VudGVyX2xvd19saXN0LnNvcnQoY21wX2Rlc2NlbmRpbmcpO1xuICAgICAgICBsZXQgbWF4X2NlbnRlcl9sb3cgPSBjZW50ZXJfbG93X2xpc3RbMF07XG4gICAgICAgIGxldCBtaW5fY2VudGVyX2xvdyA9IGNlbnRlcl9sb3dfbGlzdC5zbGljZSgtMSlbMF07XG4gICAgICAgIGxldCBtdWx0aXBsZV9jZW50ZXJfbG93ID0gIWVuZHBvaW50LmVxKG1heF9jZW50ZXJfbG93LCBtaW5fY2VudGVyX2xvdylcblxuICAgICAgICAvLyBuZXh0L3JpZ2h0XG4gICAgICAgIGlmIChlbmRwb2ludC5sZShuZXh0X2xvdywgbWluX2NlbnRlcl9oaWdoKSkge1xuICAgICAgICAgICAgcmVzdWx0LnJpZ2h0ID0gbmV4dF9sb3c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucmlnaHQgPSBlbmRwb2ludC5mbGlwKG1pbl9jZW50ZXJfaGlnaCwgXCJsb3dcIilcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQubmV4dCA9IChtdWx0aXBsZV9jZW50ZXJfaGlnaCkgPyByZXN1bHQucmlnaHQgOiBuZXh0X2xvdztcblxuICAgICAgICAvLyBwcmV2L2xlZnRcbiAgICAgICAgaWYgKGVuZHBvaW50LmdlKHByZXZfaGlnaCwgbWF4X2NlbnRlcl9sb3cpKSB7XG4gICAgICAgICAgICByZXN1bHQubGVmdCA9IHByZXZfaGlnaDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5sZWZ0ID0gZW5kcG9pbnQuZmxpcChtYXhfY2VudGVyX2xvdywgXCJoaWdoXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wcmV2ID0gKG11bHRpcGxlX2NlbnRlcl9sb3cpID8gcmVzdWx0LmxlZnQgOiBwcmV2X2hpZ2g7XG5cbiAgICB9XG5cbiAgICAvLyBpbnRlcnZhbCBmcm9tIGxlZnQvcmlnaHRcbiAgICBsZXQgbG93ID0gZW5kcG9pbnQuZmxpcChyZXN1bHQubGVmdCwgXCJsb3dcIik7XG4gICAgbGV0IGhpZ2ggPSBlbmRwb2ludC5mbGlwKHJlc3VsdC5yaWdodCwgXCJoaWdoXCIpO1xuICAgIHJlc3VsdC5pdHYgPSBpbnRlcnZhbC5mcm9tX2VuZHBvaW50cyhsb3csIGhpZ2gpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuIiwiLypcblx0Q29weXJpZ2h0IDIwMjBcblx0QXV0aG9yIDogSW5nYXIgQXJudHplblxuXG5cdFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBUaW1pbmdzcmMgbW9kdWxlLlxuXG5cdFRpbWluZ3NyYyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5cdGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHR0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG5cdFRpbWluZ3NyYyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHRidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHRNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5cdFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHRhbG9uZyB3aXRoIFRpbWluZ3NyYy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cblxuXG4vKlxuXHRFdmVudFxuXHQtIG5hbWU6IGV2ZW50IG5hbWVcblx0LSBwdWJsaXNoZXI6IHRoZSBvYmplY3Qgd2hpY2ggZGVmaW5lZCB0aGUgZXZlbnRcblx0LSBpbml0OiB0cnVlIGlmIHRoZSBldmVudCBzdXBwcG9ydHMgaW5pdCBldmVudHNcblx0LSBzdWJzY3JpcHRpb25zOiBzdWJzY3JpcHRpbnMgdG8gdGhpcyBldmVudFxuXG4qL1xuXG5jbGFzcyBFdmVudCB7XG5cblx0Y29uc3RydWN0b3IgKHB1Ymxpc2hlciwgbmFtZSwgb3B0aW9ucykge1xuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cdFx0dGhpcy5wdWJsaXNoZXIgPSBwdWJsaXNoZXI7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLmluaXQgPSAob3B0aW9ucy5pbml0ID09PSB1bmRlZmluZWQpID8gZmFsc2UgOiBvcHRpb25zLmluaXQ7XG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zID0gW107XG5cdH1cblxuXHQvKlxuXHRcdHN1YnNjcmliZSB0byBldmVudFxuXHRcdC0gc3Vic2NyaWJlcjogc3Vic2NyaWJpbmcgb2JqZWN0XG5cdFx0LSBjYWxsYmFjazogY2FsbGJhY2sgZnVuY3Rpb24gdG8gaW52b2tlXG5cdFx0LSBvcHRpb25zOlxuXHRcdFx0aW5pdDogaWYgdHJ1ZSBzdWJzY3JpYmVyIHdhbnRzIGluaXQgZXZlbnRzXG5cdCovXG5cdHN1YnNjcmliZSAoY2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0XHRpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYWxsYmFjayBub3QgYSBmdW5jdGlvblwiLCBjYWxsYmFjayk7XG5cdFx0fVxuXHRcdGNvbnN0IHN1YiA9IG5ldyBTdWJzY3JpcHRpb24odGhpcywgY2FsbGJhY2ssIG9wdGlvbnMpO1xuXHRcdHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHN1Yik7XG5cdCAgICAvLyBJbml0aWF0ZSBpbml0IGNhbGxiYWNrIGZvciB0aGlzIHN1YnNjcmlwdGlvblxuXHQgICAgaWYgKHRoaXMuaW5pdCAmJiBzdWIuaW5pdCkge1xuXHQgICAgXHRzdWIuaW5pdF9wZW5kaW5nID0gdHJ1ZTtcblx0ICAgIFx0bGV0IHNlbGYgPSB0aGlzO1xuXHQgICAgXHRQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgIFx0XHRjb25zdCBlQXJncyA9IHNlbGYucHVibGlzaGVyLmV2ZW50aWZ5SW5pdEV2ZW50QXJncyhzZWxmLm5hbWUpIHx8IFtdO1xuXHQgICAgXHRcdHN1Yi5pbml0X3BlbmRpbmcgPSBmYWxzZTtcblx0ICAgIFx0XHRmb3IgKGxldCBlQXJnIG9mIGVBcmdzKSB7XG5cdCAgICBcdFx0XHRzZWxmLnRyaWdnZXIoZUFyZywgW3N1Yl0sIHRydWUpO1xuXHQgICAgXHRcdH1cblx0ICAgIFx0fSk7XG5cdCAgICB9XG5cdFx0cmV0dXJuIHN1YlxuXHR9XG5cblx0Lypcblx0XHR0cmlnZ2VyIGV2ZW50XG5cblx0XHQtIGlmIHN1YiBpcyB1bmRlZmluZWQgLSBwdWJsaXNoIHRvIGFsbCBzdWJzY3JpcHRpb25zXG5cdFx0LSBpZiBzdWIgaXMgZGVmaW5lZCAtIHB1Ymxpc2ggb25seSB0byBnaXZlbiBzdWJzY3JpcHRpb25cblx0Ki9cblx0dHJpZ2dlciAoZUFyZywgc3VicywgaW5pdCkge1xuXHRcdGxldCBlSW5mbywgY3R4O1xuXHRcdGZvciAoY29uc3Qgc3ViIG9mIHN1YnMpIHtcblx0XHRcdC8vIGlnbm9yZSB0ZXJtaW5hdGVkIHN1YnNjcmlwdGlvbnNcblx0XHRcdGlmIChzdWIudGVybWluYXRlZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGVJbmZvID0ge1xuXHRcdFx0XHRzcmM6IHRoaXMucHVibGlzaGVyLFxuXHRcdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHRcdHN1Yjogc3ViLFxuXHRcdFx0XHRpbml0OiBpbml0XG5cdFx0XHR9XG5cdFx0XHRjdHggPSBzdWIuY3R4IHx8IHRoaXMucHVibGlzaGVyO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0c3ViLmNhbGxiYWNrLmNhbGwoY3R4LCBlQXJnLCBlSW5mbyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYEVycm9yIGluICR7dGhpcy5uYW1lfTogJHtzdWIuY2FsbGJhY2t9ICR7ZXJyfWApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qXG5cdHVuc3Vic2NyaWJlIGZyb20gZXZlbnRcblx0LSB1c2Ugc3Vic2NyaXB0aW9uIHJldHVybmVkIGJ5IHByZXZpb3VzIHN1YnNjcmliZVxuXHQqL1xuXHR1bnN1YnNjcmliZShzdWIpIHtcblx0XHRsZXQgaWR4ID0gdGhpcy5zdWJzY3JpcHRpb25zLmluZGV4T2Yoc3ViKTtcblx0XHRpZiAoaWR4ID4gLTEpIHtcblx0XHRcdHRoaXMuc3Vic2NyaXB0aW9ucy5zcGxpY2UoaWR4LCAxKTtcblx0XHRcdHN1Yi50ZXJtaW5hdGUoKTtcblx0XHR9XG5cdH1cbn1cblxuXG4vKlxuXHRTdWJzY3JpcHRpb24gY2xhc3NcbiovXG5cbmNsYXNzIFN1YnNjcmlwdGlvbiB7XG5cblx0Y29uc3RydWN0b3IoZXZlbnQsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblx0XHR0aGlzLmV2ZW50ID0gZXZlbnQ7XG5cdFx0dGhpcy5uYW1lID0gZXZlbnQubmFtZTtcblx0XHR0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2tcblx0XHR0aGlzLmluaXQgPSAob3B0aW9ucy5pbml0ID09PSB1bmRlZmluZWQpID8gdGhpcy5ldmVudC5pbml0IDogb3B0aW9ucy5pbml0O1xuXHRcdHRoaXMuaW5pdF9wZW5kaW5nID0gZmFsc2U7XG5cdFx0dGhpcy50ZXJtaW5hdGVkID0gZmFsc2U7XG5cdFx0dGhpcy5jdHggPSBvcHRpb25zLmN0eDtcblx0fVxuXG5cdHRlcm1pbmF0ZSgpIHtcblx0XHR0aGlzLnRlcm1pbmF0ZWQgPSB0cnVlO1xuXHRcdHRoaXMuY2FsbGJhY2sgPSB1bmRlZmluZWQ7XG5cdFx0dGhpcy5ldmVudC51bnN1YnNjcmliZSh0aGlzKTtcblx0fVxufVxuXG5cbi8qXG5cblx0RVZFTlRJRlkgSU5TVEFOQ0VcblxuXHRFdmVudGlmeSBicmluZ3MgZXZlbnRpbmcgY2FwYWJpbGl0aWVzIHRvIGFueSBvYmplY3QuXG5cblx0SW4gcGFydGljdWxhciwgZXZlbnRpZnkgc3VwcG9ydHMgdGhlIGluaXRpYWwtZXZlbnQgcGF0dGVybi5cblx0T3B0LWluIGZvciBpbml0aWFsIGV2ZW50cyBwZXIgZXZlbnQgdHlwZS5cblxuXHRldmVudGlmeUluaXRFdmVudEFyZ3MobmFtZSkge1xuXHRcdGlmIChuYW1lID09IFwiY2hhbmdlXCIpIHtcblx0XHRcdHJldHVybiBbdGhpcy5fdmFsdWVdO1xuXHRcdH1cblx0fVxuXG4qL1xuXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRpZnlJbnN0YW5jZSAob2JqZWN0KSB7XG5cdG9iamVjdC5fX2V2ZW50aWZ5X2V2ZW50TWFwID0gbmV3IE1hcCgpO1xuXHRvYmplY3QuX19ldmVudGlmeV9idWZmZXIgPSBbXTtcblx0cmV0dXJuIG9iamVjdDtcbn07XG5cblxuLypcblx0RVZFTlRJRlkgUFJPVE9UWVBFXG5cblx0QWRkIGV2ZW50aWZ5IGZ1bmN0aW9uYWxpdHkgdG8gcHJvdG90eXBlIG9iamVjdFxuKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50aWZ5UHJvdG90eXBlKF9wcm90b3R5cGUpIHtcblxuXHRmdW5jdGlvbiBldmVudGlmeUdldEV2ZW50KG9iamVjdCwgbmFtZSkge1xuXHRcdGNvbnN0IGV2ZW50ID0gb2JqZWN0Ll9fZXZlbnRpZnlfZXZlbnRNYXAuZ2V0KG5hbWUpO1xuXHRcdGlmIChldmVudCA9PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkV2ZW50IHVuZGVmaW5lZFwiLCBuYW1lKTtcblx0XHR9XG5cdFx0cmV0dXJuIGV2ZW50O1xuXHR9XG5cblx0Lypcblx0XHRERUZJTkUgRVZFTlRcblx0XHQtIHVzZWQgb25seSBieSBldmVudCBzb3VyY2Vcblx0XHQtIG5hbWU6IG5hbWUgb2YgZXZlbnRcblx0XHQtIG9wdGlvbnM6IHtpbml0OnRydWV9IHNwZWNpZmllcyBpbml0LWV2ZW50IHNlbWFudGljcyBmb3IgZXZlbnRcblx0Ki9cblx0ZnVuY3Rpb24gZXZlbnRpZnlEZWZpbmUobmFtZSwgb3B0aW9ucykge1xuXHRcdC8vIGNoZWNrIHRoYXQgZXZlbnQgZG9lcyBub3QgYWxyZWFkeSBleGlzdFxuXHRcdGlmICh0aGlzLl9fZXZlbnRpZnlfZXZlbnRNYXAuaGFzKG5hbWUpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJFdmVudCBhbHJlYWR5IGRlZmluZWRcIiwgbmFtZSk7XG5cdFx0fVxuXHRcdHRoaXMuX19ldmVudGlmeV9ldmVudE1hcC5zZXQobmFtZSwgbmV3IEV2ZW50KHRoaXMsIG5hbWUsIG9wdGlvbnMpKTtcblx0fTtcblxuXHQvKlxuXHRcdE9OXG5cdFx0LSB1c2VkIGJ5IHN1YnNjcmliZXJcblx0XHRyZWdpc3RlciBjYWxsYmFjayBvbiBldmVudC5cblx0Ki9cblx0ZnVuY3Rpb24gb24obmFtZSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gZXZlbnRpZnlHZXRFdmVudCh0aGlzLCBuYW1lKS5zdWJzY3JpYmUoY2FsbGJhY2ssIG9wdGlvbnMpO1xuXHR9O1xuXG5cdC8qXG5cdFx0T0ZGXG5cdFx0LSB1c2VkIGJ5IHN1YnNjcmliZXJcblx0XHRVbi1yZWdpc3RlciBhIGhhbmRsZXIgZnJvbSBhIHNwZWNmaWMgZXZlbnQgdHlwZVxuXHQqL1xuXHRmdW5jdGlvbiBvZmYoc3ViKSB7XG5cdFx0cmV0dXJuIGV2ZW50aWZ5R2V0RXZlbnQodGhpcywgc3ViLm5hbWUpLnVuc3Vic2NyaWJlKHN1Yik7XG5cdH07XG5cblxuXHRmdW5jdGlvbiBldmVudGlmeVN1YnNjcmlwdGlvbnMobmFtZSkge1xuXHRcdHJldHVybiBldmVudGlmeUdldEV2ZW50KHRoaXMsIG5hbWUpLnN1YnNjcmlwdGlvbnM7XG5cdH1cblxuXG5cblx0Lypcblx0XHRUcmlnZ2VyIGxpc3Qgb2YgZXZlbnRJdGVtcyBvbiBvYmplY3RcblxuXHRcdGV2ZW50SXRlbTogIHtuYW1lOi4uLCBlQXJnOi4ufVxuXG5cdFx0Y29weSBhbGwgZXZlbnRJdGVtcyBpbnRvIGJ1ZmZlci5cblx0XHRyZXF1ZXN0IGVtcHR5aW5nIHRoZSBidWZmZXIsIGkuZS4gYWN0dWFsbHkgdHJpZ2dlcmluZyBldmVudHMsXG5cdFx0ZXZlcnkgdGltZSB0aGUgYnVmZmVyIGdvZXMgZnJvbSBlbXB0eSB0byBub24tZW1wdHlcblx0Ki9cblx0ZnVuY3Rpb24gZXZlbnRpZnlUcmlnZ2VyQWxsKGV2ZW50SXRlbXMpIHtcblx0XHRpZiAoZXZlbnRJdGVtcy5sZW5ndGggPT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIG1ha2UgdHJpZ2dlciBpdGVtc1xuXHRcdC8vIHJlc29sdmUgbm9uLXBlbmRpbmcgc3Vic2NyaXB0aW9ucyBub3dcblx0XHQvLyBlbHNlIHN1YnNjcmlwdGlvbnMgbWF5IGNoYW5nZSBmcm9tIHBlbmRpbmcgdG8gbm9uLXBlbmRpbmdcblx0XHQvLyBiZXR3ZWVuIGhlcmUgYW5kIGFjdHVhbCB0cmlnZ2VyaW5nXG5cdFx0Ly8gbWFrZSBsaXN0IG9mIFtldiwgZUFyZywgc3Vic10gdHVwbGVzXG5cdFx0bGV0IHRyaWdnZXJJdGVtcyA9IGV2ZW50SXRlbXMubWFwKChpdGVtKSA9PiB7XG5cdFx0XHRsZXQge25hbWUsIGVBcmd9ID0gaXRlbTtcblx0XHRcdGxldCBldiA9IGV2ZW50aWZ5R2V0RXZlbnQodGhpcywgbmFtZSk7XG5cdFx0XHRsZXQgc3VicyA9IGV2LnN1YnNjcmlwdGlvbnMuZmlsdGVyKHN1YiA9PiBzdWIuaW5pdF9wZW5kaW5nID09IGZhbHNlKTtcblx0XHRcdHJldHVybiBbZXYsIGVBcmcsIHN1YnNdO1xuXHRcdH0sIHRoaXMpO1xuXG5cdFx0Ly8gYXBwZW5kIHRyaWdnZXIgSXRlbXMgdG8gYnVmZmVyXG5cdFx0Y29uc3QgbGVuID0gdHJpZ2dlckl0ZW1zLmxlbmd0aDtcblx0XHRjb25zdCBidWYgPSB0aGlzLl9fZXZlbnRpZnlfYnVmZmVyO1xuXHRcdGNvbnN0IGJ1Zl9sZW4gPSB0aGlzLl9fZXZlbnRpZnlfYnVmZmVyLmxlbmd0aDtcblx0XHQvLyByZXNlcnZlIG1lbW9yeSAtIHNldCBuZXcgbGVuZ3RoXG5cdFx0dGhpcy5fX2V2ZW50aWZ5X2J1ZmZlci5sZW5ndGggPSBidWZfbGVuICsgbGVuO1xuXHRcdC8vIGNvcHkgdHJpZ2dlckl0ZW1zIHRvIGJ1ZmZlclxuXHRcdGZvciAobGV0IGk9MDsgaTxsZW47IGkrKykge1xuXHRcdFx0YnVmW2J1Zl9sZW4raV0gPSB0cmlnZ2VySXRlbXNbaV07XG5cdFx0fVxuXHRcdC8vIHJlcXVlc3QgZW1wdHlpbmcgb2YgdGhlIGJ1ZmZlclxuXHRcdGlmIChidWZfbGVuID09IDApIHtcblx0XHRcdGxldCBzZWxmID0gdGhpcztcblx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAobGV0IFtldiwgZUFyZywgc3Vic10gb2Ygc2VsZi5fX2V2ZW50aWZ5X2J1ZmZlcikge1xuXHRcdFx0XHRcdC8vIGFjdHVhbCBldmVudCB0cmlnZ2VyaW5nXG5cdFx0XHRcdFx0ZXYudHJpZ2dlcihlQXJnLCBzdWJzLCBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZi5fX2V2ZW50aWZ5X2J1ZmZlciA9IFtdO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Lypcblx0XHRUcmlnZ2VyIG11bHRpcGxlIGV2ZW50cyBvZiBzYW1lIHR5cGUgKG5hbWUpXG5cdCovXG5cdGZ1bmN0aW9uIGV2ZW50aWZ5VHJpZ2dlckFsaWtlKG5hbWUsIGVBcmdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXZlbnRpZnlUcmlnZ2VyQWxsKGVBcmdzLm1hcChlQXJnID0+IHtcblx0XHRcdHJldHVybiB7bmFtZSwgZUFyZ307XG5cdFx0fSkpO1xuXHR9XG5cblx0Lypcblx0XHRUcmlnZ2VyIHNpbmdsZSBldmVudFxuXHQqL1xuXHRmdW5jdGlvbiBldmVudGlmeVRyaWdnZXIobmFtZSwgZUFyZykge1xuXHRcdHJldHVybiB0aGlzLmV2ZW50aWZ5VHJpZ2dlckFsbChbe25hbWUsIGVBcmd9XSk7XG5cdH1cblxuXHRfcHJvdG90eXBlLmV2ZW50aWZ5RGVmaW5lID0gZXZlbnRpZnlEZWZpbmU7XG5cdF9wcm90b3R5cGUuZXZlbnRpZnlUcmlnZ2VyID0gZXZlbnRpZnlUcmlnZ2VyO1xuXHRfcHJvdG90eXBlLmV2ZW50aWZ5VHJpZ2dlckFsaWtlID0gZXZlbnRpZnlUcmlnZ2VyQWxpa2U7XG5cdF9wcm90b3R5cGUuZXZlbnRpZnlUcmlnZ2VyQWxsID0gZXZlbnRpZnlUcmlnZ2VyQWxsO1xuXHRfcHJvdG90eXBlLmV2ZW50aWZ5U3Vic2NyaXB0aW9ucyA9IGV2ZW50aWZ5U3Vic2NyaXB0aW9ucztcblx0X3Byb3RvdHlwZS5vbiA9IG9uO1xuXHRfcHJvdG90eXBlLm9mZiA9IG9mZjtcbn07XG5cblxuZXhwb3J0IHtldmVudGlmeUluc3RhbmNlIGFzIGFkZFRvSW5zdGFuY2V9O1xuZXhwb3J0IHtldmVudGlmeVByb3RvdHlwZSBhcyBhZGRUb1Byb3RvdHlwZX07XG5cbi8qXG5cdEV2ZW50IFZhcmlhYmxlXG5cblx0T2JqZWN0cyB3aXRoIGEgc2luZ2xlIFwiY2hhbmdlXCIgZXZlbnRcbiovXG5cbmV4cG9ydCBjbGFzcyBFdmVudFZhcmlhYmxlIHtcblxuXHRjb25zdHJ1Y3RvciAodmFsdWUpIHtcblx0XHRldmVudGlmeUluc3RhbmNlKHRoaXMpO1xuXHRcdHRoaXMuX3ZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy5ldmVudGlmeURlZmluZShcImNoYW5nZVwiLCB7aW5pdDp0cnVlfSk7XG5cdH1cblxuXHRldmVudGlmeUluaXRFdmVudEFyZ3MobmFtZSkge1xuXHRcdGlmIChuYW1lID09IFwiY2hhbmdlXCIpIHtcblx0XHRcdHJldHVybiBbdGhpcy5fdmFsdWVdO1xuXHRcdH1cblx0fVxuXG5cdGdldCB2YWx1ZSAoKSB7cmV0dXJuIHRoaXMuX3ZhbHVlfTtcblx0c2V0IHZhbHVlICh2YWx1ZSkge1xuXHRcdGlmICh2YWx1ZSAhPSB0aGlzLl92YWx1ZSkge1xuXHRcdFx0dGhpcy5fdmFsdWUgPSB2YWx1ZTtcblx0XHRcdHRoaXMuZXZlbnRpZnlUcmlnZ2VyKFwiY2hhbmdlXCIsIHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cbmV2ZW50aWZ5UHJvdG90eXBlKEV2ZW50VmFyaWFibGUucHJvdG90eXBlKTtcblxuLypcblx0RXZlbnQgQm9vbGVhblxuXG5cblx0Tm90ZSA6IGltcGxlbWVudGF0aW9uIHVzZXMgZmFsc2luZXNzIG9mIGlucHV0IHBhcmFtZXRlciB0byBjb25zdHJ1Y3RvciBhbmQgc2V0KCkgb3BlcmF0aW9uLFxuXHRzbyBldmVudEJvb2xlYW4oLTEpIHdpbGwgYWN0dWFsbHkgc2V0IGl0IHRvIHRydWUgYmVjYXVzZVxuXHQoLTEpID8gdHJ1ZSA6IGZhbHNlIC0+IHRydWUgIVxuKi9cblxuZXhwb3J0IGNsYXNzIEV2ZW50Qm9vbGVhbiBleHRlbmRzIEV2ZW50VmFyaWFibGUge1xuXHRjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuXHRcdHN1cGVyKEJvb2xlYW4odmFsdWUpKTtcblx0fVxuXG5cdHNldCB2YWx1ZSAodmFsdWUpIHtcblx0XHRzdXBlci52YWx1ZSA9IEJvb2xlYW4odmFsdWUpO1xuXHR9XG5cdGdldCB2YWx1ZSAoKSB7cmV0dXJuIHN1cGVyLnZhbHVlfTtcbn1cblxuXG4vKlxuXHRtYWtlIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIEV2ZW50Qm9vbGVhbiBjaGFuZ2VzXG5cdHZhbHVlLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUHJvbWlzZShldmVudE9iamVjdCwgY29uZGl0aW9uRnVuYykge1xuXHRjb25kaXRpb25GdW5jID0gY29uZGl0aW9uRnVuYyB8fCBmdW5jdGlvbih2YWwpIHtyZXR1cm4gdmFsID09IHRydWV9O1xuXHRyZXR1cm4gbmV3IFByb21pc2UgKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHRsZXQgc3ViID0gZXZlbnRPYmplY3Qub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRpZiAoY29uZGl0aW9uRnVuYyh2YWx1ZSkpIHtcblx0XHRcdFx0cmVzb2x2ZSh2YWx1ZSk7XG5cdFx0XHRcdGV2ZW50T2JqZWN0Lm9mZihzdWIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn07XG5cbi8vIG1vZHVsZSBhcGlcbmV4cG9ydCBkZWZhdWx0IHtcblx0ZXZlbnRpZnlQcm90b3R5cGUsXG5cdGV2ZW50aWZ5SW5zdGFuY2UsXG5cdEV2ZW50VmFyaWFibGUsXG5cdEV2ZW50Qm9vbGVhbixcblx0bWFrZVByb21pc2Vcbn07XG5cbiIsImltcG9ydCB7IGltcGxlbWVudHNfY2FsbGJhY2sgfSBmcm9tIFwiLi9hcGlfY2FsbGJhY2tcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogU09VUkNFIFBST1BFUlRZIChTUkNQUk9QKVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBGdW5jdGlvbnMgZm9yIGV4dGVuZGluZyBhIGNsYXNzIHdpdGggc3VwcG9ydCBmb3IgXG4gKiBleHRlcm5hbCBzb3VyY2Ugb24gYSBuYW1lZCBwcm9wZXJ0eS5cbiAqIFxuICogb3B0aW9uOiBtdXRhYmxlOnRydWUgbWVhbnMgdGhhdCBwcm9wZXJ5IG1heSBiZSByZXNldCBcbiAqIFxuICogc291cmNlIG9iamVjdCBpcyBhc3N1bWVkIHRvIHN1cHBvcnQgdGhlIGNhbGxiYWNrIGludGVyZmFjZSxcbiAqIG9yIGJlIGEgbGlzdCBvZiBvYmplY3RzIGFsbCBzdXBwb3J0aW5nIHRoZSBjYWxsYmFjayBpbnRlcmZhY2VcbiAqL1xuXG5jb25zdCBOQU1FID0gXCJzcmNwcm9wXCI7XG5jb25zdCBQUkVGSVggPSBgX18ke05BTUV9YDtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvSW5zdGFuY2UgKG9iamVjdCkge1xuICAgIG9iamVjdFtgJHtQUkVGSVh9YF0gPSBuZXcgTWFwKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRUb1Byb3RvdHlwZSAoX3Byb3RvdHlwZSkge1xuXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXIocHJvcE5hbWUsIG9wdGlvbnM9e30pIHtcbiAgICAgICAgbGV0IHttdXRhYmxlPXRydWV9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFwID0gdGhpc1tgJHtQUkVGSVh9YF07IFxuICAgICAgICBtYXAuc2V0KHByb3BOYW1lLCB7XG4gICAgICAgICAgICBpbml0OmZhbHNlLFxuICAgICAgICAgICAgbXV0YWJsZSxcbiAgICAgICAgICAgIGVudGl0eTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaGFuZGxlczogW11cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVnaXN0ZXIgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgcHJvcE5hbWUsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXAuZ2V0KHByb3BOYW1lKS5lbnRpdHk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbYCR7TkFNRX1fY2hlY2tgXSkge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkgPSB0aGlzW2Ake05BTUV9X2NoZWNrYF0ocHJvcE5hbWUsIGVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbnRpdHkgIT0gbWFwLmdldChwcm9wTmFtZSkuZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7UFJFRklYfV9hdHRhY2hgXShwcm9wTmFtZSwgZW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGF0dGF0Y2gocHJvcE5hbWUsIGVudGl0eSkge1xuXG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXNbYCR7UFJFRklYfWBdO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IG1hcC5nZXQocHJvcE5hbWUpXG5cbiAgICAgICAgaWYgKHN0YXRlLmluaXQgJiYgIXN0YXRlLm11dGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtwcm9wTmFtZX0gY2FuIG5vdCBiZSByZWFzc2lnbmVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbnRpdGllcyA9IChBcnJheS5pc0FycmF5KGVudGl0eSkpID8gZW50aXR5IDogW2VudGl0eV07XG5cbiAgICAgICAgLy8gdW5zdWJzY3JpYmUgZnJvbSBlbnRpdGllc1xuICAgICAgICBpZiAoc3RhdGUuaGFuZGxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpZHgsIGVdIG9mIE9iamVjdC5lbnRyaWVzKGVudGl0aWVzKSkge1xuICAgICAgICAgICAgICAgIGlmIChpbXBsZW1lbnRzX2NhbGxiYWNrKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucmVtb3ZlX2NhbGxiYWNrKHN0YXRlLmhhbmRsZXNbaWR4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAgICBcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5oYW5kbGVzID0gW107XG5cbiAgICAgICAgLy8gYXR0YXRjaCBuZXcgZW50aXR5XG4gICAgICAgIHN0YXRlLmVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgc3RhdGUuaW5pdCA9IHRydWU7XG5cbiAgICAgICAgLy8gc3Vic2NyaWJlIHRvIGNhbGxiYWNrIGZyb20gc291cmNlXG4gICAgICAgIGlmICh0aGlzW2Ake05BTUV9X29uY2hhbmdlYF0pIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBmdW5jdGlvbiAoZUFyZykge1xuICAgICAgICAgICAgICAgIHRoaXNbYCR7TkFNRX1fb25jaGFuZ2VgXShwcm9wTmFtZSwgZUFyZyk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgZW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1wbGVtZW50c19jYWxsYmFjayhlKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5oYW5kbGVzLnB1c2goZS5hZGRfY2FsbGJhY2soaGFuZGxlcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbYCR7TkFNRX1fb25jaGFuZ2VgXShwcm9wTmFtZSwgXCJyZXNldFwiKTsgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhcGkgPSB7fTtcbiAgICBhcGlbYCR7TkFNRX1fcmVnaXN0ZXJgXSA9IHJlZ2lzdGVyO1xuICAgIGFwaVtgJHtQUkVGSVh9X2F0dGFjaGBdID0gYXR0YXRjaDtcbiAgICBPYmplY3QuYXNzaWduKF9wcm90b3R5cGUsIGFwaSk7XG59XG5cbiIsImltcG9ydCB7IGludGVydmFsIH0gZnJvbSBcIi4vaW50ZXJ2YWxzLmpzXCI7XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5CQVNFIFNFR01FTlRcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qXG5cdEFic3RyYWN0IEJhc2UgQ2xhc3MgZm9yIFNlZ21lbnRzXG5cbiAgICBjb25zdHJ1Y3RvcihpbnRlcnZhbClcblxuICAgIC0gaW50ZXJ2YWw6IGludGVydmFsIG9mIHZhbGlkaXR5IG9mIHNlZ21lbnRcbiAgICAtIGR5bmFtaWM6IHRydWUgaWYgc2VnbWVudCBpcyBkeW5hbWljXG4gICAgLSB2YWx1ZShvZmZzZXQpOiB2YWx1ZSBvZiBzZWdtZW50IGF0IG9mZnNldFxuICAgIC0gcXVlcnkob2Zmc2V0KTogc3RhdGUgb2Ygc2VnbWVudCBhdCBvZmZzZXRcbiovXG5cbmV4cG9ydCBjbGFzcyBCYXNlU2VnbWVudCB7XG5cblx0Y29uc3RydWN0b3IoaXR2KSB7XG5cdFx0dGhpcy5faXR2ID0gaXR2O1xuXHR9XG5cblx0Z2V0IGl0digpIHtyZXR1cm4gdGhpcy5faXR2O31cblxuICAgIC8qKiBcbiAgICAgKiBpbXBsZW1lbnRlZCBieSBzdWJjbGFzc1xuICAgICAqIHJldHVybnMge3ZhbHVlLCBkeW5hbWljfTtcbiAgICAqL1xuICAgIHN0YXRlKG9mZnNldCkge1xuICAgIFx0dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNvbnZlbmllbmNlIGZ1bmN0aW9uIHJldHVybmluZyB0aGUgc3RhdGUgb2YgdGhlIHNlZ21lbnRcbiAgICAgKiBAcGFyYW0geyp9IG9mZnNldCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBxdWVyeShvZmZzZXQpIHtcbiAgICAgICAgaWYgKGludGVydmFsLmNvdmVyc19wb2ludCh0aGlzLl9pdHYsIG9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7Li4udGhpcy5zdGF0ZShvZmZzZXQpLCBvZmZzZXR9O1xuICAgICAgICB9IFxuICAgICAgICByZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGR5bmFtaWM6ZmFsc2UsIG9mZnNldH07XG4gICAgfVxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTEFZRVJTIFNFR01FTlRcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZXhwb3J0IGNsYXNzIExheWVyc1NlZ21lbnQgZXh0ZW5kcyBCYXNlU2VnbWVudCB7XG5cblx0Y29uc3RydWN0b3IoaXR2LCBhcmdzKSB7XG4gICAgICAgIHN1cGVyKGl0dik7XG5cdFx0dGhpcy5fbGF5ZXJzID0gYXJncy5sYXllcnM7XG4gICAgICAgIHRoaXMuX3ZhbHVlX2Z1bmMgPSBhcmdzLnZhbHVlX2Z1bmNcblxuICAgICAgICAvLyBUT0RPIC0gZmlndXJlIG91dCBkeW5hbWljIGhlcmU/XG4gICAgfVxuXG5cdHN0YXRlKG9mZnNldCkge1xuICAgICAgICAvLyBUT0RPIC0gdXNlIHZhbHVlIGZ1bmNcbiAgICAgICAgLy8gZm9yIG5vdyAtIGp1c3QgdXNlIGZpcnN0IGxheWVyXG4gICAgICAgIHJldHVybiB7Li4udGhpcy5fbGF5ZXJzWzBdLnF1ZXJ5KG9mZnNldCksIG9mZnNldH07XG5cdH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBTVEFUSUMgU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5leHBvcnQgY2xhc3MgU3RhdGljU2VnbWVudCBleHRlbmRzIEJhc2VTZWdtZW50IHtcblxuXHRjb25zdHJ1Y3RvcihpdHYsIGRhdGEpIHtcbiAgICAgICAgc3VwZXIoaXR2KTtcblx0XHR0aGlzLl92YWx1ZSA9IGRhdGE7XG5cdH1cblxuXHRzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogdGhpcy5fdmFsdWUsIGR5bmFtaWM6ZmFsc2V9XG5cdH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBNT1RJT04gU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLypcbiAgICBJbXBsZW1lbnRzIGRldGVybWluaXN0aWMgcHJvamVjdGlvbiBiYXNlZCBvbiBpbml0aWFsIGNvbmRpdGlvbnMgXG4gICAgLSBtb3Rpb24gdmVjdG9yIGRlc2NyaWJlcyBtb3Rpb24gdW5kZXIgY29uc3RhbnQgYWNjZWxlcmF0aW9uXG4qL1xuXG5leHBvcnQgY2xhc3MgTW90aW9uU2VnbWVudCBleHRlbmRzIEJhc2VTZWdtZW50IHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihpdHYsIGRhdGEpIHtcbiAgICAgICAgc3VwZXIoaXR2KTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcG9zaXRpb246cDA9MCwgXG4gICAgICAgICAgICB2ZWxvY2l0eTp2MD0wLCBcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbjphMD0wLCBcbiAgICAgICAgICAgIHRpbWVzdGFtcDp0MD0wXG4gICAgICAgIH0gPSBkYXRhO1xuICAgICAgICAvLyBjcmVhdGUgbW90aW9uIHRyYW5zaXRpb25cbiAgICAgICAgdGhpcy5fcG9zX2Z1bmMgPSBmdW5jdGlvbiAodHMpIHtcbiAgICAgICAgICAgIGxldCBkID0gdHMgLSB0MDtcbiAgICAgICAgICAgIHJldHVybiBwMCArIHYwKmQgKyAwLjUqYTAqZCpkO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl92ZWxfZnVuYyA9IGZ1bmN0aW9uICh0cykge1xuICAgICAgICAgICAgbGV0IGQgPSB0cyAtIHQwO1xuICAgICAgICAgICAgcmV0dXJuIHYwICsgYTAqZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hY2NfZnVuYyA9IGZ1bmN0aW9uICh0cykge1xuICAgICAgICAgICAgcmV0dXJuIGEwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGUob2Zmc2V0KSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLl9wb3NfZnVuYyhvZmZzZXQpO1xuICAgICAgICBsZXQgdmVsID0gdGhpcy5fdmVsX2Z1bmMob2Zmc2V0KTtcbiAgICAgICAgbGV0IGFjYyA9IHRoaXMuX2FjY19mdW5jKG9mZnNldCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogcG9zLFxuICAgICAgICAgICAgdmVsb2NpdHk6IHZlbCxcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbjogYWNjLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBvZmZzZXQsXG4gICAgICAgICAgICB2YWx1ZTogcG9zLFxuICAgICAgICAgICAgZHluYW1pYzogKHZlbCAhPSAwIHx8IGFjYyAhPSAwIClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBUUkFOU0lUSU9OIFNFR01FTlRcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLypcbiAgICBTdXBwb3J0ZWQgZWFzaW5nIGZ1bmN0aW9uc1xuICAgIFwiZWFzZS1pblwiOlxuICAgIFwiZWFzZS1vdXRcIjpcbiAgICBcImVhc2UtaW4tb3V0XCJcbiovXG5cbmZ1bmN0aW9uIGVhc2VpbiAodHMpIHtcbiAgICByZXR1cm4gTWF0aC5wb3codHMsMik7ICBcbn1cbmZ1bmN0aW9uIGVhc2VvdXQgKHRzKSB7XG4gICAgcmV0dXJuIDEgLSBlYXNlaW4oMSAtIHRzKTtcbn1cbmZ1bmN0aW9uIGVhc2Vpbm91dCAodHMpIHtcbiAgICBpZiAodHMgPCAuNSkge1xuICAgICAgICByZXR1cm4gZWFzZWluKDIgKiB0cykgLyAyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoMiAtIGVhc2VpbigyICogKDEgLSB0cykpKSAvIDI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVHJhbnNpdGlvblNlZ21lbnQgZXh0ZW5kcyBCYXNlU2VnbWVudCB7XG5cblx0Y29uc3RydWN0b3IoaXR2LCBkYXRhKSB7XG5cdFx0c3VwZXIoaXR2KTtcbiAgICAgICAgbGV0IHt2MCwgdjEsIGVhc2luZ30gPSBkYXRhO1xuICAgICAgICBsZXQgW3QwLCB0MV0gPSB0aGlzLl9pdHYuc2xpY2UoMCwyKTtcblxuICAgICAgICAvLyBjcmVhdGUgdGhlIHRyYW5zaXRpb24gZnVuY3Rpb25cbiAgICAgICAgdGhpcy5fZHluYW1pYyA9IHYxLXYwICE9IDA7XG4gICAgICAgIHRoaXMuX3RyYW5zID0gZnVuY3Rpb24gKHRzKSB7XG4gICAgICAgICAgICAvLyBjb252ZXJ0IHRzIHRvIFt0MCx0MV0tc3BhY2VcbiAgICAgICAgICAgIC8vIC0gc2hpZnQgZnJvbSBbdDAsdDFdLXNwYWNlIHRvIFswLCh0MS10MCldLXNwYWNlXG4gICAgICAgICAgICAvLyAtIHNjYWxlIGZyb20gWzAsKHQxLXQwKV0tc3BhY2UgdG8gWzAsMV0tc3BhY2VcbiAgICAgICAgICAgIHRzID0gdHMgLSB0MDtcbiAgICAgICAgICAgIHRzID0gdHMvcGFyc2VGbG9hdCh0MS10MCk7XG4gICAgICAgICAgICAvLyBlYXNpbmcgZnVuY3Rpb25zIHN0cmV0Y2hlcyBvciBjb21wcmVzc2VzIHRoZSB0aW1lIHNjYWxlIFxuICAgICAgICAgICAgaWYgKGVhc2luZyA9PSBcImVhc2UtaW5cIikge1xuICAgICAgICAgICAgICAgIHRzID0gZWFzZWluKHRzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWFzaW5nID09IFwiZWFzZS1vdXRcIikge1xuICAgICAgICAgICAgICAgIHRzID0gZWFzZW91dCh0cyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVhc2luZyA9PSBcImVhc2UtaW4tb3V0XCIpIHtcbiAgICAgICAgICAgICAgICB0cyA9IGVhc2Vpbm91dCh0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsaW5lYXIgdHJhbnNpdGlvbiBmcm9tIHYwIHRvIHYxLCBmb3IgdGltZSB2YWx1ZXMgWzAsMV1cbiAgICAgICAgICAgIHRzID0gTWF0aC5tYXgodHMsIDApO1xuICAgICAgICAgICAgdHMgPSBNYXRoLm1pbih0cywgMSk7XG4gICAgICAgICAgICByZXR1cm4gdjAgKyAodjEtdjApKnRzO1xuICAgICAgICB9XG5cdH1cblxuXHRzdGF0ZShvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogdGhpcy5fdHJhbnMob2Zmc2V0KSwgZHluYW1pYzp0aGlzLl9keW5hbWljfVxuXHR9XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBJTlRFUlBPTEFUSU9OIFNFR01FTlRcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBjcmVhdGUgYW4gaW50ZXJwb2xhdG9yIGZvciBuZWFyZXN0IG5laWdoYm9yIGludGVycG9sYXRpb24gd2l0aFxuICogZXh0cmFwb2xhdGlvbiBzdXBwb3J0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHR1cGxlcyAtIEFuIGFycmF5IG9mIFt2YWx1ZSwgb2Zmc2V0XSBwYWlycywgd2hlcmUgdmFsdWUgaXMgdGhlXG4gKiBwb2ludCdzIHZhbHVlIGFuZCBvZmZzZXQgaXMgdGhlIGNvcnJlc3BvbmRpbmcgb2Zmc2V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSAtIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiBvZmZzZXQgYW5kIHJldHVybnMgdGhlXG4gKiBpbnRlcnBvbGF0ZWQgb3IgZXh0cmFwb2xhdGVkIHZhbHVlLlxuICovXG5cbmZ1bmN0aW9uIGludGVycG9sYXRlKHR1cGxlcykge1xuXG4gICAgaWYgKHR1cGxlcy5sZW5ndGggPCAxKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBpbnRlcnBvbGF0b3IgKCkge3JldHVybiB1bmRlZmluZWQ7fVxuICAgIH0gZWxzZSBpZiAodHVwbGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBpbnRlcnBvbGF0b3IgKCkge3JldHVybiB0dXBsZXNbMF1bMF07fVxuICAgIH1cblxuICAgIC8vIFNvcnQgdGhlIHR1cGxlcyBieSB0aGVpciBvZmZzZXRzXG4gICAgY29uc3Qgc29ydGVkVHVwbGVzID0gWy4uLnR1cGxlc10uc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pO1xuICBcbiAgICByZXR1cm4gZnVuY3Rpb24gaW50ZXJwb2xhdG9yKG9mZnNldCkge1xuICAgICAgLy8gSGFuZGxlIGV4dHJhcG9sYXRpb24gYmVmb3JlIHRoZSBmaXJzdCBwb2ludFxuICAgICAgaWYgKG9mZnNldCA8PSBzb3J0ZWRUdXBsZXNbMF1bMV0pIHtcbiAgICAgICAgY29uc3QgW3ZhbHVlMSwgb2Zmc2V0MV0gPSBzb3J0ZWRUdXBsZXNbMF07XG4gICAgICAgIGNvbnN0IFt2YWx1ZTIsIG9mZnNldDJdID0gc29ydGVkVHVwbGVzWzFdO1xuICAgICAgICByZXR1cm4gdmFsdWUxICsgKChvZmZzZXQgLSBvZmZzZXQxKSAqICh2YWx1ZTIgLSB2YWx1ZTEpIC8gKG9mZnNldDIgLSBvZmZzZXQxKSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBleHRyYXBvbGF0aW9uIGFmdGVyIHRoZSBsYXN0IHBvaW50XG4gICAgICBpZiAob2Zmc2V0ID49IHNvcnRlZFR1cGxlc1tzb3J0ZWRUdXBsZXMubGVuZ3RoIC0gMV1bMV0pIHtcbiAgICAgICAgY29uc3QgW3ZhbHVlMSwgb2Zmc2V0MV0gPSBzb3J0ZWRUdXBsZXNbc29ydGVkVHVwbGVzLmxlbmd0aCAtIDJdO1xuICAgICAgICBjb25zdCBbdmFsdWUyLCBvZmZzZXQyXSA9IHNvcnRlZFR1cGxlc1tzb3J0ZWRUdXBsZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHJldHVybiB2YWx1ZTEgKyAoKG9mZnNldCAtIG9mZnNldDEpICogKHZhbHVlMiAtIHZhbHVlMSkgLyAob2Zmc2V0MiAtIG9mZnNldDEpKTtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBGaW5kIHRoZSBuZWFyZXN0IHBvaW50cyB0byB0aGUgbGVmdCBhbmQgcmlnaHRcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkVHVwbGVzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBpZiAob2Zmc2V0ID49IHNvcnRlZFR1cGxlc1tpXVsxXSAmJiBvZmZzZXQgPD0gc29ydGVkVHVwbGVzW2kgKyAxXVsxXSkge1xuICAgICAgICAgIGNvbnN0IFt2YWx1ZTEsIG9mZnNldDFdID0gc29ydGVkVHVwbGVzW2ldO1xuICAgICAgICAgIGNvbnN0IFt2YWx1ZTIsIG9mZnNldDJdID0gc29ydGVkVHVwbGVzW2kgKyAxXTtcbiAgICAgICAgICAvLyBMaW5lYXIgaW50ZXJwb2xhdGlvbiBmb3JtdWxhOiB5ID0geTEgKyAoICh4IC0geDEpICogKHkyIC0geTEpIC8gKHgyIC0geDEpIClcbiAgICAgICAgICByZXR1cm4gdmFsdWUxICsgKChvZmZzZXQgLSBvZmZzZXQxKSAqICh2YWx1ZTIgLSB2YWx1ZTEpIC8gKG9mZnNldDIgLSBvZmZzZXQxKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgXG4gICAgICAvLyBJbiBjYXNlIHRoZSBvZmZzZXQgZG9lcyBub3QgZmFsbCB3aXRoaW4gYW55IHJhbmdlIChzaG91bGQgYmUgY292ZXJlZCBieSB0aGUgcHJldmlvdXMgY29uZGl0aW9ucylcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbn1cbiAgXG5cbmV4cG9ydCBjbGFzcyBJbnRlcnBvbGF0aW9uU2VnbWVudCBleHRlbmRzIEJhc2VTZWdtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGl0diwgdHVwbGVzKSB7XG4gICAgICAgIHN1cGVyKGl0dik7XG4gICAgICAgIC8vIHNldHVwIGludGVycG9sYXRpb24gZnVuY3Rpb25cbiAgICAgICAgdGhpcy5fdHJhbnMgPSBpbnRlcnBvbGF0ZSh0dXBsZXMpO1xuICAgIH1cblxuICAgIHN0YXRlKG9mZnNldCkge1xuICAgICAgICByZXR1cm4ge3ZhbHVlOiB0aGlzLl90cmFucyhvZmZzZXQpLCBkeW5hbWljOnRydWV9O1xuICAgIH1cbn1cblxuXG4iLCJpbXBvcnQgeyBlbmRwb2ludCB9IGZyb20gXCIuL2ludGVydmFscy5qc1wiO1xuXG5mdW5jdGlvbiBsdCAocDEsIHAyKSB7XG5cdHJldHVybiBlbmRwb2ludC5sdChlbmRwb2ludC5mcm9tX2lucHV0KHAxKSwgZW5kcG9pbnQuZnJvbV9pbnB1dChwMikpO1xufVxuZnVuY3Rpb24gZXEgKHAxLCBwMikge1xuXHRyZXR1cm4gZW5kcG9pbnQuZXEoZW5kcG9pbnQuZnJvbV9pbnB1dChwMSksIGVuZHBvaW50LmZyb21faW5wdXQocDIpKTtcbn1cbmZ1bmN0aW9uIGNtcCAocDEsIHAyKSB7XG5cdHJldHVybiBlbmRwb2ludC5jbXAoZW5kcG9pbnQuZnJvbV9pbnB1dChwMSksIGVuZHBvaW50LmZyb21faW5wdXQocDIpKTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdFNPUlRFRCBBUlJBWVxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKlxuXHRTb3J0ZWQgYXJyYXkgb2YgdmFsdWVzLlxuXHQtIEVsZW1lbnRzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLlxuXHQtIE5vIGR1cGxpY2F0ZXMgYXJlIGFsbG93ZWQuXG5cdC0gQmluYXJ5IHNlYXJjaCB1c2VkIGZvciBsb29rdXBcblxuXHR2YWx1ZXMgY2FuIGJlIHJlZ3VsYXIgbnVtYmVyIHZhbHVlcyAoZmxvYXQpIG9yIHBvaW50cyBbZmxvYXQsIHNpZ25dXG5cdFx0PmEgOiBbYSwgLTFdIC0gbGFyZ2VzdCB2YWx1ZSBzbWFsbGVyIHRoYW4gYVxuXHRcdGEgIDogW2EsIDBdICAtIGFcblx0XHRhPCA6IFthLCArMV0gLSBzbWFsbGVzdCB2YWx1ZSBsYXJnZXIgdGhhbiBhXG4qL1xuXG5leHBvcnQgY2xhc3MgU29ydGVkQXJyYXkge1xuXG5cdGNvbnN0cnVjdG9yKCl7XG5cdFx0dGhpcy5fYXJyYXkgPSBbXTtcblx0fVxuXG5cdGdldCBzaXplKCkge3JldHVybiB0aGlzLl9hcnJheS5sZW5ndGg7fVxuXHRnZXQgYXJyYXkoKSB7cmV0dXJuIHRoaXMuX2FycmF5O31cblx0Lypcblx0XHRmaW5kIGluZGV4IG9mIGdpdmVuIHZhbHVlXG5cblx0XHRyZXR1cm4gW2ZvdW5kLCBpbmRleF1cblxuXHRcdGlmIGZvdW5kIGlzIHRydWUsIHRoZW4gaW5kZXggaXMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBvYmplY3Rcblx0XHRpZiBmb3VuZCBpcyBmYWxzZSwgdGhlbiBpbmRleCBpcyB0aGUgaW5kZXggd2hlcmUgdGhlIG9iamVjdCBzaG91bGRcblx0XHRiZSBpbnNlcnRlZFxuXG5cdFx0LSB1c2VzIGJpbmFyeSBzZWFyY2hcdFx0XG5cdFx0LSBhcnJheSBkb2VzIG5vdCBpbmNsdWRlIGFueSBkdXBsaWNhdGUgdmFsdWVzXG5cdCovXG5cdGluZGV4T2YodGFyZ2V0X3ZhbHVlKSB7XG5cdFx0bGV0IGxlZnRfaWR4ID0gMDtcblx0XHRsZXQgcmlnaHRfaWR4ID0gdGhpcy5fYXJyYXkubGVuZ3RoIC0gMTtcblx0XHR3aGlsZSAobGVmdF9pZHggPD0gcmlnaHRfaWR4KSB7XG5cdFx0XHRjb25zdCBtaWRfaWR4ID0gTWF0aC5mbG9vcigobGVmdF9pZHggKyByaWdodF9pZHgpIC8gMik7XG5cdFx0XHRsZXQgbWlkX3ZhbHVlID0gdGhpcy5fYXJyYXlbbWlkX2lkeF07XG5cdFx0XHRpZiAoZXEobWlkX3ZhbHVlLCB0YXJnZXRfdmFsdWUpKSB7XG5cdFx0XHRcdHJldHVybiBbdHJ1ZSwgbWlkX2lkeF07IC8vIFRhcmdldCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgYXJyYXlcblx0XHRcdH0gZWxzZSBpZiAobHQobWlkX3ZhbHVlLCB0YXJnZXRfdmFsdWUpKSB7XG5cdFx0XHRcdCAgbGVmdF9pZHggPSBtaWRfaWR4ICsgMTsgLy8gTW92ZSBzZWFyY2ggcmFuZ2UgdG8gdGhlIHJpZ2h0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQgIHJpZ2h0X2lkeCA9IG1pZF9pZHggLSAxOyAvLyBNb3ZlIHNlYXJjaCByYW5nZSB0byB0aGUgbGVmdFxuXHRcdFx0fVxuXHRcdH1cblx0ICBcdHJldHVybiBbZmFsc2UsIGxlZnRfaWR4XTsgLy8gUmV0dXJuIHRoZSBpbmRleCB3aGVyZSB0YXJnZXQgc2hvdWxkIGJlIGluc2VydGVkXG5cdH1cblxuXHQvKlxuXHRcdGZpbmQgaW5kZXggb2Ygc21hbGxlc3QgdmFsdWUgd2hpY2ggaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRhcmdldCB2YWx1ZVxuXHRcdHJldHVybnMgLTEgaWYgbm8gc3VjaCB2YWx1ZSBleGlzdHNcblx0Ki9cblx0Z2VJbmRleE9mKHRhcmdldF92YWx1ZSkge1xuXHRcdGxldCBbZm91bmQsIGlkeF0gPSB0aGlzLmluZGV4T2YodGFyZ2V0X3ZhbHVlKTtcblx0XHRyZXR1cm4gKGlkeCA8IHRoaXMuX2FycmF5Lmxlbmd0aCkgPyBpZHggOiAtMSAgXG5cdH1cblxuXHQvKlxuXHRcdGZpbmQgaW5kZXggb2YgbGFyZ2VzdCB2YWx1ZSB3aGljaCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGFyZ2V0IHZhbHVlXG5cdFx0cmV0dXJucyAtMSBpZiBubyBzdWNoIHZhbHVlIGV4aXN0c1xuXHQqL1xuXHRsZUluZGV4T2YodGFyZ2V0X3ZhbHVlKSB7XG5cdFx0bGV0IFtmb3VuZCwgaWR4XSA9IHRoaXMuaW5kZXhPZih0YXJnZXRfdmFsdWUpO1xuXHRcdGlkeCA9IChmb3VuZCkgPyBpZHggOiBpZHgtMTtcblx0XHRyZXR1cm4gKGlkeCA+PSAwKSA/IGlkeCA6IC0xO1xuXHR9XG5cblx0Lypcblx0XHRmaW5kIGluZGV4IG9mIHNtYWxsZXN0IHZhbHVlIHdoaWNoIGlzIGdyZWF0ZXIgdGhhbiB0YXJnZXQgdmFsdWVcblx0XHRyZXR1cm5zIC0xIGlmIG5vIHN1Y2ggdmFsdWUgZXhpc3RzXG5cdCovXG5cdGd0SW5kZXhPZih0YXJnZXRfdmFsdWUpIHtcblx0XHRsZXQgW2ZvdW5kLCBpZHhdID0gdGhpcy5pbmRleE9mKHRhcmdldF92YWx1ZSk7XG5cdFx0aWR4ID0gKGZvdW5kKSA/IGlkeCArIDEgOiBpZHg7XG5cdFx0cmV0dXJuIChpZHggPCB0aGlzLl9hcnJheS5sZW5ndGgpID8gaWR4IDogLTEgIFxuXHR9XG5cblx0Lypcblx0XHRmaW5kIGluZGV4IG9mIGxhcmdlc3QgdmFsdWUgd2hpY2ggaXMgbGVzcyB0aGFuIHRhcmdldCB2YWx1ZVxuXHRcdHJldHVybnMgLTEgaWYgbm8gc3VjaCB2YWx1ZSBleGlzdHNcblx0Ki9cblx0bHRJbmRleE9mKHRhcmdldF92YWx1ZSkge1xuXHRcdGxldCBbZm91bmQsIGlkeF0gPSB0aGlzLmluZGV4T2YodGFyZ2V0X3ZhbHVlKTtcblx0XHRpZHggPSBpZHgtMTtcblx0XHRyZXR1cm4gKGlkeCA+PSAwKSA/IGlkeCA6IC0xO1x0XG5cdH1cblxuXHQvKlxuXHRcdFVQREFURVxuXG5cdFx0YXBwcm9hY2ggLSBtYWtlIGFsbCBuZWNjZXNzYXJ5IGNoYW5nZXMgYW5kIHRoZW4gc29ydFxuXG5cdFx0YXMgYSBydWxlIG9mIHRodW1iIC0gY29tcGFyZWQgdG8gcmVtb3ZpbmcgYW5kIGluc2VydGluZyBlbGVtZW50c1xuXHRcdG9uZSBieSBvbmUsIHRoaXMgaXMgbW9yZSBlZmZlY3RpdmUgZm9yIGxhcmdlciBiYXRjaGVzLCBzYXkgPiAxMDAuXG5cdFx0RXZlbiB0aG91Z2ggdGhpcyBtaWdodCBub3QgYmUgdGhlIGNvbW1vbiBjYXNlLCBwZW5hbHRpZXMgZm9yXG5cdFx0Y2hvb3NpbmcgdGhlIHdyb25nIGFwcHJvYWNoIGlzIGhpZ2hlciBmb3IgbGFyZ2VyIGJhdGNoZXMuXG5cblx0XHRyZW1vdmUgaXMgcHJvY2Vzc2VkIGZpcnN0LCBzbyBpZiBhIHZhbHVlIGFwcGVhcnMgaW4gYm90aCBcblx0XHRyZW1vdmUgYW5kIGluc2VydCwgaXQgd2lsbCByZW1haW4uXG5cdFx0dW5kZWZpbmVkIHZhbHVlcyBjYW4gbm90IGJlIGluc2VydGVkIFxuXG5cdCovXG5cblx0dXBkYXRlKHJlbW92ZV9saXN0PVtdLCBpbnNlcnRfbGlzdD1bXSkge1xuXG5cdFx0Lypcblx0XHRcdHJlbW92ZVxuXG5cdFx0XHRyZW1vdmUgYnkgZmxhZ2dpbmcgZWxlbWVudHMgYXMgdW5kZWZpbmVkXG5cdFx0XHQtIGNvbGxlY3QgYWxsIGluZGV4ZXMgZmlyc3Rcblx0XHRcdC0gZmxhZyBhcyB1bmRlZmluZWQgb25seSBhZnRlciBhbGwgaW5kZXhlcyBoYXZlIGJlZW4gZm91bmQsXG5cdFx0XHQgIGFzIGluc2VydGluZyB1bmRlZmluZWQgdmFsdWVzIGJyZWFrZXMgdGhlIGFzc3VtcHRpb24gdGhhdFxuXHRcdFx0ICB0aGUgYXJyYXkgaXMgc29ydGVkLlxuXHRcdFx0LSBsYXRlciBzb3J0IHdpbGwgbW92ZSB0aGVtIHRvIHRoZSBlbmQsIHdoZXJlIHRoZXkgY2FuIGJlXG5cdFx0XHQgIHRydW5jYXRlZCBvZmZcblx0XHQqL1xuXHRcdGxldCByZW1vdmVfaWR4X2xpc3QgPSBbXTtcblx0XHRmb3IgKGxldCB2YWx1ZSBvZiByZW1vdmVfbGlzdCkge1xuXHRcdFx0bGV0IFtmb3VuZCwgaWR4XSA9IHRoaXMuaW5kZXhPZih2YWx1ZSk7XG5cdFx0XHRpZiAoZm91bmQpIHtcblx0XHRcdFx0cmVtb3ZlX2lkeF9saXN0LnB1c2goaWR4KTtcblx0XHRcdH1cdFx0XG5cdFx0fVxuXHRcdGZvciAobGV0IGlkeCBvZiByZW1vdmVfaWR4X2xpc3QpIHtcblx0XHRcdHRoaXMuX2FycmF5W2lkeF0gPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGxldCBhbnlfcmVtb3ZlcyA9IHJlbW92ZV9pZHhfbGlzdC5sZW5ndGggPiAwO1xuXG5cdFx0Lypcblx0XHRcdGluc2VydFxuXG5cdFx0XHRpbnNlcnQgbWlnaHQgaW50cm9kdWNlIGR1cGxpY2F0aW9ucywgZWl0aGVyIGJlY2F1c2Vcblx0XHRcdHRoZSBpbnNlcnQgbGlzdCBpbmNsdWRlcyBkdXBsaWNhdGVzLCBvciBiZWNhdXNlIHRoZVxuXHRcdFx0aW5zZXJ0IGxpc3QgZHVwbGljYXRlcyBwcmVleGlzdGluZyB2YWx1ZXMuXG5cblx0XHRcdEluc3RlYWQgb2YgbG9va2luZyB1cCBhbmQgY2hlY2tpbmcgZWFjaCBpbnNlcnQgdmFsdWUsXG5cdFx0XHR3ZSBpbnN0ZWFkIGluc2VydCBldmVyeXRoaW5nIGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5LFxuXHRcdFx0YW5kIHJlbW92ZSBkdXBsaWNhdGVzIG9ubHkgYWZ0ZXIgd2UgaGF2ZSBzb3J0ZWQuXG5cdFx0Ki9cblx0XHRsZXQgYW55X2luc2VydHMgPSBpbnNlcnRfbGlzdC5sZW5ndGggPiAwO1xuXHRcdGlmIChhbnlfaW5zZXJ0cykge1xuXHRcdFx0Y29uY2F0X2luX3BsYWNlKHRoaXMuX2FycmF5LCBpbnNlcnRfbGlzdCk7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHRcdHNvcnRcblx0XHRcdHRoaXMgcHVzaGVzIGFueSB1bmRlZmluZWQgdmFsdWVzIHRvIHRoZSBlbmQgXG5cdFx0Ki9cblx0XHRpZiAoYW55X3JlbW92ZXMgfHwgYW55X2luc2VydHMpIHtcblx0XHRcdHRoaXMuX2FycmF5LnNvcnQoY21wKTtcblx0XHR9XG5cblx0XHQvKlxuXHRcdFx0cmVtb3ZlIHVuZGVmaW5lZCBcblx0XHRcdGFsbCB1bmRlZmluZWQgdmFsdWVzIGFyZSBwdXNoZWQgdG8gdGhlIGVuZFxuXHRcdCovXG5cdFx0aWYgKGFueV9yZW1vdmVzKSB7XG5cdFx0XHR0aGlzLl9hcnJheS5sZW5ndGggLT0gcmVtb3ZlX2lkeF9saXN0Lmxlbmd0aDtcblx0XHR9XG5cblx0XHQvKlxuXHRcdFx0cmVtb3ZlIGR1cGxpY2F0ZXMgZnJvbSBzb3J0ZWQgYXJyYXlcblx0XHRcdC0gYXNzdW1pbmcgdGhlcmUgYXJlIGdvaW5nIHRvIGJlIGZldyBkdXBsaWNhdGVzLFxuXHRcdFx0ICBpdCBpcyBvayB0byByZW1vdmUgdGhlbSBvbmUgYnkgb25lXG5cblx0XHQqL1xuXHRcdGlmIChhbnlfaW5zZXJ0cykge1xuXHRcdFx0cmVtb3ZlX2R1cGxpY2F0ZXModGhpcy5fYXJyYXkpO1xuXHRcdH1cblx0fVxuXG5cdC8qXG5cdFx0Z2V0IGVsZW1lbnQgYnkgaW5kZXhcblx0Ki9cblx0Z2V0X2J5X2luZGV4KGlkeCkge1xuXHRcdGlmIChpZHggPiAtMSAmJiBpZHggPCB0aGlzLl9hcnJheS5sZW5ndGgpIHtcblx0XHRcdHJldHVybiB0aGlzLl9hcnJheVtpZHhdO1xuXHRcdH1cblx0fVxuXG5cdC8qXG5cdFx0bG9va3VwIHZhbHVlcyB3aXRoaW4gaW50ZXJ2YWxcblx0Ki9cblx0bG9va3VwKGl0dikge1xuXHRcdGlmIChpdHYgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpdHYgPSBbLUluZmluaXR5LCBJbmZpbml0eSwgdHJ1ZSwgdHJ1ZV07XG5cdFx0fVxuXHRcdGxldCBbcDAsIHAxXSA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXR2KTtcblx0XHRsZXQgcDBfaWR4ID0gdGhpcy5nZUluZGV4T2YocDApO1xuXHRcdGxldCBwMV9pZHggPSB0aGlzLmxlSW5kZXhPZihwMSk7XG5cdFx0aWYgKHAwX2lkeCA9PSAtMSB8fCBwMV9pZHggPT0gLTEpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2FycmF5LnNsaWNlKHAwX2lkeCwgcDFfaWR4KzEpO1xuXHRcdH1cblx0fVxuXG5cdGx0IChvZmZzZXQpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRfYnlfaW5kZXgodGhpcy5sdEluZGV4T2Yob2Zmc2V0KSk7XG5cdH1cblx0bGUgKG9mZnNldCkge1xuXHRcdHJldHVybiB0aGlzLmdldF9ieV9pbmRleCh0aGlzLmxlSW5kZXhPZihvZmZzZXQpKTtcblx0fVxuXHRnZXQgKG9mZnNldCkge1xuXHRcdGxldCBbZm91bmQsIGlkeF0gPSB0aGlzLmluZGV4T2Yob2Zmc2V0KTtcblx0XHRpZiAoZm91bmQpIHtcblx0XHRcdHJldHVybiB0aGlzLl9hcnJheVtpZHhdO1xuXHRcdH0gXG5cdH1cblx0Z3QgKG9mZnNldCkge1xuXHRcdHJldHVybiB0aGlzLmdldF9ieV9pbmRleCh0aGlzLmd0SW5kZXhPZihvZmZzZXQpKTtcblx0fVxuXHRnZSAob2Zmc2V0KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0X2J5X2luZGV4KHRoaXMuZ2VJbmRleE9mKG9mZnNldCkpO1xuXHR9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHRVVElMU1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKlxuXHRDb25jYXRpbmF0ZSB0d28gYXJyYXlzIGJ5IGFwcGVuZGluZyB0aGUgc2Vjb25kIGFycmF5IHRvIHRoZSBmaXJzdCBhcnJheS4gXG4qL1xuXG5mdW5jdGlvbiBjb25jYXRfaW5fcGxhY2UoZmlyc3RfYXJyLCBzZWNvbmRfYXJyKSB7XG5cdGNvbnN0IGZpcnN0X2Fycl9sZW5ndGggPSBmaXJzdF9hcnIubGVuZ3RoO1xuXHRjb25zdCBzZWNvbmRfYXJyX2xlbmd0aCA9IHNlY29uZF9hcnIubGVuZ3RoO1xuICBcdGZpcnN0X2Fyci5sZW5ndGggKz0gc2Vjb25kX2Fycl9sZW5ndGg7XG4gIFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWNvbmRfYXJyX2xlbmd0aDsgaSsrKSB7XG4gICAgXHRmaXJzdF9hcnJbZmlyc3RfYXJyX2xlbmd0aCArIGldID0gc2Vjb25kX2FycltpXTtcbiAgXHR9XG59XG5cbi8qXG5cdHJlbW92ZSBkdXBsaWNhdGVzIGluIGEgc29ydGVkIGFycmF5XG4qL1xuZnVuY3Rpb24gcmVtb3ZlX2R1cGxpY2F0ZXMoc29ydGVkX2Fycikge1xuXHRsZXQgaSA9IDA7XG5cdHdoaWxlICh0cnVlKSB7XG5cdFx0aWYgKGkgKyAxID49IHNvcnRlZF9hcnIubGVuZ3RoKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0aWYgKHNvcnRlZF9hcnJbaV0gPT0gc29ydGVkX2FycltpICsgMV0pIHtcblx0XHRcdHNvcnRlZF9hcnIuc3BsaWNlKGkgKyAxLCAxKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aSArPSAxO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgZW5kcG9pbnQgfSBmcm9tIFwiLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4QmFzZSwgbmVhcmJ5X2Zyb20gfSBmcm9tIFwiLi9uZWFyYnlpbmRleF9iYXNlLmpzXCI7XG5pbXBvcnQgeyBTb3J0ZWRBcnJheSB9IGZyb20gXCIuL3NvcnRlZGFycmF5LmpzXCI7XG5pbXBvcnQgeyBpc19zdGF0ZXByb3ZpZGVyIH0gZnJvbSBcIi4vc3RhdGVwcm92aWRlci5qc1wiO1xuXG4vLyBTZXQgb2YgdW5pcXVlIFt2YWx1ZSwgc2lnbl0gZW5kcG9pbnRzXG5jbGFzcyBFbmRwb2ludFNldCB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuX21hcCA9IG5ldyBNYXAoW1xuXHRcdFx0Wy0xLCBuZXcgU2V0KCldLCBcblx0XHRcdFswLCBuZXcgU2V0KCldLCBcblx0XHRcdFsxLCBuZXcgU2V0KCldXG5cdFx0XSk7XG5cdH1cblx0YWRkKFt2YWx1ZSwgc2lnbl0pIHtcblx0XHRyZXR1cm4gdGhpcy5fbWFwLmdldChzaWduKS5hZGQodmFsdWUpO1xuXHR9XG5cdGhhcyAoW3ZhbHVlLCBzaWduXSkge1xuXHRcdHJldHVybiB0aGlzLl9tYXAuZ2V0KHNpZ24pLmhhcyh2YWx1ZSk7XG5cdH1cblx0Z2V0KFt2YWx1ZSwgc2lnbl0pIHtcblx0XHRyZXR1cm4gdGhpcy5fbWFwLmdldChzaWduKS5nZXQodmFsdWUpO1xuXHR9XG5cblx0bGlzdCgpIHtcblx0XHRjb25zdCBsaXN0cyA9IFstMSwgMCwgMV0ubWFwKChzaWduKSA9PiB7XG5cdFx0XHRyZXR1cm4gWy4uLnRoaXMuX21hcC5nZXQoc2lnbikudmFsdWVzKCldXG5cdFx0XHRcdC5tYXAoKHZhbCkgPT4gW3ZhbCwgc2lnbl0pO1xuXHRcdH0pO1xuXHRcdHJldHVybiBbXS5jb25jYXQoLi4ubGlzdHMpO1xuXHR9XG59XG5cbi8qKlxuICogSVRFTVMgTUFQXG4gKiBcbiAqIG1hcHBpbmcgZW5kcG9pbnQgLT4gW1tpdGVtLCBzdGF0dXNdLC4uLl1cbiAqIHN0YXR1czogZW5kcG9pbnQgaXMgZWl0aGVyIExPVyxISUdIIG9yIENPVkVSRUQgZm9yIGEgZ2l2ZW4gaXRlbS5cbiAqL1xuXG5cbmNvbnN0IExPVyA9IFwibG93XCI7XG5jb25zdCBBQ1RJVkUgPSBcImFjdGl2ZVwiO1xuY29uc3QgSElHSCA9IFwiaGlnaFwiO1xuXG5jbGFzcyBJdGVtc01hcCB7XG5cblx0Y29uc3RydWN0b3IgKCkge1xuXHRcdC8vIG1hcCBlbmRwb2ludCAtPiB7bG93OiBbaXRlbXNdLCBhY3RpdmU6IFtpdGVtc10sIGhpZ2g6W2l0ZW1zXX1cblx0XHR0aGlzLl9tYXAgPSBuZXcgTWFwKFtcblx0XHRcdFstMSwgbmV3IE1hcCgpXSwgXG5cdFx0XHRbMCwgbmV3IE1hcCgpXSwgXG5cdFx0XHRbMSwgbmV3IE1hcCgpXVxuXHRcdF0pO1xuXHR9XG5cblx0Z2V0X2l0ZW1zX2J5X3JvbGUgKFt2YWx1ZSwgc2lnbl0sIHJvbGUpIHtcblx0XHRjb25zdCBlbnRyeSA9IHRoaXMuX21hcC5nZXQoc2lnbikuZ2V0KHZhbHVlKTtcblx0XHRyZXR1cm4gKGVudHJ5ICE9IHVuZGVmaW5lZCkgPyBlbnRyeVtyb2xlXSA6IFtdO1xuXHR9XG5cblx0Lypcblx0XHRyZWdpc3RlciBpdGVtIHdpdGggZW5kcG9pbnQgKGlkZW1wb3RlbnQpXG5cdFx0cmV0dXJuIHRydWUgaWYgdGhpcyB3YXMgdGhlIGZpcnN0IExPVyBvciBISUdIIFxuXHQgKi9cblx0cmVnaXN0ZXIoW3ZhbHVlLCBzaWduXSwgaXRlbSwgcm9sZSkge1xuXHRcdGNvbnN0IHNpZ25fbWFwID0gdGhpcy5fbWFwLmdldChzaWduKTtcblx0XHRpZiAoIXNpZ25fbWFwLmhhcyh2YWx1ZSkpIHtcblx0XHRcdHNpZ25fbWFwLnNldCh2YWx1ZSwge2xvdzogW10sIGFjdGl2ZTpbXSwgaGlnaDpbXX0pO1xuXHRcdH1cblx0XHRjb25zdCBlbnRyeSA9IHNpZ25fbWFwLmdldCh2YWx1ZSk7XG5cdFx0Y29uc3Qgd2FzX2VtcHR5ID0gZW50cnlbTE9XXS5sZW5ndGggKyBlbnRyeVtISUdIXS5sZW5ndGggPT0gMDtcblx0XHRsZXQgaWR4ID0gZW50cnlbcm9sZV0uZmluZEluZGV4KChfaXRlbSkgPT4ge1xuXHRcdFx0cmV0dXJuIF9pdGVtLmlkID09IGl0ZW0uaWQ7XG5cdFx0fSk7XG5cdFx0aWYgKGlkeCA9PSAtMSkge1xuXHRcdFx0ZW50cnlbcm9sZV0ucHVzaChpdGVtKTtcblx0XHR9XG5cdFx0Y29uc3QgaXNfZW1wdHkgPSBlbnRyeVtMT1ddLmxlbmd0aCArIGVudHJ5W0hJR0hdLmxlbmd0aCA9PSAwO1xuXHRcdHJldHVybiB3YXNfZW1wdHkgJiYgIWlzX2VtcHR5O1xuXHR9XG5cblx0Lypcblx0XHR1bnJlZ2lzdGVyIGl0ZW0gd2l0aCBlbmRwb2ludCAoaW5kZXBlbmRlbnQgb2Ygcm9sZSlcblx0XHRyZXR1cm4gdHJ1ZSBpZiB0aGlzIHJlbW92ZWQgbGFzdCBMT1cgb3IgSElHSFxuXHQgKi9cblx0dW5yZWdpc3RlcihbdmFsdWUsIHNpZ25dLCBpdGVtKSB7XG5cdFx0Y29uc3Qgc2lnbl9tYXAgPSB0aGlzLl9tYXAuZ2V0KHNpZ24pO1xuXHRcdGNvbnN0IGVudHJ5ID0gc2lnbl9tYXAuZ2V0KHZhbHVlKTtcblx0XHRpZiAoZW50cnkgIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zdCB3YXNfZW1wdHkgPSBlbnRyeVtMT1ddLmxlbmd0aCArIGVudHJ5W0hJR0hdLmxlbmd0aCA9PSAwO1xuXHRcdFx0Ly8gcmVtb3ZlIGFsbCBtZW50aW9uZXMgb2YgaXRlbVxuXHRcdFx0Zm9yIChjb25zdCByb2xlIG9mIFtMT1csIEFDVElWRSwgSElHSF0pIHtcblx0XHRcdFx0bGV0IGlkeCA9IGVudHJ5W3JvbGVdLmZpbmRJbmRleCgoX2l0ZW0pID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gX2l0ZW0uaWQgPT0gaXRlbS5pZDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChpZHggPiAtMSkge1xuXHRcdFx0XHRcdGVudHJ5W3JvbGVdLnNwbGljZShpZHgsIDEpO1xuXHRcdFx0XHR9XHRcblx0XHRcdH1cblx0XHRcdGNvbnN0IGlzX2VtcHR5ID0gZW50cnlbTE9XXS5sZW5ndGggKyBlbnRyeVtISUdIXS5sZW5ndGggPT0gMDtcblx0XHRcdGlmICghd2FzX2VtcHR5ICYmIGlzX2VtcHR5KSB7XG5cdFx0XHRcdC8vIGNsZWFuIHVwIGVudHJ5XG5cdFx0XHRcdHNpZ25fbWFwLmRlbGV0ZSh2YWx1ZSk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxuXG5leHBvcnQgY2xhc3MgTmVhcmJ5SW5kZXggZXh0ZW5kcyBOZWFyYnlJbmRleEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3Ioc3RhdGVQcm92aWRlcikge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGlmICghKGlzX3N0YXRlcHJvdmlkZXIoc3RhdGVQcm92aWRlcikpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG11c3QgYmUgc3RhdGVwcm92aWRlciAke3N0YXRlUHJvdmlkZXJ9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3AgPSBzdGF0ZVByb3ZpZGVyO1xuXHRcdHRoaXMuX2luaXRpYWxpc2UoKTtcblx0XHR0aGlzLnJlZnJlc2goKTtcblx0fVxuXG4gICAgZ2V0IHNyYyAoKSB7cmV0dXJuIHRoaXMuX3NwO31cblxuXG5cdF9pbml0aWFsaXNlKCkge1xuXHRcdC8vIHJlZ2lzdGVyIGl0ZW1zIHdpdGggZW5kcG9pbnRzXG5cdFx0dGhpcy5faXRlbXNtYXAgPSBuZXcgSXRlbXNNYXAoKTtcblx0XHQvLyBzb3J0ZWQgaW5kZXhcblx0XHR0aGlzLl9lbmRwb2ludHMgPSBuZXcgU29ydGVkQXJyYXkoKTtcblx0XHQvLyBzd2lwZSBpbmRleFxuXHRcdHRoaXMuX2luZGV4ID0gW107XG5cdH1cblxuXG5cdHJlZnJlc2goZGlmZnMpIHtcblxuXHRcdGNvbnN0IHJlbW92ZV9lbmRwb2ludHMgPSBuZXcgRW5kcG9pbnRTZXQoKTtcblx0XHRjb25zdCBpbnNlcnRfZW5kcG9pbnRzID0gbmV3IEVuZHBvaW50U2V0KCk7XG5cblx0XHRsZXQgaW5zZXJ0X2l0ZW1zID0gW107XG5cdFx0bGV0IHJlbW92ZV9pdGVtcyA9IFtdO1xuXG5cdFx0aWYgKGRpZmZzID09IHVuZGVmaW5lZCkge1xuXHRcdFx0aW5zZXJ0X2l0ZW1zID0gdGhpcy5zcmMuZ2V0X2l0ZW1zKCk7XG5cdFx0XHQvLyBjbGVhciBhbGwgc3RhdGVcblx0XHRcdHRoaXMuX2luaXRpYWxpc2UoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gY29sbGVjdCBpbnNlcnQgaXRlbXMgYW5kIHJlbW92ZSBpdGVtc1xuXHRcdFx0Zm9yIChjb25zdCBkaWZmIG9mIGRpZmZzKSB7XG5cdFx0XHRcdGlmIChkaWZmLm5ldyAhPSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRpbnNlcnRfaXRlbXMucHVzaChkaWZmLm5ldyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGRpZmYub2xkICE9IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJlbW92ZV9pdGVtcy5wdXNoKGRpZmYub2xkKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qXG5cdFx0XHR1bnJlZ2lzdGVyIHJlbW92ZSBpdGVtcyBhY3Jvc3MgYWxsIGVuZHBvaW50cyBcblx0XHRcdHdoZXJlIHRoZXkgd2VyZSByZWdpc3RlcmVkIChMT1csIEFDVElWRSwgSElHSCkgXG5cdFx0Ki9cblx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgcmVtb3ZlX2l0ZW1zKSB7XHRcdFx0XG5cdFx0XHRjb25zdCBlcHMgPSB0aGlzLl9lbmRwb2ludHMubG9va3VwKGl0ZW0uaXR2KTtcblx0XHRcdGZvciAoY29uc3QgZXAgb2YgdGhpcy5fZW5kcG9pbnRzLmxvb2t1cChpdGVtLml0dikpIHtcblx0XHRcdFx0Ly8gVE9ETzogY2hlY2sgaWYgdGhpcyBpcyBjb3JyZWN0XG5cdFx0XHRcdGNvbnN0IGJlY2FtZV9lbXB0eSA9IHRoaXMuX2l0ZW1zbWFwLnVucmVnaXN0ZXIoZXAsIGl0ZW0pO1xuXHRcdFx0XHRpZiAoYmVjYW1lX2VtcHR5KSByZW1vdmVfZW5kcG9pbnRzLmFkZChlcCk7XG5cdFx0XHR9XHRcblx0XHR9XG5cblx0XHQvKlxuXHRcdFx0cmVnaXN0ZXIgbmV3IGl0ZW1zIGFjcm9zcyBhbGwgZW5kcG9pbnRzIFxuXHRcdFx0d2hlcmUgdGhleSBzaG91bGQgYmUgcmVnaXN0ZXJlZCAoTE9XLCBISUdIKSBcblx0XHQqL1xuXHRcdGxldCBiZWNhbWVfbm9uZW1wdHk7XG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIGluc2VydF9pdGVtcykge1xuXHRcdFx0Y29uc3QgW2xvdywgaGlnaF0gPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGl0ZW0uaXR2KTtcblx0XHRcdGJlY2FtZV9ub25lbXB0eSA9IHRoaXMuX2l0ZW1zbWFwLnJlZ2lzdGVyKGxvdywgaXRlbSwgTE9XKTtcblx0XHRcdGlmIChiZWNhbWVfbm9uZW1wdHkpIGluc2VydF9lbmRwb2ludHMuYWRkKGxvdyk7XG5cdFx0XHRiZWNhbWVfbm9uZW1wdHkgPSB0aGlzLl9pdGVtc21hcC5yZWdpc3RlcihoaWdoLCBpdGVtLCBISUdIKTtcblx0XHRcdGlmIChiZWNhbWVfbm9uZW1wdHkpIGluc2VydF9lbmRwb2ludHMuYWRkKGhpZ2gpO1xuXHRcdH1cblxuXHRcdC8qXG5cdFx0XHRyZWZyZXNoIHNvcnRlZCBlbmRwb2ludHNcblx0XHRcdHBvc3NpYmxlIHRoYXQgYW4gZW5kcG9pbnQgaXMgcHJlc2VudCBpbiBib3RoIGxpc3RzXG5cdFx0XHR0aGlzIGlzIHByZXN1bWFibHkgbm90IGEgcHJvYmxlbSB3aXRoIFNvcnRlZEFycmF5LlxuXHRcdCovXG5cdFx0dGhpcy5fZW5kcG9pbnRzLnVwZGF0ZShcblx0XHRcdHJlbW92ZV9lbmRwb2ludHMubGlzdCgpLCBcblx0XHRcdGluc2VydF9lbmRwb2ludHMubGlzdCgpXG5cdFx0KTtcblxuXHRcdC8qXG5cdFx0XHRzd2lwZSBvdmVyIHRvIGVuc3VyZSB0aGF0IGFsbCBpdGVtcyBhcmUgYWN0aXZhdGVcblx0XHQqL1xuXHRcdGNvbnN0IGFjdGl2ZVNldCA9IG5ldyBTZXQoKTtcblx0XHRmb3IgKGNvbnN0IGVwIG9mIHRoaXMuX2VuZHBvaW50cy5hcnJheSkge1x0XG5cdFx0XHQvLyBBZGQgaXRlbXMgd2l0aCBlcCBhcyBsb3cgcG9pbnRcblx0XHRcdGZvciAobGV0IGl0ZW0gb2YgdGhpcy5faXRlbXNtYXAuZ2V0X2l0ZW1zX2J5X3JvbGUoZXAsIExPVykpIHtcblx0XHRcdFx0YWN0aXZlU2V0LmFkZChpdGVtKTtcblx0XHRcdH07XG5cdFx0XHQvLyBhY3RpdmF0ZSB1c2luZyBhY3RpdmVTZXRcblx0XHRcdGZvciAobGV0IGl0ZW0gb2YgYWN0aXZlU2V0KSB7XG5cdFx0XHRcdHRoaXMuX2l0ZW1zbWFwLnJlZ2lzdGVyKGVwLCBpdGVtLCBBQ1RJVkUpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gUmVtb3ZlIGl0ZW1zIHdpdGggcDEgYXMgaGlnaCBwb2ludFxuXHRcdFx0Zm9yIChsZXQgaXRlbSBvZiB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcCwgSElHSCkpIHtcblx0XHRcdFx0YWN0aXZlU2V0LmRlbGV0ZShpdGVtKTtcblx0XHRcdH07XHRcblx0XHR9XG5cdH1cblxuXHRfY292ZXJzIChvZmZzZXQpIHtcblx0XHRjb25zdCBlcDEgPSB0aGlzLl9lbmRwb2ludHMubGUob2Zmc2V0KSB8fCBbLUluZmluaXR5LCAwXTtcblx0XHRjb25zdCBlcDIgPSB0aGlzLl9lbmRwb2ludHMuZ2Uob2Zmc2V0KSB8fCBbSW5maW5pdHksIDBdO1xuXHRcdGlmIChlbmRwb2ludC5lcShlcDEsIGVwMikpIHtcblx0XHRcdHJldHVybiB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcDEsIEFDVElWRSk7XHRcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZ2V0IGl0ZW1zIGZvciBib3RoIGVuZHBvaW50c1xuXHRcdFx0Y29uc3QgaXRlbXMxID0gdGhpcy5faXRlbXNtYXAuZ2V0X2l0ZW1zX2J5X3JvbGUoZXAxLCBBQ1RJVkUpO1xuXHRcdFx0Y29uc3QgaXRlbXMyID0gdGhpcy5faXRlbXNtYXAuZ2V0X2l0ZW1zX2J5X3JvbGUoZXAyLCBBQ1RJVkUpO1xuXHRcdFx0Ly8gcmV0dXJuIGFsbCBpdGVtcyB0aGF0IGFyZSBhY3RpdmUgaW4gYm90aCBlbmRwb2ludHNcblx0XHRcdGNvbnN0IGlkU2V0ID0gbmV3IFNldChpdGVtczEubWFwKGl0ZW0gPT4gaXRlbS5pZCkpO1xuXHRcdFx0cmV0dXJuIGl0ZW1zMi5maWx0ZXIoaXRlbSA9PiBpZFNldC5oYXMoaXRlbS5pZCkpO1xuXHRcdH1cblx0fVxuXG4gICAgLypcblx0XHRuZWFyYnkgKG9mZnNldClcbiAgICAqL1xuXHRuZWFyYnkob2Zmc2V0KSB7IFxuXHRcdG9mZnNldCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcblxuXHRcdC8vIGNlbnRlclxuXHRcdGxldCBjZW50ZXIgPSB0aGlzLl9jb3ZlcnMob2Zmc2V0KVxuXHRcdGNvbnN0IGNlbnRlcl9oaWdoX2xpc3QgPSBbXTtcblx0XHRjb25zdCBjZW50ZXJfbG93X2xpc3QgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgY2VudGVyKSB7XG5cdFx0XHRjb25zdCBbbG93LCBoaWdoXSA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXRlbS5pdHYpO1xuXHRcdFx0Y2VudGVyX2hpZ2hfbGlzdC5wdXNoKGhpZ2gpO1xuXHRcdFx0Y2VudGVyX2xvd19saXN0LnB1c2gobG93KTsgICAgXG5cdFx0fVxuXG5cdFx0Ly8gcHJldiBoaWdoXG5cdFx0bGV0IHByZXZfaGlnaCA9IG9mZnNldDtcblx0XHRsZXQgaXRlbXM7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdHByZXZfaGlnaCA9IHRoaXMuX2VuZHBvaW50cy5sdChwcmV2X2hpZ2gpIHx8IFstSW5maW5pdHksIDBdO1xuXHRcdFx0aWYgKHByZXZfaGlnaFswXSA9PSAtSW5maW5pdHkpIHtcblx0XHRcdFx0YnJlYWtcblx0XHRcdH1cblx0XHRcdGl0ZW1zID0gdGhpcy5faXRlbXNtYXAuZ2V0X2l0ZW1zX2J5X3JvbGUocHJldl9oaWdoLCBISUdIKTtcblx0XHRcdGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gbmV4dCBsb3dcblx0XHRsZXQgbmV4dF9sb3cgPSBvZmZzZXQ7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdG5leHRfbG93ID0gdGhpcy5fZW5kcG9pbnRzLmd0KG5leHRfbG93KSB8fCBbSW5maW5pdHksIDBdO1xuXHRcdFx0aWYgKG5leHRfbG93WzBdID09IEluZmluaXR5KSB7XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0XHRpdGVtcyA9IHRoaXMuX2l0ZW1zbWFwLmdldF9pdGVtc19ieV9yb2xlKG5leHRfbG93LCBMT1cpO1xuXHRcdFx0aWYgKGl0ZW1zLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0YnJlYWtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbmVhcmJ5X2Zyb20oXG5cdFx0XHRwcmV2X2hpZ2gsIFxuXHRcdFx0Y2VudGVyX2xvd19saXN0LCBcblx0XHRcdGNlbnRlcixcblx0XHRcdGNlbnRlcl9oaWdoX2xpc3QsXG5cdFx0XHRuZXh0X2xvd1xuXHRcdCk7XG5cdH1cbn0iLCJpbXBvcnQgKiBhcyBldmVudGlmeSBmcm9tIFwiLi9hcGlfZXZlbnRpZnkuanNcIjtcbmltcG9ydCAqIGFzIGNhbGxiYWNrIGZyb20gXCIuL2FwaV9jYWxsYmFjay5qc1wiO1xuaW1wb3J0ICogYXMgc3JjcHJvcCBmcm9tIFwiLi9hcGlfc3JjcHJvcC5qc1wiO1xuaW1wb3J0ICogYXMgc2VnbWVudCBmcm9tIFwiLi9zZWdtZW50cy5qc1wiO1xuXG5pbXBvcnQgeyBpbnRlcnZhbCwgZW5kcG9pbnQgfSBmcm9tIFwiLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IHJhbmdlLCB0b1N0YXRlIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgTmVhcmJ5SW5kZXggfSBmcm9tIFwiLi9uZWFyYnlpbmRleC5qc1wiO1xuaW1wb3J0IHsgTG9jYWxTdGF0ZVByb3ZpZGVyLCBpc19zdGF0ZXByb3ZpZGVyIH0gZnJvbSBcIi4vc3RhdGVwcm92aWRlci5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBMQVlFUlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBMYXllciBpcyBhYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBMYXllcnNcbiAqIFxuICogTGF5ZXIgaW50ZXJmYWNlIGlzIGRlZmluZWQgYnkgKGluZGV4LCBDYWNoZUNsYXNzLCB2YWx1ZUZ1bmMpXG4gKi9cblxuZXhwb3J0IGNsYXNzIExheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM9e30pIHtcbiAgICAgICAgY29uc3Qge0NhY2hlQ2xhc3M9TGF5ZXJDYWNoZX0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB7dmFsdWVGdW5jLCBzdGF0ZUZ1bmN9ID0gb3B0aW9ucztcbiAgICAgICAgLy8gY2FsbGJhY2tzXG4gICAgICAgIGNhbGxiYWNrLmFkZFRvSW5zdGFuY2UodGhpcyk7XG4gICAgICAgIC8vIGxheWVyIHF1ZXJ5IGFwaVxuICAgICAgICAvL2xheWVycXVlcnkuYWRkVG9JbnN0YW5jZSh0aGlzLCBDYWNoZUNsYXNzLCB7dmFsdWVGdW5jLCBzdGF0ZUZ1bmN9KTtcbiAgICAgICAgLy8gZGVmaW5lIGNoYW5nZSBldmVudFxuICAgICAgICBldmVudGlmeS5hZGRUb0luc3RhbmNlKHRoaXMpO1xuICAgICAgICB0aGlzLmV2ZW50aWZ5RGVmaW5lKFwiY2hhbmdlXCIsIHtpbml0OnRydWV9KTtcblxuICAgICAgICAvLyBpbmRleFxuICAgICAgICB0aGlzLl9pbmRleDtcbiAgICAgICAgLy8gY2FjaGVcbiAgICAgICAgdGhpcy5fQ2FjaGVDbGFzcyA9IENhY2hlQ2xhc3M7XG4gICAgICAgIHRoaXMuX2NhY2hlX29iamVjdDtcbiAgICAgICAgdGhpcy5fY2FjaGVfb2JqZWN0cyA9IFtdO1xuXG4gICAgICAgIC8vIHF1ZXJ5IG9wdGlvbnNcbiAgICAgICAgdGhpcy5fcXVlcnlPcHRpb25zID0ge3ZhbHVlRnVuYywgc3RhdGVGdW5jfTtcbiAgICB9XG5cbiAgICAvLyBpbmRleFxuICAgIGdldCBpbmRleCAoKSB7cmV0dXJuIHRoaXMuX2luZGV4fVxuICAgIHNldCBpbmRleCAoaW5kZXgpIHt0aGlzLl9pbmRleCA9IGluZGV4fVxuXG4gICAgLy8gcXVlcnlPcHRpb25zXG4gICAgZ2V0IHF1ZXJ5T3B0aW9ucyAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWVyeU9wdGlvbnM7XG4gICAgfVxuXG4gICAgLy8gY2FjaGVcbiAgICBnZXQgY2FjaGUgKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVfb2JqZWN0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVfb2JqZWN0ID0gbmV3IHRoaXMuX0NhY2hlQ2xhc3ModGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlX29iamVjdDtcbiAgICB9XG5cbiAgICBnZXRDYWNoZSAoKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gbmV3IHRoaXMuX0NhY2hlQ2xhc3ModGhpcyk7XG4gICAgICAgIHRoaXMuX2NhY2hlX29iamVjdHMucHVzaChjYWNoZSk7XG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9XG5cbiAgICBjbGVhckNhY2hlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBjYWNoZSBvZiB0aGlzLl9jYWNoZV9vYmplY3RzKXtcbiAgICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBxdWVyeShvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUucXVlcnkob2Zmc2V0KTtcbiAgICB9XG5cbiAgICByZWdpb25zIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4LnJlZ2lvbnMob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgU2FtcGxlIExheWVyIGJ5IHRpbWVsaW5lIG9mZnNldCBpbmNyZW1lbnRzXG4gICAgICAgIHJldHVybiBsaXN0IG9mIHR1cGxlcyBbdmFsdWUsIG9mZnNldF1cbiAgICAgICAgb3B0aW9uc1xuICAgICAgICAtIHN0YXJ0XG4gICAgICAgIC0gc3RvcFxuICAgICAgICAtIHN0ZXBcbiAgICAqL1xuICAgIHNhbXBsZShvcHRpb25zPXt9KSB7XG4gICAgICAgIGxldCB7c3RhcnQ9LUluZmluaXR5LCBzdG9wPUluZmluaXR5LCBzdGVwPTF9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKHN0YXJ0ID4gc3RvcCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yIChcInN0b3AgbXVzdCBiZSBsYXJnZXIgdGhhbiBzdGFydFwiLCBzdGFydCwgc3RvcClcbiAgICAgICAgfVxuICAgICAgICBzdGFydCA9IFtzdGFydCwgMF07XG4gICAgICAgIHN0b3AgPSBbc3RvcCwgMF07XG4gICAgICAgIHN0YXJ0ID0gZW5kcG9pbnQubWF4KHRoaXMuaW5kZXguZmlyc3QoKSwgc3RhcnQpO1xuICAgICAgICBzdG9wID0gZW5kcG9pbnQubWluKHRoaXMuaW5kZXgubGFzdCgpLCBzdG9wKTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmdldENhY2hlKCk7XG4gICAgICAgIHJldHVybiByYW5nZShzdGFydFswXSwgc3RvcFswXSwgc3RlcCwge2luY2x1ZGVfZW5kOnRydWV9KVxuICAgICAgICAgICAgLm1hcCgob2Zmc2V0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtjYWNoZS5xdWVyeShvZmZzZXQpLnZhbHVlLCBvZmZzZXRdO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuY2FsbGJhY2suYWRkVG9Qcm90b3R5cGUoTGF5ZXIucHJvdG90eXBlKTtcbmV2ZW50aWZ5LmFkZFRvUHJvdG90eXBlKExheWVyLnByb3RvdHlwZSk7XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogTEFZRVIgQ0FDSEVcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogVGhpcyBpbXBsZW1lbnRzIGEgQ2FjaGUgdG8gYmUgdXNlZCB3aXRoIExheWVyIG9iamVjdHNcbiAqIFF1ZXJ5IHJlc3VsdHMgYXJlIG9idGFpbmVkIGZyb20gdGhlIGNhY2hlIG9iamVjdHMgaW4gdGhlXG4gKiBsYXllciBpbmRleCBhbmQgY2FjaGVkIG9ubHkgaWYgdGhleSBkZXNjcmliZSBhIHN0YXRpYyB2YWx1ZS4gXG4gKi9cblxuZXhwb3J0IGNsYXNzIExheWVyQ2FjaGUge1xuXG4gICAgY29uc3RydWN0b3IobGF5ZXIpIHtcbiAgICAgICAgdGhpcy5fbGF5ZXIgPSBsYXllcjtcbiAgICAgICAgLy8gY2FjaGVkIG5lYXJieSBzdGF0ZVxuICAgICAgICB0aGlzLl9uZWFyYnk7XG4gICAgICAgIC8vIGNhY2hlZCByZXN1bHRcbiAgICAgICAgdGhpcy5fc3RhdGU7XG4gICAgfVxuXG4gICAgZ2V0IHNyYygpIHtyZXR1cm4gdGhpcy5fbGF5ZXJ9O1xuXG4gICAgLyoqXG4gICAgICogcXVlcnkgY2FjaGVcbiAgICAgKi9cbiAgICBxdWVyeShvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgbmVlZF9uZWFyYnkgPSAoXG4gICAgICAgICAgICB0aGlzLl9uZWFyYnkgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAhaW50ZXJ2YWwuY292ZXJzX3BvaW50KHRoaXMuX25lYXJieS5pdHYsIG9mZnNldClcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIW5lZWRfbmVhcmJ5ICYmIFxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgIT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAhdGhpcy5fc3RhdGUuZHluYW1pY1xuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIGNhY2hlIGhpdFxuICAgICAgICAgICAgcmV0dXJuIHsuLi50aGlzLl9zdGF0ZSwgb2Zmc2V0fTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjYWNoZSBtaXNzXG4gICAgICAgIGlmIChuZWVkX25lYXJieSkge1xuICAgICAgICAgICAgdGhpcy5fbmVhcmJ5ID0gdGhpcy5fbGF5ZXIuaW5kZXgubmVhcmJ5KG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGVyZm9ybSBxdWVyaWVzXG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IHRoaXMuX25lYXJieS5jZW50ZXIubWFwKChjYWNoZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlLnF1ZXJ5KG9mZnNldCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRvU3RhdGUodGhpcy5fbmVhcmJ5LmNlbnRlciwgc3RhdGVzLCBvZmZzZXQsIHRoaXMuX2xheWVyLnF1ZXJ5T3B0aW9ucylcbiAgICAgICAgLy8gY2FjaGUgc3RhdGUgb25seSBpZiBub3QgZHluYW1pY1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IChzdGF0ZS5keW5hbWljKSA/IHVuZGVmaW5lZCA6IHN0YXRlO1xuICAgICAgICByZXR1cm4gc3RhdGUgICAgXG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX25lYXJieSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIElOUFVUIExBWUVSXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogTGF5ZXIgd2l0aCBhIFN0YXRlUHJvdmlkZXIgYXMgc3JjXG4gKi9cblxuZXhwb3J0IGNsYXNzIElucHV0TGF5ZXIgZXh0ZW5kcyBMYXllciB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPXt9KSB7XG4gICAgICAgIGNvbnN0IHtzcmMsIHZhbHVlRnVuYywgc3RhdGVGdW5jfSA9IG9wdGlvbnM7XG4gICAgICAgIHN1cGVyKHtDYWNoZUNsYXNzOklucHV0TGF5ZXJDYWNoZSwgdmFsdWVGdW5jLCBzdGF0ZUZ1bmN9KTtcbiAgICAgICAgLy8gc2V0dXAgc3JjIHByb3B0ZXJ0eVxuICAgICAgICBzcmNwcm9wLmFkZFRvSW5zdGFuY2UodGhpcyk7XG4gICAgICAgIHRoaXMuc3JjcHJvcF9yZWdpc3RlcihcInNyY1wiKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZVxuICAgICAgICB0aGlzLnNyYyA9IHNyYztcbiAgICB9XG5cbiAgICBzcmNwcm9wX2NoZWNrKHByb3BOYW1lLCBzcmMpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIGlmICghKGlzX3N0YXRlcHJvdmlkZXIoc3JjKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFwic3JjXCIgbXVzdCBiZSBzdGF0ZSBwcm92aWRlciAke3NyY31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzcmM7ICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3JjcHJvcF9vbmNoYW5nZShwcm9wTmFtZSwgZUFyZykge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzcmNcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gdW5kZWZpbmVkIHx8IGVBcmcgPT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IG5ldyBOZWFyYnlJbmRleCh0aGlzLnNyYyk7XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgaWYgKGVBcmcgIT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleC5yZWZyZXNoKGVBcmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlcygpO1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlfY2FsbGJhY2tzKCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50aWZ5VHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICAgICAgfSAgICAgICAgXG4gICAgfVxufVxuc3JjcHJvcC5hZGRUb1Byb3RvdHlwZShJbnB1dExheWVyLnByb3RvdHlwZSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgSU5QVVQgTEFZRVIgQ0FDSEVcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLypcbiAgICBMYXllciB3aXRoIGEgU3RhdGVQcm92aWRlciB1c2VzIGEgc3BlY2lmaWMgY2FjaGUgaW1wbGVtZW50YXRpb24uICAgIFxuXG4gICAgVGhlIGNhY2hlIHdpbGwgaW5zdGFudGlhdGUgc2VnbWVudHMgY29ycmVzcG9uZGluZyB0b1xuICAgIGl0ZW1zIGluIHRoZSBpbmRleC4gXG4qL1xuXG5leHBvcnQgY2xhc3MgSW5wdXRMYXllckNhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcihsYXllcikge1xuICAgICAgICAvLyBsYXllclxuICAgICAgICB0aGlzLl9sYXllciA9IGxheWVyO1xuICAgICAgICAvLyBjYWNoZWQgbmVhcmJ5IG9iamVjdFxuICAgICAgICB0aGlzLl9uZWFyYnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8vIGNhY2hlZCBzZWdtZW50XG4gICAgICAgIHRoaXMuX3NlZ21lbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0IHNyYygpIHtyZXR1cm4gdGhpcy5fbGF5ZXJ9O1xuXG4gICAgcXVlcnkob2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlX21pc3MgPSAoXG4gICAgICAgICAgICB0aGlzLl9uZWFyYnkgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAhaW50ZXJ2YWwuY292ZXJzX3BvaW50KHRoaXMuX25lYXJieS5pdHYsIG9mZnNldClcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNhY2hlX21pc3MpIHtcbiAgICAgICAgICAgIHRoaXMuX25lYXJieSA9IHRoaXMuX2xheWVyLmluZGV4Lm5lYXJieShvZmZzZXQpO1xuICAgICAgICAgICAgbGV0IHtpdHYsIGNlbnRlcn0gPSB0aGlzLl9uZWFyYnk7XG4gICAgICAgICAgICB0aGlzLl9zZWdtZW50cyA9IGNlbnRlci5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZF9zZWdtZW50KGl0diwgaXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBxdWVyeSBzZWdtZW50c1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSB0aGlzLl9zZWdtZW50cy5tYXAoKHNlZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNlZy5xdWVyeShvZmZzZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRvU3RhdGUodGhpcy5fc2VnbWVudHMsIHN0YXRlcywgb2Zmc2V0LCB0aGlzLl9sYXllci5xdWVyeU9wdGlvbnMpXG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX25lYXJieSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fc2VnbWVudCA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBMT0FEIFNFR01FTlRcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZnVuY3Rpb24gbG9hZF9zZWdtZW50KGl0diwgaXRlbSkge1xuICAgIGxldCB7dHlwZT1cInN0YXRpY1wiLCBkYXRhfSA9IGl0ZW07XG4gICAgaWYgKHR5cGUgPT0gXCJzdGF0aWNcIikge1xuICAgICAgICByZXR1cm4gbmV3IHNlZ21lbnQuU3RhdGljU2VnbWVudChpdHYsIGRhdGEpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcInRyYW5zaXRpb25cIikge1xuICAgICAgICByZXR1cm4gbmV3IHNlZ21lbnQuVHJhbnNpdGlvblNlZ21lbnQoaXR2LCBkYXRhKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJpbnRlcnBvbGF0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBzZWdtZW50LkludGVycG9sYXRpb25TZWdtZW50KGl0diwgZGF0YSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwibW90aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBzZWdtZW50Lk1vdGlvblNlZ21lbnQoaXR2LCBkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcInVucmVjb2duaXplZCBzZWdtZW50IHR5cGVcIiwgdHlwZSk7XG4gICAgfVxufVxuXG5cblxuIiwiaW1wb3J0IHsgZW5kcG9pbnQsIGludGVydmFsIH0gZnJvbSBcIi4uL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgTmVhcmJ5SW5kZXhCYXNlLCBuZWFyYnlfZnJvbSB9IGZyb20gXCIuLi9uZWFyYnlpbmRleF9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuLi9sYXllcnMuanNcIlxuaW1wb3J0ICogYXMgc3JjcHJvcCBmcm9tIFwiLi4vYXBpX3NyY3Byb3AuanNcIjtcblxuXG4vKipcbiAqIENvbnZlbmllbmNlIG1lcmdlIG9wdGlvbnNcbiAqL1xuY29uc3QgbWVyZ2Vfb3B0aW9ucyA9IHtcbiAgICBzdW06IHtcbiAgICAgICAgdmFsdWVGdW5jOiBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgLy8gcmV0dXJucyB0aGUgc3VtIG9mIHZhbHVlcyBvZiBhY3RpdmUgbGF5ZXJzXG4gICAgICAgICAgICByZXR1cm4gaW5mby5zdGF0ZXNcbiAgICAgICAgICAgICAgICAubWFwKHN0YXRlID0+IHN0YXRlLnZhbHVlKSBcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIHZhbHVlKSA9PiBhY2MgKyB2YWx1ZSwgMCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN0YWNrOiB7XG4gICAgICAgIHN0YXRlRnVuYzogZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgICAgIC8vIHJldHVybnMgdmFsdWVzIGZyb20gZmlyc3QgYWN0aXZlIGxheWVyXG4gICAgICAgICAgICByZXR1cm4gey4uLmluZm8uc3RhdGVzWzBdfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBhcnJheToge1xuICAgICAgICB2YWx1ZUZ1bmM6IGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgICAgICAvLyByZXR1cm5zIGFuIGFycmF5IHdpdGggdmFsdWVzIGZyb20gYWN0aXZlIGxheWVyc1xuICAgICAgICAgICAgcmV0dXJuIGluZm8uc3RhdGVzLm1hcChzdGF0ZSA9PiBzdGF0ZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqXG4gKiBcbiAqIFRoaXMgaW1wbGVtZW50cyBhIG1lcmdlIG9wZXJhdGlvbiBmb3IgbGF5ZXJzLlxuICogTGlzdCBvZiBzb3VyY2VzIGlzIGltbXV0YWJsZS5cbiAqIFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSAoc291cmNlcywgb3B0aW9ucz17fSkge1xuICAgIGNvbnN0IHt0eXBlPVwiXCJ9ID0gb3B0aW9ucztcblxuICAgIGlmICh0eXBlIGluIG1lcmdlX29wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNZXJnZUxheWVyKHNvdXJjZXMsIG1lcmdlX29wdGlvbnNbdHlwZV0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNZXJnZUxheWVyKHNvdXJjZXMsIG9wdGlvbnMpO1xuICAgIH1cbn1cblxuXG5jbGFzcyBNZXJnZUxheWVyIGV4dGVuZHMgTGF5ZXIge1xuXG4gICAgY29uc3RydWN0b3Ioc291cmNlcywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICAvLyBzZXR1cCBzb3VyY2VzIHByb3BlcnR5XG4gICAgICAgIHNyY3Byb3AuYWRkVG9JbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgdGhpcy5zcmNwcm9wX3JlZ2lzdGVyKFwic291cmNlc1wiLCB7bXV0YWJsZTpmYWxzZX0pO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBzb3VyY2VzO1xuICAgIH1cblxuICAgIHNyY3Byb3BfY2hlY2socHJvcE5hbWUsIHNvdXJjZXMpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic291cmNlc1wiKSB7XG4gICAgICAgICAgICAvLyBjaGVjayB0aGF0IHNvdXJjZXMgaXMgYXJyYXkgb2YgbGF5ZXJzXG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc291cmNlcykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHNvdXJjZXMgbXVzdCBiZSBhcnJheSAke3NvdXJjZXN9YClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFsbF9sYXllcnMgPSBzb3VyY2VzLm1hcCgoZSkgPT4gZSBpbnN0YW5jZW9mIExheWVyKS5ldmVyeShlID0+IGUpO1xuICAgICAgICAgICAgaWYgKCFhbGxfbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzb3VyY2VzIG11c3QgYWxsIGJlIGxheWVycyAke3NvdXJjZXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZXM7XG4gICAgfVxuXG4gICAgc3JjcHJvcF9vbmNoYW5nZShwcm9wTmFtZSwgZUFyZykge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzb3VyY2VzXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09IHVuZGVmaW5lZCB8fCBlQXJnID09IFwicmVzZXRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBuZXcgTWVyZ2VJbmRleCh0aGlzLnNvdXJjZXMpXG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlcygpO1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlfY2FsbGJhY2tzKCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50aWZ5VHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbnNyY3Byb3AuYWRkVG9Qcm90b3R5cGUoTWVyZ2VMYXllci5wcm90b3R5cGUpO1xuXG5cblxuLyoqXG4gKiBNZXJnaW5nIGluZGV4ZXMgZnJvbSBtdWx0aXBsZSBzb3VyY2VzIGludG8gYSBzaW5nbGUgaW5kZXguXG4gKiBcbiAqIEEgc291cmNlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluZGV4LlxuICogLSBsYXllciAoY3Vyc29yKVxuICogXG4gKiBUaGUgbWVyZ2VkIGluZGV4IGdpdmVzIGEgdGVtcG9yYWwgc3RydWN0dXJlIGZvciB0aGVcbiAqIGNvbGxlY3Rpb24gb2Ygc291cmNlcywgY29tcHV0aW5nIGEgbGlzdCBvZlxuICogc291cmNlcyB3aGljaCBhcmUgZGVmaW5lZCBhdCBhIGdpdmVuIG9mZnNldFxuICogXG4gKiBuZWFyYnkob2Zmc2V0KS5jZW50ZXIgaXMgYSBsaXN0IG9mIGl0ZW1zXG4gKiBbe2l0diwgc3JjfV1cbiAqIFxuICogSW1wbGVtZW50YWlvbiBpcyBzdGF0ZWxlc3MuXG4gKi9cblxuZnVuY3Rpb24gY21wX2FzY2VuZGluZyhwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuY21wKHAxLCBwMilcbn1cblxuZnVuY3Rpb24gY21wX2Rlc2NlbmRpbmcocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmNtcChwMiwgcDEpXG59XG5cbmV4cG9ydCBjbGFzcyBNZXJnZUluZGV4IGV4dGVuZHMgTmVhcmJ5SW5kZXhCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fc291cmNlcyA9IHNvdXJjZXM7XG4gICAgICAgIHRoaXMuX2NhY2hlcyA9IG5ldyBNYXAoc291cmNlcy5tYXAoKHNyYykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFtzcmMsIHNyYy5nZXRDYWNoZSgpXTtcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIG5lYXJieShvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gZW5kcG9pbnQuZnJvbV9pbnB1dChvZmZzZXQpO1xuICAgICAgICAvLyBhY2N1bXVsYXRlIG5lYXJieSBmcm9tIGFsbCBzb3VyY2VzXG4gICAgICAgIGNvbnN0IHByZXZfbGlzdCA9IFtdLCBuZXh0X2xpc3QgPSBbXTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gW107XG4gICAgICAgIGNvbnN0IGNlbnRlcl9oaWdoX2xpc3QgPSBbXTtcbiAgICAgICAgY29uc3QgY2VudGVyX2xvd19saXN0ID0gW11cbiAgICAgICAgZm9yIChsZXQgc3JjIG9mIHRoaXMuX3NvdXJjZXMpIHtcbiAgICAgICAgICAgIGxldCBuZWFyYnkgPSBzcmMuaW5kZXgubmVhcmJ5KG9mZnNldCk7XG4gICAgICAgICAgICBsZXQgcHJldl9yZWdpb24gPSBzcmMuaW5kZXguZmluZF9yZWdpb24obmVhcmJ5LCB7ZGlyZWN0aW9uOi0xfSk7XG4gICAgICAgICAgICBsZXQgbmV4dF9yZWdpb24gPSBzcmMuaW5kZXguZmluZF9yZWdpb24obmVhcmJ5LCB7ZGlyZWN0aW9uOjF9KTtcbiAgICAgICAgICAgIGlmIChwcmV2X3JlZ2lvbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwcmV2X2xpc3QucHVzaChlbmRwb2ludC5mcm9tX2ludGVydmFsKHByZXZfcmVnaW9uLml0dilbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHRfcmVnaW9uICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG5leHRfbGlzdC5wdXNoKGVuZHBvaW50LmZyb21faW50ZXJ2YWwobmV4dF9yZWdpb24uaXR2KVswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmVhcmJ5LmNlbnRlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY2VudGVyLnB1c2godGhpcy5fY2FjaGVzLmdldChzcmMpKTtcbiAgICAgICAgICAgICAgICBsZXQgW2xvdywgaGlnaF0gPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKG5lYXJieS5pdHYpO1xuICAgICAgICAgICAgICAgIGNlbnRlcl9oaWdoX2xpc3QucHVzaChoaWdoKTtcbiAgICAgICAgICAgICAgICBjZW50ZXJfbG93X2xpc3QucHVzaChsb3cpOyAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gZmluZCBjbG9zZXN0IGVuZHBvaW50IHRvIHRoZSByaWdodCAobm90IGluIGNlbnRlcilcbiAgICAgICAgbmV4dF9saXN0LnNvcnQoY21wX2FzY2VuZGluZyk7XG4gICAgICAgIGNvbnN0IG5leHRfbG93ID0gbmV4dF9saXN0WzBdIHx8IFtJbmZpbml0eSwgMF07XG5cbiAgICAgICAgLy8gZmluZCBjbG9zZXN0IGVuZHBvaW50IHRvIHRoZSBsZWZ0IChub3QgaW4gY2VudGVyKVxuICAgICAgICBwcmV2X2xpc3Quc29ydChjbXBfZGVzY2VuZGluZyk7XG4gICAgICAgIGNvbnN0IHByZXZfaGlnaCA9IHByZXZfbGlzdFswXSB8fCBbLUluZmluaXR5LCAwXTtcblxuICAgICAgICByZXR1cm4gbmVhcmJ5X2Zyb20oXG4gICAgICAgICAgICAgICAgcHJldl9oaWdoLCBcbiAgICAgICAgICAgICAgICBjZW50ZXJfbG93X2xpc3QsIFxuICAgICAgICAgICAgICAgIGNlbnRlcixcbiAgICAgICAgICAgICAgICBjZW50ZXJfaGlnaF9saXN0LFxuICAgICAgICAgICAgICAgIG5leHRfbG93XG4gICAgICAgICAgICApO1xuICAgIH1cbn07XG5cblxuXG4iLCJpbXBvcnQgeyBlbmRwb2ludCB9IGZyb20gXCIuLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4QmFzZSB9IGZyb20gXCIuLi9uZWFyYnlpbmRleF9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuLi9sYXllcnMuanNcIlxuaW1wb3J0ICogYXMgc3JjcHJvcCBmcm9tIFwiLi4vYXBpX3NyY3Byb3AuanNcIjtcblxuZnVuY3Rpb24gc2hpZnRlZChwLCBvZmZzZXQpIHtcbiAgICBpZiAocCA9PSB1bmRlZmluZWQgfHwgIWlzRmluaXRlKHApKSB7XG4gICAgICAgIC8vIHAgLSBubyBza2V3XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIC8vIHAgaXMgbnVtYmVyIC0gc2tld1xuICAgICAgICByZXR1cm4gcCArIG9mZnNldDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocCkgJiYgcC5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIHAgaXMgZW5kcG9pbnQgLSBza2V3IHZhbHVlXG4gICAgICAgIGxldCBbdmFsLCBzaWduXSA9IHA7XG4gICAgICAgIHJldHVybiBbdmFsICsgb2Zmc2V0LCBzaWduXTtcbiAgICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIFNISUZUIElOREVYXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNsYXNzIFNoaWZ0SW5kZXggZXh0ZW5kcyBOZWFyYnlJbmRleEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IgKGxheWVyLCBza2V3KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMuX3NrZXcgPSBza2V3O1xuICAgICAgICB0aGlzLl9jYWNoZSA9IGxheWVyLmdldENhY2hlKCk7XG5cbiAgICAgICAgLy8gc2tld2luZyBjYWNoZSBvYmplY3RcbiAgICAgICAgdGhpcy5fc2hpZnRlZF9jYWNoZSA9IHtcbiAgICAgICAgICAgIHF1ZXJ5OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gc2tldyBxdWVyeSAobmVnYXRpdmUpIC0gb3ZlcnJpZGUgcmVzdWx0IG9mZnNldFxuICAgICAgICAgICAgICAgIHJldHVybiB7Li4udGhpcy5fY2FjaGUucXVlcnkoc2hpZnRlZChvZmZzZXQsIC10aGlzLl9za2V3KSksIG9mZnNldH07XG4gICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBza2V3aW5nIGluZGV4Lm5lYXJieVxuICAgIG5lYXJieShvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gZW5kcG9pbnQuZnJvbV9pbnB1dChvZmZzZXQpO1xuICAgICAgICAvLyBza2V3IHF1ZXJ5IChuZWdhdGl2ZSlcbiAgICAgICAgY29uc3QgbmVhcmJ5ID0gdGhpcy5fbGF5ZXIuaW5kZXgubmVhcmJ5KHNoaWZ0ZWQob2Zmc2V0LCAtdGhpcy5fc2tldykpO1xuICAgICAgICAvLyBza2V3IHJlc3VsdCAocG9zaXRpdmUpIFxuICAgICAgICBjb25zdCBpdHYgPSBuZWFyYnkuaXR2LnNsaWNlKCk7XG4gICAgICAgIGl0dlswXSA9IHNoaWZ0ZWQobmVhcmJ5Lml0dlswXSwgdGhpcy5fc2tldyk7XG4gICAgICAgIGl0dlsxXSA9IHNoaWZ0ZWQobmVhcmJ5Lml0dlsxXSwgdGhpcy5fc2tldylcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGl0dixcbiAgICAgICAgICAgIGxlZnQ6IHNoaWZ0ZWQobmVhcmJ5LmxlZnQsIHRoaXMuX3NrZXcpLFxuICAgICAgICAgICAgcmlnaHQ6IHNoaWZ0ZWQobmVhcmJ5LnJpZ2h0LCB0aGlzLl9za2V3KSxcbiAgICAgICAgICAgIGNlbnRlcjogbmVhcmJ5LmNlbnRlci5tYXAoKCkgPT4gdGhpcy5fc2hpZnRlZF9jYWNoZSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgU0hJRlQgTEFZRVJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXG5jbGFzcyBTaGlmdExheWVyIGV4dGVuZHMgTGF5ZXIge1xuXG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHNrZXcsIG9wdGlvbnM9e30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3NrZXcgPSBza2V3O1xuICAgICAgICAvLyBzZXR1cCBzcmMgcHJvcHRlcnR5XG4gICAgICAgIHNyY3Byb3AuYWRkVG9JbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgdGhpcy5zcmNwcm9wX3JlZ2lzdGVyKFwic3JjXCIpO1xuICAgICAgICB0aGlzLnNyYyA9IGxheWVyO1xuICAgIH1cblxuICAgIHNyY3Byb3BfY2hlY2socHJvcE5hbWUsIHNyYykge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzcmNcIikge1xuICAgICAgICAgICAgaWYgKCEoc3JjIGluc3RhbmNlb2YgTGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcInNyY1wiIG11c3QgYmUgTGF5ZXIgJHtzcmN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3JjOyAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNyY3Byb3Bfb25jaGFuZ2UocHJvcE5hbWUsIGVBcmcpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09IHVuZGVmaW5lZCB8fCBlQXJnID09IFwicmVzZXRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBuZXcgU2hpZnRJbmRleCh0aGlzLnNyYywgdGhpcy5fc2tldylcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICB0aGlzLmNsZWFyQ2FjaGVzKCk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeV9jYWxsYmFja3MoKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRpZnlUcmlnZ2VyKFwiY2hhbmdlXCIpOyAgICBcbiAgICAgICAgfVxuICAgIH1cbn1cbnNyY3Byb3AuYWRkVG9Qcm90b3R5cGUoU2hpZnRMYXllci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFNrZXdpbmcgYSBMYXllciBieSBhbiBvZmZzZXRcbiAqIFxuICogYSBwb3NpdGl2ZSB2YWx1ZSBmb3Igb2Zmc2V0IG1lYW5zIHRoYXRcbiAqIHRoZSBsYXllciBpcyBzaGlmdGVkIHRvIHRoZSByaWdodCBvbiB0aGUgdGltZWxpbmVcbiAqIFxuICogXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaWZ0IChsYXllciwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIG5ldyBTaGlmdExheWVyKGxheWVyLCBvZmZzZXQpO1xufVxuIiwiLy8gd2VicGFnZSBjbG9jayAtIHBlcmZvcm1hbmNlIG5vdyAtIHNlY29uZHNcbmNvbnN0IGxvY2FsID0ge1xuICAgIG5vdzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKS8xMDAwLjA7XG4gICAgfVxufVxuLy8gc3lzdGVtIGNsb2NrIC0gZXBvY2ggLSBzZWNvbmRzXG5jb25zdCBlcG9jaCA9IHtcbiAgICBub3c6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS8xMDAwLjA7XG4gICAgfVxufVxuXG4vKipcbiAqIENMT0NLIGdpdmVzIGVwb2NoIHZhbHVlcywgYnV0IGlzIGltcGxlbWVudGVkXG4gKiB1c2luZyBwZXJmb3JtYW5jZSBub3cgZm9yIGJldHRlclxuICogdGltZSByZXNvbHV0aW9uIGFuZCBwcm90ZWN0aW9uIGFnYWluc3Qgc3lzdGVtIFxuICogdGltZSBhZGp1c3RtZW50cy5cbiAqL1xuXG5leHBvcnQgY29uc3QgTE9DQUxfQ0xPQ0tfUFJPVklERVIgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdDBfbG9jYWwgPSBsb2NhbC5ub3coKTtcbiAgICBjb25zdCB0MF9lcG9jaCA9IGVwb2NoLm5vdygpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5vdzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgdDFfbG9jYWwgPSBsb2NhbC5ub3coKTtcbiAgICAgICAgICAgIHJldHVybiB0MF9lcG9jaCArICh0MV9sb2NhbCAtIHQwX2xvY2FsKTtcbiAgICAgICAgfVxuICAgIH07XG59KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc19jbG9ja3Byb3ZpZGVyKG9iaikge1xuICAgIHJldHVybiAoXG4gICAgICAgIChcIm5vd1wiIGluIG9iaikgJiYgdHlwZW9mIChvYmoubm93ID09IFwiZnVuY3Rpb25cIilcbiAgICApXG59IiwiXG5pbXBvcnQgeyBpc19zdGF0ZXByb3ZpZGVyIH0gZnJvbSBcIi4vc3RhdGVwcm92aWRlci5qc1wiO1xuY29uc3QgTUVUSE9EUyA9IHthc3NpZ24sIG1vdmUsIHRyYW5zaXRpb24sIGludGVycG9sYXRlfTtcblxuXG5leHBvcnQgZnVuY3Rpb24gY21kICh0YXJnZXQpIHtcbiAgICBpZiAoIShpc19zdGF0ZXByb3ZpZGVyKHRhcmdldCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdGFyZ2V0LnNyYyBtdXN0IGJlIHN0YXRlcHJvdmlkZXIgJHt0YXJnZXR9YCk7XG4gICAgfVxuICAgIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoTUVUSE9EUylcbiAgICAgICAgLm1hcCgoW25hbWUsIG1ldGhvZF0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiguLi5hcmdzKSB7IFxuICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSBtZXRob2QuY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC51cGRhdGUoe2luc2VydDppdGVtcywgcmVzZXQ6dHJ1ZX0pOyAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpO1xufVxuXG5mdW5jdGlvbiBhc3NpZ24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgaXRlbSA9IHtcbiAgICAgICAgICAgIGl0djogWy1JbmZpbml0eSwgSW5maW5pdHksIHRydWUsIHRydWVdLFxuICAgICAgICAgICAgdHlwZTogXCJzdGF0aWNcIixcbiAgICAgICAgICAgIGRhdGE6IHZhbHVlICAgICAgICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2l0ZW1dO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbW92ZSh2ZWN0b3IpIHtcbiAgICBsZXQgaXRlbSA9IHtcbiAgICAgICAgaXR2OiBbLUluZmluaXR5LCBJbmZpbml0eSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgIHR5cGU6IFwibW90aW9uXCIsXG4gICAgICAgIGRhdGE6IHZlY3RvciAgXG4gICAgfVxuICAgIHJldHVybiBbaXRlbV07XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb24odjAsIHYxLCB0MCwgdDEsIGVhc2luZykge1xuICAgIGxldCBpdGVtcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgaXR2OiBbLUluZmluaXR5LCB0MCwgdHJ1ZSwgZmFsc2VdLFxuICAgICAgICAgICAgdHlwZTogXCJzdGF0aWNcIixcbiAgICAgICAgICAgIGRhdGE6IHYwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGl0djogW3QwLCB0MSwgdHJ1ZSwgZmFsc2VdLFxuICAgICAgICAgICAgdHlwZTogXCJ0cmFuc2l0aW9uXCIsXG4gICAgICAgICAgICBkYXRhOiB7djAsIHYxLCB0MCwgdDEsIGVhc2luZ31cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaXR2OiBbdDEsIEluZmluaXR5LCB0cnVlLCB0cnVlXSxcbiAgICAgICAgICAgIHR5cGU6IFwic3RhdGljXCIsXG4gICAgICAgICAgICBkYXRhOiB2MVxuICAgICAgICB9XG4gICAgXVxuICAgIHJldHVybiBpdGVtcztcbn1cblxuZnVuY3Rpb24gaW50ZXJwb2xhdGUodHVwbGVzKSB7XG4gICAgbGV0IFt2MCwgdDBdID0gdHVwbGVzWzBdO1xuICAgIGxldCBbdjEsIHQxXSA9IHR1cGxlc1t0dXBsZXMubGVuZ3RoLTFdO1xuXG4gICAgbGV0IGl0ZW1zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBpdHY6IFstSW5maW5pdHksIHQwLCB0cnVlLCBmYWxzZV0sXG4gICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgZGF0YTogdjBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaXR2OiBbdDAsIHQxLCB0cnVlLCBmYWxzZV0sXG4gICAgICAgICAgICB0eXBlOiBcImludGVycG9sYXRpb25cIixcbiAgICAgICAgICAgIGRhdGE6IHR1cGxlc1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpdHY6IFt0MSwgSW5maW5pdHksIHRydWUsIHRydWVdLFxuICAgICAgICAgICAgdHlwZTogXCJzdGF0aWNcIixcbiAgICAgICAgICAgIGRhdGE6IHYxXG4gICAgICAgIH1cbiAgICBdICAgIFxuICAgIHJldHVybiBpdGVtcztcbn1cblxuXG5cbiIsImltcG9ydCB7ZGl2bW9kfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5cbi8qXG4gICAgVGltZW91dCBNb25pdG9yXG5cbiAgICBUaW1lb3V0IE1vbml0b3IgaXMgc2ltaWxhciB0byBzZXRJbnRlcnZhbCwgaW4gdGhlIHNlbnNlIHRoYXQgXG4gICAgaXQgYWxsb3dzIGNhbGxiYWNrcyB0byBiZSBmaXJlZCBwZXJpb2RpY2FsbHkgXG4gICAgd2l0aCBhIGdpdmVuIGRlbGF5IChpbiBtaWxsaXMpLiAgXG4gICAgXG4gICAgVGltZW91dCBNb25pdG9yIGlzIG1hZGUgdG8gc2FtcGxlIHRoZSBzdGF0ZSBcbiAgICBvZiBhIGR5bmFtaWMgb2JqZWN0LCBwZXJpb2RpY2FsbHkuIEZvciB0aGlzIHJlYXNvbiwgZWFjaCBjYWxsYmFjayBpcyBcbiAgICBib3VuZCB0byBhIG1vbml0b3JlZCBvYmplY3QsIHdoaWNoIHdlIGhlcmUgY2FsbCBhIHZhcmlhYmxlLiBcbiAgICBPbiBlYWNoIGludm9jYXRpb24sIGEgY2FsbGJhY2sgd2lsbCBwcm92aWRlIGEgZnJlc2hseSBzYW1wbGVkIFxuICAgIHZhbHVlIGZyb20gdGhlIHZhcmlhYmxlLlxuXG4gICAgVGhpcyB2YWx1ZSBpcyBhc3N1bWVkIHRvIGJlIGF2YWlsYWJsZSBieSBxdWVyeWluZyB0aGUgdmFyaWFibGUuIFxuXG4gICAgICAgIHYucXVlcnkoKSAtPiB7dmFsdWUsIGR5bmFtaWMsIG9mZnNldCwgdHN9XG5cbiAgICBJbiBhZGRpdGlvbiwgdGhlIHZhcmlhYmxlIG9iamVjdCBtYXkgc3dpdGNoIGJhY2sgYW5kIFxuICAgIGZvcnRoIGJldHdlZW4gZHluYW1pYyBhbmQgc3RhdGljIGJlaGF2aW9yLiBUaGUgVGltZW91dCBNb25pdG9yXG4gICAgdHVybnMgcG9sbGluZyBvZmYgd2hlbiB0aGUgdmFyaWFibGUgaXMgbm8gbG9uZ2VyIGR5bmFtaWMsIFxuICAgIGFuZCByZXN1bWVzIHBvbGxpbmcgd2hlbiB0aGUgb2JqZWN0IGJlY29tZXMgZHluYW1pYy5cblxuICAgIFN0YXRlIGNoYW5nZXMgYXJlIGV4cGVjdGVkIHRvIGJlIHNpZ25hbGxlZCB0aHJvdWdoIGEgPGNoYW5nZT4gZXZlbnQuXG5cbiAgICAgICAgc3ViID0gdi5vbihcImNoYW5nZVwiLCBjYWxsYmFjaylcbiAgICAgICAgdi5vZmYoc3ViKVxuXG4gICAgQ2FsbGJhY2tzIGFyZSBpbnZva2VkIG9uIGV2ZXJ5IDxjaGFuZ2U+IGV2ZW50LCBhcyB3ZWxsXG4gICAgYXMgcGVyaW9kaWNhbGx5IHdoZW4gdGhlIG9iamVjdCBpcyBpbiA8ZHluYW1pYz4gc3RhdGUuXG5cbiAgICAgICAgY2FsbGJhY2soe3ZhbHVlLCBkeW5hbWljLCBvZmZzZXQsIHRzfSlcblxuICAgIEZ1cnRoZXJtb3JlLCBpbiBvcmRlciB0byBzdXBwb3J0IGNvbnNpc3RlbnQgcmVuZGVyaW5nIG9mXG4gICAgc3RhdGUgY2hhbmdlcyBmcm9tIG1hbnkgZHluYW1pYyB2YXJpYWJsZXMsIGl0IGlzIGltcG9ydGFudCB0aGF0XG4gICAgY2FsbGJhY2tzIGFyZSBpbnZva2VkIGF0IHRoZSBzYW1lIHRpbWUgYXMgbXVjaCBhcyBwb3NzaWJsZSwgc29cbiAgICB0aGF0IGNoYW5nZXMgdGhhdCBvY2N1ciBuZWFyIGluIHRpbWUgY2FuIGJlIHBhcnQgb2YgdGhlIHNhbWVcbiAgICBzY3JlZW4gcmVmcmVzaC4gXG5cbiAgICBGb3IgdGhpcyByZWFzb24sIHRoZSBUaW1lb3V0TW9uaXRvciBncm91cHMgY2FsbGJhY2tzIGluIHRpbWVcbiAgICBhbmQgaW52b2tlcyBjYWxsYmFja3MgYXQgYXQgZml4ZWQgbWF4aW11bSByYXRlICgyMEh6LzUwbXMpLlxuICAgIFRoaXMgaW1wbGllcyB0aGF0IHBvbGxpbmcgY2FsbGJhY2tzIHdpbGwgZmFsbCBvbiBhIHNoYXJlZCBcbiAgICBwb2xsaW5nIGZyZXF1ZW5jeS5cblxuICAgIEF0IHRoZSBzYW1lIHRpbWUsIGNhbGxiYWNrcyBtYXkgaGF2ZSBpbmRpdmlkdWFsIGZyZXF1ZW5jaWVzIHRoYXRcbiAgICBhcmUgbXVjaCBsb3dlciByYXRlIHRoYW4gdGhlIG1heGltdW0gcmF0ZS4gVGhlIGltcGxlbWVudGF0aW9uXG4gICAgZG9lcyBub3QgcmVseSBvbiBhIGZpeGVkIDUwbXMgdGltZW91dCBmcmVxdWVuY3ksIGJ1dCBpcyB0aW1lb3V0IGJhc2VkLFxuICAgIHRodXMgdGhlcmUgaXMgbm8gcHJvY2Vzc2luZyBvciB0aW1lb3V0IGJldHdlZW4gY2FsbGJhY2tzLCBldmVuXG4gICAgaWYgYWxsIGNhbGxiYWNrcyBoYXZlIGxvdyByYXRlcy5cblxuICAgIEl0IGlzIHNhZmUgdG8gZGVmaW5lIG11bHRpcGxlIGNhbGxhYmFja3MgZm9yIGEgc2luZ2xlIHZhcmlhYmxlLCBlYWNoXG4gICAgY2FsbGJhY2sgd2l0aCBhIGRpZmZlcmVudCBwb2xsaW5nIGZyZXF1ZW5jeS5cblxuICAgIG9wdGlvbnNcbiAgICAgICAgPHJhdGU+IC0gZGVmYXVsdCA1MDogc3BlY2lmeSBtaW5pbXVtIGZyZXF1ZW5jeSBpbiBtc1xuXG4qL1xuXG5cbmNvbnN0IFJBVEVfTVMgPSA1MFxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBUSU1FT1VUIE1PTklUT1JcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLypcbiAgICBCYXNlIGNsYXNzIGZvciBUaW1lb3V0IE1vbml0b3IgYW5kIEZyYW1lcmF0ZSBNb25pdG9yXG4qL1xuXG5jbGFzcyBUaW1lb3V0TW9uaXRvciB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPXt9KSB7XG5cbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe3JhdGU6IFJBVEVfTVN9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMucmF0ZSA8IFJBVEVfTVMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaWxsZWdhbCByYXRlICR7cmF0ZX0sIG1pbmltdW0gcmF0ZSBpcyAke1JBVEVfTVN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICAgIG1hcFxuICAgICAgICAgICAgaGFuZGxlIC0+IHtjYWxsYmFjaywgdmFyaWFibGUsIGRlbGF5fVxuICAgICAgICAgICAgLSB2YXJpYWJsZTogdGFyZ2V0IGZvciBzYW1wbGluZ1xuICAgICAgICAgICAgLSBjYWxsYmFjazogZnVuY3Rpb24odmFsdWUpXG4gICAgICAgICAgICAtIGRlbGF5OiBiZXR3ZWVuIHNhbXBsZXMgKHdoZW4gdmFyaWFibGUgaXMgZHluYW1pYylcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAvKlxuICAgICAgICAgICAgdmFyaWFibGUgbWFwXG4gICAgICAgICAgICB2YXJpYWJsZSAtPiB7c3ViLCBwb2xsaW5nLCBoYW5kbGVzOltdfVxuICAgICAgICAgICAgLSBzdWIgYXNzb2NpYXRlZCB3aXRoIHZhcmlhYmxlXG4gICAgICAgICAgICAtIHBvbGxpbmc6IHRydWUgaWYgdmFyaWFibGUgbmVlZHMgcG9sbGluZ1xuICAgICAgICAgICAgLSBoYW5kbGVzOiBsaXN0IG9mIGhhbmRsZXMgYXNzb2NpYXRlZCB3aXRoIHZhcmlhYmxlXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuX3ZhcmlhYmxlX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdmFyaWFibGUgY2hhbmdlIGhhbmRsZXJcbiAgICAgICAgdGhpcy5fX29udmFyaWFibGVjaGFuZ2UgPSB0aGlzLl9vbnZhcmlhYmxlY2hhbmdlLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgYmluZCh2YXJpYWJsZSwgY2FsbGJhY2ssIGRlbGF5LCBvcHRpb25zPXt9KSB7XG4gICAgICAgIC8vIHJlZ2lzdGVyIGJpbmRpbmdcbiAgICAgICAgbGV0IGhhbmRsZSA9IHtjYWxsYmFjaywgdmFyaWFibGUsIGRlbGF5fTtcbiAgICAgICAgdGhpcy5fc2V0LmFkZChoYW5kbGUpO1xuICAgICAgICAvLyByZWdpc3RlciB2YXJpYWJsZVxuICAgICAgICBpZiAoIXRoaXMuX3ZhcmlhYmxlX21hcC5oYXModmFyaWFibGUpKSB7XG4gICAgICAgICAgICBsZXQgc3ViID0gdmFyaWFibGUub24oXCJjaGFuZ2VcIiwgdGhpcy5fX29udmFyaWFibGVjaGFuZ2UpO1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB7c3ViLCBwb2xsaW5nOmZhbHNlLCBoYW5kbGVzOiBbaGFuZGxlXX07XG4gICAgICAgICAgICB0aGlzLl92YXJpYWJsZV9tYXAuc2V0KHZhcmlhYmxlLCBpdGVtKTtcbiAgICAgICAgICAgIC8vdGhpcy5fcmVldmFsdWF0ZV9wb2xsaW5nKHZhcmlhYmxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlX21hcC5nZXQodmFyaWFibGUpLmhhbmRsZXMucHVzaChoYW5kbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGU7XG4gICAgfVxuXG4gICAgcmVsZWFzZShoYW5kbGUpIHtcbiAgICAgICAgLy8gY2xlYW51cFxuICAgICAgICBsZXQgcmVtb3ZlZCA9IHRoaXMuX3NldC5kZWxldGUoaGFuZGxlKTtcbiAgICAgICAgaWYgKCFyZW1vdmVkKSByZXR1cm47XG4gICAgICAgIGhhbmRsZS50aWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8vIGNsZWFudXAgdmFyaWFibGUgbWFwXG4gICAgICAgIGxldCB2YXJpYWJsZSA9IGhhbmRsZS52YXJpYWJsZTtcbiAgICAgICAgbGV0IHtzdWIsIGhhbmRsZXN9ID0gdGhpcy5fdmFyaWFibGVfbWFwLmdldCh2YXJpYWJsZSk7XG4gICAgICAgIGxldCBpZHggPSBoYW5kbGVzLmluZGV4T2YoaGFuZGxlKTtcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgICBoYW5kbGVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYW5kbGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAvLyB2YXJpYWJsZSBoYXMgbm8gaGFuZGxlc1xuICAgICAgICAgICAgLy8gY2xlYW51cCB2YXJpYWJsZSBtYXBcbiAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlX21hcC5kZWxldGUodmFyaWFibGUpO1xuICAgICAgICAgICAgdmFyaWFibGUub2ZmKHN1Yik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAgICB2YXJpYWJsZSBlbWl0cyBhIGNoYW5nZSBldmVudFxuICAgICovXG4gICAgX29udmFyaWFibGVjaGFuZ2UgKGVBcmcsIGVJbmZvKSB7XG4gICAgICAgIGxldCB2YXJpYWJsZSA9IGVJbmZvLnNyYztcbiAgICAgICAgLy8gZGlyZWN0IGNhbGxiYWNrIC0gY291bGQgdXNlIGVBcmcgaGVyZVxuICAgICAgICBsZXQge2hhbmRsZXN9ID0gdGhpcy5fdmFyaWFibGVfbWFwLmdldCh2YXJpYWJsZSk7XG4gICAgICAgIGxldCBzdGF0ZSA9IGVBcmc7XG4gICAgICAgIC8vIHJlZXZhbHVhdGUgcG9sbGluZ1xuICAgICAgICB0aGlzLl9yZWV2YWx1YXRlX3BvbGxpbmcodmFyaWFibGUsIHN0YXRlKTtcbiAgICAgICAgLy8gY2FsbGJhY2tzXG4gICAgICAgIGZvciAobGV0IGhhbmRsZSBvZiBoYW5kbGVzKSB7XG4gICAgICAgICAgICBoYW5kbGUuY2FsbGJhY2soc3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgc3RhcnQgb3Igc3RvcCBwb2xsaW5nIGlmIG5lZWRlZFxuICAgICovXG4gICAgX3JlZXZhbHVhdGVfcG9sbGluZyh2YXJpYWJsZSwgc3RhdGUpIHtcbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl92YXJpYWJsZV9tYXAuZ2V0KHZhcmlhYmxlKTtcbiAgICAgICAgbGV0IHtwb2xsaW5nOndhc19wb2xsaW5nfSA9IGl0ZW07XG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwgdmFyaWFibGUucXVlcnkoKTtcbiAgICAgICAgbGV0IHNob3VsZF9iZV9wb2xsaW5nID0gc3RhdGUuZHluYW1pYztcbiAgICAgICAgaWYgKCF3YXNfcG9sbGluZyAmJiBzaG91bGRfYmVfcG9sbGluZykge1xuICAgICAgICAgICAgaXRlbS5wb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3NldF90aW1lb3V0cyh2YXJpYWJsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAod2FzX3BvbGxpbmcgJiYgIXNob3VsZF9iZV9wb2xsaW5nKSB7XG4gICAgICAgICAgICBpdGVtLnBvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyX3RpbWVvdXRzKHZhcmlhYmxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICAgIHNldCB0aW1lb3V0IGZvciBhbGwgY2FsbGJhY2tzIGFzc29jaWF0ZWQgd2l0aCB2YXJpYWJsZVxuICAgICovXG4gICAgX3NldF90aW1lb3V0cyh2YXJpYWJsZSkge1xuICAgICAgICBsZXQge2hhbmRsZXN9ID0gdGhpcy5fdmFyaWFibGVfbWFwLmdldCh2YXJpYWJsZSk7XG4gICAgICAgIGZvciAobGV0IGhhbmRsZSBvZiBoYW5kbGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRfdGltZW91dChoYW5kbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NldF90aW1lb3V0KGhhbmRsZSkge1xuICAgICAgICBsZXQgZGVsdGEgPSB0aGlzLl9jYWxjdWxhdGVfZGVsdGEoaGFuZGxlLmRlbGF5KTtcbiAgICAgICAgbGV0IGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVfdGltZW91dChoYW5kbGUpO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgICAgIGhhbmRsZS50aWQgPSBzZXRUaW1lb3V0KGhhbmRsZXIsIGRlbHRhKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAgICBhZGp1c3QgZGVsYXkgc28gdGhhdCBpZiBmYWxscyBvblxuICAgICAgICB0aGUgbWFpbiB0aWNrIHJhdGVcbiAgICAqL1xuICAgIF9jYWxjdWxhdGVfZGVsdGEoZGVsYXkpIHtcbiAgICAgICAgbGV0IHJhdGUgPSB0aGlzLl9vcHRpb25zLnJhdGU7XG4gICAgICAgIGxldCBub3cgPSBNYXRoLnJvdW5kKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgbGV0IFtub3dfbiwgbm93X3JdID0gZGl2bW9kKG5vdywgcmF0ZSk7XG4gICAgICAgIGxldCBbbiwgcl0gPSBkaXZtb2Qobm93ICsgZGVsYXksIHJhdGUpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gTWF0aC5tYXgobiwgbm93X24gKyAxKSpyYXRlO1xuICAgICAgICByZXR1cm4gdGFyZ2V0IC0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgY2xlYXIgYWxsIHRpbWVvdXRzIGFzc29jaWF0ZWQgd2l0aCB2YXJpYWJsZVxuICAgICovXG4gICAgX2NsZWFyX3RpbWVvdXRzKHZhcmlhYmxlKSB7XG4gICAgICAgIGxldCB7aGFuZGxlc30gPSB0aGlzLl92YXJpYWJsZV9tYXAuZ2V0KHZhcmlhYmxlKTtcbiAgICAgICAgZm9yIChsZXQgaGFuZGxlIG9mIGhhbmRsZXMpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGUudGlkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChoYW5kbGUudGlkKTtcbiAgICAgICAgICAgICAgICBoYW5kbGUudGlkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgaGFuZGxlIHRpbWVvdXRcbiAgICAqL1xuICAgIF9oYW5kbGVfdGltZW91dChoYW5kbGUpIHtcbiAgICAgICAgLy8gZHJvcCBpZiBoYW5kbGUgdGlkIGhhcyBiZWVuIGNsZWFyZWRcbiAgICAgICAgaWYgKGhhbmRsZS50aWQgPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGhhbmRsZS50aWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgIGxldCB7dmFyaWFibGV9ID0gaGFuZGxlO1xuICAgICAgICBsZXQgc3RhdGUgPSB2YXJpYWJsZS5xdWVyeSgpO1xuICAgICAgICAvLyByZXNjaGVkdWxlIHRpbWVvdXRzIGZvciBjYWxsYmFja3NcbiAgICAgICAgaWYgKHN0YXRlLmR5bmFtaWMpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldF90aW1lb3V0KGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIG1ha2Ugc3VyZSBwb2xsaW5nIHN0YXRlIGlzIGFsc28gZmFsc2VcbiAgICAgICAgICAgICAgICB0aGlzIHdvdWxkIG9ubHkgb2NjdXIgaWYgdGhlIHZhcmlhYmxlXG4gICAgICAgICAgICAgICAgd2VudCBmcm9tIHJlcG9ydGluZyBkeW5hbWljIHRydWUgdG8gZHluYW1pYyBmYWxzZSxcbiAgICAgICAgICAgICAgICB3aXRob3V0IGVtbWl0dGluZyBhIGNoYW5nZSBldmVudCAtIHRodXNcbiAgICAgICAgICAgICAgICB2aW9sYXRpbmcgdGhlIGFzc3VtcHRpb24uIFRoaXMgcHJlc2VydmVzXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwgaW50ZWdyaXR5IGkgdGhlIG1vbml0b3IuXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl92YXJpYWJsZV9tYXAuZ2V0KHZhcmlhYmxlKTtcbiAgICAgICAgICAgIGl0ZW0ucG9sbGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIGhhbmRsZS5jYWxsYmFjayhzdGF0ZSk7XG4gICAgfVxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIEZSQU1FUkFURSBNT05JVE9SXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblxuY2xhc3MgRnJhbWVyYXRlTW9uaXRvciBleHRlbmRzIFRpbWVvdXRNb25pdG9yIHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM9e30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAgICB0aW1lb3V0cyBhcmUgb2Jzb2xldGVcbiAgICAqL1xuICAgIF9zZXRfdGltZW91dHModmFyaWFibGUpIHt9XG4gICAgX3NldF90aW1lb3V0KGhhbmRsZSkge31cbiAgICBfY2FsY3VsYXRlX2RlbHRhKGRlbGF5KSB7fVxuICAgIF9jbGVhcl90aW1lb3V0cyh2YXJpYWJsZSkge31cbiAgICBfaGFuZGxlX3RpbWVvdXQoaGFuZGxlKSB7fVxuXG4gICAgX29udmFyaWFibGVjaGFuZ2UgKGVBcmcsIGVJbmZvKSB7XG4gICAgICAgIHN1cGVyLl9vbnZhcmlhYmxlY2hhbmdlKGVBcmcsIGVJbmZvKTtcbiAgICAgICAgLy8ga2ljayBvZmYgY2FsbGJhY2sgbG9vcCBkcml2ZW4gYnkgcmVxdWVzdCBhbmltYXRpb25mcmFtZVxuICAgICAgICB0aGlzLl9jYWxsYmFjaygpO1xuICAgIH1cblxuICAgIF9jYWxsYmFjaygpIHtcbiAgICAgICAgLy8gY2FsbGJhY2sgdG8gYWxsIHZhcmlhYmxlcyB3aGljaCByZXF1aXJlIHBvbGxpbmdcbiAgICAgICAgbGV0IHZhcmlhYmxlcyA9IFsuLi50aGlzLl92YXJpYWJsZV9tYXAuZW50cmllcygpXVxuICAgICAgICAgICAgLmZpbHRlcigoW3ZhcmlhYmxlLCBpdGVtXSkgPT4gaXRlbS5wb2xsaW5nKVxuICAgICAgICAgICAgLm1hcCgoW3ZhcmlhYmxlLCBpdGVtXSkgPT4gdmFyaWFibGUpO1xuICAgICAgICBpZiAodmFyaWFibGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgICAgICBmb3IgKGxldCB2YXJpYWJsZSBvZiB2YXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQge2hhbmRsZXN9ID0gdGhpcy5fdmFyaWFibGVfbWFwLmdldCh2YXJpYWJsZSk7XG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IHZhcmlhYmxlLnF1ZXJ5KCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaGFuZGxlIG9mIGhhbmRsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmNhbGxiYWNrKHJlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogXG4gICAgICAgICAgICAgICAgcmVxdWVzdCBuZXh0IGNhbGxiYWNrIGFzIGxvbmcgYXMgYXQgbGVhc3Qgb25lIHZhcmlhYmxlIFxuICAgICAgICAgICAgICAgIGlzIHJlcXVpcmluZyBwb2xsaW5nXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2NhbGxiYWNrLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBCSU5EIFJFTEVBU0VcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuY29uc3QgbW9uaXRvciA9IG5ldyBUaW1lb3V0TW9uaXRvcigpO1xuY29uc3QgZnJhbWVyYXRlX21vbml0b3IgPSBuZXcgRnJhbWVyYXRlTW9uaXRvcigpO1xuXG5leHBvcnQgZnVuY3Rpb24gYmluZCh2YXJpYWJsZSwgY2FsbGJhY2ssIGRlbGF5LCBvcHRpb25zPXt9KSB7XG4gICAgbGV0IGhhbmRsZTtcbiAgICBpZiAoQm9vbGVhbihwYXJzZUZsb2F0KGRlbGF5KSkpIHtcbiAgICAgICAgaGFuZGxlID0gbW9uaXRvci5iaW5kKHZhcmlhYmxlLCBjYWxsYmFjaywgZGVsYXksIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gW1widGltZW91dFwiLCBoYW5kbGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZSA9IGZyYW1lcmF0ZV9tb25pdG9yLmJpbmQodmFyaWFibGUsIGNhbGxiYWNrLCAwLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFtcImZyYW1lcmF0ZVwiLCBoYW5kbGVdO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlKGhhbmRsZSkge1xuICAgIGxldCBbdHlwZSwgX2hhbmRsZV0gPSBoYW5kbGU7XG4gICAgaWYgKHR5cGUgPT0gXCJ0aW1lb3V0XCIpIHtcbiAgICAgICAgcmV0dXJuIG1vbml0b3IucmVsZWFzZShfaGFuZGxlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJmcmFtZXJhdGVcIikge1xuICAgICAgICByZXR1cm4gZnJhbWVyYXRlX21vbml0b3IucmVsZWFzZShfaGFuZGxlKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCAqIGFzIHNyY3Byb3AgZnJvbSBcIi4vYXBpX3NyY3Byb3AuanNcIjtcbmltcG9ydCB7IExPQ0FMX0NMT0NLX1BST1ZJREVSLCBpc19jbG9ja3Byb3ZpZGVyIH0gZnJvbSBcIi4vY2xvY2twcm92aWRlci5qc1wiO1xuaW1wb3J0IHsgY21kIH0gZnJvbSBcIi4vY21kLmpzXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuL2xheWVycy5qc1wiO1xuaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tIFwiLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IGJpbmQsIHJlbGVhc2UgfSBmcm9tIFwiLi9tb25pdG9yLmpzXCI7XG5pbXBvcnQgeyBOZWFyYnlJbmRleEJhc2UgfSBmcm9tIFwiLi9uZWFyYnlpbmRleF9iYXNlLmpzXCI7XG5cblxuXG4vKipcbiAqIEN1cnNvciBlbXVsYXRlcyBMYXllciBpbnRlcmZhY2UuXG4gKiBQYXJ0IG9mIHRoaXMgaXMgdG8gcHJvdmUgYW4gaW5kZXggZm9yIHRoZSB0aW1lbGluZS4gXG4gKiBIb3dldmVyLCB3aGVuIGNvbnNpZGVyZWQgYXMgYSBsYXllciwgdGhlIGN1cnNvciB2YWx1ZSBpcyBcbiAqIGluZGVwZW5kZW50IG9mIHRpbWVsaW5lIG9mZnNldCwgd2hpY2ggaXMgdG8gc2F5IHRoYXRcbiAqIGl0IGhhcyB0aGUgc2FtZSB2YWx1ZSBmb3IgYWxsIHRpbWVsaW5lIG9mZnNldHMuXG4gKiBcbiAqIFVubGlrZSBvdGhlciBMYXllcnMsIHRoZSBDdXJzb3IgZG8gbm90IGFjdHVhbGx5XG4gKiB1c2UgdGhpcyBpbmRleCB0byByZXNvbHZlIHF1ZXJpZXMuIEl0IGlzIG9ubHkgbmVlZGVkXG4gKiBmb3Igc29tZSBnZW5lcmljIExheWVyIGZ1bmN0aW9ubmFsaXR5LCBsaWtlIHNhbXBsaW5nLFxuICogd2hpY2ggdXNlcyBpbmRleC5maXJzdCgpIGFuZCBpbmRleC5sYXN0KCkuXG4gKi9cblxuY2xhc3MgQ3Vyc29ySW5kZXggZXh0ZW5kcyBOZWFyYnlJbmRleEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoY3Vyc29yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2NhY2hlID0gY3Vyc29yLmdldENhY2hlKCk7XG4gICAgfVxuXG4gICAgbmVhcmJ5KG9mZnNldCkge1xuICAgICAgICAvLyBjdXJzb3IgaW5kZXggaXMgZGVmaW5lZCBmb3IgZW50aXJlIHRpbWVsaW5lXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpdHY6IFstSW5maW5pdHksIEluZmluaXR5LCB0cnVlLCB0cnVlXSxcbiAgICAgICAgICAgIGNlbnRlcjogW3RoaXMuX2NhY2hlXSxcbiAgICAgICAgICAgIGxlZnQ6IFstSW5maW5pdHksIDBdLFxuICAgICAgICAgICAgcHJldjogWy1JbmZpbml0eSwgMF0sXG4gICAgICAgICAgICByaWdodDogW0luZmluaXR5LCAwXSxcbiAgICAgICAgICAgIG5leHQ6IFtJbmZpbml0eSwgMF0sXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogXG4gKiBDdXJzb3IgY2FjaGUgaW1wbGVtZW50cyB0aGUgcXVlcnkgb3BlcmF0aW9uIGZvciBcbiAqIHRoZSBDdXJzb3IsIGlnbm9yaW5nIHRoZSBnaXZlbiBvZmZzZXQsIHJlcGxhY2luZyBpdCBcbiAqIHdpdGggYW4gb2Zmc2V0IGZyb20gdGhlIGN0cmwgaW5zdGVhZC4gXG4gKiBUaGUgbGF5ZXIgY2FjaGUgaXMgdXNlZCB0byByZXNvbHZlIHRoZSBxdWVyeSBcbiAqL1xuXG5jbGFzcyBDdXJzb3JDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoY3Vyc29yKSB7XG4gICAgICAgIHRoaXMuX2N1cnNvciA9IGN1cnNvcjtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSB0aGlzLl9jdXJzb3Iuc3JjLmdldENhY2hlKCk7XG4gICAgfVxuXG4gICAgcXVlcnkoKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX2N1cnNvci5fZ2V0X2N0cmxfc3RhdGUoKS52YWx1ZTsgXG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZS5xdWVyeShvZmZzZXQpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9jYWNoZS5jbGVhcigpO1xuICAgIH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDVVJTT1JcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogXG4gKiBDdXJzb3IgZ2xpZGVzIGFsb25nIGEgbGF5ZXIgYW5kIGV4cG9zZXMgdGhlIGN1cnJlbnQgbGF5ZXJcbiAqIHZhbHVlIGF0IGFueSB0aW1lXG4gKiAtIGhhcyBtdXRhYmxlIGN0cmwgKGxvY2FsQ2xvY2tQcm92aWRlciBvciBDdXJzb3IpXG4gKiAtIGhhcyBtdXRhYmxlIHNyYyAobGF5ZXIpXG4gKiAtIG1ldGhvZHMgZm9yIGFzc2lnbiwgbW92ZSwgdHJhbnNpdGlvbiwgaW50ZXJwb2xhdGlvblxuICovXG5cbmV4cG9ydCBjbGFzcyBDdXJzb3IgZXh0ZW5kcyBMYXllciB7XG5cbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucz17fSkge1xuICAgICAgICBzdXBlcih7Q2FjaGVDbGFzczpDdXJzb3JDYWNoZX0pO1xuXG4gICAgICAgIC8vIHNldHVwIHNyYyBwcm9wZXJ0aWVzXG4gICAgICAgIHNyY3Byb3AuYWRkVG9JbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgdGhpcy5zcmNwcm9wX3JlZ2lzdGVyKFwic3JjXCIpO1xuICAgICAgICB0aGlzLnNyY3Byb3BfcmVnaXN0ZXIoXCJjdHJsXCIpO1xuXG4gICAgICAgIC8vIHRpbWVvdXRcbiAgICAgICAgdGhpcy5fdGlkO1xuICAgICAgICAvLyBwb2xsaW5nXG4gICAgICAgIHRoaXMuX3BpZDtcblxuICAgICAgICAvLyBpbml0aWFsaXNlIGN0cmwsIHNyY1xuICAgICAgICBsZXQge3NyYywgY3RybH0gPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmN0cmwgPSBjdHJsIHx8IExPQ0FMX0NMT0NLX1BST1ZJREVSO1xuICAgICAgICB0aGlzLnNyYyA9IHNyYztcbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqIFNSQ1BST1A6IENUUkwgYW5kIFNSQ1xuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgc3JjcHJvcF9jaGVjayhwcm9wTmFtZSwgb2JqKSB7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PSBcImN0cmxcIikge1xuICAgICAgICAgICAgaWYgKCEoaXNfY2xvY2twcm92aWRlcihvYmopIHx8IG9iaiBpbnN0YW5jZW9mIEN1cnNvcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFwiY3RybFwiIG11c3QgYmUgY2xvY2tQcm92aWRlciBvciBDdXJzb3IgJHtvYmp9YClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcm9wTmFtZSA9PSBcInNyY1wiKSB7XG4gICAgICAgICAgICBpZiAoIShvYmogaW5zdGFuY2VvZiBMYXllcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFwic3JjXCIgbXVzdCBiZSBMYXllciAke29ian1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIHNyY3Byb3Bfb25jaGFuZ2UocHJvcE5hbWUsIGVBcmcpIHtcbiAgICAgICAgdGhpcy5fX2hhbmRsZV9jaGFuZ2UocHJvcE5hbWUsIGVBcmcpO1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogQ0FMTEJBQ0tcbiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIF9faGFuZGxlX2NoYW5nZShvcmlnaW4sIGVBcmcpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpZCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcGlkKTtcbiAgICAgICAgaWYgKHRoaXMuc3JjICYmIHRoaXMuY3RybCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gdW5kZWZpbmVkIHx8IGVBcmcgPT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gTk9UIHVzZWQgZm9yIGN1cnNvciBxdWVyeSBcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gbmV3IEN1cnNvckluZGV4KHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlcygpO1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlfY2FsbGJhY2tzKCk7XG4gICAgICAgICAgICAvLyB0cmlnZ2VyIGNoYW5nZSBldmVudCBmb3IgY3Vyc29yXG4gICAgICAgICAgICB0aGlzLmV2ZW50aWZ5VHJpZ2dlcihcImNoYW5nZVwiLCB0aGlzLnF1ZXJ5KCkpO1xuICAgICAgICAgICAgLy8gZGV0ZWN0IGZ1dHVyZSBjaGFuZ2UgZXZlbnQgLSBpZiBuZWVkZWRcbiAgICAgICAgICAgIHRoaXMuX19kZXRlY3RfZnV0dXJlX2NoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogREVURUNUIEZVVFVSRSBDSEFOR0VcbiAgICAgKiBcbiAgICAgKiBQUk9CTEVNOlxuICAgICAqIFxuICAgICAqIER1cmluZyBwbGF5YmFjayAoY3Vyc29yLmN0cmwgaXMgZHluYW1pYyksIHRoZXJlIGlzIGEgbmVlZCB0byBcbiAgICAgKiBkZXRlY3QgdGhlIHBhc3NpbmcgZnJvbSBvbmUgc2VnbWVudCBpbnRlcnZhbCBvZiBzcmNcbiAgICAgKiB0byB0aGUgbmV4dCAtIGlkZWFsbHkgYXQgcHJlY2lzZWx5IHRoZSBjb3JyZWN0IHRpbWVcbiAgICAgKiBcbiAgICAgKiBuZWFyYnkuaXR2IChkZXJpdmVkIGZyb20gY3Vyc29yLnNyYykgZ2l2ZXMgdGhlIFxuICAgICAqIGludGVydmFsIChpKSB3ZSBhcmUgY3VycmVudGx5IGluLCBpLmUuLCBcbiAgICAgKiBjb250YWluaW5nIHRoZSBjdXJyZW50IG9mZnNldCAodmFsdWUgb2YgY3Vyc29yLmN0cmwpLCBcbiAgICAgKiBhbmQgKGlpKSB3aGVyZSBuZWFyYnkuY2VudGVyIHN0YXlzIGNvbnN0YW50XG4gICAgICogXG4gICAgICogVGhlIGV2ZW50IHRoYXQgbmVlZHMgdG8gYmUgZGV0ZWN0ZWQgaXMgdGhlcmVmb3JlIHRoZVxuICAgICAqIG1vbWVudCB3aGVuIHdlIGxlYXZlIHRoaXMgaW50ZXJ2YWwsIHRocm91Z2ggZWl0aGVyXG4gICAgICogdGhlIGxvdyBvciBoaWdoIGludGVydmFsIGVuZHBvaW50XG4gICAgICogXG4gICAgICogR09BTDpcbiAgICAgKiBcbiAgICAgKiBBdCB0aGlzIG1vbWVudCwgd2Ugc2ltcGx5IG5lZWQgdG8gcmVldmFsdWF0ZSB0aGUgc3RhdGUgKHF1ZXJ5KSBhbmRcbiAgICAgKiBlbWl0IGEgY2hhbmdlIGV2ZW50IHRvIG5vdGlmeSBvYnNlcnZlcnMuIFxuICAgICAqIFxuICAgICAqIEFQUFJPQUNIRVM6XG4gICAgICogXG4gICAgICogQXBwcm9hY2ggWzBdIFxuICAgICAqIFRoZSB0cml2aWFsIHNvbHV0aW9uIGlzIHRvIGRvIG5vdGhpbmcsIGluIHdoaWNoIGNhc2VcbiAgICAgKiBvYnNlcnZlcnMgd2lsbCBzaW1wbHkgZmluZCBvdXQgdGhlbXNlbHZlcyBhY2NvcmRpbmcgdG8gdGhlaXIgXG4gICAgICogb3duIHBvbGwgZnJlcXVlbmN5LiBUaGlzIGlzIHN1Ym9wdGltYWwsIHBhcnRpY3VsYXJseSBmb3IgbG93IGZyZXF1ZW5jeSBcbiAgICAgKiBvYnNlcnZlcnMuIElmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBoaWdoLWZyZXF1ZW5jeSBwb2xsZXIsIFxuICAgICAqIHRoaXMgd291bGQgdHJpZ2dlciB0cmlnZ2VyIHRoZSBzdGF0ZSBjaGFuZ2UsIGNhdXNpbmcgYWxsXG4gICAgICogb2JzZXJ2ZXJzIHRvIGJlIG5vdGlmaWVkLiBUaGUgcHJvYmxlbSB0aG91Z2gsIGlzIGlmIG5vIG9ic2VydmVyc1xuICAgICAqIGFyZSBhY3RpdmVseSBwb2xsaW5nLCBidXQgb25seSBkZXBlbmRpbmcgb24gY2hhbmdlIGV2ZW50cy5cbiAgICAgKiBcbiAgICAgKiBBcHByb2FjaCBbMV0gXG4gICAgICogSW4gY2FzZXMgd2hlcmUgdGhlIGN0cmwgaXMgZGV0ZXJtaW5pc3RpYywgYSB0aW1lb3V0XG4gICAgICogY2FuIGJlIGNhbGN1bGF0ZWQuIFRoaXMgaXMgdHJpdmlhbCBpZiBjdHJsIGlzIGEgQ2xvY2tQcm92aWRlciwgYW5kXG4gICAgICogaXQgaXMgZmFpcmx5IGVhc3kgaWYgdGhlIGN0cmwgaXMgQ3Vyc29yIHJlcHJlc2VudGluZyBtb3Rpb25cbiAgICAgKiBvciBsaW5lYXIgdHJhbnNpdGlvbi4gSG93ZXZlciwgY2FsY3VsYXRpb25zIGNhbiBiZWNvbWUgbW9yZVxuICAgICAqIGNvbXBsZXggaWYgbW90aW9uIHN1cHBvcnRzIGFjY2VsZXJhdGlvbiwgb3IgaWYgdHJhbnNpdGlvbnNcbiAgICAgKiBhcmUgc2V0IHVwIHdpdGggbm9uLWxpbmVhciBlYXNpbmcuXG4gICAgICogICBcbiAgICAgKiBOb3RlLCBob3dldmVyLCB0aGF0IHRoZXNlIGNhbGN1bGF0aW9ucyBhc3N1bWUgdGhhdCB0aGUgY3Vyc29yLmN0cmwgaXMgXG4gICAgICogYSBDbG9ja1Byb3ZpZGVyLCBvciB0aGF0IGN1cnNvci5jdHJsLmN0cmwgaXMgYSBDbG9ja1Byb2lkZXIuIFxuICAgICAqIEluIHByaW5jaXBsZSwgdGhvdWdoLCB0aGVyZSBjb3VsZCBiZSBhIHJlY3Vyc2l2ZSBjaGFpbiBvZiBjdXJzb3JzLFxuICAgICAqIChjdXJzb3IuY3RybC5jdHJsLi4uLmN0cmwpIG9mIHNvbWUgbGVuZ3RoLCB3aGVyZSBvbmx5IHRoZSBsYXN0IGlzIGEgXG4gICAgICogQ2xvY2tQcm92aWRlci4gSW4gb3JkZXIgdG8gZG8gZGV0ZXJtaW5pc3RpYyBjYWxjdWxhdGlvbnMgaW4gdGhlIGdlbmVyYWxcbiAgICAgKiBjYXNlLCBhbGwgY3Vyc29ycyBpbiB0aGUgY2hhaW4gd291bGQgaGF2ZSB0byBiZSBsaW1pdGVkIHRvIFxuICAgICAqIGRldGVybWluaXN0aWMgbGluZWFyIHRyYW5zZm9ybWF0aW9ucy5cbiAgICAgKiBcbiAgICAgKiBBcHByb2NoIFsyXSBcbiAgICAgKiBJdCBtaWdodCBhbHNvIGJlIHBvc3NpYmxlIHRvIHNhbXBsZSBmdXR1cmUgdmFsdWVzIG9mIFxuICAgICAqIGN1cnNvci5jdHJsIHRvIHNlZSBpZiB0aGUgdmFsdWVzIHZpb2xhdGUgdGhlIG5lYXJieS5pdHYgYXQgc29tZSBwb2ludC4gXG4gICAgICogVGhpcyB3b3VsZCBlc3NlbnRpYWxseSBiZSB0cmVhdGluZyBjdHJsIGFzIGEgbGF5ZXIgYW5kIHNhbXBsaW5nIFxuICAgICAqIGZ1dHVyZSB2YWx1ZXMuIFRoaXMgYXBwcm9jaCB3b3VsZCB3b3JrIGZvciBhbGwgdHlwZXMsIFxuICAgICAqIGJ1dCB0aGVyZSBpcyBubyBrbm93aW5nIGhvdyBmYXIgaW50byB0aGUgZnV0dXJlIG9uZSBcbiAgICAgKiB3b3VsZCBoYXZlIHRvIHNlZWsuIEhvd2V2ZXIsIGFnYWluIC0gYXMgaW4gWzFdIHRoZSBhYmlsaXR5IHRvIHNhbXBsZSBmdXR1cmUgdmFsdWVzXG4gICAgICogaXMgcHJlZGljYXRlZCBvbiBjdXJzb3IuY3RybCBiZWluZyBhIENsb2NrUHJvdmlkZXIuIEFsc28sIHRoZXJlIFxuICAgICAqIGlzIG5vIHdheSBvZiBrbm93aW5nIGhvdyBsb25nIGludG8gdGhlIGZ1dHVyZSBzYW1wbGluZyB3b3VsZCBiZSBuZWNlc3NhcnkuXG4gICAgICogXG4gICAgICogQXBwcm9hY2ggWzNdIFxuICAgICAqIEluIHRoZSBnZW5lcmFsIGNhc2UsIHRoZSBvbmx5IHdheSB0byByZWxpYWJsZXkgZGV0ZWN0IHRoZSBldmVudCBpcyB0aHJvdWdoIHJlcGVhdGVkXG4gICAgICogcG9sbGluZy4gQXBwcm9hY2ggWzNdIGlzIHNpbXBseSB0aGUgaWRlYSB0aGF0IHRoaXMgcG9sbGluZyBpcyBwZXJmb3JtZWRcbiAgICAgKiBpbnRlcm5hbGx5IGJ5IHRoZSBjdXJzb3IgaXRzZWxmLCBhcyBhIHdheSBvZiBzZWN1cmluZyBpdHMgb3duIGNvbnNpc3RlbnRcbiAgICAgKiBzdGF0ZSwgYW5kIGVuc3VyaW5nIHRoYXQgb2JzZXJ2ZXIgZ2V0IGNoYW5nZSBldmVudHMgaW4gYSB0aW1lbHkgbWFubmVyLCBldmVudFxuICAgICAqIGlmIHRoZXkgZG8gbG93LWZyZXF1ZW5jeSBwb2xsaW5nLCBvciBkbyBub3QgZG8gcG9sbGluZyBhdCBhbGwuIFxuICAgICAqIFxuICAgICAqIFNPTFVUSU9OOlxuICAgICAqIEFzIHRoZXJlIGlzIG5vIHBlcmZlY3Qgc29sdXRpb24gaW4gdGhlIGdlbmVyYWwgY2FzZSwgd2Ugb3Bwb3J0dW5pc3RpY2FsbHlcbiAgICAgKiB1c2UgYXBwcm9hY2ggWzFdIHdoZW4gdGhpcyBpcyBwb3NzaWJsZS4gSWYgbm90LCB3ZSBhcmUgZmFsbGluZyBiYWNrIG9uIFxuICAgICAqIGFwcHJvYWNoIFszXVxuICAgICAqIFxuICAgICAqIENPTkRJVElPTlMgd2hlbiBOTyBldmVudCBkZXRlY3Rpb24gaXMgbmVlZGVkIChOT09QKVxuICAgICAqIChpKSBjdXJzb3IuY3RybCBpcyBub3QgZHluYW1pY1xuICAgICAqIG9yXG4gICAgICogKGlpKSBuZWFyYnkuaXR2IHN0cmV0Y2hlcyBpbnRvIGluZmluaXR5IGluIGJvdGggZGlyZWN0aW9uc1xuICAgICAqIFxuICAgICAqIENPTkRJVElPTlMgd2hlbiBhcHByb2FjaCBbMV0gY2FuIGJlIHVzZWRcbiAgICAgKiBcbiAgICAgKiAoaSkgaWYgY3RybCBpcyBhIENsb2NrUHJvdmlkZXIgJiYgbmVhcmJ5Lml0di5oaWdoIDwgSW5maW5pdHlcbiAgICAgKiBvclxuICAgICAqIChpaSkgY3RybC5jdHJsIGlzIGEgQ2xvY2tQcm92aWRlclxuICAgICAqICAgICAgKGEpIGN0cmwubmVhcmJ5LmNlbnRlciBoYXMgZXhhY3RseSAxIGl0ZW1cbiAgICAgKiAgICAgICYmXG4gICAgICogICAgICAoYikgY3RybC5uZWFyYnkuY2VudGVyWzBdLnR5cGUgPT0gKFwibW90aW9uXCIpIHx8IChcInRyYW5zaXRpb25cIiAmJiBlYXNpbmc9PVwibGluZWFyXCIpXG4gICAgICogICAgICAmJlxuICAgICAqICAgICAgKGMpIGN0cmwubmVhcmJ5LmNlbnRlclswXS5kYXRhLnZlbG9jaXR5ICE9IDAuMFxuICAgICAqICAgICAgJiYgXG4gICAgICogICAgICAoZCkgZnV0dXJlIGludGVyc2VjdG9uIHBvaW50IHdpdGggY2FjaGUubmVhcmJ5Lml0diBcbiAgICAgKiAgICAgICAgICBpcyBub3QgLUluZmluaXR5IG9yIEluZmluaXR5XG4gICAgICogXG4gICAgICogVGhvdWdoIGl0IHNlZW1zIGNvbXBsZXgsIGNvbmRpdGlvbnMgZm9yIFsxXSBzaG91bGQgYmUgbWV0IGZvciBjb21tb24gY2FzZXMgaW52b2x2aW5nXG4gICAgICogcGxheWJhY2suIEFsc28sIHVzZSBvZiB0cmFuc2l0aW9uIGV0YyBtaWdodCBiZSByYXJlLlxuICAgICAqIFxuICAgICAqL1xuXG4gICAgX19kZXRlY3RfZnV0dXJlX2NoYW5nZSgpIHtcblxuICAgICAgICAvLyBjdHJsIFxuICAgICAgICBjb25zdCBjdHJsX3ZlY3RvciA9IHRoaXMuX2dldF9jdHJsX3N0YXRlKCk7XG4gICAgICAgIGNvbnN0IHt2YWx1ZTpjdXJyZW50X3Bvcywgb2Zmc2V0OmN1cnJlbnRfdHN9ID0gY3RybF92ZWN0b3I7XG5cbiAgICAgICAgLy8gY3RybCBtdXN0IGJlIGR5bmFtaWNcbiAgICAgICAgaWYgKCFjdHJsX3ZlY3Rvci5keW5hbWljKSB7XG4gICAgICAgICAgICAvLyBubyBmdXR1cmUgZXZlbnQgdG8gZGV0ZWN0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgbmVhcmJ5IGZyb20gc3JjIC0gdXNlIHZhbHVlIGZyb20gY3RybFxuICAgICAgICBjb25zdCBzcmNfbmVhcmJ5ID0gdGhpcy5zcmMuaW5kZXgubmVhcmJ5KGN1cnJlbnRfcG9zKTtcbiAgICAgICAgY29uc3QgW2xvdywgaGlnaF0gPSBzcmNfbmVhcmJ5Lml0di5zbGljZSgwLDIpO1xuXG4gICAgICAgIC8vIGFwcHJvYWNoIFsxXVxuICAgICAgICBpZiAoaXNfY2xvY2twcm92aWRlcih0aGlzLmN0cmwpKSB7XG4gICAgICAgICAgICBpZiAoaXNGaW5pdGUoaGlnaCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fc2V0X3RpbWVvdXQoaGlnaCwgY3VycmVudF9wb3MsIDEuMCwgY3VycmVudF90cyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm8gZnV0dXJlIGV2ZW50IHRvIGRldGVjdFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IFxuICAgICAgICBpZiAoaXNfY2xvY2twcm92aWRlcih0aGlzLmN0cmwuY3RybCkpIHtcbiAgICAgICAgICAgIC8qKiBcbiAgICAgICAgICAgICAqIHRoaXMuY3RybCBcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogaGFzIG1hbnkgcG9zc2libGUgYmVoYXZpb3JzXG4gICAgICAgICAgICAgKiB0aGlzLmN0cmwgaGFzIGFuIGluZGV4IHVzZSB0aGlzIHRvIGZpZ3VyZSBvdXQgd2hpY2hcbiAgICAgICAgICAgICAqIGJlaGF2aW91ciBpcyBjdXJyZW50LlxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gdXNlIHRoZSBzYW1lIG9mZnNldCB0aGF0IHdhcyB1c2VkIGluIHRoZSBjdHJsLnF1ZXJ5XG4gICAgICAgICAgICBjb25zdCBjdHJsX25lYXJieSA9IHRoaXMuY3RybC5pbmRleC5uZWFyYnkoY3VycmVudF90cyk7XG5cbiAgICAgICAgICAgIGlmICghaXNGaW5pdGUobG93KSAmJiAhaXNGaW5pdGUoaGlnaCkpIHtcbiAgICAgICAgICAgICAgICAvLyBubyBmdXR1cmUgZXZlbnQgdG8gZGV0ZWN0XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN0cmxfbmVhcmJ5LmNlbnRlci5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN0cmxfaXRlbSA9IGN0cmxfbmVhcmJ5LmNlbnRlclswXTtcbiAgICAgICAgICAgICAgICBpZiAoY3RybF9pdGVtLnR5cGUgPT0gXCJtb3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7dmVsb2NpdHksIGFjY2VsZXJhdGlvbj0wLjB9ID0gY3RybF9pdGVtLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2NlbGVyYXRpb24gPT0gMC4wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHdoaWNoIGJvdW5kYXJ5IHdlIGhpdCBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldF9wb3MgPSAodmVsb2NpdHkgPiAwKSA/IGhpZ2ggOiBsb3c7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGaW5pdGUodGFyZ2V0X3BvcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9fc2V0X3RpbWVvdXQodGFyZ2V0X3BvcywgY3VycmVudF9wb3MsIHZlbG9jaXR5LCBjdXJyZW50X3RzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47ICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gZnV0dXJlIGV2ZW50IHRvIGRldGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGFjY2VsZXJhdGlvbiAtIHBvc3NpYmxlIGV2ZW50IHRvIGRldGVjdFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3RybF9pdGVtLnR5cGUgPT0gXCJ0cmFuc2l0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge3YwOnAwLCB2MTpwMSwgdDAsIHQxLCBlYXNpbmc9XCJsaW5lYXJcIn0gPSBjdHJsX2l0ZW0uZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVhc2luZyA9PSBcImxpbmVhclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaW5lYXIgdHJhbnN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmVsb2NpdHkgPSAocDEtcDApLyh0MS10MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHdoaWNoIGJvdW5kYXJ5IHdlIGhpdCBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0X3BvcyA9ICh2ZWxvY2l0eSA+IDApID8gTWF0aC5taW4oaGlnaCwgcDEpIDogTWF0aC5tYXgobG93LCBwMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9fc2V0X3RpbWVvdXQodGFyZ2V0X3BvcywgY3VycmVudF9wb3MsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5LCBjdXJyZW50X3RzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXIgZWFzaW5nIC0gcG9zc2libGUgZXZlbnQgdG8gZGV0ZWN0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG90aGVyIHR5cGUgKGludGVycG9sYXRpb24pIC0gcG9zc2libGUgZXZlbnQgdG8gZGV0ZWN0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtb3JlIHRoYW4gb25lIHNlZ21lbnQgLSBwb3NzaWJsZSBldmVudCB0byBkZXRlY3RcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBvc3NpYmxlIGV2ZW50IHRvIGRldGVjdCAtIGFwcHJvYWNoIFszXVxuICAgICAgICB0aGlzLl9fc2V0X3BvbGxpbmcoc3JjX25lYXJieS5pdHYpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNldCB0aW1lb3V0XG4gICAgICogLSBwcm90ZWN0cyBhZ2FpbnN0IHRvbyBlYXJseSBjYWxsYmFja3MgYnkgcmVzY2hlZHVsaW5nXG4gICAgICogdGltZW91dCBpZiBuZWNjZXNzYXJ5LlxuICAgICAqIC0gYWRkcyBhIG1pbGxpc2Vjb25kIHRvIG9yaWdpbmFsIHRpbWVvdXQgdG8gYXZvaWRcbiAgICAgKiBmcmVxdWVudCByZXNjaGVkdWxpbmcgXG4gICAgICovXG5cbiAgICBfX3NldF90aW1lb3V0KHRhcmdldF9wb3MsIGN1cnJlbnRfcG9zLCB2ZWxvY2l0eSwgY3VycmVudF90cykge1xuICAgICAgICBjb25zdCBkZWx0YV9zZWMgPSAodGFyZ2V0X3BvcyAtIGN1cnJlbnRfcG9zKSAvIHZlbG9jaXR5O1xuICAgICAgICBjb25zdCB0YXJnZXRfdHMgPSBjdXJyZW50X3RzICsgZGVsdGFfc2VjO1xuICAgICAgICB0aGlzLl90aWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX19oYW5kbGVfdGltZW91dCh0YXJnZXRfdHMpO1xuICAgICAgICB9LCBkZWx0YV9zZWMqMTAwMCArIDEpO1xuICAgIH1cblxuICAgIF9faGFuZGxlX3RpbWVvdXQodGFyZ2V0X3RzKSB7XG4gICAgICAgIGNvbnN0IHRzID0gdGhpcy5fZ2V0X2N0cmxfc3RhdGUoKS5vZmZzZXQ7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ19zZWMgPSB0YXJnZXRfdHMgLSB0czsgXG4gICAgICAgIGlmIChyZW1haW5pbmdfc2VjIDw9IDApIHtcbiAgICAgICAgICAgIC8vIGRvbmVcbiAgICAgICAgICAgIHRoaXMuX19oYW5kbGVfY2hhbmdlKFwidGltZW91dFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlc2NoZWR1bGUgdGltZW91dFxuICAgICAgICAgICAgdGhpcy5fdGlkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2hhbmRsZV90aW1lb3V0KHRhcmdldF90cylcbiAgICAgICAgICAgIH0sIHJlbWFpbmluZ19zZWMqMTAwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzZXQgcG9sbGluZ1xuICAgICAqL1xuXG4gICAgX19zZXRfcG9sbGluZyhpdHYpIHtcbiAgICAgICAgdGhpcy5fcGlkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fX2hhbmRsZV9wb2xsKGl0dik7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgfVxuXG4gICAgX19oYW5kbGVfcG9sbChpdHYpIHtcbiAgICAgICAgbGV0IG9mZnNldCA9IHRoaXMucXVlcnkoKS52YWx1ZTtcbiAgICAgICAgaWYgKCFpbnRlcnZhbC5jb3ZlcnNfcG9pbnQoaXR2LCBvZmZzZXQpKSB7XG4gICAgICAgICAgICB0aGlzLl9faGFuZGxlX2NoYW5nZShcInRpbWVvdXRcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqIFFVRVJZIEFQSVxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgX2dldF9jdHJsX3N0YXRlICgpIHtcbiAgICAgICAgaWYgKGlzX2Nsb2NrcHJvdmlkZXIodGhpcy5jdHJsKSkge1xuICAgICAgICAgICAgbGV0IHRzID0gdGhpcy5jdHJsLm5vdygpO1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTp0cywgZHluYW1pYzp0cnVlLCBvZmZzZXQ6dHN9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5jdHJsLnF1ZXJ5KCk7XG4gICAgICAgICAgICAvLyBwcm90ZWN0IGFnYWluc3Qgbm9uLWZsb2F0IHZhbHVlc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZS52YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHdhcm5pbmc6IGN0cmwgc3RhdGUgbXVzdCBiZSBudW1iZXIgJHtzdGF0ZS52YWx1ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCB2YWx1ZSAoKSB7cmV0dXJuIHRoaXMucXVlcnkoKS52YWx1ZX07XG4gICAgXG4gICAgLypcbiAgICAgICAgRXZlbnRpZnk6IGltbWVkaWF0ZSBldmVudHNcbiAgICAqL1xuICAgIGV2ZW50aWZ5SW5pdEV2ZW50QXJncyhuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lID09IFwiY2hhbmdlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBbdGhpcy5xdWVyeSgpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqIEJJTkQgUkVMRUFTRSAoY29udmVuaWVuY2UpXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICBiaW5kKGNhbGxiYWNrLCBkZWxheSwgb3B0aW9ucz17fSkge1xuICAgICAgICByZXR1cm4gYmluZCh0aGlzLCBjYWxsYmFjaywgZGVsYXksIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZWxlYXNlKGhhbmRsZSkge1xuICAgICAgICByZXR1cm4gcmVsZWFzZShoYW5kbGUpO1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogVVBEQVRFIEFQSVxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgYXNzaWduKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjbWQodGhpcy5zcmMuc3JjKS5hc3NpZ24odmFsdWUpO1xuICAgIH1cbiAgICBtb3ZlICh7cG9zaXRpb24sIHZlbG9jaXR5fSkge1xuICAgICAgICBsZXQge3ZhbHVlLCBvZmZzZXQ6dGltZXN0YW1wfSA9IHRoaXMucXVlcnkoKTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgd2FybmluZzogY3Vyc29yIHN0YXRlIG11c3QgYmUgbnVtYmVyICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gIT0gdW5kZWZpbmVkKSA/IHBvc2l0aW9uIDogdmFsdWU7XG4gICAgICAgIHZlbG9jaXR5ID0gKHZlbG9jaXR5ICE9IHVuZGVmaW5lZCkgPyB2ZWxvY2l0eTogMDtcbiAgICAgICAgcmV0dXJuIGNtZCh0aGlzLnNyYy5zcmMpLm1vdmUoe3Bvc2l0aW9uLCB2ZWxvY2l0eSwgdGltZXN0YW1wfSk7XG4gICAgfVxuICAgIHRyYW5zaXRpb24gKHt0YXJnZXQsIGR1cmF0aW9uLCBlYXNpbmd9KSB7XG4gICAgICAgIGxldCB7dmFsdWU6djAsIG9mZnNldDp0MH0gPSB0aGlzLnF1ZXJ5KCk7XG4gICAgICAgIGlmICh0eXBlb2YgdjAgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHdhcm5pbmc6IGN1cnNvciBzdGF0ZSBtdXN0IGJlIG51bWJlciAke3YwfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbWQodGhpcy5zcmMuc3JjKS50cmFuc2l0aW9uKHYwLCB0YXJnZXQsIHQwLCB0MCArIGR1cmF0aW9uLCBlYXNpbmcpO1xuICAgIH1cbiAgICBpbnRlcnBvbGF0ZSAoe3R1cGxlcywgZHVyYXRpb259KSB7XG4gICAgICAgIGxldCB0MCA9IHRoaXMucXVlcnkoKS5vZmZzZXQ7XG4gICAgICAgIC8vIGFzc3VtaW5nIHRpbXN0YW1wcyBhcmUgaW4gcmFuZ2UgWzAsMV1cbiAgICAgICAgLy8gc2NhbGUgdGltZXN0YW1wcyB0byBkdXJhdGlvblxuICAgICAgICB0dXBsZXMgPSB0dXBsZXMubWFwKChbdix0XSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFt2LCB0MCArIHQqZHVyYXRpb25dO1xuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gY21kKHRoaXMuc3JjLnNyYykuaW50ZXJwb2xhdGUodHVwbGVzKTtcbiAgICB9XG5cbn1cbnNyY3Byb3AuYWRkVG9Qcm90b3R5cGUoQ3Vyc29yLnByb3RvdHlwZSk7XG5zcmNwcm9wLmFkZFRvUHJvdG90eXBlKEN1cnNvci5wcm90b3R5cGUpO1xuXG4iLCJpbXBvcnQgeyBpbnRlcnZhbCwgZW5kcG9pbnR9IGZyb20gXCIuLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4QmFzZSB9IGZyb20gXCIuLi9uZWFyYnlpbmRleF9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuLi9sYXllcnMuanNcIlxuXG5leHBvcnQgY2xhc3MgQm9vbGVhbkxheWVyIGV4dGVuZHMgTGF5ZXIge1xuXG4gICAgY29uc3RydWN0b3IobGF5ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbmRleCA9IG5ldyBCb29sZWFuSW5kZXgobGF5ZXIuaW5kZXgpO1xuICAgIFxuICAgICAgICAvLyBzdWJzY3JpYmVcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX29uY2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIGxheWVyLmFkZF9jYWxsYmFjayhoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBfb25jaGFuZ2UoZUFyZykge1xuICAgICAgICB0aGlzLmNsZWFyQ2FjaGVzKCk7XG4gICAgICAgIHRoaXMubm90aWZ5X2NhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmV2ZW50aWZ5VHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib29sZWFuKGxheWVyKSB7XG4gICAgcmV0dXJuIG5ldyBCb29sZWFuTGF5ZXIobGF5ZXIpO1xufSBcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQk9PTEVBTiBORUFSQlkgSU5ERVhcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBXcmFwcGVyIEluZGV4IHdoZXJlIHJlZ2lvbnMgYXJlIHRydWUvZmFsc2UsIGJhc2VkIG9uIFxuICogY29uZGl0aW9uIG9uIG5lYXJieS5jZW50ZXIuXG4gKiBCYWNrLXRvLWJhY2sgcmVnaW9ucyB3aGljaCBhcmUgdHJ1ZSBhcmUgY29sbGFwc2VkIFxuICogaW50byBvbmUgcmVnaW9uXG4gKiBcbiAqL1xuXG5mdW5jdGlvbiBxdWVyeU9iamVjdCAodmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeTogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZSwgZHluYW1pYzpmYWxzZSwgb2Zmc2V0fTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJvb2xlYW5JbmRleCBleHRlbmRzIE5lYXJieUluZGV4QmFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihpbmRleCwgb3B0aW9ucz17fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xuICAgICAgICBsZXQge2NvbmRpdGlvbiA9IChjZW50ZXIpID0+IGNlbnRlci5sZW5ndGggPiAwfSA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2NvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICB9XG5cbiAgICBuZWFyYnkob2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcbiAgICAgICAgY29uc3QgbmVhcmJ5ID0gdGhpcy5faW5kZXgubmVhcmJ5KG9mZnNldCk7XG4gICAgICAgIFxuICAgICAgICBsZXQgZXZhbHVhdGlvbiA9IHRoaXMuX2NvbmRpdGlvbihuZWFyYnkuY2VudGVyKTsgXG4gICAgICAgIC8qIFxuICAgICAgICAgICAgc2VlayBsZWZ0IGFuZCByaWdodCBmb3IgZmlyc3QgcmVnaW9uXG4gICAgICAgICAgICB3aGljaCBkb2VzIG5vdCBoYXZlIHRoZSBzYW1lIGV2YWx1YXRpb24gXG4gICAgICAgICovXG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IChjZW50ZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25kaXRpb24oY2VudGVyKSAhPSBldmFsdWF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXhwYW5kIHJpZ2h0XG4gICAgICAgIGxldCByaWdodDtcbiAgICAgICAgbGV0IHJpZ2h0X25lYXJieSA9IHRoaXMuX2luZGV4LmZpbmRfcmVnaW9uKG5lYXJieSwge1xuICAgICAgICAgICAgZGlyZWN0aW9uOjEsIGNvbmRpdGlvblxuICAgICAgICB9KTsgICAgICAgIFxuICAgICAgICBpZiAocmlnaHRfbmVhcmJ5ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmlnaHQgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKHJpZ2h0X25lYXJieS5pdHYpWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXhwYW5kIGxlZnRcbiAgICAgICAgbGV0IGxlZnQ7XG4gICAgICAgIGxldCBsZWZ0X25lYXJieSA9IHRoaXMuX2luZGV4LmZpbmRfcmVnaW9uKG5lYXJieSwge1xuICAgICAgICAgICAgZGlyZWN0aW9uOi0xLCBjb25kaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChsZWZ0X25lYXJieSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxlZnQgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGxlZnRfbmVhcmJ5Lml0dilbMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBleHBhbmQgdG8gaW5maW5pdHlcbiAgICAgICAgbGVmdCA9IGxlZnQgfHwgWy1JbmZpbml0eSwgMF07XG4gICAgICAgIHJpZ2h0ID0gcmlnaHQgfHwgW0luZmluaXR5LCAwXTtcbiAgICAgICAgY29uc3QgbG93ID0gZW5kcG9pbnQuZmxpcChsZWZ0LCBcImxvd1wiKTtcbiAgICAgICAgY29uc3QgaGlnaCA9IGVuZHBvaW50LmZsaXAocmlnaHQsIFwiaGlnaFwiKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXR2OiBpbnRlcnZhbC5mcm9tX2VuZHBvaW50cyhsb3csIGhpZ2gpLFxuICAgICAgICAgICAgY2VudGVyIDogW3F1ZXJ5T2JqZWN0KGV2YWx1YXRpb24pXSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IE1lcmdlSW5kZXggfSBmcm9tIFwiLi9tZXJnZS5qc1wiO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tIFwiLi4vbGF5ZXJzLmpzXCI7XG5pbXBvcnQgeyBCb29sZWFuSW5kZXggfSBmcm9tIFwiLi9ib29sZWFuLmpzXCI7XG5cblxuY2xhc3MgTG9naWNhbE1lcmdlTGF5ZXIgZXh0ZW5kcyBMYXllciB7XG5cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VzLCBvcHRpb25zPXt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgY29uc3Qge2V4cHJ9ID0gb3B0aW9ucztcblxuICAgICAgICBsZXQgY29uZGl0aW9uO1xuICAgICAgICBpZiAoZXhwcikge1xuICAgICAgICAgICAgY29uZGl0aW9uID0gKGNlbnRlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHByLmV2YWwoY2VudGVyKTtcbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIC8vIHN1YnNjcmliZSB0byBjYWxsYmFja3MgZnJvbSBzb3VyY2VzXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9vbmNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICBmb3IgKGxldCBzcmMgb2Ygc291cmNlcykge1xuICAgICAgICAgICAgc3JjLmFkZF9jYWxsYmFjayhoYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluZGV4XG4gICAgICAgIGxldCBpbmRleCA9IG5ldyBNZXJnZUluZGV4KHNvdXJjZXMpO1xuICAgICAgICB0aGlzLl9pbmRleCA9IG5ldyBCb29sZWFuSW5kZXgoaW5kZXgsIHtjb25kaXRpb259KTtcbiAgICB9XG5cbiAgICBnZXQgaW5kZXggKCkge3JldHVybiB0aGlzLl9pbmRleH07XG5cbiAgICBfb25jaGFuZ2UoZUFyZykge1xuICAgICAgICB0aGlzLmNsZWFyQ2FjaGVzKCk7XG4gICAgICAgIHRoaXMubm90aWZ5X2NhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmV2ZW50aWZ5VHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ2ljYWxfbWVyZ2Uoc291cmNlcywgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgTG9naWNhbE1lcmdlTGF5ZXIoc291cmNlcywgb3B0aW9ucyk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ2ljYWxfZXhwciAoc3JjKSB7XG4gICAgaWYgKCEoc3JjIGluc3RhbmNlb2YgTGF5ZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgbXVzdCBiZSBsYXllciAke3NyY31gKVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBldmFsOiBmdW5jdGlvbiAoY2VudGVyKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjYWNoZSBvZiBjZW50ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGUuc3JjID09IHNyYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmxvZ2ljYWxfZXhwci5hbmQgPSBmdW5jdGlvbiBhbmQoLi4uZXhwcnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBldmFsOiBmdW5jdGlvbiAoY2VudGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwcnMuZXZlcnkoKGV4cHIpID0+IGV4cHIuZXZhbChjZW50ZXIpKTtcbiAgICAgICAgfSAgICBcbiAgICB9XG59XG5cbmxvZ2ljYWxfZXhwci5vciA9IGZ1bmN0aW9uIG9yKC4uLmV4cHJzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZhbDogZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGV4cHJzLnNvbWUoKGV4cHIpID0+IGV4cHIuZXZhbChjZW50ZXIpKTtcbiAgICAgICAgfSAgICBcbiAgICB9XG59XG5cbmxvZ2ljYWxfZXhwci54b3IgPSBmdW5jdGlvbiB4b3IoZXhwcjEsIGV4cHIyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZhbDogZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGV4cHIxLmV2YWwoY2VudGVyKSAhPSBleHByMi5ldmFsKGNlbnRlcik7XG4gICAgICAgIH0gICAgXG4gICAgfVxufVxuXG5sb2dpY2FsX2V4cHIubm90ID0gZnVuY3Rpb24gbm90KGV4cHIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBldmFsOiBmdW5jdGlvbiAoY2VudGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gIWV4cHIuZXZhbChjZW50ZXIpO1xuICAgICAgICB9ICAgIFxuICAgIH1cbn1cblxuXG5cblxuIiwiaW1wb3J0IHsgTG9jYWxTdGF0ZVByb3ZpZGVyIH0gZnJvbSBcIi4vc3RhdGVwcm92aWRlci5qc1wiO1xuaW1wb3J0IHsgbWVyZ2UgfSBmcm9tIFwiLi9vcHMvbWVyZ2UuanNcIlxuaW1wb3J0IHsgc2hpZnQgfSBmcm9tIFwiLi9vcHMvc2hpZnQuanNcIjtcbmltcG9ydCB7IElucHV0TGF5ZXIsIExheWVyIH0gZnJvbSBcIi4vbGF5ZXJzLmpzXCI7XG5pbXBvcnQgeyBDdXJzb3IgfSBmcm9tIFwiLi9jdXJzb3JzLmpzXCI7XG5pbXBvcnQgeyBib29sZWFuIH0gZnJvbSBcIi4vb3BzL2Jvb2xlYW4uanNcIlxuaW1wb3J0IHsgY21kIH0gZnJvbSBcIi4vY21kLmpzXCI7XG5pbXBvcnQgeyBsb2dpY2FsX21lcmdlLCBsb2dpY2FsX2V4cHJ9IGZyb20gXCIuL29wcy9sb2dpY2FsX21lcmdlLmpzXCI7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBMQVlFUiBGQUNUT1JZXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmZ1bmN0aW9uIGxheWVyKG9wdGlvbnM9e30pIHtcbiAgICBsZXQge3NyYywgLi4ub3B0c30gPSBvcHRpb25zO1xuICAgIGlmIChzcmMgaW5zdGFuY2VvZiBMYXllcikge1xuICAgICAgICByZXR1cm4gc3JjO1xuICAgIH0gXG4gICAgaWYgKHNyYyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3JjID0gbmV3IExvY2FsU3RhdGVQcm92aWRlcihvcHRzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBJbnB1dExheWVyKHtzcmMsIC4uLm9wdHN9KTsgXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBDVVJTT1IgRkFDVE9SSUVTXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmZ1bmN0aW9uIGN1cnNvcihvcHRpb25zPXt9KSB7XG4gICAgY29uc3Qge2N0cmwsIC4uLm9wdHN9ID0gb3B0aW9ucztcbiAgICBjb25zdCBzcmMgPSBsYXllcihvcHRzKTsgICAgXG4gICAgcmV0dXJuIG5ldyBDdXJzb3Ioe2N0cmwsIHNyY30pO1xufVxuXG5leHBvcnQgeyBcbiAgICBsYXllciwgY3Vyc29yLCBtZXJnZSwgc2hpZnQsIGNtZCwgXG4gICAgY3Vyc29yIGFzIHZhcmlhYmxlLCBcbiAgICBjdXJzb3IgYXMgcGxheWJhY2ssIFxuICAgIGJvb2xlYW4sIGxvZ2ljYWxfbWVyZ2UsIGxvZ2ljYWxfZXhwclxufSJdLCJuYW1lcyI6WyJlbmRwb2ludF9jbXAiLCJwMSIsInAyIiwidjEiLCJzMSIsInYyIiwiczIiLCJkaWZmIiwiYSIsImIiLCJJbmZpbml0eSIsImVuZHBvaW50X2xlIiwiZW5kcG9pbnRfZ2UiLCJlbmRwb2ludHNfZnJvbV9pbnRlcnZhbCIsIml0diIsImxvdyIsImhpZ2giLCJsb3dDbG9zZWQiLCJoaWdoQ2xvc2VkIiwiaW50ZXJ2YWxfY292ZXJzX2VuZHBvaW50IiwicCIsImxvd19wIiwiaGlnaF9wIiwiaXNOdW1iZXIiLCJuIiwiZW5kcG9pbnQiLCJsZSIsImx0IiwiZ2UiLCJndCIsImNtcCIsImVxIiwibWluIiwibWF4IiwiZmxpcCIsInRhcmdldCIsInYiLCJzIiwiaXNGaW5pdGUiLCJFcnJvciIsImZyb21faW50ZXJ2YWwiLCJmcm9tX2lucHV0Iiwib2Zmc2V0IiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwidmFsdWUiLCJzaWduIiwiTWF0aCIsImludGVydmFsIiwiY292ZXJzX2VuZHBvaW50IiwiY292ZXJzX3BvaW50IiwiaXNfc2luZ3VsYXIiLCJmcm9tX2VuZHBvaW50cyIsImlucHV0IiwidW5kZWZpbmVkIiwiY29uY2F0IiwicHVzaCIsInNsaWNlIiwibG93SW5jbHVkZSIsImhpZ2hJbmNsdWRlIiwiZGl2bW9kIiwieCIsImJhc2UiLCJmbG9vciIsInIiLCJtIiwibW9kIiwidG9TdGF0ZSIsInNvdXJjZXMiLCJzdGF0ZXMiLCJvcHRpb25zIiwidmFsdWVGdW5jIiwic3RhdGVGdW5jIiwiZHluYW1pYyIsIm1hcCIsImR5bWFtaWMiLCJzb21lIiwiZSIsIlBSRUZJWCIsImFkZFRvSW5zdGFuY2UiLCJvYmplY3QiLCJhZGRfY2FsbGJhY2siLCJoYW5kbGVyIiwiaGFuZGxlIiwidGhpcyIsInJlbW92ZV9jYWxsYmFjayIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIm5vdGlmeV9jYWxsYmFja3MiLCJlQXJnIiwiZm9yRWFjaCIsImFkZFRvUHJvdG90eXBlIiwiX3Byb3RvdHlwZSIsImFwaSIsIk9iamVjdCIsImFzc2lnbiIsImltcGxlbWVudHNfY2FsbGJhY2siLCJvYmoiLCJtZXRob2RzIiwicHJvcCIsImNoZWNrX2l0ZW0iLCJpdGVtIiwiaWQiLCJ0ZXh0IiwicG9zc2libGUiLCJpIiwiY2hhckF0IiwicmFuZG9tIiwicmFuZG9tX3N0cmluZyIsImlzX3N0YXRlcHJvdmlkZXIiLCJjYWxsYmFjay5pbXBsZW1lbnRzX2NhbGxiYWNrIiwiZ2V0X2l0ZW1zIiwiTG9jYWxTdGF0ZVByb3ZpZGVyIiwiY29uc3RydWN0b3IiLCJjYWxsYmFjay5hZGRUb0luc3RhbmNlIiwiX21hcCIsIk1hcCIsIl9pbml0aWFsaXNlIiwiaW5zZXJ0IiwidHlwZSIsImRhdGEiLCJfdXBkYXRlIiwicmVzZXQiLCJ1cGRhdGUiLCJjaGFuZ2VzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiZGlmZnMiLCJkaWZmX21hcCIsInJlbW92ZSIsImVudHJpZXMiLCJzZXQiLCJuZXciLCJvbGQiLCJnZXQiLCJkZWxldGUiLCJ2YWx1ZXMiLCJjYWxsYmFjay5hZGRUb1Byb3RvdHlwZSIsInByb3RvdHlwZSIsIk5lYXJieUluZGV4QmFzZSIsIm5lYXJieSIsImZpcnN0IiwiY2VudGVyIiwicmlnaHQiLCJsYXN0IiwibGVmdCIsInJpZ2h0X3JlZ2lvbiIsInJpZ2h0X2VuZHBvaW50IiwibGVmdF9yZWdpb24iLCJsZWZ0X2VuZHBvaW50IiwiZmluZF9yZWdpb24iLCJuZXh0X25lYXJieSIsImRpcmVjdGlvbiIsImNvbmRpdGlvbiIsInJlZ2lvbnMiLCJSZWdpb25JdGVyYXRvciIsInN0YXJ0Iiwic3RvcCIsImluY2x1ZGVFbXB0eSIsIl9pbmRleCIsIl9zdGFydCIsIl9zdG9wIiwiX2NvbmRpdGlvbiIsIl9jdXJyZW50IiwibmV4dCIsImRvbmUiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNtcF9hc2NlbmRpbmciLCJjbXBfZGVzY2VuZGluZyIsIm5lYXJieV9mcm9tIiwicHJldl9oaWdoIiwiY2VudGVyX2xvd19saXN0IiwiY2VudGVyX2hpZ2hfbGlzdCIsIm5leHRfbG93IiwicmVzdWx0Iiwic29ydCIsIm1pbl9jZW50ZXJfaGlnaCIsIm1heF9jZW50ZXJfaGlnaCIsIm11bHRpcGxlX2NlbnRlcl9oaWdoIiwibWF4X2NlbnRlcl9sb3ciLCJtaW5fY2VudGVyX2xvdyIsIm11bHRpcGxlX2NlbnRlcl9sb3ciLCJwcmV2IiwiRXZlbnQiLCJwdWJsaXNoZXIiLCJuYW1lIiwiaW5pdCIsInN1YnNjcmlwdGlvbnMiLCJzdWJzY3JpYmUiLCJjYWxsYmFjayIsInN1YiIsIlN1YnNjcmlwdGlvbiIsImluaXRfcGVuZGluZyIsInNlbGYiLCJlQXJncyIsImV2ZW50aWZ5SW5pdEV2ZW50QXJncyIsInRyaWdnZXIiLCJzdWJzIiwiZUluZm8iLCJjdHgiLCJ0ZXJtaW5hdGVkIiwic3JjIiwiY2FsbCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJ1bnN1YnNjcmliZSIsImlkeCIsInRlcm1pbmF0ZSIsImV2ZW50IiwiZXZlbnRpZnlJbnN0YW5jZSIsIl9fZXZlbnRpZnlfZXZlbnRNYXAiLCJfX2V2ZW50aWZ5X2J1ZmZlciIsImV2ZW50aWZ5UHJvdG90eXBlIiwiZXZlbnRpZnlHZXRFdmVudCIsImV2ZW50aWZ5RGVmaW5lIiwiaGFzIiwiZXZlbnRpZnlUcmlnZ2VyIiwiZXZlbnRpZnlUcmlnZ2VyQWxsIiwiZXZlbnRpZnlUcmlnZ2VyQWxpa2UiLCJldmVudEl0ZW1zIiwidHJpZ2dlckl0ZW1zIiwiZXYiLCJmaWx0ZXIiLCJsZW4iLCJidWYiLCJidWZfbGVuIiwiZXZlbnRpZnlTdWJzY3JpcHRpb25zIiwib24iLCJvZmYiLCJfdmFsdWUiLCJOQU1FIiwicHJvcE5hbWUiLCJtdXRhYmxlIiwiZW50aXR5IiwiaGFuZGxlcyIsImRlZmluZVByb3BlcnR5Iiwic3RhdGUiLCJlbnRpdGllcyIsImJpbmQiLCJCYXNlU2VnbWVudCIsIl9pdHYiLCJxdWVyeSIsIlN0YXRpY1NlZ21lbnQiLCJzdXBlciIsIk1vdGlvblNlZ21lbnQiLCJwb3NpdGlvbiIsInAwIiwidmVsb2NpdHkiLCJ2MCIsImFjY2VsZXJhdGlvbiIsImEwIiwidGltZXN0YW1wIiwidDAiLCJfcG9zX2Z1bmMiLCJ0cyIsImQiLCJfdmVsX2Z1bmMiLCJfYWNjX2Z1bmMiLCJwb3MiLCJ2ZWwiLCJhY2MiLCJlYXNlaW4iLCJwb3ciLCJUcmFuc2l0aW9uU2VnbWVudCIsImVhc2luZyIsInQxIiwiX2R5bmFtaWMiLCJfdHJhbnMiLCJwYXJzZUZsb2F0IiwiZWFzZW91dCIsImVhc2Vpbm91dCIsIkludGVycG9sYXRpb25TZWdtZW50IiwidHVwbGVzIiwic29ydGVkVHVwbGVzIiwidmFsdWUxIiwib2Zmc2V0MSIsInZhbHVlMiIsIm9mZnNldDIiLCJpbnRlcnBvbGF0ZSIsIlNvcnRlZEFycmF5IiwiX2FycmF5Iiwic2l6ZSIsImFycmF5IiwidGFyZ2V0X3ZhbHVlIiwibGVmdF9pZHgiLCJyaWdodF9pZHgiLCJtaWRfaWR4IiwibWlkX3ZhbHVlIiwiZ2VJbmRleE9mIiwiZm91bmQiLCJsZUluZGV4T2YiLCJndEluZGV4T2YiLCJsdEluZGV4T2YiLCJyZW1vdmVfbGlzdCIsImluc2VydF9saXN0IiwicmVtb3ZlX2lkeF9saXN0IiwiYW55X3JlbW92ZXMiLCJhbnlfaW5zZXJ0cyIsImZpcnN0X2FyciIsInNlY29uZF9hcnIiLCJmaXJzdF9hcnJfbGVuZ3RoIiwic2Vjb25kX2Fycl9sZW5ndGgiLCJjb25jYXRfaW5fcGxhY2UiLCJzb3J0ZWRfYXJyIiwicmVtb3ZlX2R1cGxpY2F0ZXMiLCJnZXRfYnlfaW5kZXgiLCJsb29rdXAiLCJwMF9pZHgiLCJwMV9pZHgiLCJFbmRwb2ludFNldCIsIlNldCIsImFkZCIsImxpc3QiLCJsaXN0cyIsInZhbCIsIkxPVyIsIkFDVElWRSIsIkhJR0giLCJJdGVtc01hcCIsImdldF9pdGVtc19ieV9yb2xlIiwicm9sZSIsImVudHJ5IiwicmVnaXN0ZXIiLCJzaWduX21hcCIsImFjdGl2ZSIsIndhc19lbXB0eSIsImZpbmRJbmRleCIsIl9pdGVtIiwiaXNfZW1wdHkiLCJ1bnJlZ2lzdGVyIiwiTmVhcmJ5SW5kZXgiLCJzdGF0ZVByb3ZpZGVyIiwiX3NwIiwicmVmcmVzaCIsIl9pdGVtc21hcCIsIl9lbmRwb2ludHMiLCJyZW1vdmVfZW5kcG9pbnRzIiwiaW5zZXJ0X2VuZHBvaW50cyIsImJlY2FtZV9ub25lbXB0eSIsImluc2VydF9pdGVtcyIsInJlbW92ZV9pdGVtcyIsImVwIiwiYWN0aXZlU2V0IiwiX2NvdmVycyIsImVwMSIsImVwMiIsIml0ZW1zMSIsIml0ZW1zMiIsImlkU2V0IiwiaXRlbXMiLCJMYXllciIsIkNhY2hlQ2xhc3MiLCJMYXllckNhY2hlIiwiZXZlbnRpZnkuYWRkVG9JbnN0YW5jZSIsIl9DYWNoZUNsYXNzIiwiX2NhY2hlX29iamVjdCIsIl9jYWNoZV9vYmplY3RzIiwiX3F1ZXJ5T3B0aW9ucyIsInF1ZXJ5T3B0aW9ucyIsImNhY2hlIiwiZ2V0Q2FjaGUiLCJjbGVhckNhY2hlcyIsImNsZWFyIiwic2FtcGxlIiwic3RlcCIsImVuZCIsImluY2x1ZGVfZW5kIiwicmFuZ2UiLCJldmVudGlmeS5hZGRUb1Byb3RvdHlwZSIsImxheWVyIiwiX2xheWVyIiwiX25lYXJieSIsIl9zdGF0ZSIsIm5lZWRfbmVhcmJ5IiwiSW5wdXRMYXllciIsIklucHV0TGF5ZXJDYWNoZSIsInNyY3Byb3AuYWRkVG9JbnN0YW5jZSIsInNyY3Byb3BfcmVnaXN0ZXIiLCJzcmNwcm9wX2NoZWNrIiwic3JjcHJvcF9vbmNoYW5nZSIsInNyY3Byb3AuYWRkVG9Qcm90b3R5cGUiLCJfc2VnbWVudCIsIl9zZWdtZW50cyIsInNlZ21lbnQuU3RhdGljU2VnbWVudCIsInNlZ21lbnQuVHJhbnNpdGlvblNlZ21lbnQiLCJzZWdtZW50LkludGVycG9sYXRpb25TZWdtZW50Iiwic2VnbWVudC5Nb3Rpb25TZWdtZW50IiwibG9hZF9zZWdtZW50Iiwic2VnIiwibWVyZ2Vfb3B0aW9ucyIsInN1bSIsImluZm8iLCJyZWR1Y2UiLCJzdGFjayIsIk1lcmdlTGF5ZXIiLCJldmVyeSIsIk1lcmdlSW5kZXgiLCJfc291cmNlcyIsIl9jYWNoZXMiLCJwcmV2X2xpc3QiLCJuZXh0X2xpc3QiLCJwcmV2X3JlZ2lvbiIsIm5leHRfcmVnaW9uIiwic2hpZnRlZCIsIlNoaWZ0SW5kZXgiLCJza2V3IiwiX3NrZXciLCJfY2FjaGUiLCJfc2hpZnRlZF9jYWNoZSIsIlNoaWZ0TGF5ZXIiLCJsb2NhbCIsInBlcmZvcm1hbmNlIiwibm93IiwiZXBvY2giLCJEYXRlIiwiTE9DQUxfQ0xPQ0tfUFJPVklERVIiLCJ0MF9sb2NhbCIsInQwX2Vwb2NoIiwidDFfbG9jYWwiLCJpc19jbG9ja3Byb3ZpZGVyIiwiTUVUSE9EUyIsIm1vdmUiLCJ2ZWN0b3IiLCJ0cmFuc2l0aW9uIiwiY21kIiwibWV0aG9kIiwiYXJncyIsImZyb21FbnRyaWVzIiwiVGltZW91dE1vbml0b3IiLCJfb3B0aW9ucyIsInJhdGUiLCJfc2V0IiwiX3ZhcmlhYmxlX21hcCIsIl9fb252YXJpYWJsZWNoYW5nZSIsIl9vbnZhcmlhYmxlY2hhbmdlIiwidmFyaWFibGUiLCJkZWxheSIsInBvbGxpbmciLCJyZWxlYXNlIiwidGlkIiwiX3JlZXZhbHVhdGVfcG9sbGluZyIsIndhc19wb2xsaW5nIiwic2hvdWxkX2JlX3BvbGxpbmciLCJfc2V0X3RpbWVvdXRzIiwiX2NsZWFyX3RpbWVvdXRzIiwiX3NldF90aW1lb3V0IiwiZGVsdGEiLCJfY2FsY3VsYXRlX2RlbHRhIiwiX2hhbmRsZV90aW1lb3V0Iiwic2V0VGltZW91dCIsInJvdW5kIiwibm93X24iLCJub3dfciIsImNsZWFyVGltZW91dCIsIm1vbml0b3IiLCJmcmFtZXJhdGVfbW9uaXRvciIsIl9oYW5kbGUiLCJfY2FsbGJhY2siLCJ2YXJpYWJsZXMiLCJyZXMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJDdXJzb3JJbmRleCIsImN1cnNvciIsIkN1cnNvckNhY2hlIiwiX2N1cnNvciIsIl9nZXRfY3RybF9zdGF0ZSIsIkN1cnNvciIsIl90aWQiLCJfcGlkIiwiY3RybCIsIl9faGFuZGxlX2NoYW5nZSIsIm9yaWdpbiIsImNsZWFySW50ZXJ2YWwiLCJfX2RldGVjdF9mdXR1cmVfY2hhbmdlIiwiY3RybF92ZWN0b3IiLCJjdXJyZW50X3BvcyIsImN1cnJlbnRfdHMiLCJzcmNfbmVhcmJ5IiwiX19zZXRfdGltZW91dCIsImN0cmxfbmVhcmJ5IiwiY3RybF9pdGVtIiwidGFyZ2V0X3BvcyIsIl9fc2V0X3BvbGxpbmciLCJkZWx0YV9zZWMiLCJ0YXJnZXRfdHMiLCJfX2hhbmRsZV90aW1lb3V0IiwicmVtYWluaW5nX3NlYyIsInNldEludGVydmFsIiwiX19oYW5kbGVfcG9sbCIsIkJvb2xlYW4iLCJkdXJhdGlvbiIsInQiLCJCb29sZWFuTGF5ZXIiLCJCb29sZWFuSW5kZXgiLCJfb25jaGFuZ2UiLCJldmFsdWF0aW9uIiwicmlnaHRfbmVhcmJ5IiwibGVmdF9uZWFyYnkiLCJMb2dpY2FsTWVyZ2VMYXllciIsImV4cHIiLCJldmFsIiwibG9naWNhbF9leHByIiwib3B0cyIsImFuZCIsImV4cHJzIiwib3IiLCJ4b3IiLCJleHByMSIsImV4cHIyIiwibm90Il0sIm1hcHBpbmdzIjoib0NBMENBLFNBQVNBLEVBQWNDLEVBQUlDLEdBQ3ZCLElBQUtDLEVBQUlDLEdBQU1ILEdBQ1ZJLEVBQUlDLEdBQU1KLEVBQ1hLLEdBWllDLEVBWU1MLE1BWkhNLEVBWU9KLEdBWE4sRUFDaEJHLElBQU1FLElBQWlCLEVBQ3ZCRCxJQUFNQyxLQUNORixLQUFNLEtBRGtCLEVBRXhCQyxLQUFNLElBQWtCLEVBQ3JCRCxFQUFJQyxFQU5mLElBQW9CRCxFQUFHQyxFQWFuQixPQUFnQixHQUFSRixFQUFhQSxFQUFPSCxFQUFLRSxDQUNyQyxDQUtBLFNBQVNLLEVBQWFWLEVBQUlDLEdBQ3RCLE9BQU9GLEVBQWFDLEVBQUlDLElBQU8sQ0FDbkMsQ0FJQSxTQUFTVSxFQUFhWCxFQUFJQyxHQUN0QixPQUFPRixFQUFhQyxFQUFJQyxJQUFPLENBQ25DLENBK0NBLFNBQVNXLEVBQXdCQyxHQUM3QixJQUFLQyxFQUFLQyxFQUFNQyxFQUFXQyxHQUFjSixFQUd6QyxNQUFPLENBRkssRUFBYyxDQUFDQyxFQUFLLEdBQUssQ0FBQ0EsRUFBSyxHQUM5QixFQUFlLENBQUNDLEVBQU0sR0FBSyxDQUFDQSxHQUFPLEdBRXBELENBbUNBLFNBQVNHLEVBQXlCTCxFQUFLTSxHQUNuQyxJQUFLQyxFQUFPQyxHQUFVVCxFQUF3QkMsR0FFOUMsT0FBT0gsRUFBWVUsRUFBT0QsSUFBTVQsRUFBWVMsRUFBR0UsRUFDbkQsQ0ErQkEsU0FBU0MsRUFBU0MsR0FDZCxNQUFtQixpQkFBTEEsQ0FDbEIsQ0ErRE8sTUFBTUMsRUFBVyxDQUNwQkMsR0FBSWYsRUFDSmdCLEdBeE1KLFNBQXNCMUIsRUFBSUMsR0FDdEIsT0FBT0YsRUFBYUMsRUFBSUMsR0FBTSxDQUNsQyxFQXVNSTBCLEdBQUloQixFQUNKaUIsR0FwTUosU0FBc0I1QixFQUFJQyxHQUN0QixPQUFPRixFQUFhQyxFQUFJQyxHQUFNLENBQ2xDLEVBbU1JNEIsSUFBSzlCLEVBQ0wrQixHQWhNSixTQUFzQjlCLEVBQUlDLEdBQ3RCLE9BQStCLEdBQXhCRixFQUFhQyxFQUFJQyxFQUM1QixFQStMSThCLElBOUxKLFNBQXNCL0IsRUFBSUMsR0FDdEIsT0FBUVMsRUFBWVYsRUFBSUMsR0FBT0QsRUFBS0MsQ0FDeEMsRUE2TEkrQixJQTVMSixTQUFzQmhDLEVBQUlDLEdBQ3RCLE9BQVFVLEVBQVlYLEVBQUlDLEdBQU9ELEVBQUtDLENBQ3hDLEVBMkxJZ0MsS0FoTEosU0FBdUJkLEVBQUdlLEdBQ3RCLElBQUtDLEVBQUVDLEdBQUtqQixFQUNaLElBQUtrQixTQUFTRixHQUNWLE9BQU9oQixFQUVYLEdBQWMsT0FBVmUsRUFBaUIsQ0FFcEIsR0FBSUUsRUFBSSxFQUNWLE1BQU0sSUFBSUUsTUFBTSwyQkFFWG5CLEVBQUksQ0FBQ2dCLEVBQUdDLEVBQUUsRUFDbEIsS0FBVyxJQUFjLFFBQVZGLEVBT1YsTUFBTSxJQUFJSSxNQUFNLGVBQWdCSixHQUxoQyxHQUFJRSxFQUFJLEVBQ1YsTUFBTSxJQUFJRSxNQUFNLDRCQUVYbkIsRUFBSSxDQUFDZ0IsRUFBR0MsRUFBRSxFQUdsQixDQUNJLE9BQU9qQixDQUNYLEVBNEpJb0IsY0FBZTNCLEVBQ2Y0QixXQTVJSixTQUE2QkMsR0FDekIsR0FBc0IsaUJBQVhBLEVBQ1AsTUFBTyxDQUFDQSxFQUFRLEdBRXBCLElBQUtDLE1BQU1DLFFBQVFGLElBQTRCLEdBQWpCQSxFQUFPRyxPQUNqQyxNQUFNLElBQUlOLE1BQU0scUNBRXBCLElBQUtPLEVBQU9DLEdBQVFMLEVBQ3BCLEdBQXFCLGlCQUFWSSxFQUNQLE1BQU0sSUFBSVAsTUFBTSxpQ0FFcEIsTUFBTyxDQUFDTyxFQUFPRSxLQUFLRCxLQUFLQSxHQUM3QixHQWtJYUUsRUFBVyxDQUNwQkMsZ0JBQWlCL0IsRUFDakJnQyxhQTdHSixTQUErQnJDLEVBQUtNLEdBQ2hDLE9BQU9ELEVBQXlCTCxFQUFLLENBQUNNLEVBQUcsR0FDN0MsRUE0R0lnQyxZQXJHSixTQUE4QkgsR0FDMUIsT0FBT0EsRUFBUyxJQUFNQSxFQUFTLEVBQ25DLEVBb0dJSSxlQS9GSixTQUFpQ3BELEVBQUlDLEdBQ2pDLElBQUtDLEVBQUlDLEdBQU1ILEdBQ1ZJLEVBQUlDLEdBQU1KLEVBRWYsSUFBVyxHQUFQRSxFQUNBLE1BQU0sSUFBSW1DLE1BQU0sb0JBQXFCdEMsR0FFekMsR0FBVSxHQUFOSyxFQUNBLE1BQU0sSUFBSWlDLE1BQU0sc0JBQXVCckMsR0FFM0MsTUFBTyxDQUFDQyxFQUFJRSxFQUFTLEdBQUpELEVBQWEsR0FBSkUsRUFDOUIsRUFxRkltQyxXQS9FRyxTQUE2QmEsR0FDaEMsSUFBSXhDLEVBQU13QyxFQUNWLEdBQVdDLE1BQVB6QyxFQUNBLE1BQU0sSUFBSXlCLE1BQU0sc0JBRXBCLElBQUtJLE1BQU1DLFFBQVE5QixHQUFNLENBQ3JCLElBQUlTLEVBQVNULEdBSVQsTUFBTSxJQUFJeUIsTUFBTSxVQUFVZSw4QkFGMUJ4QyxFQUFNLENBQUNBLEVBQUtBLEdBQUssR0FBTSxFQUtuQyxDQUNzQixHQUFkQSxFQUFJK0IsT0FDSi9CLEVBQU0sQ0FBQ0EsRUFBSSxHQUFJQSxFQUFJLElBQUksR0FBTSxHQUNSLEdBQWRBLEVBQUkrQixPQUNYL0IsRUFBTUEsRUFBSTBDLE9BQU8sRUFBQyxHQUFNLElBQ0gsR0FBZDFDLEVBQUkrQixPQUNYL0IsRUFBTUEsRUFBSTJDLE1BQUssR0FDUjNDLEVBQUkrQixPQUFTLElBQ3BCL0IsRUFBTUEsRUFBSTRDLE1BQU0sRUFBRSxJQUV0QixJQUFLM0MsRUFBS0MsRUFBTTJDLEVBQVlDLEdBQWU5QyxFQVMzQyxHQVBXeUMsTUFBUHhDLEdBQTJCLE1BQVBBLElBQ3BCQSxHQUFPTCxLQUVDNkMsTUFBUnZDLEdBQTZCLE1BQVJBLElBQ3JCQSxFQUFPTixNQUdOYSxFQUFTUixHQUFNLE1BQU0sSUFBSXdCLE1BQU0sbUJBQW9CeEIsR0FDeEQsSUFBS1EsRUFBU1AsR0FBTyxNQUFNLElBQUl1QixNQUFNLG9CQUFxQnZCLEdBRTFELEdBQUlELEVBQU1DLEVBQU0sTUFBTSxJQUFJdUIsTUFBTSxhQUFjeEIsRUFBS0MsR0FjbkQsR0FaSUQsR0FBT0MsSUFDUDJDLEdBQWEsRUFDYkMsR0FBYyxHQUdkN0MsSUFBUUwsTUFDUmlELEdBQWEsR0FFYjNDLEdBQVFOLE1BQ1JrRCxHQUFjLEdBR1Esa0JBQWZELEVBQ1AsTUFBTSxJQUFJcEIsTUFBTSwwQkFFcEIsR0FBMkIsa0JBQWhCcUIsRUFDUCxNQUFNLElBQUlyQixNQUFNLDJCQUVwQixNQUFPLENBQUN4QixFQUFLQyxFQUFNMkMsRUFBWUMsRUFDbkMsR0MxT08sU0FBU0MsRUFBT0MsRUFBR0MsR0FDdEIsSUFBSXZDLEVBQUl3QixLQUFLZ0IsTUFBTUYsRUFBSUMsR0FDbkJFLEVBTkQsU0FBYXpDLEVBQUcwQyxHQUNuQixPQUFTMUMsRUFBSTBDLEVBQUtBLEdBQUtBLENBQzNCLENBSVlDLENBQUlMLEVBQUdDLEdBQ2YsTUFBTyxDQUFDdkMsRUFBR3lDLEVBQ2YsQ0FtQ08sU0FBU0csRUFBUUMsRUFBU0MsRUFBUTVCLEVBQVE2QixFQUFRLENBQUEsR0FDckQsSUFBSUMsVUFBQ0EsRUFBU0MsVUFBRUEsR0FBYUYsRUFDN0IsR0FBaUJoQixNQUFiaUIsRUFBd0IsQ0FHeEIsTUFBTyxDQUFDMUIsTUFGSTBCLEVBQVUsQ0FBQ0gsVUFBU0MsU0FBUTVCLFdBRXpCZ0MsUUFEREosRUFBT0ssS0FBS3ZDLEdBQU1BLEVBQUV3QyxVQUFTQyxNQUFLQyxHQUFHQSxJQUMzQnBDLFNBQ2hDLENBQVcsT0FBaUJhLE1BQWJrQixFQUNBLElBQUlBLEVBQVUsQ0FBQ0osVUFBU0MsU0FBUTVCLFdBQVVBLFVBR2hDLEdBQWpCNEIsRUFBT3pCLE9BQ0EsQ0FBQ0MsV0FBTVMsRUFBV21CLFNBQVEsRUFBT2hDLFVBSXJDLElBREs0QixFQUFPLEdBQ0Q1QixTQUN0QixDQzNEQSxNQUFNcUMsRUFBUyxhQUVSLFNBQVNDLEVBQWNDLEdBQzFCQSxFQUFPLEdBQUdGLGNBQXFCLEVBQ25DLENBRUEsU0FBU0csRUFBY0MsR0FDbkIsSUFBSUMsRUFBUyxDQUNURCxRQUFTQSxHQUdiLE9BREFFLEtBQUssR0FBR04sY0FBbUJ0QixLQUFLMkIsR0FDekJBLENBQ1gsQ0FFQSxTQUFTRSxFQUFpQkYsR0FDdEIsSUFBSUcsRUFBUUYsS0FBSyxHQUFHTixjQUFtQlMsUUFBUUosR0FDM0NHLEdBQVMsR0FDVEYsS0FBSyxHQUFHTixjQUFtQlUsT0FBT0YsRUFBTyxFQUVqRCxDQUVBLFNBQVNHLEVBQWtCQyxHQUN2Qk4sS0FBSyxHQUFHTixjQUFtQmEsU0FBUSxTQUFTUixHQUN4Q0EsRUFBT0QsUUFBUVEsRUFDdkIsR0FDQSxDQUdPLFNBQVNFLEVBQWdCQyxHQUM1QixNQUFNQyxFQUFNLENBQ1JiLGVBQWNJLGtCQUFpQkksb0JBRW5DTSxPQUFPQyxPQUFPSCxFQUFZQyxFQUM5QixDQUVPLFNBQVNHLEVBQXFCQyxHQUNqQyxNQUFNQyxFQUFVLENBQUMsZUFBZ0IsbUJBQ2pDLElBQUssTUFBTUMsS0FBUUQsRUFBUyxDQUN4QixLQUFNQyxLQUFRRixHQUFNLE9BQU8sRUFDM0IsR0FBd0IsbUJBQWJBLEVBQUlFLEdBQXFCLE9BQU8sQ0FDbkQsQ0FDSSxPQUFPLENBQ1gsQ0N6Q0EsU0FBU0MsRUFBV0MsR0FHaEIsT0FGQUEsRUFBS3pGLElBQU1tQyxFQUFTUixXQUFXOEQsRUFBS3pGLEtBQ3BDeUYsRUFBS0MsR0FBS0QsRUFBS0MsSUYwRlosU0FBdUIzRCxHQUcxQixJQUZBLElBQUk0RCxFQUFPLEdBQ1BDLEVBQVcsdURBQ1BDLEVBQUksRUFBR0EsRUFBSTlELEVBQVE4RCxJQUN2QkYsR0FBUUMsRUFBU0UsT0FBTzVELEtBQUtnQixNQUFzQjBDLEdBQWhCMUQsS0FBSzZELFdBRTVDLE9BQU9KLENBQ1gsQ0VqR3lCSyxDQUFjLElBQzVCUCxDQUNYLENBR08sU0FBU1EsRUFBaUJaLEdBQzdCLFFBQUthLEVBQTZCYixLQUM1QixjQUFlQSxHQUNPLG1CQUFqQkEsRUFBSWMsVUFFbkIsQ0FtQk8sTUFBTUMsRUFFVCxXQUFBQyxDQUFZNUMsRUFBUSxJQUNoQjZDLEVBQXVCL0IsTUFDdkJBLEtBQUtnQyxLQUFPLElBQUlDLElBQ2hCakMsS0FBS2tDLFlBQVloRCxFQUN6QixDQU1JLFdBQUFnRCxDQUFZaEQsRUFBUSxJQUVoQixJQUFJaUQsT0FBQ0EsRUFBTTFFLE1BQUVBLEdBQVN5QixFQUNUaEIsTUFBVFQsSUFFQTBFLEVBQVMsQ0FBQyxDQUNOMUcsSUFBSyxFQUFFSixJQUFVQSxLQUFVLEdBQU0sR0FDakMrRyxLQUFNLFNBQ05DLEtBQU01RSxLQUdBUyxNQUFWaUUsR0FDQW5DLEtBQUtzQyxRQUFRLENBQUNILFNBQVFJLE9BQU0sR0FFeEMsQ0FNSSxNQUFBQyxDQUFRQyxHQUNKLE9BQU9DLFFBQVFDLFVBQ2RDLE1BQUssS0FDRixJQUFJQyxFQUtKLE9BSmUzRSxNQUFYdUUsSUFDQUksRUFBUTdDLEtBQUtzQyxRQUFRRyxHQUNyQnpDLEtBQUtLLGlCQUFpQndDLElBRW5CQSxDQUFLLEdBRXhCLENBRUksT0FBQVAsQ0FBUUcsR0FDSixNQUFNSyxFQUFXLElBQUliLElBQ3JCLElBQUlFLE9BQ0FBLEVBQU8sR0FBRVksT0FDVEEsRUFBTyxHQUFFUixNQUNUQSxHQUFNLEdBQ05FLEVBR0osR0FBSUYsRUFBTyxDQUNQLElBQUssTUFBT3BCLEVBQUlELEtBQVNsQixLQUFLZ0MsS0FBS2dCLFVBQy9CRixFQUFTRyxJQUFJOUIsRUFBSSxDQUFDQSxLQUFJK0IsU0FBSWhGLEVBQVdpRixJQUFJakMsSUFHN0NsQixLQUFLZ0MsS0FBTyxJQUFJQyxHQUM1QixNQUVZLElBQUssTUFBTWQsS0FBTTRCLEVBQVEsQ0FDckIsSUFBSTdCLEVBQU9sQixLQUFLZ0MsS0FBS29CLElBQUlqQyxHQUNiakQsTUFBUmdELElBQ0E0QixFQUFTRyxJQUFJL0IsRUFBS0MsR0FBSSxDQUNsQkEsR0FBR0QsRUFBS0MsR0FBSStCLFNBQUloRixFQUFXaUYsSUFBSWpDLElBRW5DbEIsS0FBS2dDLEtBQUtxQixPQUFPbEMsR0FFckMsQ0FHUSxJQUFLLElBQUlELEtBQVFpQixFQUFRLENBQ3JCakIsRUFBT0QsRUFBV0MsR0FDbEIsTUFBTWhHLEVBQU80SCxFQUFTTSxJQUFJbEMsRUFBS0MsSUFDekJnQyxFQUFlakYsTUFBUmhELEVBQXFCQSxFQUFLaUksSUFBTW5ELEtBQUtnQyxLQUFLb0IsSUFBSWxDLEVBQUtDLElBQ2hFMkIsRUFBU0csSUFBSS9CLEVBQUtDLEdBQUksQ0FBQ0EsR0FBR0QsRUFBS0MsR0FBSStCLElBQUloQyxFQUFNaUMsUUFDN0NuRCxLQUFLZ0MsS0FBS2lCLElBQUkvQixFQUFLQyxHQUFJRCxFQUNuQyxDQUNRLE1BQU8sSUFBSTRCLEVBQVNRLFNBQzVCLENBRUksU0FBQTFCLEdBQ0ksTUFBTyxJQUFJNUIsS0FBS2dDLEtBQUtzQixTQUN4QixFQUVMQyxFQUF3QjFCLEVBQW1CMkIsV0N0Q3BDLE1BQU1DLEVBTVQsTUFBQUMsQ0FBT3JHLEdBQ0gsTUFBTSxJQUFJSCxNQUFNLGtCQUN4QixDQUtJLEtBQUF5RyxHQUNJLElBQUlDLE9BQUNBLEVBQU1DLE1BQUVBLEdBQVM3RCxLQUFLMEQsT0FBTyxFQUFFckksSUFBVSxJQUM5QyxPQUFRdUksRUFBT3BHLE9BQVMsRUFBSyxFQUFFbkMsSUFBVSxHQUFLd0ksQ0FDdEQsQ0FLSSxJQUFBQyxHQUNJLElBQUlDLEtBQUNBLEVBQUlILE9BQUVBLEdBQVU1RCxLQUFLMEQsT0FBTyxDQUFDckksSUFBVSxJQUM1QyxPQUFRdUksRUFBT3BHLE9BQVMsRUFBSyxDQUFDbkMsSUFBVSxHQUFLMEksQ0FDckQsQ0FRSSxZQUFBQyxDQUFhTixHQUNULE1BQU1HLEVBeENQLFNBQXlCSCxHQUM1QixNQUFNL0gsRUFBT1MsRUFBU2UsY0FBY3VHLEVBQU9qSSxLQUFLLEdBQ2hELE9BQU9XLEVBQVNTLEtBQUtsQixFQUFNLE1BQy9CLENBcUNzQnNJLENBQWVQLEdBQzdCLEdBQUlHLEVBQU0sSUFBTXhJLElBR2hCLE9BQU8yRSxLQUFLMEQsT0FBT0csRUFDM0IsQ0FPSSxXQUFBSyxDQUFZUixHQUNSLE1BQU1LLEVBL0RQLFNBQXdCTCxHQUMzQixNQUFNaEksRUFBTVUsRUFBU2UsY0FBY3VHLEVBQU9qSSxLQUFLLEdBQy9DLE9BQU9XLEVBQVNTLEtBQUtuQixFQUFLLE9BQzlCLENBNERxQnlJLENBQWNULEdBQzNCLEdBQUlLLEVBQUssS0FBTzFJLElBR2hCLE9BQU8yRSxLQUFLMEQsT0FBT0ssRUFDM0IsQ0FVSSxXQUFBSyxDQUFZVixFQUFReEUsRUFBUSxJQUN4QixJQUlJbUYsR0FKQUMsVUFDQUEsRUFBWSxFQUFDQyxVQUNiQSxFQUFhWCxHQUFXQSxFQUFPcEcsT0FBUyxHQUN4QzBCLEVBRUosT0FBWSxDQU1SLEdBSkltRixFQURhLEdBQWJDLEVBQ2N0RSxLQUFLZ0UsYUFBYU4sR0FFbEIxRCxLQUFLa0UsWUFBWVIsR0FFaEJ4RixNQUFmbUcsRUFDQSxPQUVKLEdBQUlFLEVBQVVGLEVBQVlULFFBRXRCLE9BQU9TLEVBSVhYLEVBQVNXLENBQ3JCLENBQ0EsQ0FFSSxPQUFBRyxDQUFRdEYsR0FDSixPQUFPLElBQUl1RixFQUFlekUsS0FBTWQsRUFDeEMsRUFnQkEsTUFBTXVGLEVBRUYsV0FBQTNDLENBQVk1QixFQUFPaEIsRUFBUSxJQUN2QixJQUFJd0YsTUFDQUEsR0FBT3JKLElBQVFzSixLQUNmQSxFQUFLdEosSUFBUXVKLGFBQ2JBLEdBQWEsR0FDYjFGLEVBQ0osR0FBSXdGLEVBQVFDLEVBQ1IsTUFBTSxJQUFJekgsTUFBTyxpQ0FBa0N3SCxFQUFPQyxHQUU5RDNFLEtBQUs2RSxPQUFTM0UsRUFDZEYsS0FBSzhFLE9BQVMsQ0FBQ0osRUFBTyxHQUN0QjFFLEtBQUsrRSxNQUFRLENBQUNKLEVBQU0sR0FHaEIzRSxLQUFLZ0YsV0FETEosRUFDa0IsS0FBTSxFQUVMaEIsR0FBV0EsRUFBT3BHLE9BQVMsRUFFbER3QyxLQUFLaUYsUUFDYixDQUVJLElBQUFDLEdBQ0ksR0FBcUJoSCxNQUFqQjhCLEtBQUtpRixXQUVMakYsS0FBS2lGLFNBQVdqRixLQUFLNkUsT0FBT25CLE9BQU8xRCxLQUFLOEUsUUFDcEM5RSxLQUFLZ0YsV0FBV2hGLEtBQUtpRixTQUFTckIsU0FDOUIsTUFBTyxDQUFDbkcsTUFBTXVDLEtBQUtpRixTQUFVRSxNQUFLLEdBRzFDLElBQUlqRyxFQUFVLENBQUNxRixVQUFVdkUsS0FBS2dGLFdBQVlWLFVBQVUsR0FFcEQsT0FEQXRFLEtBQUtpRixTQUFXakYsS0FBSzZFLE9BQU9ULFlBQVlwRSxLQUFLaUYsU0FBVS9GLEdBQ2xDaEIsTUFBakI4QixLQUFLaUYsU0FDRSxDQUFDeEgsV0FBTVMsRUFBV2lILE1BQUssR0FFdkIsQ0FBQzFILE1BQU11QyxLQUFLaUYsU0FBVUUsTUFBSyxFQUU5QyxDQUVJLENBQUNDLE9BQU9DLFlBQ0osT0FBT3JGLElBQ2YsRUFvQkEsU0FBU3NGLEVBQWMxSyxFQUFJQyxHQUN2QixPQUFPdUIsRUFBU0ssSUFBSTdCLEVBQUlDLEVBQzVCLENBRUEsU0FBUzBLLEVBQWUzSyxFQUFJQyxHQUN4QixPQUFPdUIsRUFBU0ssSUFBSTVCLEVBQUlELEVBQzVCLENBRU8sU0FBUzRLLEVBQ1pDLEVBQ0FDLEVBQ0E5QixFQUNBK0IsRUFDQUMsR0FHQSxNQUFNQyxFQUFTLENBQUNqQyxVQUVoQixHQUFxQixHQUFqQkEsRUFBT3BHLE9BRVBxSSxFQUFPaEMsTUFBUStCLEVBQ2ZDLEVBQU85QixLQUFPMEIsTUFDWCxDQUlIRSxFQUFpQkcsS0FBS1IsR0FDdEIsSUFBSVMsRUFBa0JKLEVBQWlCLEdBQ25DSyxFQUFrQkwsRUFBaUJ0SCxPQUFPLEdBQUcsR0FDN0M0SCxHQUF3QjdKLEVBQVNNLEdBQUdxSixFQUFpQkMsR0FHekROLEVBQWdCSSxLQUFLUCxHQUNyQixJQUFJVyxFQUFpQlIsRUFBZ0IsR0FDakNTLEVBQWlCVCxFQUFnQnJILE9BQU8sR0FBRyxHQUMzQytILEdBQXVCaEssRUFBU00sR0FBR3dKLEVBQWdCQyxHQUduRC9KLEVBQVNDLEdBQUd1SixFQUFVRyxHQUN0QkYsRUFBT2hDLE1BQVErQixFQUVmQyxFQUFPaEMsTUFBUXpILEVBQVNTLEtBQUtrSixFQUFpQixPQUVsREYsRUFBT1gsS0FBTyxFQUF5QlcsRUFBT2hDLE1BQVErQixFQUdsRHhKLEVBQVNHLEdBQUdrSixFQUFXUyxHQUN2QkwsRUFBTzlCLEtBQU8wQixFQUVkSSxFQUFPOUIsS0FBTzNILEVBQVNTLEtBQUtxSixFQUFnQixRQUVoREwsRUFBT1EsS0FBTyxFQUF3QlIsRUFBTzlCLEtBQU8wQixDQUU1RCxDQUdJLElBQUkvSixFQUFNVSxFQUFTUyxLQUFLZ0osRUFBTzlCLEtBQU0sT0FDakNwSSxFQUFPUyxFQUFTUyxLQUFLZ0osRUFBT2hDLE1BQU8sUUFHdkMsT0FGQWdDLEVBQU9wSyxJQUFNbUMsRUFBU0ksZUFBZXRDLEVBQUtDLEdBRW5Da0ssQ0FDWCxDQ3hSQSxNQUFNUyxFQUVMLFdBQUF4RSxDQUFheUUsRUFBV0MsRUFBTXRILEdBQzdCQSxFQUFVQSxHQUFXLENBQUEsRUFDckJjLEtBQUt1RyxVQUFZQSxFQUNqQnZHLEtBQUt3RyxLQUFPQSxFQUNaeEcsS0FBS3lHLFVBQXlCdkksSUFBakJnQixFQUFRdUgsTUFBOEJ2SCxFQUFRdUgsS0FDM0R6RyxLQUFLMEcsY0FBZ0IsRUFDdkIsQ0FTQyxTQUFBQyxDQUFXQyxFQUFVMUgsR0FDcEIsSUFBSzBILEdBQWdDLG1CQUFiQSxFQUN2QixNQUFNLElBQUkxSixNQUFNLDBCQUEyQjBKLEdBRTVDLE1BQU1DLEVBQU0sSUFBSUMsRUFBYTlHLEtBQU00RyxFQUFVMUgsR0FHMUMsR0FGSGMsS0FBSzBHLGNBQWN0SSxLQUFLeUksR0FFakI3RyxLQUFLeUcsTUFBUUksRUFBSUosS0FBTSxDQUMxQkksRUFBSUUsY0FBZSxFQUNuQixJQUFJQyxFQUFPaEgsS0FDWDBDLFFBQVFDLFVBQVVDLE1BQUssV0FDdEIsTUFBTXFFLEVBQVFELEVBQUtULFVBQVVXLHNCQUFzQkYsRUFBS1IsT0FBUyxHQUNqRUssRUFBSUUsY0FBZSxFQUNuQixJQUFLLElBQUl6RyxLQUFRMkcsRUFDaEJELEVBQUtHLFFBQVE3RyxFQUFNLENBQUN1RyxJQUFNLEVBRWxDLEdBQ0EsQ0FDRSxPQUFPQSxDQUNULENBUUMsT0FBQU0sQ0FBUzdHLEVBQU04RyxFQUFNWCxHQUNwQixJQUFJWSxFQUFPQyxFQUNYLElBQUssTUFBTVQsS0FBT08sRUFFakIsSUFBSVAsRUFBSVUsV0FBUixDQUdBRixFQUFRLENBQ1BHLElBQUt4SCxLQUFLdUcsVUFDVkMsS0FBTXhHLEtBQUt3RyxLQUNYSyxJQUFLQSxFQUNMSixLQUFNQSxHQUVQYSxFQUFNVCxFQUFJUyxLQUFPdEgsS0FBS3VHLFVBQ3RCLElBQ0NNLEVBQUlELFNBQVNhLEtBQUtILEVBQUtoSCxFQUFNK0csRUFDN0IsQ0FBQyxNQUFPSyxHQUNSQyxRQUFRQyxJQUFJLFlBQVk1SCxLQUFLd0csU0FBU0ssRUFBSUQsWUFBWWMsSUFDMUQsQ0FaQSxDQWNBLENBTUMsV0FBQUcsQ0FBWWhCLEdBQ1gsSUFBSWlCLEVBQU05SCxLQUFLMEcsY0FBY3ZHLFFBQVEwRyxHQUNqQ2lCLEdBQU8sSUFDVjlILEtBQUswRyxjQUFjdEcsT0FBTzBILEVBQUssR0FDL0JqQixFQUFJa0IsWUFFUCxFQVFBLE1BQU1qQixFQUVMLFdBQUFoRixDQUFZa0csRUFBT3BCLEVBQVUxSCxHQUM1QkEsRUFBVUEsR0FBVyxDQUFBLEVBQ3JCYyxLQUFLZ0ksTUFBUUEsRUFDYmhJLEtBQUt3RyxLQUFPd0IsRUFBTXhCLEtBQ2xCeEcsS0FBSzRHLFNBQVdBLEVBQ2hCNUcsS0FBS3lHLFVBQXlCdkksSUFBakJnQixFQUFRdUgsS0FBc0J6RyxLQUFLZ0ksTUFBTXZCLEtBQU92SCxFQUFRdUgsS0FDckV6RyxLQUFLK0csY0FBZSxFQUNwQi9HLEtBQUt1SCxZQUFhLEVBQ2xCdkgsS0FBS3NILElBQU1wSSxFQUFRb0ksR0FDckIsQ0FFQyxTQUFBUyxHQUNDL0gsS0FBS3VILFlBQWEsRUFDbEJ2SCxLQUFLNEcsY0FBVzFJLEVBQ2hCOEIsS0FBS2dJLE1BQU1ILFlBQVk3SCxLQUN6QixFQXFCTyxTQUFTaUksRUFBa0JySSxHQUdqQyxPQUZBQSxFQUFPc0ksb0JBQXNCLElBQUlqRyxJQUNqQ3JDLEVBQU91SSxrQkFBb0IsR0FDcEJ2SSxDQUNSLENBU08sU0FBU3dJLEVBQWtCM0gsR0FFakMsU0FBUzRILEVBQWlCekksRUFBUTRHLEdBQ2pDLE1BQU13QixFQUFRcEksRUFBT3NJLG9CQUFvQjlFLElBQUlvRCxHQUM3QyxHQUFhdEksTUFBVDhKLEVBQ0gsTUFBTSxJQUFJOUssTUFBTSxrQkFBbUJzSixHQUVwQyxPQUFPd0IsQ0FDVCxDQTBHQ3ZILEVBQVc2SCxlQWxHWCxTQUF3QjlCLEVBQU10SCxHQUU3QixHQUFJYyxLQUFLa0ksb0JBQW9CSyxJQUFJL0IsR0FDaEMsTUFBTSxJQUFJdEosTUFBTSx3QkFBeUJzSixHQUUxQ3hHLEtBQUtrSSxvQkFBb0JqRixJQUFJdUQsRUFBTSxJQUFJRixFQUFNdEcsS0FBTXdHLEVBQU10SCxHQUMzRCxFQTZGQ3VCLEVBQVcrSCxnQkFMWCxTQUF5QmhDLEVBQU1sRyxHQUM5QixPQUFPTixLQUFLeUksbUJBQW1CLENBQUMsQ0FBQ2pDLE9BQU1sRyxTQUN6QyxFQUlDRyxFQUFXaUkscUJBZlgsU0FBOEJsQyxFQUFNUyxHQUNuQyxPQUFPakgsS0FBS3lJLG1CQUFtQnhCLEVBQU0zSCxLQUFJZ0IsSUFDakMsQ0FBQ2tHLE9BQU1sRyxXQUVqQixFQVlDRyxFQUFXZ0ksbUJBM0RYLFNBQTRCRSxHQUMzQixHQUF5QixHQUFyQkEsRUFBV25MLE9BQ2QsT0FRRCxJQUFJb0wsRUFBZUQsRUFBV3JKLEtBQUs0QixJQUNsQyxJQUFJc0YsS0FBQ0EsRUFBSWxHLEtBQUVBLEdBQVFZLEVBQ2YySCxFQUFLUixFQUFpQnJJLEtBQU13RyxHQUM1QlksRUFBT3lCLEVBQUduQyxjQUFjb0MsUUFBT2pDLEdBQTJCLEdBQXBCQSxFQUFJRSxlQUM5QyxNQUFPLENBQUM4QixFQUFJdkksRUFBTThHLEVBQUssR0FDckJwSCxNQUdILE1BQU0rSSxFQUFNSCxFQUFhcEwsT0FDbkJ3TCxFQUFNaEosS0FBS21JLGtCQUNYYyxFQUFVakosS0FBS21JLGtCQUFrQjNLLE9BRXZDd0MsS0FBS21JLGtCQUFrQjNLLE9BQVN5TCxFQUFVRixFQUUxQyxJQUFLLElBQUl6SCxFQUFFLEVBQUdBLEVBQUV5SCxFQUFLekgsSUFDcEIwSCxFQUFJQyxFQUFRM0gsR0FBS3NILEVBQWF0SCxHQUcvQixHQUFlLEdBQVgySCxFQUFjLENBQ2pCLElBQUlqQyxFQUFPaEgsS0FDWDBDLFFBQVFDLFVBQVVDLE1BQUssV0FDdEIsSUFBSyxJQUFLaUcsRUFBSXZJLEVBQU04RyxLQUFTSixFQUFLbUIsa0JBRWpDVSxFQUFHMUIsUUFBUTdHLEVBQU04RyxHQUFNLEdBRXhCSixFQUFLbUIsa0JBQW9CLEVBQzdCLEdBQ0EsQ0FDQSxFQXNCQzFILEVBQVd5SSxzQkEzRVgsU0FBK0IxQyxHQUM5QixPQUFPNkIsRUFBaUJySSxLQUFNd0csR0FBTUUsYUFDdEMsRUEwRUNqRyxFQUFXMEksR0ExRlgsU0FBWTNDLEVBQU1JLEVBQVUxSCxHQUMzQixPQUFPbUosRUFBaUJySSxLQUFNd0csR0FBTUcsVUFBVUMsRUFBVTFILEVBQzFELEVBeUZDdUIsRUFBVzJJLElBbEZYLFNBQWF2QyxHQUNaLE9BQU93QixFQUFpQnJJLEtBQU02RyxFQUFJTCxNQUFNcUIsWUFBWWhCLEVBQ3RELENBaUZBLENBa0NBdUIsRUF0Qk8sTUFFTixXQUFBdEcsQ0FBYXJFLEdBQ1p3SyxFQUFpQmpJLE1BQ2pCQSxLQUFLcUosT0FBUzVMLEVBQ2R1QyxLQUFLc0ksZUFBZSxTQUFVLENBQUM3QixNQUFLLEdBQ3RDLENBRUMscUJBQUFTLENBQXNCVixHQUNyQixHQUFZLFVBQVJBLEVBQ0gsTUFBTyxDQUFDeEcsS0FBS3FKLE9BRWhCLENBRUMsU0FBSTVMLEdBQVUsT0FBT3VDLEtBQUtxSixNQUFNLENBQ2hDLFNBQUk1TCxDQUFPQSxHQUNOQSxHQUFTdUMsS0FBS3FKLFNBQ2pCckosS0FBS3FKLE9BQVM1TCxFQUNkdUMsS0FBS3dJLGdCQUFnQixTQUFVL0ssR0FFbEMsR0FFZ0MrRixXQ2pUaEMsTUFBTThGLEVBQU8sVUFDUDVKLEVBQVMsS0FBSzRKLElBRWIsU0FBUzNKLEVBQWVDLEdBQzNCQSxFQUFPLEdBQUdGLEtBQVksSUFBSXVDLEdBQzlCLENBRU8sU0FBU3pCLEVBQWdCQyxHQW1FNUIsTUFBTUMsRUFBTSxDQUFFLEVBQ2RBLEVBQUksR0FBRzRJLGNBbEVQLFNBQWtCQyxFQUFVckssRUFBUSxJQUNoQyxJQUFJc0ssUUFBQ0EsR0FBUSxHQUFRdEssRUFDckIsTUFBTUksRUFBTVUsS0FBSyxHQUFHTixLQUNwQkosRUFBSTJELElBQUlzRyxFQUFVLENBQ2Q5QyxNQUFLLEVBQ0wrQyxVQUNBQyxZQUFRdkwsRUFDUndMLFFBQVMsS0FJYi9JLE9BQU9nSixlQUFlM0osS0FBTXVKLEVBQVUsQ0FDbENuRyxJQUFLLFdBQ0QsT0FBTzlELEVBQUk4RCxJQUFJbUcsR0FBVUUsTUFDNUIsRUFDRHhHLElBQUssU0FBVXdHLEdBQ1B6SixLQUFLLEdBQUdzSixhQUNSRyxFQUFTekosS0FBSyxHQUFHc0osV0FBY0MsRUFBVUUsSUFFekNBLEdBQVVuSyxFQUFJOEQsSUFBSW1HLEdBQVVFLFFBQzVCekosS0FBSyxHQUFHTixZQUFpQjZKLEVBQVVFLEVBRXZELEdBRUEsRUEyQ0kvSSxFQUFJLEdBQUdoQixZQXpDUCxTQUFpQjZKLEVBQVVFLEdBRXZCLE1BQ01HLEVBRE01SixLQUFLLEdBQUdOLEtBQ0YwRCxJQUFJbUcsR0FFdEIsR0FBSUssRUFBTW5ELE9BQVNtRCxFQUFNSixRQUNyQixNQUFNLElBQUl0TSxNQUFNLEdBQUdxTSwyQkFHdkIsTUFBTU0sRUFBWXZNLE1BQU1DLFFBQVFrTSxHQUFXQSxFQUFTLENBQUNBLEdBR3JELEdBQUlHLEVBQU1GLFFBQVFsTSxPQUFTLEVBQ3ZCLElBQUssTUFBT3NLLEVBQUtySSxLQUFNa0IsT0FBT3FDLFFBQVE2RyxHQUM5QmhKLEVBQW9CcEIsSUFDcEJBLEVBQUVRLGdCQUFnQjJKLEVBQU1GLFFBQVE1QixJQVc1QyxHQVBBOEIsRUFBTUYsUUFBVSxHQUdoQkUsRUFBTUgsT0FBU0EsRUFDZkcsRUFBTW5ELE1BQU8sRUFHVHpHLEtBQUssR0FBR3NKLGNBQWtCLENBQzFCLE1BQU14SixFQUFVLFNBQVVRLEdBQ3RCTixLQUFLLEdBQUdzSixjQUFpQkMsRUFBVWpKLEVBQ25ELEVBQWN3SixLQUFLOUosTUFDUCxJQUFLLE1BQU1QLEtBQUtvSyxFQUNSaEosRUFBb0JwQixJQUNwQm1LLEVBQU1GLFFBQVF0TCxLQUFLcUIsRUFBRUksYUFBYUMsSUFHMUNFLEtBQUssR0FBR3NKLGNBQWlCQyxFQUFVLFFBQy9DLENBQ0EsRUFLSTVJLE9BQU9DLE9BQU9ILEVBQVlDLEVBQzlCLENDN0VPLE1BQU1xSixFQUVaLFdBQUFqSSxDQUFZckcsR0FDWHVFLEtBQUtnSyxLQUFPdk8sQ0FDZCxDQUVDLE9BQUlBLEdBQU8sT0FBT3VFLEtBQUtnSyxJQUFLLENBTXpCLEtBQUFKLENBQU12TSxHQUNMLE1BQU0sSUFBSUgsTUFBTSxrQkFDckIsQ0FPSSxLQUFBK00sQ0FBTTVNLEdBQ0YsT0FBSU8sRUFBU0UsYUFBYWtDLEtBQUtnSyxLQUFNM00sR0FDMUIsSUFBSTJDLEtBQUs0SixNQUFNdk0sR0FBU0EsVUFFNUIsQ0FBQ0ksV0FBT1MsRUFBV21CLFNBQVEsRUFBT2hDLFNBQ2pELEVBK0JPLE1BQU02TSxVQUFzQkgsRUFFbEMsV0FBQWpJLENBQVlyRyxFQUFLNEcsR0FDVjhILE1BQU0xTyxHQUNadUUsS0FBS3FKLE9BQVNoSCxDQUNoQixDQUVDLEtBQUF1SCxHQUNPLE1BQU8sQ0FBQ25NLE1BQU91QyxLQUFLcUosT0FBUWhLLFNBQVEsRUFDNUMsRUFZTyxNQUFNK0ssVUFBc0JMLEVBRS9CLFdBQUFqSSxDQUFZckcsRUFBSzRHLEdBQ2I4SCxNQUFNMU8sR0FDTixNQUNJNE8sU0FBU0MsRUFBRyxFQUNaQyxTQUFTQyxFQUFHLEVBQ1pDLGFBQWFDLEVBQUcsRUFDaEJDLFVBQVVDLEVBQUcsR0FDYnZJLEVBRUpyQyxLQUFLNkssVUFBWSxTQUFVQyxHQUN2QixJQUFJQyxFQUFJRCxFQUFLRixFQUNiLE9BQU9OLEVBQUtFLEVBQUdPLEVBQUksR0FBSUwsRUFBR0ssRUFBRUEsQ0FDL0IsRUFDRC9LLEtBQUtnTCxVQUFZLFNBQVVGLEdBRXZCLE9BQU9OLEVBQUtFLEdBREpJLEVBQUtGLEVBRXpCLEVBQ1E1SyxLQUFLaUwsVUFBWSxTQUFVSCxHQUN2QixPQUFPSixDQUNuQixDQUNBLENBRUksS0FBQWQsQ0FBTXZNLEdBQ0YsSUFBSTZOLEVBQU1sTCxLQUFLNkssVUFBVXhOLEdBQ3JCOE4sRUFBTW5MLEtBQUtnTCxVQUFVM04sR0FDckIrTixFQUFNcEwsS0FBS2lMLFVBQVU1TixHQUN6QixNQUFPLENBQ0hnTixTQUFVYSxFQUNWWCxTQUFVWSxFQUNWVixhQUFjVyxFQUNkVCxVQUFXdE4sRUFDWEksTUFBT3lOLEVBQ1A3TCxRQUFpQixHQUFQOEwsR0FBbUIsR0FBUEMsRUFFbEMsRUFlQSxTQUFTQyxFQUFRUCxHQUNiLE9BQU9uTixLQUFLMk4sSUFBSVIsRUFBRyxFQUN2QixDQVlPLE1BQU1TLFVBQTBCeEIsRUFFdEMsV0FBQWpJLENBQVlyRyxFQUFLNEcsR0FDaEI4SCxNQUFNMU8sR0FDQSxJQUFJK08sR0FBQ0EsRUFBRTFQLEdBQUVBLEVBQUUwUSxPQUFFQSxHQUFVbkosR0FDbEJ1SSxFQUFJYSxHQUFNekwsS0FBS2dLLEtBQUszTCxNQUFNLEVBQUUsR0FHakMyQixLQUFLMEwsU0FBVzVRLEVBQUcwUCxHQUFNLEVBQ3pCeEssS0FBSzJMLE9BQVMsU0FBVWIsR0FpQnBCLE9BYkFBLEdBQVVGLEVBQ1ZFLEdBQVFjLFdBQVdILEVBQUdiLEdBRVIsV0FBVlksRUFDQVYsRUFBS08sRUFBT1AsR0FDSyxZQUFWVSxFQUNQVixFQTlCaEIsU0FBa0JBLEdBQ2QsT0FBTyxFQUFJTyxFQUFPLEVBQUlQLEVBQzFCLENBNEJxQmUsQ0FBUWYsR0FDSSxlQUFWVSxJQUNQVixFQTdCaEIsU0FBb0JBLEdBQ2hCLE9BQUlBLEVBQUssR0FDRU8sRUFBTyxFQUFJUCxHQUFNLEdBRWhCLEVBQUlPLEVBQU8sR0FBSyxFQUFJUCxLQUFRLENBRTVDLENBdUJxQmdCLENBQVVoQixJQUduQkEsRUFBS25OLEtBQUtmLElBQUlrTyxFQUFJLEdBQ2xCQSxFQUFLbk4sS0FBS2hCLElBQUltTyxFQUFJLEdBQ1hOLEdBQU0xUCxFQUFHMFAsR0FBSU0sQ0FDaEMsQ0FDQSxDQUVDLEtBQUFsQixDQUFNdk0sR0FDQyxNQUFPLENBQUNJLE1BQU91QyxLQUFLMkwsT0FBT3RPLEdBQVNnQyxRQUFRVyxLQUFLMEwsU0FDekQsRUE2RE8sTUFBTUssVUFBNkJoQyxFQUV0QyxXQUFBakksQ0FBWXJHLEVBQUt1USxHQUNiN0IsTUFBTTFPLEdBRU51RSxLQUFLMkwsT0EvQ2IsU0FBcUJLLEdBRWpCLEdBQUlBLEVBQU94TyxPQUFTLEVBQ2hCLE9BQU8sV0FBMkMsRUFDL0MsR0FBcUIsR0FBakJ3TyxFQUFPeE8sT0FDZCxPQUFPLFdBQTBCLE9BQU93TyxFQUFPLEdBQUcsRUFBRyxFQUl6RCxNQUFNQyxFQUFlLElBQUlELEdBQVFsRyxNQUFLLENBQUMzSyxFQUFHQyxJQUFNRCxFQUFFLEdBQUtDLEVBQUUsS0FFekQsT0FBTyxTQUFzQmlDLEdBRTNCLEdBQUlBLEdBQVU0TyxFQUFhLEdBQUcsR0FBSSxDQUNoQyxNQUFPQyxFQUFRQyxHQUFXRixFQUFhLElBQ2hDRyxFQUFRQyxHQUFXSixFQUFhLEdBQ3ZDLE9BQU9DLEdBQVc3TyxFQUFTOE8sSUFBWUMsRUFBU0YsSUFBV0csRUFBVUYsRUFDN0UsQ0FHTSxHQUFJOU8sR0FBVTRPLEVBQWFBLEVBQWF6TyxPQUFTLEdBQUcsR0FBSSxDQUN0RCxNQUFPME8sRUFBUUMsR0FBV0YsRUFBYUEsRUFBYXpPLE9BQVMsSUFDdEQ0TyxFQUFRQyxHQUFXSixFQUFhQSxFQUFhek8sT0FBUyxHQUM3RCxPQUFPME8sR0FBVzdPLEVBQVM4TyxJQUFZQyxFQUFTRixJQUFXRyxFQUFVRixFQUM3RSxDQUdNLElBQUssSUFBSTdLLEVBQUksRUFBR0EsRUFBSTJLLEVBQWF6TyxPQUFTLEVBQUc4RCxJQUMzQyxHQUFJakUsR0FBVTRPLEVBQWEzSyxHQUFHLElBQU1qRSxHQUFVNE8sRUFBYTNLLEVBQUksR0FBRyxHQUFJLENBQ3BFLE1BQU80SyxFQUFRQyxHQUFXRixFQUFhM0ssSUFDaEM4SyxFQUFRQyxHQUFXSixFQUFhM0ssRUFBSSxHQUUzQyxPQUFPNEssR0FBVzdPLEVBQVM4TyxJQUFZQyxFQUFTRixJQUFXRyxFQUFVRixFQUMvRSxDQUtLLENBQ0wsQ0FRc0JHLENBQVlOLEVBQ2xDLENBRUksS0FBQXBDLENBQU12TSxHQUNGLE1BQU8sQ0FBQ0ksTUFBT3VDLEtBQUsyTCxPQUFPdE8sR0FBU2dDLFNBQVEsRUFDcEQsRUNyUUEsU0FBUy9DLEVBQUkxQixFQUFJQyxHQUNoQixPQUFPdUIsRUFBU0UsR0FBR0YsRUFBU2dCLFdBQVd4QyxHQUFLd0IsRUFBU2dCLFdBQVd2QyxHQUNqRSxDQUlBLFNBQVM0QixFQUFLN0IsRUFBSUMsR0FDakIsT0FBT3VCLEVBQVNLLElBQUlMLEVBQVNnQixXQUFXeEMsR0FBS3dCLEVBQVNnQixXQUFXdkMsR0FDbEUsQ0FtQk8sTUFBTTBSLEVBRVosV0FBQXpLLEdBQ0M5QixLQUFLd00sT0FBUyxFQUNoQixDQUVDLFFBQUlDLEdBQVEsT0FBT3pNLEtBQUt3TSxPQUFPaFAsTUFBTyxDQUN0QyxTQUFJa1AsR0FBUyxPQUFPMU0sS0FBS3dNLE1BQU8sQ0FhaEMsT0FBQXJNLENBQVF3TSxHQUNQLElBQUlDLEVBQVcsRUFDWEMsRUFBWTdNLEtBQUt3TSxPQUFPaFAsT0FBUyxFQUNyQyxLQUFPb1AsR0FBWUMsR0FBVyxDQUM3QixNQUFNQyxFQUFVblAsS0FBS2dCLE9BQU9pTyxFQUFXQyxHQUFhLEdBQ3BELElBQUlFLEVBQVkvTSxLQUFLd00sT0FBT00sR0FDNUIsR0FsRFVsUyxFQWtESG1TLEVBbERPbFMsRUFrREk4UixFQWpEYnZRLEVBQVNNLEdBQUdOLEVBQVNnQixXQUFXeEMsR0FBS3dCLEVBQVNnQixXQUFXdkMsSUFrRDdELE1BQU8sRUFBQyxFQUFNaVMsR0FDSnhRLEVBQUd5USxFQUFXSixHQUN0QkMsRUFBV0UsRUFBVSxFQUVyQkQsRUFBWUMsRUFBVSxDQUU1QixDQXpEQSxJQUFhbFMsRUFBSUMsRUEwRGIsTUFBTyxFQUFDLEVBQU8rUixFQUNuQixDQU1DLFNBQUFJLENBQVVMLEdBQ1QsSUFBS00sRUFBT25GLEdBQU85SCxLQUFLRyxRQUFRd00sR0FDaEMsT0FBUTdFLEVBQU05SCxLQUFLd00sT0FBT2hQLE9BQVVzSyxHQUFPLENBQzdDLENBTUMsU0FBQW9GLENBQVVQLEdBQ1QsSUFBS00sRUFBT25GLEdBQU85SCxLQUFLRyxRQUFRd00sR0FFaEMsT0FEQTdFLEVBQU0sRUFBVUEsRUFBTUEsRUFBSSxFQUNsQkEsR0FBTyxFQUFLQSxHQUFPLENBQzdCLENBTUMsU0FBQXFGLENBQVVSLEdBQ1QsSUFBS00sRUFBT25GLEdBQU85SCxLQUFLRyxRQUFRd00sR0FFaEMsT0FEQTdFLEVBQU0sRUFBVUEsRUFBTSxFQUFJQSxFQUNsQkEsRUFBTTlILEtBQUt3TSxPQUFPaFAsT0FBVXNLLEdBQU8sQ0FDN0MsQ0FNQyxTQUFBc0YsQ0FBVVQsR0FDVCxJQUFLTSxFQUFPbkYsR0FBTzlILEtBQUtHLFFBQVF3TSxHQUVoQyxPQURBN0UsR0FBVSxFQUNGQSxHQUFPLEVBQUtBLEdBQU8sQ0FDN0IsQ0FrQkMsTUFBQXRGLENBQU82SyxFQUFZLEdBQUlDLEVBQVksSUFhbEMsSUFBSUMsRUFBa0IsR0FDdEIsSUFBSyxJQUFJOVAsS0FBUzRQLEVBQWEsQ0FDOUIsSUFBS0osRUFBT25GLEdBQU85SCxLQUFLRyxRQUFRMUMsR0FDNUJ3UCxHQUNITSxFQUFnQm5QLEtBQUswSixFQUV6QixDQUNFLElBQUssSUFBSUEsS0FBT3lGLEVBQ2Z2TixLQUFLd00sT0FBTzFFLFFBQU81SixFQUVwQixJQUFJc1AsRUFBY0QsRUFBZ0IvUCxPQUFTLEVBYXZDaVEsRUFBY0gsRUFBWTlQLE9BQVMsRUFDbkNpUSxHQXNGTixTQUF5QkMsRUFBV0MsR0FDbkMsTUFBTUMsRUFBbUJGLEVBQVVsUSxPQUM3QnFRLEVBQW9CRixFQUFXblEsT0FDbkNrUSxFQUFVbFEsUUFBVXFRLEVBQ3BCLElBQUssSUFBSXZNLEVBQUksRUFBR0EsRUFBSXVNLEVBQW1Cdk0sSUFDckNvTSxFQUFVRSxFQUFtQnRNLEdBQUtxTSxFQUFXck0sRUFFbEQsQ0E1Rkd3TSxDQUFnQjlOLEtBQUt3TSxPQUFRYyxJQU8xQkUsR0FBZUMsSUFDbEJ6TixLQUFLd00sT0FBTzFHLEtBQUtySixHQU9kK1EsSUFDSHhOLEtBQUt3TSxPQUFPaFAsUUFBVStQLEVBQWdCL1AsUUFTbkNpUSxHQXdFTixTQUEyQk0sR0FDMUIsSUFBSXpNLEVBQUksRUFDUixPQUNLQSxFQUFJLEdBQUt5TSxFQUFXdlEsU0FHcEJ1USxFQUFXek0sSUFBTXlNLEVBQVd6TSxFQUFJLEdBQ25DeU0sRUFBVzNOLE9BQU9rQixFQUFJLEVBQUcsR0FFekJBLEdBQUssQ0FHUixDQW5GRzBNLENBQWtCaE8sS0FBS3dNLE9BRTFCLENBS0MsWUFBQXlCLENBQWFuRyxHQUNaLEdBQUlBLEdBQU8sR0FBS0EsRUFBTTlILEtBQUt3TSxPQUFPaFAsT0FDakMsT0FBT3dDLEtBQUt3TSxPQUFPMUUsRUFFdEIsQ0FLQyxNQUFBb0csQ0FBT3pTLEdBQ0t5QyxNQUFQekMsSUFDSEEsRUFBTSxFQUFFSixJQUFVQSxLQUFVLEdBQU0sSUFFbkMsSUFBS2lQLEVBQUkxUCxHQUFNd0IsRUFBU2UsY0FBYzFCLEdBQ2xDMFMsRUFBU25PLEtBQUtnTixVQUFVMUMsR0FDeEI4RCxFQUFTcE8sS0FBS2tOLFVBQVV0UyxHQUM1QixPQUFlLEdBQVh1VCxJQUEyQixHQUFYQyxFQUNaLEdBRUFwTyxLQUFLd00sT0FBT25PLE1BQU04UCxFQUFRQyxFQUFPLEVBRTNDLENBRUMsRUFBQTlSLENBQUllLEdBQ0gsT0FBTzJDLEtBQUtpTyxhQUFhak8sS0FBS29OLFVBQVUvUCxHQUMxQyxDQUNDLEVBQUFoQixDQUFJZ0IsR0FDSCxPQUFPMkMsS0FBS2lPLGFBQWFqTyxLQUFLa04sVUFBVTdQLEdBQzFDLENBQ0MsR0FBQStGLENBQUsvRixHQUNKLElBQUs0UCxFQUFPbkYsR0FBTzlILEtBQUtHLFFBQVE5QyxHQUNoQyxHQUFJNFAsRUFDSCxPQUFPak4sS0FBS3dNLE9BQU8xRSxFQUV0QixDQUNDLEVBQUF0TCxDQUFJYSxHQUNILE9BQU8yQyxLQUFLaU8sYUFBYWpPLEtBQUttTixVQUFVOVAsR0FDMUMsQ0FDQyxFQUFBZCxDQUFJYyxHQUNILE9BQU8yQyxLQUFLaU8sYUFBYWpPLEtBQUtnTixVQUFVM1AsR0FDMUMsRUNsT0EsTUFBTWdSLEVBQ0wsV0FBQXZNLEdBQ0M5QixLQUFLZ0MsS0FBTyxJQUFJQyxJQUFJLENBQ25CLEVBQUUsRUFBRyxJQUFJcU0sS0FDVCxDQUFDLEVBQUcsSUFBSUEsS0FDUixDQUFDLEVBQUcsSUFBSUEsTUFFWCxDQUNDLEdBQUFDLEVBQUs5USxFQUFPQyxJQUNYLE9BQU9zQyxLQUFLZ0MsS0FBS29CLElBQUkxRixHQUFNNlEsSUFBSTlRLEVBQ2pDLENBQ0MsR0FBQThLLEVBQU05SyxFQUFPQyxJQUNaLE9BQU9zQyxLQUFLZ0MsS0FBS29CLElBQUkxRixHQUFNNkssSUFBSTlLLEVBQ2pDLENBQ0MsR0FBQTJGLEVBQUszRixFQUFPQyxJQUNYLE9BQU9zQyxLQUFLZ0MsS0FBS29CLElBQUkxRixHQUFNMEYsSUFBSTNGLEVBQ2pDLENBRUMsSUFBQStRLEdBQ0MsTUFBTUMsRUFBUSxFQUFFLEVBQUcsRUFBRyxHQUFHblAsS0FBSzVCLEdBQ3RCLElBQUlzQyxLQUFLZ0MsS0FBS29CLElBQUkxRixHQUFNNEYsVUFDN0JoRSxLQUFLb1AsR0FBUSxDQUFDQSxFQUFLaFIsT0FFdEIsTUFBTyxHQUFHUyxVQUFVc1EsRUFDdEIsRUFXQSxNQUFNRSxFQUFNLE1BQ05DLEVBQVMsU0FDVEMsRUFBTyxPQUViLE1BQU1DLEVBRUwsV0FBQWhOLEdBRUM5QixLQUFLZ0MsS0FBTyxJQUFJQyxJQUFJLENBQ25CLEVBQUUsRUFBRyxJQUFJQSxLQUNULENBQUMsRUFBRyxJQUFJQSxLQUNSLENBQUMsRUFBRyxJQUFJQSxNQUVYLENBRUMsaUJBQUE4TSxFQUFvQnRSLEVBQU9DLEdBQU9zUixHQUNqQyxNQUFNQyxFQUFRalAsS0FBS2dDLEtBQUtvQixJQUFJMUYsR0FBTTBGLElBQUkzRixHQUN0QyxPQUFpQlMsTUFBVCtRLEVBQXNCQSxFQUFNRCxHQUFRLEVBQzlDLENBTUMsUUFBQUUsRUFBVXpSLEVBQU9DLEdBQU93RCxFQUFNOE4sR0FDN0IsTUFBTUcsRUFBV25QLEtBQUtnQyxLQUFLb0IsSUFBSTFGLEdBQzFCeVIsRUFBUzVHLElBQUk5SyxJQUNqQjBSLEVBQVNsTSxJQUFJeEYsRUFBTyxDQUFDL0IsSUFBSyxHQUFJMFQsT0FBTyxHQUFJelQsS0FBSyxLQUUvQyxNQUFNc1QsRUFBUUUsRUFBUy9MLElBQUkzRixHQUNyQjRSLEVBQVlKLEVBQU1OLEdBQUtuUixPQUFTeVIsRUFBTUosR0FBTXJSLFFBQVUsR0FJaEQsR0FIRnlSLEVBQU1ELEdBQU1NLFdBQVdDLEdBQ3pCQSxFQUFNcE8sSUFBTUQsRUFBS0MsTUFHeEI4TixFQUFNRCxHQUFNNVEsS0FBSzhDLEdBRWxCLE1BQU1zTyxFQUFXUCxFQUFNTixHQUFLblIsT0FBU3lSLEVBQU1KLEdBQU1yUixRQUFVLEVBQzNELE9BQU82UixJQUFjRyxDQUN2QixDQU1DLFVBQUFDLEVBQVloUyxFQUFPQyxHQUFPd0QsR0FDekIsTUFBTWlPLEVBQVduUCxLQUFLZ0MsS0FBS29CLElBQUkxRixHQUN6QnVSLEVBQVFFLEVBQVMvTCxJQUFJM0YsR0FDM0IsR0FBYVMsTUFBVCtRLEVBQW9CLENBQ3ZCLE1BQU1JLEVBQVlKLEVBQU1OLEdBQUtuUixPQUFTeVIsRUFBTUosR0FBTXJSLFFBQVUsRUFFNUQsSUFBSyxNQUFNd1IsSUFBUSxDQUFDTCxFQUFLQyxFQUFRQyxHQUFPLENBQ3ZDLElBQUkvRyxFQUFNbUgsRUFBTUQsR0FBTU0sV0FBV0MsR0FDekJBLEVBQU1wTyxJQUFNRCxFQUFLQyxLQUVyQjJHLEdBQU8sR0FDVm1ILEVBQU1ELEdBQU01TyxPQUFPMEgsRUFBSyxFQUU3QixDQUNHLE1BQU0wSCxFQUFXUCxFQUFNTixHQUFLblIsT0FBU3lSLEVBQU1KLEdBQU1yUixRQUFVLEVBQzNELElBQUs2UixHQUFhRyxFQUdqQixPQURBTCxFQUFTOUwsT0FBTzVGLElBQ1QsQ0FFWCxDQUNFLE9BQU8sQ0FDVCxFQUlPLE1BQU1pUyxVQUFvQmpNLEVBRTdCLFdBQUEzQixDQUFZNk4sR0FHUixHQUZBeEYsU0FFTXpJLEVBQWlCaU8sR0FDbkIsTUFBTSxJQUFJelMsTUFBTSx5QkFBeUJ5UyxLQUU3QzNQLEtBQUs0UCxJQUFNRCxFQUNqQjNQLEtBQUtrQyxjQUNMbEMsS0FBSzZQLFNBQ1AsQ0FFSSxPQUFJckksR0FBUSxPQUFPeEgsS0FBSzRQLEdBQUksQ0FHL0IsV0FBQTFOLEdBRUNsQyxLQUFLOFAsVUFBWSxJQUFJaEIsRUFFckI5TyxLQUFLK1AsV0FBYSxJQUFJeEQsRUFFdEJ2TSxLQUFLNkUsT0FBUyxFQUNoQixDQUdDLE9BQUFnTCxDQUFRaE4sR0FFUCxNQUFNbU4sRUFBbUIsSUFBSTNCLEVBQ3ZCNEIsRUFBbUIsSUFBSTVCLEVBRTdCLElBb0NJNkIsRUFwQ0FDLEVBQWUsR0FDZkMsRUFBZSxHQUVuQixHQUFhbFMsTUFBVDJFLEVBQ0hzTixFQUFlblEsS0FBS3dILElBQUk1RixZQUV4QjVCLEtBQUtrQyxtQkFHTCxJQUFLLE1BQU1oSCxLQUFRMkgsRUFDRjNFLE1BQVpoRCxFQUFLZ0ksS0FDUmlOLEVBQWEvUixLQUFLbEQsRUFBS2dJLEtBRVJoRixNQUFaaEQsRUFBS2lJLEtBQ1JpTixFQUFhaFMsS0FBS2xELEVBQUtpSSxLQVMxQixJQUFLLE1BQU1qQyxLQUFRa1AsRUFBYyxDQUNwQnBRLEtBQUsrUCxXQUFXN0IsT0FBT2hOLEVBQUt6RixLQUN4QyxJQUFLLE1BQU00VSxLQUFNclEsS0FBSytQLFdBQVc3QixPQUFPaE4sRUFBS3pGLEtBQU0sQ0FFN0J1RSxLQUFLOFAsVUFBVUwsV0FBV1ksRUFBSW5QLElBQ2pDOE8sRUFBaUJ6QixJQUFJOEIsRUFDdkMsQ0FDSixDQU9FLElBQUssTUFBTW5QLEtBQVFpUCxFQUFjLENBQ2hDLE1BQU96VSxFQUFLQyxHQUFRUyxFQUFTZSxjQUFjK0QsRUFBS3pGLEtBQ2hEeVUsRUFBa0JsUSxLQUFLOFAsVUFBVVosU0FBU3hULEVBQUt3RixFQUFNeU4sR0FDakR1QixHQUFpQkQsRUFBaUIxQixJQUFJN1MsR0FDMUN3VSxFQUFrQmxRLEtBQUs4UCxVQUFVWixTQUFTdlQsRUFBTXVGLEVBQU0yTixHQUNsRHFCLEdBQWlCRCxFQUFpQjFCLElBQUk1UyxFQUM3QyxDQU9FcUUsS0FBSytQLFdBQVd2TixPQUNmd04sRUFBaUJ4QixPQUNqQnlCLEVBQWlCekIsUUFNbEIsTUFBTThCLEVBQVksSUFBSWhDLElBQ3RCLElBQUssTUFBTStCLEtBQU1yUSxLQUFLK1AsV0FBV3JELE1BQU8sQ0FFdkMsSUFBSyxJQUFJeEwsS0FBUWxCLEtBQUs4UCxVQUFVZixrQkFBa0JzQixFQUFJMUIsR0FDckQyQixFQUFVL0IsSUFBSXJOLEdBR2YsSUFBSyxJQUFJQSxLQUFRb1AsRUFDaEJ0USxLQUFLOFAsVUFBVVosU0FBU21CLEVBQUluUCxFQUFNME4sR0FHbkMsSUFBSyxJQUFJMU4sS0FBUWxCLEtBQUs4UCxVQUFVZixrQkFBa0JzQixFQUFJeEIsR0FDckR5QixFQUFVak4sT0FBT25DLEVBRXJCLENBQ0EsQ0FFQyxPQUFBcVAsQ0FBU2xULEdBQ1IsTUFBTW1ULEVBQU14USxLQUFLK1AsV0FBVzFULEdBQUdnQixJQUFXLEVBQUVoQyxJQUFVLEdBQ2hEb1YsRUFBTXpRLEtBQUsrUCxXQUFXeFQsR0FBR2MsSUFBVyxDQUFDaEMsSUFBVSxHQUNyRCxHQUFJZSxFQUFTTSxHQUFHOFQsRUFBS0MsR0FDcEIsT0FBT3pRLEtBQUs4UCxVQUFVZixrQkFBa0J5QixFQUFLNUIsR0FDdkMsQ0FFTixNQUFNOEIsRUFBUzFRLEtBQUs4UCxVQUFVZixrQkFBa0J5QixFQUFLNUIsR0FDL0MrQixFQUFTM1EsS0FBSzhQLFVBQVVmLGtCQUFrQjBCLEVBQUs3QixHQUUvQ2dDLEVBQVEsSUFBSXRDLElBQUlvQyxFQUFPcFIsS0FBSTRCLEdBQVFBLEVBQUtDLE1BQzlDLE9BQU93UCxFQUFPN0gsUUFBTzVILEdBQVEwUCxFQUFNckksSUFBSXJILEVBQUtDLEtBQy9DLENBQ0EsQ0FLQyxNQUFBdUMsQ0FBT3JHLEdBQ05BLEVBQVNqQixFQUFTZ0IsV0FBV0MsR0FHN0IsSUFBSXVHLEVBQVM1RCxLQUFLdVEsUUFBUWxULEdBQzFCLE1BQU1zSSxFQUFtQixHQUNuQkQsRUFBa0IsR0FDeEIsSUFBSyxNQUFNeEUsS0FBUTBDLEVBQVEsQ0FDMUIsTUFBT2xJLEVBQUtDLEdBQVFTLEVBQVNlLGNBQWMrRCxFQUFLekYsS0FDaERrSyxFQUFpQnZILEtBQUt6QyxHQUN0QitKLEVBQWdCdEgsS0FBSzFDLEVBQ3hCLENBR0UsSUFDSW1WLEVBREFwTCxFQUFZcEksRUFFaEIsT0FDQ29JLEVBQVl6RixLQUFLK1AsV0FBV3pULEdBQUdtSixJQUFjLEVBQUVwSyxJQUFVLEdBQ3JEb0ssRUFBVSxLQUFPcEssTUFHckJ3VixFQUFRN1EsS0FBSzhQLFVBQVVmLGtCQUFrQnRKLEVBQVdvSixHQUNoRGdDLEVBQU1yVCxPQUFTLE1BTXBCLElBQUlvSSxFQUFXdkksRUFDZixPQUNDdUksRUFBVzVGLEtBQUsrUCxXQUFXdlQsR0FBR29KLElBQWEsQ0FBQ3ZLLElBQVUsR0FDbER1SyxFQUFTLElBQU12SyxNQUduQndWLEVBQVE3USxLQUFLOFAsVUFBVWYsa0JBQWtCbkosRUFBVStJLEdBQy9Da0MsRUFBTXJULE9BQVMsTUFLcEIsT0FBT2dJLEVBQ05DLEVBQ0FDLEVBQ0E5QixFQUNBK0IsRUFDQUMsRUFFSCxFQ3ZRTyxNQUFNa0wsRUFFVCxXQUFBaFAsQ0FBWTVDLEVBQVEsSUFDaEIsTUFBTTZSLFdBQUNBLEVBQVdDLEdBQWM5UixHQUMxQkMsVUFBQ0EsRUFBU0MsVUFBRUEsR0FBYUYsRUFFL0I2QyxFQUF1Qi9CLE1BSXZCaVIsRUFBdUJqUixNQUN2QkEsS0FBS3NJLGVBQWUsU0FBVSxDQUFDN0IsTUFBSyxJQUdwQ3pHLEtBQUs2RSxPQUVMN0UsS0FBS2tSLFlBQWNILEVBQ25CL1EsS0FBS21SLGNBQ0xuUixLQUFLb1IsZUFBaUIsR0FHdEJwUixLQUFLcVIsY0FBZ0IsQ0FBQ2xTLFlBQVdDLFlBQ3pDLENBR0ksU0FBSWMsR0FBVSxPQUFPRixLQUFLNkUsTUFBTSxDQUNoQyxTQUFJM0UsQ0FBT0EsR0FBUUYsS0FBSzZFLE9BQVMzRSxDQUFLLENBR3RDLGdCQUFJb1IsR0FDQSxPQUFPdFIsS0FBS3FSLGFBQ3BCLENBR0ksU0FBSUUsR0FJQSxPQUgwQnJULE1BQXRCOEIsS0FBS21SLGdCQUNMblIsS0FBS21SLGNBQWdCLElBQUluUixLQUFLa1IsWUFBWWxSLE9BRXZDQSxLQUFLbVIsYUFDcEIsQ0FFSSxRQUFBSyxHQUNJLE1BQU1ELEVBQVEsSUFBSXZSLEtBQUtrUixZQUFZbFIsTUFFbkMsT0FEQUEsS0FBS29SLGVBQWVoVCxLQUFLbVQsR0FDbEJBLENBQ2YsQ0FFSSxXQUFBRSxHQUNJLElBQUssTUFBTUYsS0FBU3ZSLEtBQUtvUixlQUNyQkcsRUFBTUcsT0FFbEIsQ0FFSSxLQUFBekgsQ0FBTTVNLEdBQ0YsT0FBTzJDLEtBQUt1UixNQUFNdEgsTUFBTTVNLEVBQ2hDLENBRUksT0FBQW1ILENBQVN0RixHQUNMLE9BQU9jLEtBQUtFLE1BQU1zRSxRQUFRdEYsRUFDbEMsQ0FVSSxNQUFBeVMsQ0FBT3pTLEVBQVEsSUFDWCxJQUFJd0YsTUFBQ0EsR0FBT3JKLElBQVFzSixLQUFFQSxFQUFLdEosSUFBUXVXLEtBQUVBLEVBQUssR0FBSzFTLEVBQy9DLEdBQUl3RixFQUFRQyxFQUNSLE1BQU0sSUFBSXpILE1BQU8saUNBQWtDd0gsRUFBT0MsR0FFOURELEVBQVEsQ0FBQ0EsRUFBTyxHQUNoQkMsRUFBTyxDQUFDQSxFQUFNLEdBQ2RELEVBQVF0SSxFQUFTUSxJQUFJb0QsS0FBS0UsTUFBTXlELFFBQVNlLEdBQ3pDQyxFQUFPdkksRUFBU08sSUFBSXFELEtBQUtFLE1BQU00RCxPQUFRYSxHQUN2QyxNQUFNNE0sRUFBUXZSLEtBQUt3UixXQUNuQixPVGhGRCxTQUFnQjlNLEVBQU9tTixFQUFLRCxFQUFPLEVBQUcxUyxFQUFRLElBQ2pELE1BQU0yRyxFQUFTLElBQ1RpTSxZQUFDQSxHQUFZLEdBQVM1UyxFQUM1QixHQUFhLElBQVQwUyxFQUNBLE1BQU0sSUFBSTFVLE1BQU0sd0JBRXBCLEdBQUl3SCxFQUFRbU4sRUFDUixJQUFLLElBQUl2USxFQUFJb0QsRUFBT3BELEVBQUl1USxFQUFLdlEsR0FBS3NRLEVBQ2hDL0wsRUFBT3pILEtBQUtrRCxRQUVYLEdBQUlvRCxFQUFRbU4sRUFDZixJQUFLLElBQUl2USxFQUFJb0QsRUFBT3BELEVBQUl1USxFQUFLdlEsR0FBS3NRLEVBQ2hDL0wsRUFBT3pILEtBQUtrRCxHQU1sQixPQUhJd1EsR0FDQWpNLEVBQU96SCxLQUFLeVQsR0FFVGhNLENBQ1gsQ1M2RGVrTSxDQUFNck4sRUFBTSxHQUFJQyxFQUFLLEdBQUlpTixFQUFNLENBQUNFLGFBQVksSUFDOUN4UyxLQUFLakMsR0FDSyxDQUFDa1UsRUFBTXRILE1BQU01TSxHQUFRSSxNQUFPSixJQUVuRCxFQUVBa0csRUFBd0J1TixFQUFNdE4sV0FDOUJ3TyxFQUF3QmxCLEVBQU10TixXQWF2QixNQUFNd04sRUFFVCxXQUFBbFAsQ0FBWW1RLEdBQ1JqUyxLQUFLa1MsT0FBU0QsRUFFZGpTLEtBQUttUyxRQUVMblMsS0FBS29TLE1BQ2IsQ0FFSSxPQUFJNUssR0FBTyxPQUFPeEgsS0FBS2tTLE1BQU0sQ0FLN0IsS0FBQWpJLENBQU01TSxHQUNGLE1BQU1nVixFQUNjblUsTUFBaEI4QixLQUFLbVMsVUFDSnZVLEVBQVNFLGFBQWFrQyxLQUFLbVMsUUFBUTFXLElBQUs0QixHQUU3QyxJQUNLZ1YsR0FDY25VLE1BQWY4QixLQUFLb1MsU0FDSnBTLEtBQUtvUyxPQUFPL1MsUUFHYixNQUFPLElBQUlXLEtBQUtvUyxPQUFRL1UsVUFHeEJnVixJQUNBclMsS0FBS21TLFFBQVVuUyxLQUFLa1MsT0FBT2hTLE1BQU13RCxPQUFPckcsSUFHNUMsTUFBTTRCLEVBQVNlLEtBQUttUyxRQUFRdk8sT0FBT3RFLEtBQUtpUyxHQUM3QkEsRUFBTXRILE1BQU01TSxLQUVqQnVNLEVBQVE3SyxFQUFRaUIsS0FBS21TLFFBQVF2TyxPQUFRM0UsRUFBUTVCLEVBQVEyQyxLQUFLa1MsT0FBT1osY0FHdkUsT0FEQXRSLEtBQUtvUyxPQUFVeEksRUFBYSxhQUFJMUwsRUFBWTBMLEVBQ3JDQSxDQUNmLENBRUksS0FBQThILEdBQ0kxUixLQUFLbVMsYUFBVWpVLEVBQ2Y4QixLQUFLb1MsWUFBU2xVLENBQ3RCLEVBYU8sTUFBTW9VLFVBQW1CeEIsRUFFNUIsV0FBQWhQLENBQVk1QyxFQUFRLElBQ2hCLE1BQU1zSSxJQUFDQSxFQUFHckksVUFBRUEsRUFBU0MsVUFBRUEsR0FBYUYsRUFDcENpTCxNQUFNLENBQUM0RyxXQUFXd0IsRUFBaUJwVCxZQUFXQyxjQUU5Q29ULEVBQXNCeFMsTUFDdEJBLEtBQUt5UyxpQkFBaUIsT0FFdEJ6UyxLQUFLd0gsSUFBTUEsQ0FDbkIsQ0FFSSxhQUFBa0wsQ0FBY25KLEVBQVUvQixHQUNwQixHQUFnQixPQUFaK0IsRUFBbUIsQ0FDbkIsSUFBTTdILEVBQWlCOEYsR0FDbkIsTUFBTSxJQUFJdEssTUFBTSxnQ0FBZ0NzSyxLQUVwRCxPQUFPQSxDQUNuQixDQUNBLENBRUksZ0JBQUFtTCxDQUFpQnBKLEVBQVVqSixHQUNQLE9BQVppSixJQUNrQnJMLE1BQWQ4QixLQUFLRSxPQUE4QixTQUFSSSxJQUMzQk4sS0FBS0UsTUFBUSxJQUFJd1AsRUFBWTFQLEtBQUt3SCxNQUUxQixTQUFSbEgsR0FDQU4sS0FBS0UsTUFBTTJQLFFBQVF2UCxHQUV2Qk4sS0FBS3lSLGNBQ0x6UixLQUFLSyxtQkFDTEwsS0FBS3dJLGdCQUFnQixVQUVqQyxFQUVBb0ssRUFBdUJOLEVBQVc5TyxXQWUzQixNQUFNK08sRUFDVCxXQUFBelEsQ0FBWW1RLEdBRVJqUyxLQUFLa1MsT0FBU0QsRUFFZGpTLEtBQUttUyxhQUFValUsRUFFZjhCLEtBQUs2UyxjQUFXM1UsQ0FDeEIsQ0FFSSxPQUFJc0osR0FBTyxPQUFPeEgsS0FBS2tTLE1BQU0sQ0FFN0IsS0FBQWpJLENBQU01TSxHQUtGLEdBSG9CYSxNQUFoQjhCLEtBQUttUyxVQUNKdlUsRUFBU0UsYUFBYWtDLEtBQUttUyxRQUFRMVcsSUFBSzRCLEdBRTdCLENBQ1oyQyxLQUFLbVMsUUFBVW5TLEtBQUtrUyxPQUFPaFMsTUFBTXdELE9BQU9yRyxHQUN4QyxJQUFJNUIsSUFBQ0EsRUFBR21JLE9BQUVBLEdBQVU1RCxLQUFLbVMsUUFDekJuUyxLQUFLOFMsVUFBWWxQLEVBQU90RSxLQUFLNEIsR0FxQnpDLFNBQXNCekYsRUFBS3lGLEdBQ3ZCLElBQUlrQixLQUFDQSxFQUFLLFNBQVFDLEtBQUVBLEdBQVFuQixFQUM1QixHQUFZLFVBQVJrQixFQUNBLE9BQU8sSUFBSTJRLEVBQXNCdFgsRUFBSzRHLEdBQ25DLEdBQVksY0FBUkQsRUFDUCxPQUFPLElBQUk0USxFQUEwQnZYLEVBQUs0RyxHQUN2QyxHQUFZLGlCQUFSRCxFQUNQLE9BQU8sSUFBSTZRLEVBQTZCeFgsRUFBSzRHLEdBQzFDLEdBQVksVUFBUkQsRUFDUCxPQUFPLElBQUk4USxFQUFzQnpYLEVBQUs0RyxHQUV0Q3NGLFFBQVFDLElBQUksNEJBQTZCeEYsRUFFakQsQ0FqQ3VCK1EsQ0FBYTFYLEVBQUt5RixJQUV6QyxDQUVRLE1BQU1qQyxFQUFTZSxLQUFLOFMsVUFBVXhULEtBQUs4VCxHQUN4QkEsRUFBSW5KLE1BQU01TSxLQUVyQixPQUFPMEIsRUFBUWlCLEtBQUs4UyxVQUFXN1QsRUFBUTVCLEVBQVEyQyxLQUFLa1MsT0FBT1osYUFDbkUsQ0FFSSxLQUFBSSxHQUNJMVIsS0FBS21TLGFBQVVqVSxFQUNmOEIsS0FBSzZTLGNBQVczVSxDQUN4QixFQzVQQSxNQUFNbVYsRUFBZ0IsQ0FDbEJDLElBQUssQ0FDRG5VLFVBQVcsU0FBVW9VLEdBRWpCLE9BQU9BLEVBQUt0VSxPQUNQSyxLQUFJc0ssR0FBU0EsRUFBTW5NLFFBQ25CK1YsUUFBTyxDQUFDcEksRUFBSzNOLElBQVUyTixFQUFNM04sR0FBTyxFQUNyRCxHQUVJZ1csTUFBTyxDQUNIclUsVUFBVyxTQUFVbVUsR0FFakIsTUFBTyxJQUFJQSxFQUFLdFUsT0FBTyxHQUNuQyxHQUVJeU4sTUFBTyxDQUNIdk4sVUFBVyxTQUFVb1UsR0FFakIsT0FBT0EsRUFBS3RVLE9BQU9LLEtBQUlzSyxHQUFTQSxFQUFNbk0sT0FDbEQsSUF1QkEsTUFBTWlXLFdBQW1CNUMsRUFFckIsV0FBQWhQLENBQVk5QyxFQUFTRSxHQUNqQmlMLE1BQU1qTCxHQUdOc1QsRUFBc0J4UyxNQUN0QkEsS0FBS3lTLGlCQUFpQixVQUFXLENBQUNqSixTQUFRLElBQzFDeEosS0FBS2hCLFFBQVVBLENBQ3ZCLENBRUksYUFBQTBULENBQWNuSixFQUFVdkssR0FDcEIsR0FBZ0IsV0FBWnVLLEVBQXVCLENBRXZCLElBQUtqTSxNQUFNQyxRQUFReUIsR0FDZixNQUFNLElBQUk5QixNQUFNLHlCQUF5QjhCLEtBRzdDLElBRG1CQSxFQUFRTSxLQUFLRyxHQUFNQSxhQUFhcVIsSUFBTzZDLE9BQU1sVSxHQUFLQSxJQUVqRSxNQUFNLElBQUl2QyxNQUFNLDhCQUE4QjhCLElBRTlELENBQ1EsT0FBT0EsQ0FDZixDQUVJLGdCQUFBMlQsQ0FBaUJwSixFQUFVakosR0FDUCxXQUFaaUosSUFDa0JyTCxNQUFkOEIsS0FBS0UsT0FBOEIsU0FBUkksSUFDM0JOLEtBQUtFLE1BQVEsSUFBSTBULEdBQVc1VCxLQUFLaEIsVUFFckNnQixLQUFLeVIsY0FDTHpSLEtBQUtLLG1CQUNMTCxLQUFLd0ksZ0JBQWdCLFVBRWpDLEVBc0JBLFNBQVNsRCxHQUFjMUssRUFBSUMsR0FDdkIsT0FBT3VCLEVBQVNLLElBQUk3QixFQUFJQyxFQUM1QixDQUVBLFNBQVMwSyxHQUFlM0ssRUFBSUMsR0FDeEIsT0FBT3VCLEVBQVNLLElBQUk1QixFQUFJRCxFQUM1QixDQTFCQWdZLEVBQXVCYyxHQUFXbFEsV0E0QjNCLE1BQU1vUSxXQUFtQm5RLEVBRTVCLFdBQUEzQixDQUFZOUMsR0FDUm1MLFFBQ0FuSyxLQUFLNlQsU0FBVzdVLEVBQ2hCZ0IsS0FBSzhULFFBQVUsSUFBSTdSLElBQUlqRCxFQUFRTSxLQUFLa0ksR0FDekIsQ0FBQ0EsRUFBS0EsRUFBSWdLLGNBRTdCLENBRUksTUFBQTlOLENBQU9yRyxHQUNIQSxFQUFTakIsRUFBU2dCLFdBQVdDLEdBRTdCLE1BQU0wVyxFQUFZLEdBQUlDLEVBQVksR0FDNUJwUSxFQUFTLEdBQ1QrQixFQUFtQixHQUNuQkQsRUFBa0IsR0FDeEIsSUFBSyxJQUFJOEIsS0FBT3hILEtBQUs2VCxTQUFVLENBQzNCLElBQUluUSxFQUFTOEQsRUFBSXRILE1BQU13RCxPQUFPckcsR0FDMUI0VyxFQUFjek0sRUFBSXRILE1BQU1rRSxZQUFZVixFQUFRLENBQUNZLFdBQVcsSUFDeEQ0UCxFQUFjMU0sRUFBSXRILE1BQU1rRSxZQUFZVixFQUFRLENBQUNZLFVBQVUsSUFPM0QsR0FObUJwRyxNQUFmK1YsR0FDQUYsRUFBVTNWLEtBQUtoQyxFQUFTZSxjQUFjOFcsRUFBWXhZLEtBQUssSUFFeEN5QyxNQUFmZ1csR0FDQUYsRUFBVTVWLEtBQUtoQyxFQUFTZSxjQUFjK1csRUFBWXpZLEtBQUssSUFFdkRpSSxFQUFPRSxPQUFPcEcsT0FBUyxFQUFHLENBQzFCb0csRUFBT3hGLEtBQUs0QixLQUFLOFQsUUFBUTFRLElBQUlvRSxJQUM3QixJQUFLOUwsRUFBS0MsR0FBUVMsRUFBU2UsY0FBY3VHLEVBQU9qSSxLQUNoRGtLLEVBQWlCdkgsS0FBS3pDLEdBQ3RCK0osRUFBZ0J0SCxLQUFLMUMsRUFDckMsQ0FDQSxDQUdRc1ksRUFBVWxPLEtBQUtSLElBQ2YsTUFBTU0sRUFBV29PLEVBQVUsSUFBTSxDQUFDM1ksSUFBVSxHQUc1QzBZLEVBQVVqTyxLQUFLUCxJQUdmLE9BQU9DLEVBRld1TyxFQUFVLElBQU0sRUFBRTFZLElBQVUsR0FJdENxSyxFQUNBOUIsRUFDQStCLEVBQ0FDLEVBRWhCLEVDaEtBLFNBQVN1TyxHQUFRcFksRUFBR3NCLEdBQ2hCLEdBQVNhLE1BQUxuQyxJQUFtQmtCLFNBQVNsQixHQUU1QixPQUFPQSxFQUVOLEdBQWdCLGlCQUFMQSxFQUVaLE9BQU9BLEVBQUlzQixFQUNSLEdBQUlDLE1BQU1DLFFBQVF4QixJQUFNQSxFQUFFeUIsT0FBUyxFQUFHLENBRXpDLElBQUtrUixFQUFLaFIsR0FBUTNCLEVBQ2xCLE1BQU8sQ0FBQzJTLEVBQU1yUixFQUFRSyxFQUM5QixDQUNBLENBT0EsTUFBTTBXLFdBQW1CM1EsRUFFckIsV0FBQTNCLENBQWFtUSxFQUFPb0MsR0FDaEJsSyxRQUNBbkssS0FBS2tTLE9BQVNELEVBQ2RqUyxLQUFLc1UsTUFBUUQsRUFDYnJVLEtBQUt1VSxPQUFTdEMsRUFBTVQsV0FHcEJ4UixLQUFLd1UsZUFBaUIsQ0FDbEJ2SyxNQUFPLFNBQVU1TSxHQUViLE1BQU8sSUFBSTJDLEtBQUt1VSxPQUFPdEssTUFBTWtLLEdBQVE5VyxHQUFTMkMsS0FBS3NVLFFBQVNqWCxTQUMvRCxFQUFDeU0sS0FBSzlKLE1BRW5CLENBR0ksTUFBQTBELENBQU9yRyxHQUNIQSxFQUFTakIsRUFBU2dCLFdBQVdDLEdBRTdCLE1BQU1xRyxFQUFTMUQsS0FBS2tTLE9BQU9oUyxNQUFNd0QsT0FBT3lRLEdBQVE5VyxHQUFTMkMsS0FBS3NVLFFBRXhEN1ksRUFBTWlJLEVBQU9qSSxJQUFJNEMsUUFHdkIsT0FGQTVDLEVBQUksR0FBSzBZLEdBQVF6USxFQUFPakksSUFBSSxHQUFJdUUsS0FBS3NVLE9BQ3JDN1ksRUFBSSxHQUFLMFksR0FBUXpRLEVBQU9qSSxJQUFJLEdBQUl1RSxLQUFLc1UsT0FDOUIsQ0FDSDdZLE1BQ0FzSSxLQUFNb1EsR0FBUXpRLEVBQU9LLEtBQU0vRCxLQUFLc1UsT0FDaEN6USxNQUFPc1EsR0FBUXpRLEVBQU9HLE1BQU83RCxLQUFLc1UsT0FDbEMxUSxPQUFRRixFQUFPRSxPQUFPdEUsS0FBSSxJQUFNVSxLQUFLd1UsaUJBRWpELEVBU0EsTUFBTUMsV0FBbUIzRCxFQUVyQixXQUFBaFAsQ0FBWW1RLEVBQU9vQyxFQUFNblYsRUFBUSxDQUFBLEdBQzdCaUwsTUFBTWpMLEdBQ05jLEtBQUtzVSxNQUFRRCxFQUViN0IsRUFBc0J4UyxNQUN0QkEsS0FBS3lTLGlCQUFpQixPQUN0QnpTLEtBQUt3SCxJQUFNeUssQ0FDbkIsQ0FFSSxhQUFBUyxDQUFjbkosRUFBVS9CLEdBQ3BCLEdBQWdCLE9BQVorQixFQUFtQixDQUNuQixLQUFNL0IsYUFBZXNKLEdBQ2pCLE1BQU0sSUFBSTVULE1BQU0sdUJBQXVCc0ssS0FFM0MsT0FBT0EsQ0FDbkIsQ0FDQSxDQUVJLGdCQUFBbUwsQ0FBaUJwSixFQUFVakosR0FDUCxPQUFaaUosSUFDa0JyTCxNQUFkOEIsS0FBS0UsT0FBOEIsU0FBUkksSUFDM0JOLEtBQUtFLE1BQVEsSUFBSWtVLEdBQVdwVSxLQUFLd0gsSUFBS3hILEtBQUtzVSxRQUUvQ3RVLEtBQUt5UixjQUNMelIsS0FBS0ssbUJBQ0xMLEtBQUt3SSxnQkFBZ0IsVUFFakMsRUFFQW9LLEVBQXVCNkIsR0FBV2pSLFdDaEdsQyxNQUFNa1IsR0FDRyxXQUNELE9BQU9DLFlBQVlDLE1BQU0sR0FDakMsRUFHTUMsR0FDRyxXQUNELE9BQU8sSUFBSUMsS0FBTyxHQUMxQixFQVVhQyxHQUF1QixXQUNoQyxNQUFNQyxFQUFXTixLQUNYTyxFQUFXSixLQUNqQixNQUFPLENBQ0hELElBQUssV0FDRCxNQUFNTSxFQUFXUixLQUNqQixPQUFPTyxHQUFZQyxFQUFXRixFQUMxQyxFQUVBLENBVG9DLEdBVzdCLFNBQVNHLEdBQWlCclUsR0FDN0IsTUFDSyxRQUFTQSxVQUEyQixZQUFYQSxFQUFJOFQsSUFFdEMsQ0NqQ0EsTUFBTVEsR0FBVSxDQUFDeFUsT0FvQmpCLFNBQWdCbkQsR0FDWixHQUFhUyxNQUFUVCxFQUNBLE1BQU8sR0FPUCxNQUFPLENBTEksQ0FDUGhDLElBQUssRUFBRUosSUFBVUEsS0FBVSxHQUFNLEdBQ2pDK0csS0FBTSxTQUNOQyxLQUFNNUUsR0FJbEIsRUEvQnlCNFgsS0FpQ3pCLFNBQWNDLEdBTVYsTUFBTyxDQUxJLENBQ1A3WixJQUFLLEVBQUVKLElBQVVBLEtBQVUsR0FBTSxHQUNqQytHLEtBQU0sU0FDTkMsS0FBTWlULEdBR2QsRUF4QytCQyxXQTBDL0IsU0FBb0IvSyxFQUFJMVAsRUFBSThQLEVBQUlhLEVBQUlELEdBa0JoQyxNQWpCWSxDQUNSLENBQ0kvUCxJQUFLLEVBQUVKLElBQVV1UCxHQUFJLEdBQU0sR0FDM0J4SSxLQUFNLFNBQ05DLEtBQU1tSSxHQUVWLENBQ0kvTyxJQUFLLENBQUNtUCxFQUFJYSxHQUFJLEdBQU0sR0FDcEJySixLQUFNLGFBQ05DLEtBQU0sQ0FBQ21JLEtBQUkxUCxLQUFJOFAsS0FBSWEsS0FBSUQsV0FFM0IsQ0FDSS9QLElBQUssQ0FBQ2dRLEVBQUlwUSxLQUFVLEdBQU0sR0FDMUIrRyxLQUFNLFNBQ05DLEtBQU12SCxHQUlsQixFQTdEMkN3UixZQStEM0MsU0FBcUJOLEdBQ2pCLElBQUt4QixFQUFJSSxHQUFNb0IsRUFBTyxJQUNqQmxSLEVBQUkyUSxHQUFNTyxFQUFPQSxFQUFPeE8sT0FBTyxHQW1CcEMsTUFqQlksQ0FDUixDQUNJL0IsSUFBSyxFQUFFSixJQUFVdVAsR0FBSSxHQUFNLEdBQzNCeEksS0FBTSxTQUNOQyxLQUFNbUksR0FFVixDQUNJL08sSUFBSyxDQUFDbVAsRUFBSWEsR0FBSSxHQUFNLEdBQ3BCckosS0FBTSxnQkFDTkMsS0FBTTJKLEdBRVYsQ0FDSXZRLElBQUssQ0FBQ2dRLEVBQUlwUSxLQUFVLEdBQU0sR0FDMUIrRyxLQUFNLFNBQ05DLEtBQU12SCxHQUlsQixHQWxGTyxTQUFTMGEsR0FBSzFZLEdBQ2pCLElBQU00RSxFQUFpQjVFLEdBQ25CLE1BQU0sSUFBSUksTUFBTSxvQ0FBb0NKLEtBRXhELElBQUlrRyxFQUFVckMsT0FBT3FDLFFBQVFvUyxJQUN4QjlWLEtBQUksRUFBRWtILEVBQU1pUCxLQUNGLENBQ0hqUCxFQUNBLFlBQVlrUCxHQUNSLElBQUk3RSxFQUFRNEUsRUFBT2hPLEtBQUt6SCxRQUFTMFYsR0FDakMsT0FBTzVZLEVBQU8wRixPQUFPLENBQUNMLE9BQU8wTyxFQUFPdE8sT0FBTSxHQUM5RCxLQUdJLE9BQU81QixPQUFPZ1YsWUFBWTNTLEVBQzlCLENDbURBLE1BQU00UyxHQUVGLFdBQUE5VCxDQUFZNUMsRUFBUSxJQUdoQixHQURBYyxLQUFLNlYsU0FBV2xWLE9BQU9DLE9BQU8sQ0FBQ2tWLEtBZnZCLElBZXVDNVcsR0FDM0NjLEtBQUs2VixTQUFTQyxLQWhCVixHQWlCSixNQUFNLElBQUk1WSxNQUFNLGdCQUFnQjRZLDRCQVNwQzlWLEtBQUsrVixLQUFPLElBQUl6SCxJQVFoQnRPLEtBQUtnVyxjQUFnQixJQUFJL1QsSUFFekJqQyxLQUFLaVcsbUJBQXFCalcsS0FBS2tXLGtCQUFrQnBNLEtBQUs5SixLQUM5RCxDQUVJLElBQUE4SixDQUFLcU0sRUFBVXZQLEVBQVV3UCxFQUFPbFgsRUFBUSxDQUFBLEdBRXBDLElBQUlhLEVBQVMsQ0FBQzZHLFdBQVV1UCxXQUFVQyxTQUdsQyxHQUZBcFcsS0FBSytWLEtBQUt4SCxJQUFJeE8sR0FFVEMsS0FBS2dXLGNBQWN6TixJQUFJNE4sR0FNeEJuVyxLQUFLZ1csY0FBYzVTLElBQUkrUyxHQUFVek0sUUFBUXRMLEtBQUsyQixPQU5YLENBQ25DLElBQ0ltQixFQUFPLENBQUMyRixJQURGc1AsRUFBU2hOLEdBQUcsU0FBVW5KLEtBQUtpVyxvQkFDcEJJLFNBQVEsRUFBTzNNLFFBQVMsQ0FBQzNKLElBQzFDQyxLQUFLZ1csY0FBYy9TLElBQUlrVCxFQUFValYsRUFFN0MsQ0FHUSxPQUFPbkIsQ0FDZixDQUVJLE9BQUF1VyxDQUFRdlcsR0FHSixJQURjQyxLQUFLK1YsS0FBSzFTLE9BQU90RCxHQUNqQixPQUNkQSxFQUFPd1csU0FBTXJZLEVBRWIsSUFBSWlZLEVBQVdwVyxFQUFPb1csVUFDbEJ0UCxJQUFDQSxFQUFHNkMsUUFBRUEsR0FBVzFKLEtBQUtnVyxjQUFjNVMsSUFBSStTLEdBQ3hDck8sRUFBTTRCLEVBQVF2SixRQUFRSixHQUN0QitILEdBQU8sR0FDUDRCLEVBQVF0SixPQUFPMEgsRUFBSyxHQUVGLEdBQWxCNEIsRUFBUWxNLFNBR1J3QyxLQUFLZ1csY0FBYzNTLE9BQU84UyxHQUMxQkEsRUFBUy9NLElBQUl2QyxHQUV6QixDQUtJLGlCQUFBcVAsQ0FBbUI1VixFQUFNK0csR0FDckIsSUFBSThPLEVBQVc5TyxFQUFNRyxLQUVqQmtDLFFBQUNBLEdBQVcxSixLQUFLZ1csY0FBYzVTLElBQUkrUyxHQUNuQ3ZNLEVBQVF0SixFQUVaTixLQUFLd1csb0JBQW9CTCxFQUFVdk0sR0FFbkMsSUFBSyxJQUFJN0osS0FBVTJKLEVBQ2YzSixFQUFPNkcsU0FBU2dELEVBRTVCLENBS0ksbUJBQUE0TSxDQUFvQkwsRUFBVXZNLEdBQzFCLElBQUkxSSxFQUFPbEIsS0FBS2dXLGNBQWM1UyxJQUFJK1MsSUFDN0JFLFFBQVFJLEdBQWV2VixFQUV4QndWLEdBREo5TSxFQUFRQSxHQUFTdU0sRUFBU2xNLFNBQ0k1SyxTQUN6Qm9YLEdBQWVDLEdBQ2hCeFYsRUFBS21WLFNBQVUsRUFDZnJXLEtBQUsyVyxjQUFjUixJQUNaTSxJQUFnQkMsSUFDdkJ4VixFQUFLbVYsU0FBVSxFQUNmclcsS0FBSzRXLGdCQUFnQlQsR0FFakMsQ0FLSSxhQUFBUSxDQUFjUixHQUNWLElBQUl6TSxRQUFDQSxHQUFXMUosS0FBS2dXLGNBQWM1UyxJQUFJK1MsR0FDdkMsSUFBSyxJQUFJcFcsS0FBVTJKLEVBQ2YxSixLQUFLNlcsYUFBYTlXLEVBRTlCLENBRUksWUFBQThXLENBQWE5VyxHQUNULElBQUkrVyxFQUFROVcsS0FBSytXLGlCQUFpQmhYLEVBQU9xVyxPQUNyQ3RXLEVBQVUsV0FDVkUsS0FBS2dYLGdCQUFnQmpYLEVBQ2pDLEVBQVUrSixLQUFLOUosTUFDUEQsRUFBT3dXLElBQU1VLFdBQVduWCxFQUFTZ1gsRUFDekMsQ0FNSSxnQkFBQUMsQ0FBaUJYLEdBQ2IsSUFBSU4sRUFBTzlWLEtBQUs2VixTQUFTQyxLQUNyQmxCLEVBQU1qWCxLQUFLdVosTUFBTXZDLFlBQVlDLFFBQzVCdUMsRUFBT0MsR0FBUzVZLEVBQU9vVyxFQUFLa0IsSUFDNUIzWixFQUFHeUMsR0FBS0osRUFBT29XLEVBQU13QixFQUFPTixHQUVqQyxPQURhblksS0FBS2YsSUFBSVQsRUFBR2diLEVBQVEsR0FBR3JCLEVBQ3BCbkIsWUFBWUMsS0FDcEMsQ0FLSSxlQUFBZ0MsQ0FBZ0JULEdBQ1osSUFBSXpNLFFBQUNBLEdBQVcxSixLQUFLZ1csY0FBYzVTLElBQUkrUyxHQUN2QyxJQUFLLElBQUlwVyxLQUFVMkosRUFDR3hMLE1BQWQ2QixFQUFPd1csTUFDUGMsYUFBYXRYLEVBQU93VyxLQUNwQnhXLEVBQU93VyxTQUFNclksRUFHN0IsQ0FLSSxlQUFBOFksQ0FBZ0JqWCxHQUVaLEdBQWtCN0IsTUFBZDZCLEVBQU93VyxJQUFrQixPQUM3QnhXLEVBQU93VyxTQUFNclksRUFFYixJQUFJaVksU0FBQ0EsR0FBWXBXLEVBQ2I2SixFQUFRdU0sRUFBU2xNLFFBRXJCLEdBQUlMLEVBQU12SyxRQUNOVyxLQUFLNlcsYUFBYTlXLE9BQ2YsQ0FTUUMsS0FBS2dXLGNBQWM1UyxJQUFJK1MsR0FDN0JFLFNBQVUsQ0FDM0IsQ0FFUXRXLEVBQU82RyxTQUFTZ0QsRUFDeEIsRUE0REEsTUFBTTBOLEdBQVUsSUFBSTFCLEdBQ2QyQixHQUFvQixJQW5EMUIsY0FBK0IzQixHQUUzQixXQUFBOVQsQ0FBWTVDLEVBQVEsSUFDaEJpTCxNQUFNakwsR0FDTmMsS0FBS3dYLE9BQ2IsQ0FLSSxhQUFBYixDQUFjUixHQUFVLENBQ3hCLFlBQUFVLENBQWE5VyxHQUFRLENBQ3JCLGdCQUFBZ1gsQ0FBaUJYLEdBQU8sQ0FDeEIsZUFBQVEsQ0FBZ0JULEdBQVUsQ0FDMUIsZUFBQWEsQ0FBZ0JqWCxHQUFRLENBRXhCLGlCQUFBbVcsQ0FBbUI1VixFQUFNK0csR0FDckI4QyxNQUFNK0wsa0JBQWtCNVYsRUFBTStHLEdBRTlCckgsS0FBS3lYLFdBQ2IsQ0FFSSxTQUFBQSxHQUVJLElBQUlDLEVBQVksSUFBSTFYLEtBQUtnVyxjQUFjaFQsV0FDbEM4RixRQUFPLEVBQUVxTixFQUFValYsS0FBVUEsRUFBS21WLFVBQ2xDL1csS0FBSSxFQUFFNlcsRUFBVWpWLEtBQVVpVixJQUMvQixHQUFJdUIsRUFBVWxhLE9BQVMsRUFBRyxDQUV0QixJQUFLLElBQUkyWSxLQUFZdUIsRUFBVyxDQUM1QixJQUFJaE8sUUFBQ0EsR0FBVzFKLEtBQUtnVyxjQUFjNVMsSUFBSStTLEdBQ25Dd0IsRUFBTXhCLEVBQVNsTSxRQUNuQixJQUFLLElBQUlsSyxLQUFVMkosRUFDZjNKLEVBQU82RyxTQUFTK1EsRUFFcEMsQ0FLWTNYLEtBQUt3WCxRQUFVSSxzQkFBc0I1WCxLQUFLeVgsVUFBVTNOLEtBQUs5SixNQUNyRSxDQUNBLEdDNVFBLE1BQU02WCxXQUFvQnBVLEVBRXRCLFdBQUEzQixDQUFZZ1csR0FDUjNOLFFBQ0FuSyxLQUFLdVUsT0FBU3VELEVBQU90RyxVQUM3QixDQUVJLE1BQUE5TixDQUFPckcsR0FFSCxNQUFPLENBQ0g1QixJQUFLLEVBQUVKLElBQVVBLEtBQVUsR0FBTSxHQUNqQ3VJLE9BQVEsQ0FBQzVELEtBQUt1VSxRQUNkeFEsS0FBTSxFQUFFMUksSUFBVSxHQUNsQmdMLEtBQU0sRUFBRWhMLElBQVUsR0FDbEJ3SSxNQUFPLENBQUN4SSxJQUFVLEdBQ2xCNkosS0FBTSxDQUFDN0osSUFBVSxHQUU3QixFQVdBLE1BQU0wYyxHQUNGLFdBQUFqVyxDQUFZZ1csR0FDUjlYLEtBQUtnWSxRQUFVRixFQUNmOVgsS0FBS3VVLE9BQVN2VSxLQUFLZ1ksUUFBUXhRLElBQUlnSyxVQUN2QyxDQUVJLEtBQUF2SCxHQUNJLE1BQU01TSxFQUFTMkMsS0FBS2dZLFFBQVFDLGtCQUFrQnhhLE1BQzlDLE9BQU91QyxLQUFLdVUsT0FBT3RLLE1BQU01TSxFQUNqQyxDQUVJLEtBQUFxVSxHQUNJMVIsS0FBS3VVLE9BQU83QyxPQUNwQixFQWlCTyxNQUFNd0csV0FBZXBILEVBRXhCLFdBQUFoUCxDQUFhNUMsRUFBUSxJQUNqQmlMLE1BQU0sQ0FBQzRHLFdBQVdnSCxLQUdsQnZGLEVBQXNCeFMsTUFDdEJBLEtBQUt5UyxpQkFBaUIsT0FDdEJ6UyxLQUFLeVMsaUJBQWlCLFFBR3RCelMsS0FBS21ZLEtBRUxuWSxLQUFLb1ksS0FHTCxJQUFJNVEsSUFBQ0EsRUFBRzZRLEtBQUVBLEdBQVFuWixFQUNsQmMsS0FBS3FZLEtBQU9BLEdBQVF0RCxHQUNwQi9VLEtBQUt3SCxJQUFNQSxDQUNuQixDQU1JLGFBQUFrTCxDQUFjbkosRUFBVXpJLEdBQ3BCLEdBQWdCLFFBQVp5SSxHQUNBLEtBQU00TCxHQUFpQnJVLElBQVFBLGFBQWVvWCxJQUMxQyxNQUFNLElBQUloYixNQUFNLDBDQUEwQzRELFVBRTNELEdBQWdCLE9BQVp5SSxLQUNEekksYUFBZWdRLEdBQ2pCLE1BQU0sSUFBSTVULE1BQU0sdUJBQXVCNEQsS0FHL0MsT0FBT0EsQ0FDZixDQUVJLGdCQUFBNlIsQ0FBaUJwSixFQUFVakosR0FDdkJOLEtBQUtzWSxnQkFBZ0IvTyxFQUFVakosRUFDdkMsQ0FNSSxlQUFBZ1ksQ0FBZ0JDLEVBQVFqWSxHQUNwQitXLGFBQWFyWCxLQUFLbVksTUFDbEJLLGNBQWN4WSxLQUFLb1ksTUFDZnBZLEtBQUt3SCxLQUFPeEgsS0FBS3FZLE9BQ0NuYSxNQUFkOEIsS0FBS0UsT0FBOEIsU0FBUkksSUFFM0JOLEtBQUtFLE1BQVEsSUFBSTJYLEdBQVk3WCxPQUVqQ0EsS0FBS3lSLGNBQ0x6UixLQUFLSyxtQkFFTEwsS0FBS3dJLGdCQUFnQixTQUFVeEksS0FBS2lLLFNBRXBDakssS0FBS3lZLHlCQUVqQixDQWtHSSxzQkFBQUEsR0FHSSxNQUFNQyxFQUFjMVksS0FBS2lZLG1CQUNsQnhhLE1BQU1rYixFQUFhdGIsT0FBT3ViLEdBQWNGLEVBRy9DLElBQUtBLEVBQVlyWixRQUViLE9BSUosTUFBTXdaLEVBQWE3WSxLQUFLd0gsSUFBSXRILE1BQU13RCxPQUFPaVYsSUFDbENqZCxFQUFLQyxHQUFRa2QsRUFBV3BkLElBQUk0QyxNQUFNLEVBQUUsR0FHM0MsR0FBSThXLEdBQWlCblYsS0FBS3FZLE1BQ3RCLE9BQUlwYixTQUFTdEIsUUFDVHFFLEtBQUs4WSxjQUFjbmQsRUFBTWdkLEVBQWEsRUFBS0MsUUFJL0MsRUFFSixHQUFJekQsR0FBaUJuVixLQUFLcVksS0FBS0EsTUFBTyxDQVVsQyxNQUFNVSxFQUFjL1ksS0FBS3FZLEtBQUtuWSxNQUFNd0QsT0FBT2tWLEdBRTNDLElBQUszYixTQUFTdkIsS0FBU3VCLFNBQVN0QixHQUU1QixPQUVKLEdBQWlDLEdBQTdCb2QsRUFBWW5WLE9BQU9wRyxPQUFhLENBQ2hDLE1BQU13YixFQUFZRCxFQUFZblYsT0FBTyxHQUNyQyxHQUFzQixVQUFsQm9WLEVBQVU1VyxLQUFrQixDQUM1QixNQUFNbUksU0FBQ0EsRUFBUUUsYUFBRUEsRUFBYSxHQUFPdU8sRUFBVTNXLEtBQy9DLEdBQW9CLEdBQWhCb0ksRUFBcUIsQ0FFckIsSUFBSXdPLEVBQWMxTyxFQUFXLEVBQUs1TyxFQUFPRCxFQUN6QyxPQUFJdUIsU0FBU2djLFFBQ1RqWixLQUFLOFksY0FBY0csRUFBWU4sRUFBYXBPLEVBQVVxTyxRQUkxRCxDQUN4QixDQUVBLE1BQXVCLEdBQXNCLGNBQWxCSSxFQUFVNVcsS0FBc0IsQ0FDdkMsTUFBT29JLEdBQUdGLEVBQUl4UCxHQUFHRixFQUFFZ1EsR0FBRUEsRUFBRWEsR0FBRUEsRUFBRUQsT0FBRUEsRUFBTyxVQUFZd04sRUFBVTNXLEtBQzFELEdBQWMsVUFBVm1KLEVBQW9CLENBRXBCLElBQUlqQixHQUFZM1AsRUFBRzBQLElBQUttQixFQUFHYixHQUUzQixNQUFNcU8sRUFBYzFPLEVBQVcsRUFBSzVNLEtBQUtoQixJQUFJaEIsRUFBTWYsR0FBTStDLEtBQUtmLElBQUlsQixFQUFLZCxHQUl2RSxZQUhBb0YsS0FBSzhZLGNBQWNHLEVBQVlOLEVBQzNCcE8sRUFBVXFPLEVBR3RDLENBRUEsQ0FFQSxDQUVBLENBR1E1WSxLQUFLa1osY0FBY0wsRUFBV3BkLElBQ3RDLENBVUksYUFBQXFkLENBQWNHLEVBQVlOLEVBQWFwTyxFQUFVcU8sR0FDN0MsTUFBTU8sR0FBYUYsRUFBYU4sR0FBZXBPLEVBQ3pDNk8sRUFBWVIsRUFBYU8sRUFDL0JuWixLQUFLbVksS0FBT2xCLFlBQVcsS0FDbkJqWCxLQUFLcVosaUJBQWlCRCxFQUFVLEdBQ3ZCLElBQVZELEVBQWlCLEVBQzVCLENBRUksZ0JBQUFFLENBQWlCRCxHQUNiLE1BQU10TyxFQUFLOUssS0FBS2lZLGtCQUFrQjVhLE9BQzVCaWMsRUFBZ0JGLEVBQVl0TyxFQUM5QndPLEdBQWlCLEVBRWpCdFosS0FBS3NZLGdCQUFnQixXQUdyQnRZLEtBQUttWSxLQUFPbEIsWUFBVyxLQUNuQmpYLEtBQUtxWixpQkFBaUJELEVBQVMsR0FDbEIsSUFBZEUsRUFFZixDQU1JLGFBQUFKLENBQWN6ZCxHQUNWdUUsS0FBS29ZLEtBQU9tQixhQUFZLEtBQ3BCdlosS0FBS3daLGNBQWMvZCxFQUFJLEdBQ3hCLElBQ1gsQ0FFSSxhQUFBK2QsQ0FBYy9kLEdBQ1YsSUFBSTRCLEVBQVMyQyxLQUFLaUssUUFBUXhNLE1BQ3JCRyxFQUFTRSxhQUFhckMsRUFBSzRCLElBQzVCMkMsS0FBS3NZLGdCQUFnQixVQUVqQyxDQU1JLGVBQUFMLEdBQ0ksR0FBSTlDLEdBQWlCblYsS0FBS3FZLE1BQU8sQ0FDN0IsSUFBSXZOLEVBQUs5SyxLQUFLcVksS0FBS3pELE1BQ25CLE1BQU8sQ0FBQ25YLE1BQU1xTixFQUFJekwsU0FBUSxFQUFNaEMsT0FBT3lOLEVBQ25ELENBQWUsQ0FDSCxJQUFJbEIsRUFBUTVKLEtBQUtxWSxLQUFLcE8sUUFFdEIsR0FBMkIsaUJBQWhCTCxFQUFNbk0sTUFDYixNQUFNLElBQUlQLE1BQU0sc0NBQXNDME0sRUFBTW5NLFNBRWhFLE9BQU9tTSxDQUNuQixDQUNBLENBRUksU0FBSW5NLEdBQVUsT0FBT3VDLEtBQUtpSyxRQUFReE0sS0FBSyxDQUt2QyxxQkFBQXlKLENBQXNCVixHQUNsQixHQUFZLFVBQVJBLEVBQ0EsTUFBTyxDQUFDeEcsS0FBS2lLLFFBRXpCLENBTUksSUFBQUgsQ0FBS2xELEVBQVV3UCxFQUFPbFgsRUFBUSxDQUFBLEdBQzFCLE9EbEdELFNBQWNpWCxFQUFVdlAsRUFBVXdQLEVBQU9sWCxFQUFRLENBQUEsR0FDcEQsSUFBSWEsRUFDSixPQUFJMFosUUFBUTdOLFdBQVd3SyxLQUNuQnJXLEVBQVN1WCxHQUFReE4sS0FBS3FNLEVBQVV2UCxFQUFVd1AsRUFBT2xYLEdBQzFDLENBQUMsVUFBV2EsS0FFbkJBLEVBQVN3WCxHQUFrQnpOLEtBQUtxTSxFQUFVdlAsRUFBVSxFQUFHMUgsR0FDaEQsQ0FBQyxZQUFhYSxHQUU3QixDQ3lGZStKLENBQUs5SixLQUFNNEcsRUFBVXdQLEVBQU9sWCxFQUMzQyxDQUNJLE9BQUFvWCxDQUFRdlcsR0FDSixPRDNGRCxTQUFpQkEsR0FDcEIsSUFBS3FDLEVBQU1vVixHQUFXelgsRUFDdEIsTUFBWSxXQUFScUMsRUFDT2tWLEdBQVFoQixRQUFRa0IsR0FDUixhQUFScFYsRUFDQW1WLEdBQWtCakIsUUFBUWtCLFFBRDlCLENBR1gsQ0NvRmVsQixDQUFRdlcsRUFDdkIsQ0FNSSxNQUFBYSxDQUFPbkQsR0FDSCxPQUFPK1gsR0FBSXhWLEtBQUt3SCxJQUFJQSxLQUFLNUcsT0FBT25ELEVBQ3hDLENBQ0ksSUFBQTRYLEVBQU1oTCxTQUFDQSxFQUFRRSxTQUFFQSxJQUNiLElBQUk5TSxNQUFDQSxFQUFPSixPQUFPc04sR0FBYTNLLEtBQUtpSyxRQUNyQyxHQUFxQixpQkFBVnhNLEVBQ1AsTUFBTSxJQUFJUCxNQUFNLHdDQUF3Q08sS0FJNUQsT0FGQTRNLEVBQXdCbk0sTUFBWm1NLEVBQXlCQSxFQUFXNU0sRUFDaEQ4TSxFQUF3QnJNLE1BQVpxTSxFQUF5QkEsRUFBVSxFQUN4Q2lMLEdBQUl4VixLQUFLd0gsSUFBSUEsS0FBSzZOLEtBQUssQ0FBQ2hMLFdBQVVFLFdBQVVJLGFBQzNELENBQ0ksVUFBQTRLLEVBQVl6WSxPQUFDQSxFQUFNNGMsU0FBRUEsRUFBUWxPLE9BQUVBLElBQzNCLElBQUsvTixNQUFNK00sRUFBSW5OLE9BQU91TixHQUFNNUssS0FBS2lLLFFBQ2pDLEdBQWtCLGlCQUFQTyxFQUNQLE1BQU0sSUFBSXROLE1BQU0sd0NBQXdDc04sS0FFNUQsT0FBT2dMLEdBQUl4VixLQUFLd0gsSUFBSUEsS0FBSytOLFdBQVcvSyxFQUFJMU4sRUFBUThOLEVBQUlBLEVBQUs4TyxFQUFVbE8sRUFDM0UsQ0FDSSxXQUFBYyxFQUFhTixPQUFDQSxFQUFNME4sU0FBRUEsSUFDbEIsSUFBSTlPLEVBQUs1SyxLQUFLaUssUUFBUTVNLE9BTXRCLE9BSEEyTyxFQUFTQSxFQUFPMU0sS0FBSSxFQUFFdkMsRUFBRTRjLEtBQ2IsQ0FBQzVjLEVBQUc2TixFQUFLK08sRUFBRUQsS0FFZmxFLEdBQUl4VixLQUFLd0gsSUFBSUEsS0FBSzhFLFlBQVlOLEVBQzdDLEVBR0E0RyxFQUF1QnNGLEdBQU8xVSxXQUM5Qm9QLEVBQXVCc0YsR0FBTzFVLFdDcmJ2QixNQUFNb1csV0FBcUI5SSxFQUU5QixXQUFBaFAsQ0FBWW1RLEdBQ1I5SCxRQUNBbkssS0FBS0UsTUFBUSxJQUFJMlosR0FBYTVILEVBQU0vUixPQUdwQyxNQUFNSixFQUFVRSxLQUFLOFosVUFBVWhRLEtBQUs5SixNQUNwQ2lTLEVBQU1wUyxhQUFhQyxFQUMzQixDQUVJLFNBQUFnYSxDQUFVeFosR0FDTk4sS0FBS3lSLGNBQ0x6UixLQUFLSyxtQkFDTEwsS0FBS3dJLGdCQUFnQixTQUM3QixFQTRCTyxNQUFNcVIsV0FBcUJwVyxFQUU5QixXQUFBM0IsQ0FBWTVCLEVBQU9oQixFQUFRLElBQ3ZCaUwsUUFDQW5LLEtBQUs2RSxPQUFTM0UsRUFDZCxJQUFJcUUsVUFBQ0EsRUFBYVgsR0FBV0EsRUFBT3BHLE9BQVMsR0FBSzBCLEVBQ2xEYyxLQUFLZ0YsV0FBYVQsQ0FDMUIsQ0FFSSxNQUFBYixDQUFPckcsR0FDSEEsRUFBU2pCLEVBQVNnQixXQUFXQyxHQUM3QixNQUFNcUcsRUFBUzFELEtBQUs2RSxPQUFPbkIsT0FBT3JHLEdBRWxDLElBQUkwYyxFQUFhL1osS0FBS2dGLFdBQVd0QixFQUFPRSxRQUt4QyxNQUFNVyxFQUFhWCxHQUNSNUQsS0FBS2dGLFdBQVdwQixJQUFXbVcsRUFJdEMsSUFBSWxXLEVBU0FFLEVBUkFpVyxFQUFlaGEsS0FBSzZFLE9BQU9ULFlBQVlWLEVBQVEsQ0FDL0NZLFVBQVUsRUFBR0MsY0FFR3JHLE1BQWhCOGIsSUFDQW5XLEVBQVF6SCxFQUFTZSxjQUFjNmMsRUFBYXZlLEtBQUssSUFLckQsSUFBSXdlLEVBQWNqYSxLQUFLNkUsT0FBT1QsWUFBWVYsRUFBUSxDQUM5Q1ksV0FBVyxFQUFHQyxjQUVDckcsTUFBZitiLElBQ0FsVyxFQUFPM0gsRUFBU2UsY0FBYzhjLEVBQVl4ZSxLQUFLLElBSW5Ec0ksRUFBT0EsR0FBUSxFQUFFMUksSUFBVSxHQUMzQndJLEVBQVFBLEdBQVMsQ0FBQ3hJLElBQVUsR0FDNUIsTUFBTUssRUFBTVUsRUFBU1MsS0FBS2tILEVBQU0sT0FDMUJwSSxFQUFPUyxFQUFTUyxLQUFLZ0gsRUFBTyxRQUNsQyxNQUFPLENBQ0hwSSxJQUFLbUMsRUFBU0ksZUFBZXRDLEVBQUtDLEdBQ2xDaUksT0FBUyxFQXZEQ25HLEVBdURZc2MsRUF0RHZCLENBQ0g5UCxNQUFPLFNBQVU1TSxHQUNiLE1BQU8sQ0FBQ0ksUUFBTzRCLFNBQVEsRUFBT2hDLFNBQzFDLEtBb0RZMEcsT0FDQUYsU0F6RFosSUFBc0JwRyxDQTJEdEIsRUM3RkEsTUFBTXljLFdBQTBCcEosRUFFNUIsV0FBQWhQLENBQVk5QyxFQUFTRSxFQUFRLElBQ3pCaUwsUUFFQSxNQUFNZ1EsS0FBQ0EsR0FBUWpiLEVBRWYsSUFBSXFGLEVBQ0E0VixJQUNBNVYsRUFBYVgsR0FDRnVXLEVBQUtDLEtBQUt4VyxJQUt6QixNQUFNOUQsRUFBVUUsS0FBSzhaLFVBQVVoUSxLQUFLOUosTUFDcEMsSUFBSyxJQUFJd0gsS0FBT3hJLEVBQ1p3SSxFQUFJM0gsYUFBYUMsR0FJckIsSUFBSUksRUFBUSxJQUFJMFQsR0FBVzVVLEdBQzNCZ0IsS0FBSzZFLE9BQVMsSUFBSWdWLEdBQWEzWixFQUFPLENBQUNxRSxhQUMvQyxDQUVJLFNBQUlyRSxHQUFVLE9BQU9GLEtBQUs2RSxNQUFNLENBRWhDLFNBQUFpVixDQUFVeFosR0FDTk4sS0FBS3lSLGNBQ0x6UixLQUFLSyxtQkFDTEwsS0FBS3dJLGdCQUFnQixTQUM3QixFQVNPLFNBQVM2UixHQUFjN1MsR0FDMUIsS0FBTUEsYUFBZXNKLEdBQ2pCLE1BQU0sSUFBSTVULE1BQU0saUJBQWlCc0ssS0FFckMsTUFBTyxDQUNINFMsS0FBTSxTQUFVeFcsR0FDWixJQUFLLElBQUkyTixLQUFTM04sRUFDZCxHQUFJMk4sRUFBTS9KLEtBQU9BLEVBQ2IsT0FBTyxFQUdmLE9BQU8sQ0FDbkIsRUFFQSxDQzlDQSxTQUFTeUssR0FBTS9TLEVBQVEsSUFDbkIsSUFBSXNJLElBQUNBLEtBQVE4UyxHQUFRcGIsRUFDckIsT0FBSXNJLGFBQWVzSixFQUNSdEosR0FFQXRKLE1BQVBzSixJQUNBQSxFQUFNLElBQUkzRixFQUFtQnlZLElBRTFCLElBQUloSSxFQUFXLENBQUM5SyxTQUFROFMsSUFDbkMsQ0FNQSxTQUFTeEMsR0FBTzVZLEVBQVEsSUFDcEIsTUFBTW1aLEtBQUNBLEtBQVNpQyxHQUFRcGIsRUFDbEJzSSxFQUFNeUssR0FBTXFJLEdBQ2xCLE9BQU8sSUFBSXBDLEdBQU8sQ0FBQ0csT0FBTTdRLE9BQzdCLFFENkJBNlMsR0FBYUUsSUFBTSxZQUFnQkMsR0FDL0IsTUFBTyxDQUNISixLQUFNLFNBQVV4VyxHQUNaLE9BQU80VyxFQUFNN0csT0FBT3dHLEdBQVNBLEVBQUtDLEtBQUt4VyxJQUMxQyxFQUVULEVBRUF5VyxHQUFhSSxHQUFLLFlBQWVELEdBQzdCLE1BQU8sQ0FDSEosS0FBTSxTQUFVeFcsR0FDWixPQUFPNFcsRUFBTWhiLE1BQU0yYSxHQUFTQSxFQUFLQyxLQUFLeFcsSUFDekMsRUFFVCxFQUVBeVcsR0FBYUssSUFBTSxTQUFhQyxFQUFPQyxHQUNuQyxNQUFPLENBQ0hSLEtBQU0sU0FBVXhXLEdBQ1osT0FBTytXLEVBQU1QLEtBQUt4VyxJQUFXZ1gsRUFBTVIsS0FBS3hXLEVBQzNDLEVBRVQsRUFFQXlXLEdBQWFRLElBQU0sU0FBYVYsR0FDNUIsTUFBTyxDQUNIQyxLQUFNLFNBQVV4VyxHQUNaLE9BQVF1VyxFQUFLQyxLQUFLeFcsRUFDckIsRUFFVCxZRHJFTyxTQUFpQnFPLEdBQ3BCLE9BQU8sSUFBSTJILEdBQWEzSCxFQUM1QixvRUNnQk8sU0FBdUJqVCxFQUFTRSxHQUNuQyxPQUFPLElBQUlnYixHQUFrQmxiLEVBQVNFLEVBQzFDLFVQRk8sU0FBZ0JGLEVBQVNFLEVBQVEsSUFDcEMsTUFBTWtELEtBQUNBLEVBQUssSUFBTWxELEVBRWxCLE9BQ1csSUFBSXdVLEdBQVcxVSxFQUR0Qm9ELEtBQVFpUixFQUN1QkEsRUFBY2pSLEdBRWRsRCxFQUV2Qyx3QkM0RE8sU0FBZ0IrUyxFQUFPNVUsR0FDMUIsT0FBTyxJQUFJb1gsR0FBV3hDLEVBQU81VSxFQUNqQyJ9

var LAYERS=function(t){"use strict";function e(t){return"number"==typeof t}const n=Object.freeze({HIGH_OPEN:")",HIGH_CLOSED:"]",VALUE:"",LOW_CLOSED:"[",LOW_OPEN:"("});const i=new Map([[n.HIGH_OPEN,-1],[n.HIGH_CLOSED,0],[n.VALUE,0],[n.LOW_CLOSED,0],[n.LOW_OPEN,1]]);function r(t){return t[1]==n.LOW_CLOSED||t[1]==n.LOW_OPEN}function s(t){if(Array.isArray(t)||(t=[t,n.VALUE]),2!=t.length)throw new Error("Endpoint must be a length-2 array",t);let[i,r]=t;if(s=r,!Object.values(n).includes(s))throw new Error("Unsupported endpoint type",r);var s;if(i==-1/0)return[null,n.LOW_CLOSED];if(i==1/0)return[null,n.HIGH_CLOSED];if(null==i||null==i||e(i))return[i,r];throw new Error("endpoint must be null or number",i)}const o=s(1/0),a=s(-1/0);function c(t){return null!=t[0]?[t[0],t[1]]:r(t)?[-1/0,n.LOW_CLOSED]:[1/0,n.HIGH_CLOSED]}function l(t,e){return t<e?-1:t>e?1:0}function u(t,e){const[n,r]=c(t),[s,o]=c(e),a=l(n,s);if(0==a){return l(i.get(r),i.get(o))}return a}function h(t,e){return u(t,e)<=0}function _(t,e){return u(t,e)>=0}function f(t,e){return 0==u(t,e)}function d(t){const[e,i,r,o]=t,a=r?n.LOW_CLOSED:n.LOW_OPEN,c=o?n.HIGH_CLOSED:n.HIGH_OPEN;return[s([e,a]),s([i,c])]}function p(t,e){const[n,i]=d(t);return h(n,e=s(e))&&h(e,i)}const g={le:h,lt:function(t,e){return u(t,e)<0},ge:_,gt:function(t,e){return u(t,e)>0},cmp:u,eq:f,min:function(t,e){return h(t,e)?t:e},max:function(t,e){return _(t,e)?t:e},flip:function(t,e){if(e)throw new Error("target is deprecated");let[i,r]=t;if(null==i)return t;if(r==n.HIGH_OPEN)return[i,n.LOW_CLOSED];if(r==n.HIGH_CLOSED)return[i,n.LOW_OPEN];if(r==n.LOW_OPEN)return[i,n.HIGH_CLOSED];if(r==n.LOW_CLOSED)return[i,n.HIGH_OPEN];throw new Error("illegal endpoint type",r)},from_interval:d,from_input:s,types:{...n},POS_INF:o,NEG_INF:a},m={covers_endpoint:p,covers_point:function(t,e){return p(t,e)},is_singular:function(t){const[e,n]=d(itv);return f(e,n)},from_endpoints:function(t,e){let[i,s]=t,[o,a]=e;if(!r(t))throw new Error("illegal low endpoint",t);if((c=e)[1]!=n.HIGH_CLOSED&&c[1]!=n.HIGH_OPEN)throw new Error("illegal high endpoint",e);var c;return[i,o,s==n.LOW_CLOSED,a==n.HIGH_CLOSED]},from_input:function(t){let n=t;if(null==n||null==n)throw new Error("input is undefined");if(!Array.isArray(n)){if(!e(n))throw new Error(`input: ${t}: must be Array or Number`);n=[n,n,!0,!0]}1==n.length?n=[n[0],n[0],!0,!0]:2==n.length?n=[n[0],n[1],!0,!1]:3==n.length?n=[n[0],n[1],n[2],!1]:n.length>4&&(n=[n[0],n[1],n[2],n[4]]);let[i,r,s,o]=n;if(null!=i&&i!=-1/0||(i=null),null!=r&&r!=1/0||(r=null),null==i)s=!0;else if(!e(i))throw new Error("low not a number",i);if(null==r)o=!0;else if(!e(r))throw new Error("high not a number",r);if(null!=i&&null!=r){if(i>r)throw new Error("low > high",i,r);i==r&&(s=!0,o=!0)}if("boolean"!=typeof s)throw new Error("lowInclude not boolean");if("boolean"!=typeof o)throw new Error("highInclude not boolean");return[i,r,s,o]}};function v(t,e){let n=Math.floor(t/e),i=function(t,e){return(t%e+e)%e}(t,e);return[n,i]}function y(t,e,n,i={}){let{valueFunc:r,stateFunc:s}=i;if(null!=r){return{value:r({sources:t,states:e,offset:n}),dynamic:e.map((t=>t.dymamic)).some((t=>t)),offset:n}}return null!=s?{...s({sources:t,states:e,offset:n}),offset:n}:0==e.length?{value:void 0,dynamic:!1,offset:n}:{...e[0],offset:n}}const b="__callback";function w(t){t[`${b}_handlers`]=[]}function x(t){let e={handler:t};return this[`${b}_handlers`].push(e),e}function O(t){let e=this[`${b}_handlers`].indexOf(t);e>-1&&this[`${b}_handlers`].splice(e,1)}function E(t){this[`${b}_handlers`].forEach((function(e){e.handler(t)}))}function k(t){const e={add_callback:x,remove_callback:O,notify_callbacks:E};Object.assign(t,e)}function I(t){const e=["add_callback","remove_callback"];for(const n of e){if(!(n in t))return!1;if("function"!=typeof t[n])return!1}return!0}function C(t){return t.itv=m.from_input(t.itv),t.id=t.id||function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i=0;i<t;i++)e+=n.charAt(Math.floor(52*Math.random()));return e}(10),t}function L(t){return!!I(t)&&("get_items"in t&&"function"==typeof t.get_items)}class S{constructor(t={}){w(this),this._map=new Map,this._initialise(t)}_initialise(t={}){let{insert:e,value:n}=t;null!=n&&(e=[{itv:[-1/0,1/0,!0,!0],type:"static",data:n}]),null!=e&&this._update({insert:e,reset:!0})}update(t){return Promise.resolve().then((()=>{let e;return null!=t&&(e=this._update(t),this.notify_callbacks(e)),e}))}_update(t){const e=new Map;let{insert:n=[],remove:i=[],reset:r=!1}=t;if(r){for(const[t,n]of this._map.entries())e.set(t,{id:t,new:void 0,old:n});this._map=new Map}else for(const t of i){let n=this._map.get(t);null!=n&&(e.set(n.id,{id:n.id,new:void 0,old:n}),this._map.delete(t))}for(let t of n){t=C(t);const n=e.get(t.id),i=null!=n?n.old:this._map.get(t.id);e.set(t.id,{id:t.id,new:t,old:i}),this._map.set(t.id,t)}return[...e.values()]}get_items(){return[...this._map.values()]}}k(S.prototype);class N{nearby(t){throw new Error("Not implemented")}first(){let{center:t,right:e}=this.nearby(g.NEG_INF);return t.length>0?g.NEG_INF:e}last(){let{left:t,center:e}=this.nearby(g.POS_INF);return e.length>0?g.POS_INF:t}right_region(t){const e=function(t){const e=g.from_interval(t.itv)[1];return g.flip(e)}(t);if(null!=e[0])return this.nearby(e)}left_region(t){const e=function(t){const e=g.from_interval(t.itv)[0];return g.flip(e)}(t);if(null!=e[0])return this.nearby(e)}find_region(t,e={}){let n,{direction:i=1,condition:r=t=>t.length>0}=e;for(;;){if(n=1==i?this.right_region(t):this.left_region(t),null==n)return;if(r(n.center))return n;t=n}}regions(t){return new q(this,t)}}class q{constructor(t,e={}){let{start:n=-1/0,stop:i=1/0,includeEmpty:r=!0}=e;if(n>i)throw new Error("stop must be larger than start",n,i);this._index=t,this._start=g.from_input(n),this._stop=g.from_input(i),this._condition=r?()=>!0:t=>t.length>0,this._current}next(){if(null==this._current&&(this._current=this._index.nearby(this._start),this._condition(this._current.center)))return{value:this._current,done:!1};let t={condition:this._condition,direction:1};return this._current=this._index.find_region(this._current,t),null==this._current?{value:void 0,done:!0}:{value:this._current,done:!1}}[Symbol.iterator](){return this}}function F(t,e){return g.cmp(t,e)}function H(t,e){return g.cmp(e,t)}function $(t,e,n,i,r){const s={center:n};if(0==n.length)s.right=r,s.left=t;else{i.sort(F);let n=i[0],o=i.slice(-1)[0],a=!g.eq(n,o);e.sort(H);let c=e[0],l=e.slice(-1)[0],u=!g.eq(c,l);g.le(r,n)?s.right=r:s.right=g.flip(n),s.next=a?s.right:r,g.ge(t,c)?s.left=t:s.left=g.flip(c),s.prev=u?s.left:t}let o=g.flip(s.left),a=g.flip(s.right);return s.itv=m.from_endpoints(o,a),s}class M{constructor(t,e,n){n=n||{},this.publisher=t,this.name=e,this.init=void 0!==n.init&&n.init,this.subscriptions=[]}subscribe(t,e){if(!t||"function"!=typeof t)throw new Error("Callback not a function",t);const n=new A(this,t,e);if(this.subscriptions.push(n),this.init&&n.init){n.init_pending=!0;let t=this;Promise.resolve().then((function(){const e=t.publisher.eventifyInitEventArgs(t.name)||[];n.init_pending=!1;for(let i of e)t.trigger(i,[n],!0)}))}return n}trigger(t,e,n){let i,r;for(const s of e)if(!s.terminated){i={src:this.publisher,name:this.name,sub:s,init:n},r=s.ctx||this.publisher;try{s.callback.call(r,t,i)}catch(t){console.log(`Error in ${this.name}: ${s.callback} ${t}`)}}}unsubscribe(t){let e=this.subscriptions.indexOf(t);e>-1&&(this.subscriptions.splice(e,1),t.terminate())}}class A{constructor(t,e,n){n=n||{},this.event=t,this.name=t.name,this.callback=e,this.init=void 0===n.init?this.event.init:n.init,this.init_pending=!1,this.terminated=!1,this.ctx=n.ctx}terminate(){this.terminated=!0,this.callback=void 0,this.event.unsubscribe(this)}}function P(t){return t.__eventify_eventMap=new Map,t.__eventify_buffer=[],t}function D(t){function e(t,e){const n=t.__eventify_eventMap.get(e);if(null==n)throw new Error("Event undefined",e);return n}t.eventifyDefine=function(t,e){if(this.__eventify_eventMap.has(t))throw new Error("Event already defined",t);this.__eventify_eventMap.set(t,new M(this,t,e))},t.eventifyTrigger=function(t,e){return this.eventifyTriggerAll([{name:t,eArg:e}])},t.eventifyTriggerAlike=function(t,e){return this.eventifyTriggerAll(e.map((e=>({name:t,eArg:e}))))},t.eventifyTriggerAll=function(t){if(0==t.length)return;let n=t.map((t=>{let{name:n,eArg:i}=t,r=e(this,n),s=r.subscriptions.filter((t=>0==t.init_pending));return[r,i,s]}),this);const i=n.length,r=this.__eventify_buffer,s=this.__eventify_buffer.length;this.__eventify_buffer.length=s+i;for(let t=0;t<i;t++)r[s+t]=n[t];if(0==s){let t=this;Promise.resolve().then((function(){for(let[e,n,i]of t.__eventify_buffer)e.trigger(n,i,!1);t.__eventify_buffer=[]}))}},t.eventifySubscriptions=function(t){return e(this,t).subscriptions},t.on=function(t,n,i){return e(this,t).subscribe(n,i)},t.off=function(t){return e(this,t.name).unsubscribe(t)}}D(class{constructor(t){P(this),this._value=t,this.eventifyDefine("change",{init:!0})}eventifyInitEventArgs(t){if("change"==t)return[this._value]}get value(){return this._value}set value(t){t!=this._value&&(this._value=t,this.eventifyTrigger("change",t))}}.prototype);const G="srcprop",T=`__${G}`;function W(t){t[`${T}`]=new Map}function j(t){const e={};e[`${G}_register`]=function(t,e={}){let{mutable:n=!0}=e;const i=this[`${T}`];i.set(t,{init:!1,mutable:n,entity:void 0,handles:[]}),Object.defineProperty(this,t,{get:function(){return i.get(t).entity},set:function(e){this[`${G}_check`]&&(e=this[`${G}_check`](t,e)),e!=i.get(t).entity&&this[`${T}_attach`](t,e)}})},e[`${T}_attach`]=function(t,e){const n=this[`${T}`].get(t);if(n.init&&!n.mutable)throw new Error(`${t} can not be reassigned`);const i=Array.isArray(e)?e:[e];if(n.handles.length>0)for(const[t,e]of Object.entries(i))I(e)&&e.remove_callback(n.handles[t]);if(n.handles=[],n.entity=e,n.init=!0,this[`${G}_onchange`]){const e=function(e){this[`${G}_onchange`](t,e)}.bind(this);for(const t of i)I(t)&&n.handles.push(t.add_callback(e));this[`${G}_onchange`](t,"reset")}},Object.assign(t,e)}class z{constructor(t){this._itv=t}get itv(){return this._itv}state(t){throw new Error("not implemented")}query(t){return m.covers_point(this._itv,t)?{...this.state(t),offset:t}:{value:void 0,dynamic:!1,offset:t}}}class U extends z{constructor(t,e){super(t),this._value=e}state(){return{value:this._value,dynamic:!1}}}class V extends z{constructor(t,e){super(t);const{position:n=0,velocity:i=0,acceleration:r=0,timestamp:s=0}=e;this._pos_func=function(t){let e=t-s;return n+i*e+.5*r*e*e},this._vel_func=function(t){return i+r*(t-s)},this._acc_func=function(t){return r}}state(t){let e=this._pos_func(t),n=this._vel_func(t),i=this._acc_func(t);return{position:e,velocity:n,acceleration:i,timestamp:t,value:e,dynamic:0!=n||0!=i}}}function B(t){return Math.pow(t,2)}class R extends z{constructor(t,e){super(t);let{v0:n,v1:i,easing:r}=e,[s,o]=this._itv.slice(0,2);this._dynamic=i-n!=0,this._trans=function(t){return t-=s,t/=parseFloat(o-s),"ease-in"==r?t=B(t):"ease-out"==r?t=function(t){return 1-B(1-t)}(t):"ease-in-out"==r&&(t=function(t){return t<.5?B(2*t)/2:(2-B(2*(1-t)))/2}(t)),t=Math.max(t,0),t=Math.min(t,1),n+(i-n)*t}}state(t){return{value:this._trans(t),dynamic:this._dynamic}}}class Y extends z{constructor(t,e){super(t),this._trans=function(t){if(t.length<1)return function(){};if(1==t.length)return function(){return t[0][0]};const e=[...t].sort(((t,e)=>t[1]-e[1]));return function(t){if(t<=e[0][1]){const[n,i]=e[0],[r,s]=e[1];return n+(t-i)*(r-n)/(s-i)}if(t>=e[e.length-1][1]){const[n,i]=e[e.length-2],[r,s]=e[e.length-1];return n+(t-i)*(r-n)/(s-i)}for(let n=0;n<e.length-1;n++)if(t>=e[n][1]&&t<=e[n+1][1]){const[i,r]=e[n],[s,o]=e[n+1];return i+(t-r)*(s-i)/(o-r)}}}(e)}state(t){return{value:this._trans(t),dynamic:!0}}}class J{constructor(){this._array=[]}get size(){return this._array.length}get array(){return this._array}indexOf(t){const e=g.from_input(t);let n=0,i=this._array.length-1;for(;n<=i;){const t=Math.floor((n+i)/2);let r=this._array[t];if(g.eq(r,e))return[!0,t];g.lt(r,e)?n=t+1:i=t-1}return[!1,n]}geIndexOf(t){let[e,n]=this.indexOf(t);return n<this._array.length?n:-1}leIndexOf(t){let[e,n]=this.indexOf(t);return n=e?n:n-1,n>=0?n:-1}gtIndexOf(t){let[e,n]=this.indexOf(t);return n=e?n+1:n,n<this._array.length?n:-1}ltIndexOf(t){let[e,n]=this.indexOf(t);return n-=1,n>=0?n:-1}update(t=[],e=[]){let n=[];for(let e of t){let[t,i]=this.indexOf(e);t&&n.push(i)}for(let t of n)this._array[t]=void 0;let i=n.length>0,r=e.length>0;r&&function(t,e){const n=t.length,i=e.length;t.length+=i;for(let r=0;r<i;r++)t[n+r]=e[r]}(this._array,e),(i||r)&&this._array.sort(g.cmp),i&&(this._array.length-=n.length),r&&function(t){let e=0;for(;!(e+1>=t.length);)g.eq(t[e],t[e+1])?t.splice(e+1,1):e+=1}(this._array)}get_by_index(t){if(t>-1&&t<this._array.length)return this._array[t]}lookup(t){null==t&&(t=[null,null,!0,!0]);let[e,n]=g.from_interval(t),i=this.geIndexOf(e),r=this.leIndexOf(n);return-1==i||-1==r?[]:this._array.slice(i,r+1)}lt(t){return this.get_by_index(this.ltIndexOf(t))}le(t){return this.get_by_index(this.leIndexOf(t))}get(t){let[e,n]=this.indexOf(t);if(e)return this._array[n]}gt(t){return this.get_by_index(this.gtIndexOf(t))}ge(t){return this.get_by_index(this.geIndexOf(t))}}const{LOW_CLOSED:K,LOW_OPEN:Q,HIGH_CLOSED:X,HIGH_OPEN:Z}=g.types,tt=[K,Q,X,Z];class et{constructor(){this._map=new Map([[K,new Set],[Q,new Set],[X,new Set],[Z,new Set]])}add(t){const[e,n]=t;return this._map.get(n).add(e)}has(t){const[e,n]=t;return this._map.get(n).has(e)}get(t){const[e,n]=t;return this._map.get(n).get(e)}list(){const t=tt.map((t=>[...this._map.get(t).values()].map((e=>[e,t]))));return[].concat(...t)}}const nt="low",it="active",rt="high";class st{constructor(){this._map=new Map([[K,new Map],[Q,new Map],[X,new Map],[Z,new Map]])}get_items_by_role(t,e){const[n,i]=t,r=this._map.get(i).get(n);return null!=r?r[e]:[]}register(t,e,n){const[i,r]=t,s=this._map.get(r);s.has(i)||s.set(i,{low:[],active:[],high:[]});const o=s.get(i),a=o[nt].length+o[rt].length==0;-1==o[n].findIndex((t=>t.id==e.id))&&o[n].push(e);const c=o[nt].length+o[rt].length==0;return a&&!c}unregister(t,e){const[n,i]=t,r=this._map.get(i),s=r.get(n);if(null!=s){const t=s[nt].length+s[rt].length==0;for(const t of[nt,it,rt]){let n=s[t].findIndex((t=>t.id==e.id));n>-1&&s[t].splice(n,1)}const i=s[nt].length+s[rt].length==0;if(!t&&i)return r.delete(n),!0}return!1}}class ot extends N{constructor(t){if(super(),!L(t))throw new Error(`must be stateprovider ${t}`);this._sp=t,this._initialise(),this.refresh()}get src(){return this._sp}_initialise(){this._itemsmap=new st,this._endpoints=new J,this._index=[]}refresh(t){const e=new et,n=new et;let i,r=[],s=[];if(null==t)r=this.src.get_items(),this._initialise();else for(const e of t)null!=e.new&&r.push(e.new),null!=e.old&&s.push(e.old);for(const t of s){this._endpoints.lookup(t.itv);for(const n of this._endpoints.lookup(t.itv)){this._itemsmap.unregister(n,t)&&e.add(n)}}for(const t of r){const[e,r]=g.from_interval(t.itv);i=this._itemsmap.register(e,t,nt),i&&n.add(e),i=this._itemsmap.register(r,t,rt),i&&n.add(r)}this._endpoints.update(e.list(),n.list());const o=new Set;for(const t of this._endpoints.array){for(let e of this._itemsmap.get_items_by_role(t,nt))o.add(e);for(let e of o)this._itemsmap.register(t,e,it);for(let e of this._itemsmap.get_items_by_role(t,rt))o.delete(e)}}_covers(t){const e=g.from_input(t),n=this._endpoints.le(e)||g.NEG_INF,i=this._endpoints.ge(e)||g.POS_INF;if(g.eq(n,i))return this._itemsmap.get_items_by_role(n,it);{const t=this._itemsmap.get_items_by_role(n,it),e=this._itemsmap.get_items_by_role(i,it),r=new Set(t.map((t=>t.id)));return e.filter((t=>r.has(t.id)))}}nearby(t){const e=g.from_input(t);let n=this._covers(e);const i=[],r=[];for(const t of n){const[e,n]=g.from_interval(t.itv);i.push(n),r.push(e)}let s,o=e;for(;!(o=this._endpoints.lt(o)||g.NEG_INF,null==o[0]||(s=this._itemsmap.get_items_by_role(o,rt),s.length>0)););let a=e;for(;!(a=this._endpoints.gt(a)||g.POS_INF,null==a[0]||(s=this._itemsmap.get_items_by_role(a,nt),s.length>0)););return $(o,r,n,i,a)}}class at{constructor(t={}){const{CacheClass:e=ct}=t,{valueFunc:n,stateFunc:i}=t;w(this),P(this),this.eventifyDefine("change",{init:!0}),this._index,this._CacheClass=e,this._cache_object,this._cache_objects=[],this._queryOptions={valueFunc:n,stateFunc:i}}get index(){return this._index}set index(t){this._index=t}get queryOptions(){return this._queryOptions}get cache(){return null==this._cache_object&&(this._cache_object=new this._CacheClass(this)),this._cache_object}getCache(){const t=new this._CacheClass(this);return this._cache_objects.push(t),t}clearCaches(){for(const t of this._cache_objects)t.clear()}query(t){return this.cache.query(t)}regions(t){return this.index.regions(t)}sample(t={}){let{start:e=-1/0,stop:n=1/0,step:i=1}=t;if(e>n)throw new Error("stop must be larger than start",e,n);e=[e,0],n=[n,0],e=g.max(this.index.first(),e),n=g.min(this.index.last(),n);const r=this.getCache();return function(t,e,n=1,i={}){const r=[],{include_end:s=!1}=i;if(0===n)throw new Error("Step cannot be zero.");if(t<e)for(let i=t;i<e;i+=n)r.push(i);else if(t>e)for(let i=t;i>e;i-=n)r.push(i);return s&&r.push(e),r}(e[0],n[0],i,{include_end:!0}).map((t=>[r.query(t).value,t]))}}k(at.prototype),D(at.prototype);class ct{constructor(t){this._layer=t,this._nearby,this._state}get src(){return this._layer}query(t){const e=null==this._nearby||!m.covers_point(this._nearby.itv,t);if(!e&&null!=this._state&&!this._state.dynamic)return{...this._state,offset:t};e&&(this._nearby=this._layer.index.nearby(t));const n=this._nearby.center.map((e=>e.query(t))),i=y(this._nearby.center,n,t,this._layer.queryOptions);return this._state=i.dynamic?void 0:i,i}clear(){this._nearby=void 0,this._state=void 0}}class lt extends at{constructor(t={}){const{src:e,valueFunc:n,stateFunc:i}=t;super({CacheClass:ut,valueFunc:n,stateFunc:i}),W(this),this.srcprop_register("src"),this.src=e}srcprop_check(t,e){if("src"==t){if(!L(e))throw new Error(`"src" must be state provider ${e}`);return e}}srcprop_onchange(t,e){"src"==t&&(null!=this.index&&"reset"!=e||(this.index=new ot(this.src)),"reset"!=e&&this.index.refresh(e),this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change"))}}j(lt.prototype);class ut{constructor(t){this._layer=t,this._nearby=void 0,this._segment=void 0}get src(){return this._layer}get segment(){return this._segment}query(t){if(null==this._nearby||!m.covers_point(this._nearby.itv,t)){this._nearby=this._layer.index.nearby(t);let{itv:e,center:n}=this._nearby;this._segments=n.map((t=>function(t,e){let{type:n="static",data:i}=e;if("static"==n)return new U(t,i);if("transition"==n)return new R(t,i);if("interpolation"==n)return new Y(t,i);if("motion"==n)return new V(t,i);console.log("unrecognized segment type",n)}(e,t)))}const e=this._segments.map((e=>e.query(t)));return y(this._segments,e,t,this._layer.queryOptions)}clear(){this._nearby=void 0,this._segment=void 0}}const ht={sum:{valueFunc:function(t){return t.states.map((t=>t.value)).reduce(((t,e)=>t+e),0)}},stack:{stateFunc:function(t){return{...t.states[0]}}},array:{valueFunc:function(t){return t.states.map((t=>t.value))}}};class _t extends at{constructor(t,e){super(e),W(this),this.srcprop_register("sources",{mutable:!1}),this.sources=t}srcprop_check(t,e){if("sources"==t){if(!Array.isArray(e))throw new Error(`sources must be array ${e}`);if(!e.map((t=>t instanceof at)).every((t=>t)))throw new Error(`sources must all be layers ${e}`)}return e}srcprop_onchange(t,e){"sources"==t&&(null!=this.index&&"reset"!=e||(this.index=new pt(this.sources)),this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change"))}}function ft(t,e){return g.cmp(t,e)}function dt(t,e){return g.cmp(e,t)}j(_t.prototype);class pt extends N{constructor(t){super(),this._sources=t,this._caches=new Map(t.map((t=>[t,t.getCache()])))}nearby(t){t=g.from_input(t);const e=[],n=[],i=[],r=[],s=[];for(let o of this._sources){let a=o.index.nearby(t),c=o.index.find_region(a,{direction:-1}),l=o.index.find_region(a,{direction:1});if(null!=c&&e.push(g.from_interval(c.itv)[1]),null!=l&&n.push(g.from_interval(l.itv)[0]),a.center.length>0){i.push(this._caches.get(o));let[t,e]=g.from_interval(a.itv);r.push(e),s.push(t)}}n.sort(ft);const o=n[0]||g.POS_INF;e.sort(dt);return $(e[0]||g.NEG_INF,s,i,r,o)}}function gt(t,e){if(null==t||!isFinite(t))return t;if("number"==typeof t)return t+e;if(Array.isArray(t)&&t.length>1){let[n,i]=t;return[n+e,i]}}class mt extends N{constructor(t,e){super(),this._layer=t,this._skew=e,this._cache=t.getCache(),this._shifted_cache={query:function(t){return{...this._cache.query(gt(t,-this._skew)),offset:t}}.bind(this)}}nearby(t){t=g.from_input(t);const e=this._layer.index.nearby(gt(t,-this._skew)),n=e.itv.slice();return n[0]=gt(e.itv[0],this._skew),n[1]=gt(e.itv[1],this._skew),{itv:n,left:gt(e.left,this._skew),right:gt(e.right,this._skew),center:e.center.map((()=>this._shifted_cache))}}}class vt extends at{constructor(t,e,n={}){super(n),this._skew=e,W(this),this.srcprop_register("src"),this.src=t}srcprop_check(t,e){if("src"==t){if(!(e instanceof at))throw new Error(`"src" must be Layer ${e}`);return e}}srcprop_onchange(t,e){"src"==t&&(null!=this.index&&"reset"!=e||(this.index=new mt(this.src,this._skew)),this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change"))}}j(vt.prototype);const yt=function(){return performance.now()/1e3},bt=function(){return new Date/1e3},wt=function(){const t=yt(),e=bt();return{now:function(){const n=yt();return e+(n-t)}}}();function xt(t){return"now"in t&&"function"==typeof t.now}const Ot={assign:function(t){if(null==t)return[];return[{itv:[-1/0,1/0,!0,!0],type:"static",data:t}]},move:function(t){return[{itv:[-1/0,1/0,!0,!0],type:"motion",data:t}]},transition:function(t,e,n,i,r){return[{itv:[-1/0,n,!0,!1],type:"static",data:t},{itv:[n,i,!0,!1],type:"transition",data:{v0:t,v1:e,t0:n,t1:i,easing:r}},{itv:[i,1/0,!0,!0],type:"static",data:e}]},interpolate:function(t){let[e,n]=t[0],[i,r]=t[t.length-1];return[{itv:[-1/0,n,!0,!1],type:"static",data:e},{itv:[n,r,!0,!1],type:"interpolation",data:t},{itv:[r,1/0,!0,!0],type:"static",data:i}]}};function Et(t){if(!L(t))throw new Error(`target.src must be stateprovider ${t}`);let e=Object.entries(Ot).map((([e,n])=>[e,function(...e){let i=n.call(this,...e);return t.update({insert:i,reset:!0})}]));return Object.fromEntries(e)}class kt{constructor(t={}){if(this._options=Object.assign({rate:50},t),this._options.rate<50)throw new Error(`illegal rate ${rate}, minimum rate is 50`);this._set=new Set,this._variable_map=new Map,this.__onvariablechange=this._onvariablechange.bind(this)}bind(t,e,n,i={}){let r={callback:e,variable:t,delay:n};if(this._set.add(r),this._variable_map.has(t))this._variable_map.get(t).handles.push(r);else{let e={sub:t.on("change",this.__onvariablechange),polling:!1,handles:[r]};this._variable_map.set(t,e)}return r}release(t){if(!this._set.delete(t))return;t.tid=void 0;let e=t.variable,{sub:n,handles:i}=this._variable_map.get(e),r=i.indexOf(t);r>-1&&i.splice(r,1),0==i.length&&(this._variable_map.delete(e),e.off(n))}_onvariablechange(t,e){let n=e.src,{handles:i}=this._variable_map.get(n),r=t;this._reevaluate_polling(n,r);for(let t of i)t.callback(r)}_reevaluate_polling(t,e){let n=this._variable_map.get(t),{polling:i}=n,r=(e=e||t.query()).dynamic;!i&&r?(n.polling=!0,this._set_timeouts(t)):i&&!r&&(n.polling=!1,this._clear_timeouts(t))}_set_timeouts(t){let{handles:e}=this._variable_map.get(t);for(let t of e)this._set_timeout(t)}_set_timeout(t){let e=this._calculate_delta(t.delay),n=function(){this._handle_timeout(t)}.bind(this);t.tid=setTimeout(n,e)}_calculate_delta(t){let e=this._options.rate,n=Math.round(performance.now()),[i,r]=v(n,e),[s,o]=v(n+t,e);return Math.max(s,i+1)*e-performance.now()}_clear_timeouts(t){let{handles:e}=this._variable_map.get(t);for(let t of e)null!=t.tid&&(clearTimeout(t.tid),t.tid=void 0)}_handle_timeout(t){if(null==t.tid)return;t.tid=void 0;let{variable:e}=t,n=e.query();if(n.dynamic)this._set_timeout(t);else{this._variable_map.get(e).polling=!1}t.callback(n)}}const It=new kt,Ct=new class extends kt{constructor(t={}){super(t),this._handle}_set_timeouts(t){}_set_timeout(t){}_calculate_delta(t){}_clear_timeouts(t){}_handle_timeout(t){}_onvariablechange(t,e){super._onvariablechange(t,e),this._callback()}_callback(){let t=[...this._variable_map.entries()].filter((([t,e])=>e.polling)).map((([t,e])=>t));if(t.length>0){for(let e of t){let{handles:t}=this._variable_map.get(e),n=e.query();for(let e of t)e.callback(n)}this._handle=requestAnimationFrame(this._callback.bind(this))}}};class Lt extends N{constructor(t){super(),this._cache=t.getCache()}nearby(t){return{itv:[-1/0,1/0,!0,!0],center:[this._cache],left:[-1/0,0],prev:[-1/0,0],right:[1/0,0],next:[1/0,0]}}}class St{constructor(t){this._cursor=t,this._cache=this._cursor.src.getCache()}query(){const t=this._cursor._get_ctrl_state().value;return this._cache.query(t)}get segment(){return this._cache.segment}clear(){this._cache.clear()}}class Nt extends at{constructor(t={}){super({CacheClass:St}),W(this),this.srcprop_register("src"),this.srcprop_register("ctrl"),this._tid,this._pid;let{src:e,ctrl:n}=t;this.ctrl=n||wt,this.src=e}srcprop_check(t,e){if("ctrl"==t){if(!(xt(e)||e instanceof Nt))throw new Error(`"ctrl" must be clockProvider or Cursor ${e}`)}else if("src"==t&&!(e instanceof at))throw new Error(`"src" must be Layer ${e}`);return e}srcprop_onchange(t,e){this.__handle_change(t,e)}__handle_change(t,e){clearTimeout(this._tid),clearInterval(this._pid),this.src&&this.ctrl&&(null!=this.index&&"reset"!=e||(this.index=new Lt(this)),this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change",this.query()),this.__detect_future_change())}__detect_future_change(){const t=this._get_ctrl_state(),{value:e,offset:n}=t;if(!t.dynamic)return;const i=this.src.index.nearby(e);let[r,s]=i.itv.slice(0,2);if(null==r&&(r=-1/0),null==s&&(s=1/0),xt(this.ctrl))return isFinite(s)?void this.__set_timeout(s,e,1,n):void 0;if(xt(this.ctrl.ctrl)){if(!isFinite(r)&&!isFinite(s))return;const t=this.ctrl.src.index.nearby(n);if(1==t.center.length){const i=t.center[0];if("motion"==i.type){const{velocity:t,acceleration:o=0}=i.data;if(0==o){let i=t>0?s:r;return isFinite(i)?void this.__set_timeout(i,e,t,n):void 0}}else if("transition"==i.type){const{v0:t,v1:o,t0:a,t1:c,easing:l="linear"}=i.data;if("linear"==l){let i=(o-t)/(c-a);const l=i>0?Math.min(s,o):Math.max(r,o);return void this.__set_timeout(l,e,i,n)}}}}this.__set_polling(i.itv)}__set_timeout(t,e,n,i){const r=(t-e)/n,s=i+r;this._tid=setTimeout((()=>{this.__handle_timeout(s)}),1e3*r+1)}__handle_timeout(t){const e=this._get_ctrl_state().offset,n=t-e;n<=0?this.__handle_change("timeout"):this._tid=setTimeout((()=>{this.__handle_timeout(t)}),1e3*n)}__set_polling(t){this._pid=setInterval((()=>{this.__handle_poll(t)}),100)}__handle_poll(t){let e=this.ctrl.query().value;m.covers_point(t,e)||this.__handle_change("timeout")}_get_ctrl_state(){if(xt(this.ctrl)){let t=this.ctrl.now();return{value:t,dynamic:!0,offset:t}}{let t=this.ctrl.query();if("number"!=typeof t.value)throw new Error(`warning: ctrl state must be number ${t.value}`);return t}}get value(){return this.query().value}eventifyInitEventArgs(t){if("change"==t)return[this.query()]}bind(t,e,n={}){return function(t,e,n,i={}){let r;return Boolean(parseFloat(n))?(r=It.bind(t,e,n,i),["timeout",r]):(r=Ct.bind(t,e,0,i),["framerate",r])}(this,t,e,n)}release(t){return function(t){let[e,n]=t;return"timeout"==e?It.release(n):"framerate"==e?Ct.release(n):void 0}(t)}assign(t){return Et(this.src.src).assign(t)}move({position:t,velocity:e}){let{value:n,offset:i}=this.query();if("number"!=typeof n)throw new Error(`warning: cursor state must be number ${n}`);return t=null!=t?t:n,e=null!=e?e:0,Et(this.src.src).move({position:t,velocity:e,timestamp:i})}transition({target:t,duration:e,easing:n}){let{value:i,offset:r}=this.query();if("number"!=typeof i)throw new Error(`warning: cursor state must be number ${i}`);return Et(this.src.src).transition(i,t,r,r+e,n)}interpolate({tuples:t,duration:e}){let n=this.query().offset;return t=t.map((([t,i])=>[t,n+i*e])),Et(this.src.src).interpolate(t)}}j(Nt.prototype),j(Nt.prototype);class qt extends at{constructor(t){super(),this.index=new Ft(t.index);const e=this._onchange.bind(this);t.add_callback(e)}_onchange(t){this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change")}}class Ft extends N{constructor(t,e={}){super(),this._index=t;let{condition:n=t=>t.length>0}=e;this._condition=n}nearby(t){t=g.from_input(t);const e=this._index.nearby(t);let n=this._condition(e.center);const i=t=>this._condition(t)!=n;let r,s,o=this._index.find_region(e,{direction:1,condition:i});null!=o&&(r=g.from_interval(o.itv)[0]);let a=this._index.find_region(e,{direction:-1,condition:i});null!=a&&(s=g.from_interval(a.itv)[1]),s=s||g.NEG_INF,r=r||g.POS_INF;const c=g.flip(s),l=g.flip(r);return{itv:m.from_endpoints(c,l),center:[(u=n,{query:function(t){return{value:u,dynamic:!1,offset:t}}})],left:s,right:r};var u}}class Ht extends at{constructor(t,e={}){super();const{expr:n}=e;let i;n&&(i=t=>n.eval(t));const r=this._onchange.bind(this);for(let e of t)e.add_callback(r);let s=new pt(t);this._index=new Ft(s,{condition:i})}get index(){return this._index}_onchange(t){this.clearCaches(),this.notify_callbacks(),this.eventifyTrigger("change")}}function $t(t){if(!(t instanceof at))throw new Error(`must be layer ${t}`);return{eval:function(e){for(let n of e)if(n.src==t)return!0;return!1}}}function Mt(t={}){let{src:e,...n}=t;return e instanceof at?e:(null==e&&(e=new S(n)),new lt({src:e,...n}))}function At(t={}){const{ctrl:e,...n}=t,i=Mt(n);return new Nt({ctrl:e,src:i})}return $t.and=function(...t){return{eval:function(e){return t.every((t=>t.eval(e)))}}},$t.or=function(...t){return{eval:function(e){return t.some((t=>t.eval(e)))}}},$t.xor=function(t,e){return{eval:function(n){return t.eval(n)!=e.eval(n)}}},$t.not=function(t){return{eval:function(e){return!t.eval(e)}}},t.boolean=function(t){return new qt(t)},t.cmd=Et,t.cursor=At,t.layer=Mt,t.logical_expr=$t,t.logical_merge=function(t,e){return new Ht(t,e)},t.merge=function(t,e={}){const{type:n=""}=e;return new _t(t,n in ht?ht[n]:e)},t.playback=At,t.shift=function(t,e){return new vt(t,e)},t.variable=At,t}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5ZXJzLmlpZmUubWluLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW50ZXJ2YWxzLmpzIiwiLi4vLi4vc3JjL3V0aWwuanMiLCIuLi8uLi9zcmMvYXBpX2NhbGxiYWNrLmpzIiwiLi4vLi4vc3JjL3N0YXRlcHJvdmlkZXIuanMiLCIuLi8uLi9zcmMvbmVhcmJ5aW5kZXhfYmFzZS5qcyIsIi4uLy4uL3NyYy9hcGlfZXZlbnRpZnkuanMiLCIuLi8uLi9zcmMvYXBpX3NyY3Byb3AuanMiLCIuLi8uLi9zcmMvc2VnbWVudHMuanMiLCIuLi8uLi9zcmMvc29ydGVkYXJyYXkuanMiLCIuLi8uLi9zcmMvbmVhcmJ5aW5kZXguanMiLCIuLi8uLi9zcmMvbGF5ZXJzLmpzIiwiLi4vLi4vc3JjL29wcy9tZXJnZS5qcyIsIi4uLy4uL3NyYy9vcHMvc2hpZnQuanMiLCIuLi8uLi9zcmMvY2xvY2twcm92aWRlci5qcyIsIi4uLy4uL3NyYy9jbWQuanMiLCIuLi8uLi9zcmMvbW9uaXRvci5qcyIsIi4uLy4uL3NyYy9jdXJzb3JzLmpzIiwiLi4vLi4vc3JjL29wcy9ib29sZWFuLmpzIiwiLi4vLi4vc3JjL29wcy9sb2dpY2FsX21lcmdlLmpzIiwiLi4vLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gICAgXG4gICAgSU5URVJWQUwgRU5EUE9JTlRTXG5cbiAgICAqIGludGVydmFsIGVuZHBvaW50cyBhcmUgZGVmaW5lZCBieSB0cmlwbGV0IFt2YWx1ZSwgdHlwZV1cbiAgICAqXG4gICAgKiAgIHRoZXJlIGFyZSA0IHR5cGVzIG9mIGludGVydmFsIGVuZHBvaW50cyBcbiAgICAqICAgLSB2KSAtIGhpZ2ggZW5kcG9pbnQgYXQgdiwgbm90IGluY2x1c2l2ZVxuICAgICogICAtIHZdIC0gaGlnaCBlbmRwb2ludCBhdCB2LCBpbmNsdXNpdmVcbiAgICAqICAgLSBbdiAtIGxvdyBlbmRwb2ludCBhdCB2LCBub3QgaW5jbHVzaXZlXG4gICAgKiAgIC0gKHYgLSBsb3cgZW5kcG9pbnQgYXQgdiwgaW5jbHVzaXZlXG4gICAgKiBcbiAgICAqICAgQSBzaW5ndWxhciBpbnRlcnZhbCBbMiwyLHRydWUsdHJ1ZV0gd2lsbCBoYXZlIGVuZHBvaW50cyBbMiBhbmQgMl1cbiAgICAqIFxuICAgICogICBBZGRpdGlvbmFsbHksIHRvIHNpbXBsaWZ5IGNvbXBhcmlzb24gYmV0d2VlbiBlbmRwb2ludHMgYW5kIG51bWJlcnNcbiAgICAqICAgd2kgaW50cm9kdWNlIGEgc3BlY2lhbCBlbmRwb2ludCB0eXBlIC0gVkFMVUVcbiAgICAqIFxuICAgICogICBUaHVzIHdlIGRlZmluZSA1IHR5cGVzIG9mIGVuZHBvaW50c1xuICAgICogXG4gICAgKiAgIEhJR0hfT1BFTiA6IHYpXG4gICAgKiAgIEhJR0hfQ0xPU0VEOiB2XVxuICAgICogICBWQUxVRTogdlxuICAgICogICBMT1dfQ0xPU0VEOiBbdlxuICAgICogICBMT1dfT1BFTjogKHYpXG4gICAgKiBcbiAgICAqICAgRm9yIHRoZSBwdXJwb3NlIG9mIGVuZHBvaW50IGNvbXBhcmlzb24gd2UgbWFpbnRhaW5cbiAgICAqICAgYSBsb2dpY2FsIG9yZGVyaW5nIGZvciBlbmRwb2ludHMgd2l0aCB0aGUgc2FtZSB2YWx1ZS5cbiAgICAqICAgXG4gICAgKiAgIHYpIDwgW3YgPT0gdiA9PSB2XSA8ICh2XG4gICAgKiAgXG4gICAgKiAgIFdlIGFzc2lnbiBvcmRlcmluZyB2YWx1ZXNcbiAgICAqICAgXG4gICAgKiAgIEhJR0hfT1BFTjogLTFcbiAgICAqICAgSElHSF9DTE9TRUQsIFZBTFVFLCBMT1dfQ0xPU0VEOiAwXG4gICAgKiAgIExPV19PUEVOOiAxXG4gICAgKiBcbiAgICAqICAgdmFsdWUgY2FuIGJlIG51bGwgb3IgbnVtYmVyLiBJZiB2YWx1ZSBpcyBudWxsLCB0aGlzIG1lYW5zIHVuYm91bmRlZCBlbmRwb2ludFxuICAgICogICBpLmUuIG5vIG90aGVyIGVuZHBvaW50IGNhbiBiZSBsYXJnZXIgb3Igc21hbGxlci5cbiAgICAqICAgYW4gdW5ib3VuZGVkIGxvdyBlbmRwb2ludCBtZWFucyAtSW5maW5pdHlcbiAgICAqICAgYW4gdW5ib3VuZGVkIGhpZ2ggZW5kcG9pbnQgbWVhbnMgSW5maW5pdHlcbiAgICAqXG4qL1xuXG5mdW5jdGlvbiBpc051bWJlcihuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBuID09IFwibnVtYmVyXCI7XG59XG5cbmNvbnN0IEVQX1RZUEUgPSBPYmplY3QuZnJlZXplKHtcbiAgICBISUdIX09QRU46IFwiKVwiLFxuICAgIEhJR0hfQ0xPU0VEOiBcIl1cIixcbiAgICBWQUxVRTogXCJcIixcbiAgICBMT1dfQ0xPU0VEOiBcIltcIixcbiAgICBMT1dfT1BFTjogXCIoXCJcbn0pO1xuXG5mdW5jdGlvbiBpc19FUF9UWVBFKHZhbHVlKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoRVBfVFlQRSkuaW5jbHVkZXModmFsdWUpO1xufVxuXG5jb25zdCBFUF9PUkRFUiA9IG5ldyBNYXAoW1xuICAgIFtFUF9UWVBFLkhJR0hfT1BFTiwgLTFdLFxuICAgIFtFUF9UWVBFLkhJR0hfQ0xPU0VELCAwXSxcbiAgICBbRVBfVFlQRS5WQUxVRSwgMF0sXG4gICAgW0VQX1RZUEUuTE9XX0NMT1NFRCwgMF0sXG4gICAgW0VQX1RZUEUuTE9XX09QRU4sIDFdXG5dKTtcblxuZnVuY3Rpb24gZW5kcG9pbnRfaXNfbG93KGVwKSB7XG4gICAgcmV0dXJuIGVwWzFdID09IEVQX1RZUEUuTE9XX0NMT1NFRCB8fCBlcFsxXSA9PSBFUF9UWVBFLkxPV19PUEVOO1xufVxuXG5mdW5jdGlvbiBlbmRwb2ludF9pc19oaWdoKGVwKSB7XG4gICAgcmV0dXJuIGVwWzFdID09IEVQX1RZUEUuSElHSF9DTE9TRUQgfHwgZXBbMV0gPT0gRVBfVFlQRS5ISUdIX09QRU47XG59XG5cbi8qXG4gICAgcmV0dXJuIGVuZHBvaW50IGZyb20gaW5wdXRcbiovXG5mdW5jdGlvbiBlbmRwb2ludF9mcm9tX2lucHV0KGVwKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVwKSkge1xuICAgICAgICBlcCA9IFtlcCwgRVBfVFlQRS5WQUxVRV07XG4gICAgfVxuICAgIGlmIChlcC5sZW5ndGggIT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbmRwb2ludCBtdXN0IGJlIGEgbGVuZ3RoLTIgYXJyYXlcIiwgZXApO1xuICAgIH1cbiAgICBsZXQgW3YsdF0gPSBlcDtcbiAgICBpZiAoIWlzX0VQX1RZUEUodCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5kcG9pbnQgdHlwZVwiLCB0KTtcbiAgICB9XG4gICAgaWYgKHYgPT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiBbbnVsbCwgRVBfVFlQRS5MT1dfQ0xPU0VEXTtcbiAgICB9XG4gICAgaWYgKHYgPT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBFUF9UWVBFLkhJR0hfQ0xPU0VEXTtcbiAgICB9XG4gICAgaWYgKHYgPT0gdW5kZWZpbmVkIHx8IHYgPT0gbnVsbCB8fCBpc051bWJlcih2KSkge1xuICAgICAgICByZXR1cm4gW3YsIHRdO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJlbmRwb2ludCBtdXN0IGJlIG51bGwgb3IgbnVtYmVyXCIsIHYpO1xufVxuXG5jb25zdCBlbmRwb2ludF9QT1NfSU5GID0gZW5kcG9pbnRfZnJvbV9pbnB1dChJbmZpbml0eSk7XG5jb25zdCBlbmRwb2ludF9ORUdfSU5GID0gZW5kcG9pbnRfZnJvbV9pbnB1dCgtSW5maW5pdHkpO1xuXG4vKipcbiAqIEludGVybmFsIHJlcHJlc2VudGF0aW9uIFxuICogcmVwbGFjaW5nIG51bGwgdmFsdXNlIHdpdGggLUluZmluaXR5IG9yIEluZmluaXR5XG4gKiBpbiBvcmRlciB0byBzaW1wbGlmeSBudW1lcmljYWwgY29tcGFyaXNvblxuICovXG5mdW5jdGlvbiBlbmRwb2ludF9pbnRlcm5hbChlcCkge1xuICAgIGlmIChlcFswXSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbZXBbMF0sIGVwWzFdXTtcbiAgICB9XG4gICAgaWYgKGVuZHBvaW50X2lzX2xvdyhlcCkpIHtcbiAgICAgICAgcmV0dXJuIFstSW5maW5pdHksIEVQX1RZUEUuTE9XX0NMT1NFRF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtJbmZpbml0eSwgRVBfVFlQRS5ISUdIX0NMT1NFRF07XG4gICAgfVxufVxuXG4vKipcbiAqIENvbXBhcmlzb24gZnVuY3Rpb24gZm9yIG51bWJlcnNcbiAqIGF2b2lkIHN1YnRyYWN0aW9uIHRvIHN1cHBvcnQgSW5maW5pdHkgdmFsdWVzXG4gKi9cbmZ1bmN0aW9uIG51bWJlcl9jbXAoYSwgYikge1xuICAgIGlmIChhIDwgYikgcmV0dXJuIC0xOyAvLyBjb3JyZWN0IG9yZGVyXG4gICAgaWYgKGEgPiBiKSByZXR1cm4gMTsgLy8gd3Jvbmcgb3JkZXJcbiAgICByZXR1cm4gMDsgLy8gZXF1YWxpdHlcbn1cblxuLypcbiAgICBFbmRwb2ludCBjb21wYXJpc29uXG4gICAgcmV0dXJucyBcbiAgICAgICAgLSBuZWdhdGl2ZSA6IGNvcnJlY3Qgb3JkZXJcbiAgICAgICAgLSAwIDogZXF1YWxcbiAgICAgICAgLSBwb3NpdGl2ZSA6IHdyb25nIG9yZGVyXG4qLyBcbmZ1bmN0aW9uIGVuZHBvaW50X2NtcChlcDEsIGVwMikgeyAgICBcbiAgICBjb25zdCBbdjEsIHQxXSA9IGVuZHBvaW50X2ludGVybmFsKGVwMSk7XG4gICAgY29uc3QgW3YyLCB0Ml0gPSBlbmRwb2ludF9pbnRlcm5hbChlcDIpO1xuICAgIGNvbnN0IGRpZmYgPSBudW1iZXJfY21wKHYxLCB2Mik7XG4gICAgaWYgKGRpZmYgPT0gMCkge1xuICAgICAgICBjb25zdCBvMSA9IEVQX09SREVSLmdldCh0MSk7XG4gICAgICAgIGNvbnN0IG8yID0gRVBfT1JERVIuZ2V0KHQyKTtcbiAgICAgICAgcmV0dXJuIG51bWJlcl9jbXAobzEsIG8yKTtcbiAgICB9XG4gICAgcmV0dXJuIGRpZmY7XG59XG5cbmZ1bmN0aW9uIGVuZHBvaW50X2x0IChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPCAwXG59XG5mdW5jdGlvbiBlbmRwb2ludF9sZSAocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50X2NtcChwMSwgcDIpIDw9IDBcbn1cbmZ1bmN0aW9uIGVuZHBvaW50X2d0IChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPiAwXG59XG5mdW5jdGlvbiBlbmRwb2ludF9nZSAocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50X2NtcChwMSwgcDIpID49IDBcbn1cbmZ1bmN0aW9uIGVuZHBvaW50X2VxIChwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnRfY21wKHAxLCBwMikgPT0gMFxufVxuZnVuY3Rpb24gZW5kcG9pbnRfbWluKHAxLCBwMikge1xuICAgIHJldHVybiAoZW5kcG9pbnRfbGUocDEsIHAyKSkgPyBwMSA6IHAyO1xufVxuZnVuY3Rpb24gZW5kcG9pbnRfbWF4KHAxLCBwMikge1xuICAgIHJldHVybiAoZW5kcG9pbnRfZ2UocDEsIHAyKSkgPyBwMSA6IHAyO1xufVxuXG4vKipcbiAqIGZsaXAgZW5kcG9pbnQ6XG4gKiAtIGllLiBnZXQgYWRqYWNlbnQgZW5kcG9uaXQgb24gdGhlIHRpbWVsaW5lXG4gKiBcbiAqIHYpIDwtPiBbdlxuICogdl0gPC0+ICh2XG4gKiBcbiAqIGZsaXBwaW5nIGhhcyBubyBlZmZlY3Qgb24gZW5kcG9pbnRzIHdpdGggdW5ib3VuZGVkIHZhbHVlXG4gKi9cblxuZnVuY3Rpb24gZW5kcG9pbnRfZmxpcChlcCwgdGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0YXJnZXQgaXMgZGVwcmVjYXRlZFwiKTtcbiAgICB9XG4gICAgbGV0IFt2LHRdID0gZXA7XG4gICAgaWYgKHYgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZXA7XG4gICAgfVxuICAgIGlmICh0ID09IEVQX1RZUEUuSElHSF9PUEVOKSB7XG4gICAgICAgIHJldHVybiBbdiwgRVBfVFlQRS5MT1dfQ0xPU0VEXTtcbiAgICB9IGVsc2UgaWYgKHQgPT0gRVBfVFlQRS5ISUdIX0NMT1NFRCkge1xuICAgICAgICByZXR1cm4gW3YsIEVQX1RZUEUuTE9XX09QRU5dO1xuICAgIH0gZWxzZSBpZiAodCA9PSBFUF9UWVBFLkxPV19PUEVOKSB7XG4gICAgICAgIHJldHVybiBbdiwgRVBfVFlQRS5ISUdIX0NMT1NFRF07XG4gICAgfSBlbHNlIGlmICh0ID09IEVQX1RZUEUuTE9XX0NMT1NFRCkge1xuICAgICAgICByZXR1cm4gW3YsIEVQX1RZUEUuSElHSF9PUEVOXTtcbiAgICB9IGVsc2Uge1xuICAgIFx0dGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBlbmRwb2ludCB0eXBlXCIsIHQpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuLypcbiAgICByZXR1cm5zIGxvdyBhbmQgaGlnaCBlbmRwb2ludHMgZnJvbSBpbnRlcnZhbFxuKi9cbmZ1bmN0aW9uIGVuZHBvaW50c19mcm9tX2ludGVydmFsKGl0dikge1xuICAgIGNvbnN0IFtsb3csIGhpZ2gsIGxvd0Nsb3NlZCwgaGlnaENsb3NlZF0gPSBpdHY7XG4gICAgY29uc3QgbG93VHlwZSA9IChsb3dDbG9zZWQpID8gIEVQX1RZUEUuTE9XX0NMT1NFRCA6IEVQX1RZUEUuTE9XX09QRU47XG4gICAgY29uc3QgaGlnaFR5cGUgPSAoaGlnaENsb3NlZCkgPyAgRVBfVFlQRS5ISUdIX0NMT1NFRCA6IEVQX1RZUEUuSElHSF9PUEVOO1xuICAgIGNvbnN0IGxvd0VwID0gZW5kcG9pbnRfZnJvbV9pbnB1dChbbG93LCBsb3dUeXBlXSk7XG4gICAgY29uc3QgaGlnaEVwID0gZW5kcG9pbnRfZnJvbV9pbnB1dChbaGlnaCwgaGlnaFR5cGVdKTtcbiAgICByZXR1cm4gW2xvd0VwLCBoaWdoRXBdO1xufVxuXG5cbi8qXG4gICAgSU5URVJWQUxTXG5cbiAgICBJbnRlcnZhbHMgYXJlIFtsb3csIGhpZ2gsIGxvd0Nsb3NlZCwgaGlnaENsb3NlZF1cblxuKi8gXG5cblxuLypcbiAgICByZXR1cm4gdHJ1ZSBpZiBwb2ludCBvciBlbmRwb2ludCBpcyBjb3ZlcmVkIGJ5IGludGVydmFsXG4gICAgcG9pbnQgcCBjYW4gYmUgbnVtYmVyIHZhbHVlIG9yIGFuIGVuZHBvaW50XG4qL1xuZnVuY3Rpb24gaW50ZXJ2YWxfY292ZXJzX2VuZHBvaW50KGl0diwgZXApIHtcbiAgICBjb25zdCBbbG93X2VwLCBoaWdoX2VwXSA9IGVuZHBvaW50c19mcm9tX2ludGVydmFsKGl0dik7XG4gICAgZXAgPSBlbmRwb2ludF9mcm9tX2lucHV0KGVwKTtcbiAgICAvLyBjb3ZlcnM6IGxvdyA8PSBwIDw9IGhpZ2hcbiAgICByZXR1cm4gZW5kcG9pbnRfbGUobG93X2VwLCBlcCkgJiYgZW5kcG9pbnRfbGUoZXAsIGhpZ2hfZXApO1xufVxuLy8gY29udmVuaWVuY2VcbmZ1bmN0aW9uIGludGVydmFsX2NvdmVyc19wb2ludChpdHYsIHApIHtcbiAgICByZXR1cm4gaW50ZXJ2YWxfY292ZXJzX2VuZHBvaW50KGl0diwgcCk7XG59XG5cbi8qXG4gICAgUmV0dXJuIHRydWUgaWYgaW50ZXJ2YWwgZW5kcG9pbnRzIGFyZSBlcXVhbFxuKi9cbmZ1bmN0aW9uIGludGVydmFsX2lzX3Npbmd1bGFyKGludGVydmFsKSB7XG4gICAgY29uc3QgW2xvd19lcCwgaGlnaF9lcF0gPSBlbmRwb2ludHNfZnJvbV9pbnRlcnZhbChpdHYpO1xuICAgIHJldHVybiBlbmRwb2ludF9lcShsb3dfZXAsIGhpZ2hfZXApO1xufVxuXG4vKlxuICAgIENyZWF0ZSBpbnRlcnZhbCBmcm9tIGVuZHBvaW50c1xuKi9cbmZ1bmN0aW9uIGludGVydmFsX2Zyb21fZW5kcG9pbnRzKGVwMSwgZXAyKSB7XG4gICAgbGV0IFt2MSwgdDFdID0gZXAxO1xuICAgIGxldCBbdjIsIHQyXSA9IGVwMjtcbiAgICBpZiAoIWVuZHBvaW50X2lzX2xvdyhlcDEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgbG93IGVuZHBvaW50XCIsIGVwMSk7XG4gICAgfVxuICAgIGlmICghZW5kcG9pbnRfaXNfaGlnaChlcDIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgaGlnaCBlbmRwb2ludFwiLCBlcDIpO1xuICAgIH1cbiAgICByZXR1cm4gW3YxLCB2MiwgdDEgPT0gRVBfVFlQRS5MT1dfQ0xPU0VELCB0MiA9PSBFUF9UWVBFLkhJR0hfQ0xPU0VEXTtcbn1cblxuXG5mdW5jdGlvbiBpbnRlcnZhbF9mcm9tX2lucHV0KGlucHV0KXtcbiAgICBsZXQgaXR2ID0gaW5wdXQ7XG4gICAgaWYgKGl0diA9PSB1bmRlZmluZWQgfHwgaXR2ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW5wdXQgaXMgdW5kZWZpbmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXR2KSkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoaXR2KSkge1xuICAgICAgICAgICAgLy8gaW5wdXQgaXMgc2luZ3VsYXIgbnVtYmVyXG4gICAgICAgICAgICBpdHYgPSBbaXR2LCBpdHYsIHRydWUsIHRydWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnB1dDogJHtpbnB1dH06IG11c3QgYmUgQXJyYXkgb3IgTnVtYmVyYClcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gbWFrZSBzdXJlIGludGVydmFsIGlzIGxlbmd0aCA0XG4gICAgaWYgKGl0di5sZW5ndGggPT0gMSkge1xuICAgICAgICBpdHYgPSBbaXR2WzBdLCBpdHZbMF0sIHRydWUsIHRydWVdO1xuICAgIH0gZWxzZSBpZiAoaXR2Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgIGl0diA9IFtpdHZbMF0sIGl0dlsxXSwgdHJ1ZSwgZmFsc2VdO1xuICAgIH0gZWxzZSBpZiAoaXR2Lmxlbmd0aCA9PSAzKSB7XG4gICAgICAgIGl0diA9IFtpdHZbMF0sIGl0dlsxXSwgaXR2WzJdLCBmYWxzZV07XG4gICAgfSBlbHNlIGlmIChpdHYubGVuZ3RoID4gNCkge1xuICAgICAgICBpdHYgPSBbaXR2WzBdLCBpdHZbMV0sIGl0dlsyXSwgaXR2WzRdXTtcbiAgICB9XG4gICAgbGV0IFtsb3csIGhpZ2gsIGxvd0luY2x1ZGUsIGhpZ2hJbmNsdWRlXSA9IGl0djtcbiAgICAvLyBib3VuZGFyeSBjb25kaXRpb25zIGFyZSBudW1iZXIgb3IgbnVsbFxuICAgIGlmIChsb3cgPT0gdW5kZWZpbmVkIHx8IGxvdyA9PSAtSW5maW5pdHkpIHtcbiAgICAgICAgbG93ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGhpZ2ggPT0gdW5kZWZpbmVkIHx8IGhpZ2ggPT0gSW5maW5pdHkpIHtcbiAgICAgICAgaGlnaCA9IG51bGw7XG4gICAgfVxuICAgIC8vIGNoZWNrIGxvd1xuICAgIGlmIChsb3cgPT0gbnVsbCkge1xuICAgICAgICBsb3dJbmNsdWRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWlzTnVtYmVyKGxvdykpIHRocm93IG5ldyBFcnJvcihcImxvdyBub3QgYSBudW1iZXJcIiwgbG93KTtcbiAgICB9XG4gICAgLy8gY2hlY2sgaGlnaFxuICAgIGlmIChoaWdoID09IG51bGwpIHtcbiAgICAgICAgaGlnaEluY2x1ZGUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaXNOdW1iZXIoaGlnaCkpIHRocm93IG5ldyBFcnJvcihcImhpZ2ggbm90IGEgbnVtYmVyXCIsIGhpZ2gpO1xuICAgIH0gICAgXG4gICAgLy8gY2hlY2sgdGhhdCBsb3cgPD0gaGlnaFxuICAgIGlmIChsb3cgIT0gbnVsbCAmJiBoaWdoICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGxvdyA+IGhpZ2gpIHRocm93IG5ldyBFcnJvcihcImxvdyA+IGhpZ2hcIiwgbG93LCBoaWdoKTtcbiAgICAgICAgLy8gc2luZ2xldG9uXG4gICAgICAgIGlmIChsb3cgPT0gaGlnaCkge1xuICAgICAgICAgICAgbG93SW5jbHVkZSA9IHRydWU7XG4gICAgICAgICAgICBoaWdoSW5jbHVkZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gY2hlY2sgdGhhdCBsb3dJbmNsdWRlLCBoaWdoSW5jbHVkZSBhcmUgYm9vbGVhbnNcbiAgICBpZiAodHlwZW9mIGxvd0luY2x1ZGUgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImxvd0luY2x1ZGUgbm90IGJvb2xlYW5cIik7XG4gICAgfSBcbiAgICBpZiAodHlwZW9mIGhpZ2hJbmNsdWRlICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJoaWdoSW5jbHVkZSBub3QgYm9vbGVhblwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFtsb3csIGhpZ2gsIGxvd0luY2x1ZGUsIGhpZ2hJbmNsdWRlXTtcbn1cblxuZXhwb3J0IGNvbnN0IGVuZHBvaW50ID0ge1xuICAgIGxlOiBlbmRwb2ludF9sZSxcbiAgICBsdDogZW5kcG9pbnRfbHQsXG4gICAgZ2U6IGVuZHBvaW50X2dlLFxuICAgIGd0OiBlbmRwb2ludF9ndCxcbiAgICBjbXA6IGVuZHBvaW50X2NtcCxcbiAgICBlcTogZW5kcG9pbnRfZXEsXG4gICAgbWluOiBlbmRwb2ludF9taW4sXG4gICAgbWF4OiBlbmRwb2ludF9tYXgsXG4gICAgZmxpcDogZW5kcG9pbnRfZmxpcCxcbiAgICBmcm9tX2ludGVydmFsOiBlbmRwb2ludHNfZnJvbV9pbnRlcnZhbCxcbiAgICBmcm9tX2lucHV0OiBlbmRwb2ludF9mcm9tX2lucHV0LFxuICAgIHR5cGVzOiB7Li4uRVBfVFlQRX0sXG4gICAgUE9TX0lORiA6IGVuZHBvaW50X1BPU19JTkYsXG4gICAgTkVHX0lORiA6IGVuZHBvaW50X05FR19JTkZcbn1cbmV4cG9ydCBjb25zdCBpbnRlcnZhbCA9IHtcbiAgICBjb3ZlcnNfZW5kcG9pbnQ6IGludGVydmFsX2NvdmVyc19lbmRwb2ludCxcbiAgICBjb3ZlcnNfcG9pbnQ6IGludGVydmFsX2NvdmVyc19wb2ludCwgXG4gICAgaXNfc2luZ3VsYXI6IGludGVydmFsX2lzX3Npbmd1bGFyLFxuICAgIGZyb21fZW5kcG9pbnRzOiBpbnRlcnZhbF9mcm9tX2VuZHBvaW50cyxcbiAgICBmcm9tX2lucHV0OiBpbnRlcnZhbF9mcm9tX2lucHV0XG59XG4iLCJpbXBvcnQgeyBlbmRwb2ludCwgaW50ZXJ2YWwgfSBmcm9tIFwiLi9pbnRlcnZhbHNcIjtcblxuXG4vLyBvdnZlcnJpZGUgbW9kdWxvIHRvIGJlaGF2ZSBiZXR0ZXIgZm9yIG5lZ2F0aXZlIG51bWJlcnNcbmV4cG9ydCBmdW5jdGlvbiBtb2QobiwgbSkge1xuICAgIHJldHVybiAoKG4gJSBtKSArIG0pICUgbTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZtb2QoeCwgYmFzZSkge1xuICAgIGxldCBuID0gTWF0aC5mbG9vcih4IC8gYmFzZSlcbiAgICBsZXQgciA9IG1vZCh4LCBiYXNlKTtcbiAgICByZXR1cm4gW24sIHJdO1xufVxuXG5cbi8qXG4gICAgc2ltaWxhciB0byByYW5nZSBmdW5jdGlvbiBpbiBweXRob25cbiovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5nZSAoc3RhcnQsIGVuZCwgc3RlcCA9IDEsIG9wdGlvbnM9e30pIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCB7aW5jbHVkZV9lbmQ9ZmFsc2V9ID0gb3B0aW9ucztcbiAgICBpZiAoc3RlcCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0ZXAgY2Fubm90IGJlIHplcm8uJyk7XG4gICAgfVxuICAgIGlmIChzdGFydCA8IGVuZCkge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gc3RlcCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGFydCA+IGVuZCkge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPiBlbmQ7IGkgLT0gc3RlcCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpbmNsdWRlX2VuZCkge1xuICAgICAgICByZXN1bHQucHVzaChlbmQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8qKlxuICogQ3JlYXRlIGEgc2luZ2xlIHN0YXRlIGZyb20gYSBsaXN0IG9mIHN0YXRlcywgdXNpbmcgYSB2YWx1ZUZ1bmNcbiAqIHN0YXRlOnt2YWx1ZSwgZHluYW1pYywgb2Zmc2V0fVxuICogXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU3RhdGUoc291cmNlcywgc3RhdGVzLCBvZmZzZXQsIG9wdGlvbnM9e30pIHtcbiAgICBsZXQge3ZhbHVlRnVuYywgc3RhdGVGdW5jfSA9IG9wdGlvbnM7IFxuICAgIGlmICh2YWx1ZUZ1bmMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHZhbHVlRnVuYyh7c291cmNlcywgc3RhdGVzLCBvZmZzZXR9KTtcbiAgICAgICAgbGV0IGR5bmFtaWMgPSBzdGF0ZXMubWFwKCh2KSA9PiB2LmR5bWFtaWMpLnNvbWUoZT0+ZSk7XG4gICAgICAgIHJldHVybiB7dmFsdWUsIGR5bmFtaWMsIG9mZnNldH07XG4gICAgfSBlbHNlIGlmIChzdGF0ZUZ1bmMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7Li4uc3RhdGVGdW5jKHtzb3VyY2VzLCBzdGF0ZXMsIG9mZnNldH0pLCBvZmZzZXR9O1xuICAgIH1cbiAgICAvLyBubyB2YWx1ZUZ1bmMgb3Igc3RhdGVGdW5jXG4gICAgaWYgKHN0YXRlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICByZXR1cm4ge3ZhbHVlOnVuZGVmaW5lZCwgZHluYW1pYzpmYWxzZSwgb2Zmc2V0fVxuICAgIH1cbiAgICAvLyBmYWxsYmFjayAtIGp1c3QgdXNlIGZpcnN0IHN0YXRlXG4gICAgbGV0IHN0YXRlID0gc3RhdGVzWzBdO1xuICAgIHJldHVybiB7Li4uc3RhdGUsIG9mZnNldH07IFxufVxuXG5cbi8qKlxuICogY2hlY2sgaW5wdXQgaXRlbXMgdG8gbG9jYWwgc3RhdGUgcHJvdmlkZXJzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrX2lucHV0KGl0ZW1zKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW1zKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBtdXN0IGJlIGFuIGFycmF5XCIpO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgdGhhdCBpbnRlcnZhbHMgYXJlIHdlbGwgZm9ybWVkXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIGl0ZW0uaXR2ID0gaW50ZXJ2YWwuZnJvbV9pbnB1dChpdGVtLml0dik7XG4gICAgfVxuICAgIC8vIHNvcnQgaXRlbXMgYmFzZWQgb24gaW50ZXJ2YWwgbG93IGVuZHBvaW50XG4gICAgaXRlbXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBsZXQgYV9sb3cgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGEuaXR2KVswXTtcbiAgICAgICAgbGV0IGJfbG93ID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChiLml0dilbMF07XG4gICAgICAgIHJldHVybiBlbmRwb2ludC5jbXAoYV9sb3csIGJfbG93KTtcbiAgICB9KTtcbiAgICAvLyBjaGVjayB0aGF0IGl0ZW0gaW50ZXJ2YWxzIGFyZSBub24tb3ZlcmxhcHBpbmdcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBwcmV2X2hpZ2ggPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGl0ZW1zW2kgLSAxXS5pdHYpWzFdO1xuICAgICAgICBsZXQgY3Vycl9sb3cgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGl0ZW1zW2ldLml0dilbMF07XG4gICAgICAgIC8vIHZlcmlmeSB0aGF0IHByZXYgaGlnaCBpcyBsZXNzIHRoYXQgY3VyciBsb3dcbiAgICAgICAgaWYgKCFlbmRwb2ludC5sdChwcmV2X2hpZ2gsIGN1cnJfbG93KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3ZlcmxhcHBpbmcgaW50ZXJ2YWxzIGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVtcztcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tX3N0cmluZyhsZW5ndGgpIHtcbiAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgdmFyIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCI7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRleHQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbn0iLCIvKlxuICAgIFRoaXMgZGVjb3JhdGVzIGFuIG9iamVjdC9wcm90b3R5cGUgd2l0aCBiYXNpYyAoc3luY2hyb25vdXMpIGNhbGxiYWNrIHN1cHBvcnQuXG4qL1xuXG5jb25zdCBQUkVGSVggPSBcIl9fY2FsbGJhY2tcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvSW5zdGFuY2Uob2JqZWN0KSB7XG4gICAgb2JqZWN0W2Ake1BSRUZJWH1faGFuZGxlcnNgXSA9IFtdO1xufVxuXG5mdW5jdGlvbiBhZGRfY2FsbGJhY2sgKGhhbmRsZXIpIHtcbiAgICBsZXQgaGFuZGxlID0ge1xuICAgICAgICBoYW5kbGVyOiBoYW5kbGVyXG4gICAgfVxuICAgIHRoaXNbYCR7UFJFRklYfV9oYW5kbGVyc2BdLnB1c2goaGFuZGxlKTtcbiAgICByZXR1cm4gaGFuZGxlO1xufTtcblxuZnVuY3Rpb24gcmVtb3ZlX2NhbGxiYWNrIChoYW5kbGUpIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzW2Ake1BSRUZJWH1faGFuZGxlcnNgXS5pbmRleE9mKGhhbmRsZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpc1tgJHtQUkVGSVh9X2hhbmRsZXJzYF0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBub3RpZnlfY2FsbGJhY2tzIChlQXJnKSB7XG4gICAgdGhpc1tgJHtQUkVGSVh9X2hhbmRsZXJzYF0uZm9yRWFjaChmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgaGFuZGxlLmhhbmRsZXIoZUFyZyk7XG4gICAgfSk7XG59O1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRUb1Byb3RvdHlwZSAoX3Byb3RvdHlwZSkge1xuICAgIGNvbnN0IGFwaSA9IHtcbiAgICAgICAgYWRkX2NhbGxiYWNrLCByZW1vdmVfY2FsbGJhY2ssIG5vdGlmeV9jYWxsYmFja3NcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihfcHJvdG90eXBlLCBhcGkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1wbGVtZW50c19jYWxsYmFjayAob2JqKSB7XG4gICAgY29uc3QgbWV0aG9kcyA9IFtcImFkZF9jYWxsYmFja1wiLCBcInJlbW92ZV9jYWxsYmFja1wiXTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgbWV0aG9kcykge1xuICAgICAgICBpZiAoIShwcm9wIGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbcHJvcF0gIT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn0iLCJpbXBvcnQgeyBpbnRlcnZhbCB9IGZyb20gXCIuL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgcmFuZG9tX3N0cmluZyB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCAqIGFzIGNhbGxiYWNrIGZyb20gXCIuL2FwaV9jYWxsYmFjay5qc1wiO1xuXG5cbmZ1bmN0aW9uIGNoZWNrX2l0ZW0oaXRlbSkge1xuICAgIGl0ZW0uaXR2ID0gaW50ZXJ2YWwuZnJvbV9pbnB1dChpdGVtLml0dik7XG4gICAgaXRlbS5pZCA9IGl0ZW0uaWQgfHwgcmFuZG9tX3N0cmluZygxMCk7XG4gICAgcmV0dXJuIGl0ZW07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzX3N0YXRlcHJvdmlkZXIob2JqKSB7XG4gICAgaWYgKCFjYWxsYmFjay5pbXBsZW1lbnRzX2NhbGxiYWNrKG9iaikpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIShcImdldF9pdGVtc1wiIGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG9iai5nZXRfaXRlbXMgIT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBMT0NBTCBTVEFURSBQUk9WSURFUlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIGxvY2FsIHN0YXRlIHByb3ZpZGVyXG4gKiBjb2xsZWN0aW9uIG9mIGl0ZW1zXG4gKiBcbiAqIGNoYW5nZXMgPSB7XG4gKiAgIHJlbW92ZT1bXSxcbiAqICAgaW5zZXJ0PVtdLFxuICogICByZXNldD1mYWxzZSBcbiAqIH1cbiAqIFxuKi9cblxuZXhwb3J0IGNsYXNzIExvY2FsU3RhdGVQcm92aWRlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPXt9KSB7XG4gICAgICAgIGNhbGxiYWNrLmFkZFRvSW5zdGFuY2UodGhpcyk7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbGlzZShvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2NhbCBzdGF0ZXByb3ZpZGVyIHN1cHBvcnQgaW5pdGlhbGlzYXRpb24gd2l0aFxuICAgICAqIGJ5IGdpdmluZyBpdGVtcyBvciBhIHZhbHVlLiBcbiAgICAgKi9cbiAgICBfaW5pdGlhbGlzZShvcHRpb25zPXt9KSB7XG4gICAgICAgIC8vIGluaXRpYWxpemF0aW9uIHdpdGggaXRlbXMgb3Igc2luZ2xlIHZhbHVlIFxuICAgICAgICBsZXQge2luc2VydCwgdmFsdWV9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKHZhbHVlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZSBmcm9tIHZhbHVlXG4gICAgICAgICAgICBpbnNlcnQgPSBbe1xuICAgICAgICAgICAgICAgIGl0djogWy1JbmZpbml0eSwgSW5maW5pdHksIHRydWUsIHRydWVdLCBcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHZhbHVlXG4gICAgICAgICAgICB9XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zZXJ0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKHtpbnNlcnQsIHJlc2V0OnRydWV9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvY2FsIHN0YXRlcHJvdmlkZXJzIGRlY291cGxlIHVwZGF0ZSByZXF1ZXN0IGZyb21cbiAgICAgKiB1cGRhdGUgcHJvY2Vzc2luZywgYW5kIHJldHVybnMgUHJvbWlzZS5cbiAgICAgKi9cbiAgICB1cGRhdGUgKGNoYW5nZXMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBkaWZmcztcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRpZmZzID0gdGhpcy5fdXBkYXRlKGNoYW5nZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5X2NhbGxiYWNrcyhkaWZmcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlmZnM7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF91cGRhdGUoY2hhbmdlcykge1xuICAgICAgICBjb25zdCBkaWZmX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIGluc2VydD1bXSxcbiAgICAgICAgICAgIHJlbW92ZT1bXSxcbiAgICAgICAgICAgIHJlc2V0PWZhbHNlXG4gICAgICAgIH0gPSBjaGFuZ2VzO1xuXG5cbiAgICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgaXRlbV0gb2YgdGhpcy5fbWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGRpZmZfbWFwLnNldChpZCwge2lkLCBuZXc6dW5kZWZpbmVkLCBvbGQ6aXRlbX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2xlYXIgYWxsIGl0ZW1zXG4gICAgICAgICAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgaXRlbXMgYnkgaWRcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgcmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl9tYXAuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZl9tYXAuc2V0KGl0ZW0uaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOml0ZW0uaWQsIG5ldzp1bmRlZmluZWQsIG9sZDppdGVtXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZGVsZXRlKGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5zZXJ0IGl0ZW1zXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaW5zZXJ0KSB7XG4gICAgICAgICAgICBpdGVtID0gY2hlY2tfaXRlbShpdGVtKTtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBkaWZmX21hcC5nZXQoaXRlbS5pZClcbiAgICAgICAgICAgIGNvbnN0IG9sZCA9IChkaWZmICE9IHVuZGVmaW5lZCkgPyBkaWZmLm9sZCA6IHRoaXMuX21hcC5nZXQoaXRlbS5pZCk7XG4gICAgICAgICAgICBkaWZmX21hcC5zZXQoaXRlbS5pZCwge2lkOml0ZW0uaWQsIG5ldzppdGVtLCBvbGR9KTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5zZXQoaXRlbS5pZCwgaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFsuLi5kaWZmX21hcC52YWx1ZXMoKV07XG4gICAgfVxuXG4gICAgZ2V0X2l0ZW1zKCkge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXMuX21hcC52YWx1ZXMoKV07XG4gICAgfTtcbn1cbmNhbGxiYWNrLmFkZFRvUHJvdG90eXBlKExvY2FsU3RhdGVQcm92aWRlci5wcm90b3R5cGUpO1xuIiwiaW1wb3J0IHsgZW5kcG9pbnQsIGludGVydmFsIH0gZnJvbSBcIi4vaW50ZXJ2YWxzLmpzXCI7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBORUFSQlkgSU5ERVhcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBBYnN0cmFjdCBzdXBlcmNsYXNzIGZvciBOZWFyYnlJbmRleGUuXG4gKiBcbiAqIFN1cGVyY2xhc3MgdXNlZCB0byBjaGVjayB0aGF0IGEgY2xhc3MgaW1wbGVtZW50cyB0aGUgbmVhcmJ5KCkgbWV0aG9kLCBcbiAqIGFuZCBwcm92aWRlIHNvbWUgY29udmVuaWVuY2UgbWV0aG9kcy5cbiAqIFxuICogTkVBUkJZIElOREVYXG4gKiBcbiAqIE5lYXJieUluZGV4IHByb3ZpZGVzIGluZGV4aW5nIHN1cHBvcnQgb2YgZWZmZWN0aXZlbHlcbiAqIGxvb2tpbmcgdXAgcmVnaW9ucyBieSBvZmZzZXQsIFxuICogZ2l2ZW4gdGhhdFxuICogKGkpIGVhY2ggcmVnaW9uIGlzIGFzc29jaWF0ZWQgd2l0aCBhbiBpbnRlcnZhbCBhbmQsXG4gKiAoaWkpIHJlZ2lvbnMgYXJlIG5vbi1vdmVybGFwcGluZy5cbiAqIFxuICogTkVBUkJZXG4gKiBUaGUgbmVhcmJ5IG1ldGhvZCByZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBuZWlnaGJvcmhvb2QgXG4gKiBhcm91bmQgZW5kcG9pbnQuIFxuICogXG4gKiBSZXR1cm5zIHtcbiAqICAgICAgY2VudGVyOiBsaXN0IG9mIG9iamVjdHMgY292ZXJlZCBieSByZWdpb24sXG4gKiAgICAgIGl0djogcmVnaW9uIGludGVydmFsIC0gdmFsaWRpdHkgb2YgY2VudGVyIFxuICogICAgICBsZWZ0OlxuICogICAgICAgICAgZmlyc3QgaW50ZXJ2YWwgZW5kcG9pbnQgdG8gdGhlIGxlZnQgXG4gKiAgICAgICAgICB3aGljaCB3aWxsIHByb2R1Y2UgZGlmZmVyZW50IHtjZW50ZXJ9XG4gKiAgICAgICAgICBhbHdheXMgYSBoaWdoLWVuZHBvaW50IG9yIGVuZHBvaW50Lk5FR19JTkZcbiAqICAgICAgcmlnaHQ6XG4gKiAgICAgICAgICBmaXJzdCBpbnRlcnZhbCBlbmRwb2ludCB0byB0aGUgcmlnaHRcbiAqICAgICAgICAgIHdoaWNoIHdpbGwgcHJvZHVjZSBkaWZmZXJlbnQge2NlbnRlcn1cbiAqICAgICAgICAgIGFsd2F5cyBhIGxvdy1lbmRwb2ludCBvciBlbmR0cG9pbnQuUE9TX0lORlxuICogXG4gKiBcbiAqIFRoZSBuZWFyYnkgc3RhdGUgaXMgd2VsbC1kZWZpbmVkIGZvciBldmVyeSBlbmRwb2ludFxuICogb24gdGhlIHRpbWVsaW5lLlxuICogXG4gKiBJTlRFUlZBTFNcbiAqIFxuICogW2xvdywgaGlnaCwgbG93SW5jbHVzaXZlLCBoaWdoSW5jbHVzaXZlXVxuICogXG4gKiBUaGlzIHJlcHJlc2VudGF0aW9uIGVuc3VyZXMgdGhhdCB0aGUgaW50ZXJ2YWwgZW5kcG9pbnRzIFxuICogYXJlIG9yZGVyZWQgYW5kIGFsbG93cyBpbnRlcnZhbHMgdG8gYmUgZXhjbHVzaXZlIG9yIGluY2x1c2l2ZSwgXG4gKiB5ZXQgY292ZXIgdGhlIGVudGlyZSByZWFsIGxpbmUgXG4gKiBcbiAqIFthLGJdLCAoYSxiKSwgW2EsYiksIFthLCBiKSBhcmUgYWxsIHZhbGlkIGludGVydmFsc1xuICogXG4gKiBcbiAqIElOVEVSVkFMIEVORFBPSU5UU1xuICogXG4gKiBpbnRlcnZhbCBlbmRwb2ludHMgYXJlIGRlZmluZWQgYnkgW3ZhbHVlLCB0eXBlXSwgZm9yIGV4YW1wbGVcbiAqIFxuICogNCkgLT4gWzQsXCIpXCJdIC0gaGlnaCBlbmRwb2ludCBsZWZ0IG9mIDRcbiAqIFs0IC0+IFs0LCBcIltcIl0gLSBsb3cgZW5kcG9pbnQgaW5jbHVkZXMgNFxuICogNCAgLT4gWzQsIFwiXCJdIC0gdmFsdWUgNFxuICogNF0gLT4gWzQsIFwiXVwiXSAtIGhpZ2ggZW5kcG9pbnQgaW5jbHVkZXMgNFxuICogKDQgLT4gWzQsIFwiKFwiXSAtIGxvdyBlbmRwb2ludCBpcyByaWdodCBvZiA0XG4gKiBcbiAqL1xuXG5cbi8qKlxuICogcmV0dXJuIGZpcnN0IGhpZ2ggZW5kcG9pbnQgb24gdGhlIGxlZnQgZnJvbSBuZWFyYnksXG4gKiB3aGljaCBpcyBub3QgaW4gY2VudGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZWZ0X2VuZHBvaW50IChuZWFyYnkpIHtcbiAgICBjb25zdCBsb3cgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKG5lYXJieS5pdHYpWzBdO1xuICAgIHJldHVybiBlbmRwb2ludC5mbGlwKGxvdyk7XG59XG5cbi8qKlxuICogcmV0dXJuIGZpcnN0IGxvdyBlbmRwb2ludCBvbiB0aGUgcmlnaHQgZnJvbSBuZWFyYnksXG4gKiB3aGljaCBpcyBub3QgaW4gY2VudGVyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJpZ2h0X2VuZHBvaW50IChuZWFyYnkpIHtcbiAgICBjb25zdCBoaWdoID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChuZWFyYnkuaXR2KVsxXTtcbiAgICByZXR1cm4gZW5kcG9pbnQuZmxpcChoaWdoKTtcbn1cblxuXG5cbmV4cG9ydCBjbGFzcyBOZWFyYnlJbmRleEJhc2Uge1xuXG5cbiAgICAvKiBcbiAgICAgICAgTmVhcmJ5IG1ldGhvZFxuICAgICovXG4gICAgbmVhcmJ5KG9mZnNldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgcmV0dXJuIGxvdyBwb2ludCBvZiBsZWZ0bW9zdCBlbnRyeVxuICAgICovXG4gICAgZmlyc3QoKSB7XG4gICAgICAgIGxldCB7Y2VudGVyLCByaWdodH0gPSB0aGlzLm5lYXJieShlbmRwb2ludC5ORUdfSU5GKTtcbiAgICAgICAgcmV0dXJuIChjZW50ZXIubGVuZ3RoID4gMCkgPyBlbmRwb2ludC5ORUdfSU5GIDogcmlnaHQ7XG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgcmV0dXJuIGhpZ2ggcG9pbnQgb2YgcmlnaHRtb3N0IGVudHJ5XG4gICAgKi9cbiAgICBsYXN0KCkge1xuICAgICAgICBsZXQge2xlZnQsIGNlbnRlcn0gPSB0aGlzLm5lYXJieShlbmRwb2ludC5QT1NfSU5GKTtcbiAgICAgICAgcmV0dXJuIChjZW50ZXIubGVuZ3RoID4gMCkgPyBlbmRwb2ludC5QT1NfSU5GIDogbGVmdFxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIG5lYXJieSBvZiBmaXJzdCByZWdpb24gdG8gdGhlIHJpZ2h0XG4gICAgICogd2hpY2ggaXMgbm90IHRoZSBjZW50ZXIgcmVnaW9uLiBJZiBub3QgZXhpc3RzLCByZXR1cm5cbiAgICAgKiB1bmRlZmluZWQuIFxuICAgICAqL1xuICAgIHJpZ2h0X3JlZ2lvbihuZWFyYnkpIHtcbiAgICAgICAgY29uc3QgcmlnaHQgPSByaWdodF9lbmRwb2ludChuZWFyYnkpO1xuICAgICAgICBpZiAocmlnaHRbMF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5uZWFyYnkocmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybiBuZWFyYnkgb2YgZmlyc3QgcmVnaW9uIHRvIHRoZSBsZWZ0XG4gICAgICogd2hpY2ggaXMgbm90IHRoZSBjZW50ZXIgcmVnaW9uLiBJZiBub3QgZXhpc3RzLCByZXR1cm5cbiAgICAgKiB1bmRlZmluZWQuIFxuICAgICAqL1xuICAgIGxlZnRfcmVnaW9uKG5lYXJieSkge1xuICAgICAgICBjb25zdCBsZWZ0ID0gbGVmdF9lbmRwb2ludChuZWFyYnkpO1xuICAgICAgICBpZiAobGVmdFswXSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5lYXJieShsZWZ0KTsgICAgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZmluZCBmaXJzdCByZWdpb24gdG8gdGhlIFwicmlnaHRcIiBvciBcImxlZnRcIlxuICAgICAqIHdoaWNoIGlzIG5vdCB0aGUgY2VudGVyIHJlZ2lvbiwgYW5kIHdoaWNoIG1lZXRzXG4gICAgICogYSBjb25kaXRpb24gb24gbmVhcmJ5LmNlbnRlci5cbiAgICAgKiBEZWZhdWx0IGNvbmRpdGlvbiBpcyBjZW50ZXIgbm9uLWVtcHR5XG4gICAgICogSWYgbm90IGV4aXN0cywgcmV0dXJuIHVuZGVmaW5lZC4gXG4gICAgICovXG4gICAgXG4gICAgZmluZF9yZWdpb24obmVhcmJ5LCBvcHRpb25zPXt9KSB7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAxLFxuICAgICAgICAgICAgY29uZGl0aW9uID0gKGNlbnRlcikgPT4gY2VudGVyLmxlbmd0aCA+IDBcbiAgICAgICAgfSA9IG9wdGlvbnM7XG4gICAgICAgIGxldCBuZXh0X25lYXJieTtcbiAgICAgICAgd2hpbGUodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgbmV4dF9uZWFyYnkgPSB0aGlzLnJpZ2h0X3JlZ2lvbihuZWFyYnkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0X25lYXJieSA9IHRoaXMubGVmdF9yZWdpb24obmVhcmJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0X25lYXJieSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbihuZXh0X25lYXJieS5jZW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgLy8gZm91bmQgcmVnaW9uIFxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0X25lYXJieTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlZ2lvbiBub3QgZm91bmRcbiAgICAgICAgICAgIC8vIGNvbnRpbnVlIHNlYXJjaGluZyB0aGUgcmlnaHRcbiAgICAgICAgICAgIG5lYXJieSA9IG5leHRfbmVhcmJ5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVnaW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVnaW9uSXRlcmF0b3IodGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG59XG5cblxuLypcbiAgICBJdGVyYXRlIHJlZ2lvbnMgb2YgaW5kZXggZnJvbSBsZWZ0IHRvIHJpZ2h0XG5cbiAgICBJdGVyYXRpb24gbGltaXRlZCB0byBpbnRlcnZhbCBbc3RhcnQsIHN0b3BdIG9uIHRoZSB0aW1lbGluZS5cbiAgICBSZXR1cm5zIGxpc3Qgb2YgaXRlbS1saXN0cy5cbiAgICBvcHRpb25zXG4gICAgLSBzdGFydFxuICAgIC0gc3RvcFxuICAgIC0gaW5jbHVkZUVtcHR5XG4qL1xuXG5jbGFzcyBSZWdpb25JdGVyYXRvciB7XG5cbiAgICBjb25zdHJ1Y3RvcihpbmRleCwgb3B0aW9ucz17fSkge1xuICAgICAgICBsZXQge1xuICAgICAgICAgICAgc3RhcnQ9LUluZmluaXR5LCBcbiAgICAgICAgICAgIHN0b3A9SW5maW5pdHksIFxuICAgICAgICAgICAgaW5jbHVkZUVtcHR5PXRydWVcbiAgICAgICAgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChzdGFydCA+IHN0b3ApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciAoXCJzdG9wIG11c3QgYmUgbGFyZ2VyIHRoYW4gc3RhcnRcIiwgc3RhcnQsIHN0b3ApXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5fc3RhcnQgPSBlbmRwb2ludC5mcm9tX2lucHV0KHN0YXJ0KTtcbiAgICAgICAgdGhpcy5fc3RvcCA9IGVuZHBvaW50LmZyb21faW5wdXQoc3RvcCk7XG5cbiAgICAgICAgaWYgKGluY2x1ZGVFbXB0eSkge1xuICAgICAgICAgICAgdGhpcy5fY29uZGl0aW9uID0gKCkgPT4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmRpdGlvbiA9IChjZW50ZXIpID0+IGNlbnRlci5sZW5ndGggPiAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2N1cnJlbnQ7XG4gICAgfVxuXG4gICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBpbml0aWFsc2VcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9pbmRleC5uZWFyYnkodGhpcy5fc3RhcnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmRpdGlvbih0aGlzLl9jdXJyZW50LmNlbnRlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge3ZhbHVlOnRoaXMuX2N1cnJlbnQsIGRvbmU6ZmFsc2V9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBvcHRpb25zID0ge2NvbmRpdGlvbjp0aGlzLl9jb25kaXRpb24sIGRpcmVjdGlvbjoxfVxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5faW5kZXguZmluZF9yZWdpb24odGhpcy5fY3VycmVudCwgb3B0aW9ucyk7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTp1bmRlZmluZWQsIGRvbmU6dHJ1ZX07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbHVlOnRoaXMuX2N1cnJlbnQsIGRvbmU6ZmFsc2V9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG4vKipcbiAqIG5lYXJieV9mcm9tXG4gKiBcbiAqIHV0aWxpdHkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgbmVhcmJ5IG9iamVjdCBpbiBjaXJjdW1zdGFuY2VzXG4gKiB3aGVyZSB0aGVyZSBhcmUgb3ZlcmxhcHBpbmcgaW50ZXJ2YWxzIFRoaXMgY291bGQgYmUgd2hlbiBhIFxuICogc3RhdGVwcm92aWRlciBmb3IgYSBsYXllciBoYXMgb3ZlcmxhcHBpbmcgaXRlbXMgb3Igd2hlbiBcbiAqIG11bHRpcGxlIG5lYXJieSBpbmRleGVzIGFyZSBtZXJnZWQgaW50byBvbmUuXG4gKiBcbiAqIFxuICogQHBhcmFtIHsqfSBwcmV2X2hpZ2ggOiB0aGUgcmlnaHRtb3N0IGhpZ2gtZW5kcG9pbnQgbGVmdCBvZiBvZmZzZXRcbiAqIEBwYXJhbSB7Kn0gY2VudGVyX2xvd19saXN0IDogbG93LWVuZHBvaW50cyBvZiBjZW50ZXJcbiAqIEBwYXJhbSB7Kn0gY2VudGVyIDogY2VudGVyXG4gKiBAcGFyYW0geyp9IGNlbnRlcl9oaWdoX2xpc3QgOiBoaWdoLWVuZHBvaW50cyBvZiBjZW50ZXJcbiAqIEBwYXJhbSB7Kn0gbmV4dF9sb3cgOiB0aGUgbGVmdG1vc3QgbG93LWVuZHBvaW50IHJpZ2h0IG9mIG9mZnNldFxuICogQHJldHVybnMgXG4gKi9cblxuZnVuY3Rpb24gY21wX2FzY2VuZGluZyhwMSwgcDIpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuY21wKHAxLCBwMilcbn1cblxuZnVuY3Rpb24gY21wX2Rlc2NlbmRpbmcocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmNtcChwMiwgcDEpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZWFyYnlfZnJvbSAoXG4gICAgcHJldl9oaWdoLCBcbiAgICBjZW50ZXJfbG93X2xpc3QsIFxuICAgIGNlbnRlcixcbiAgICBjZW50ZXJfaGlnaF9saXN0LFxuICAgIG5leHRfbG93KSB7XG5cbiAgICAvLyBuZWFyYnlcbiAgICBjb25zdCByZXN1bHQgPSB7Y2VudGVyfTtcblxuICAgIGlmIChjZW50ZXIubGVuZ3RoID09IDApIHtcbiAgICAgICAgLy8gZW1wdHkgY2VudGVyXG4gICAgICAgIHJlc3VsdC5yaWdodCA9IG5leHRfbG93O1xuICAgICAgICByZXN1bHQubGVmdCA9IHByZXZfaGlnaDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBub24tZW1wdHkgY2VudGVyXG4gICAgICAgIFxuICAgICAgICAvLyBjZW50ZXIgaGlnaFxuICAgICAgICBjZW50ZXJfaGlnaF9saXN0LnNvcnQoY21wX2FzY2VuZGluZyk7XG4gICAgICAgIGxldCBtaW5fY2VudGVyX2hpZ2ggPSBjZW50ZXJfaGlnaF9saXN0WzBdO1xuICAgICAgICBsZXQgbWF4X2NlbnRlcl9oaWdoID0gY2VudGVyX2hpZ2hfbGlzdC5zbGljZSgtMSlbMF07XG4gICAgICAgIGxldCBtdWx0aXBsZV9jZW50ZXJfaGlnaCA9ICFlbmRwb2ludC5lcShtaW5fY2VudGVyX2hpZ2gsIG1heF9jZW50ZXJfaGlnaClcblxuICAgICAgICAvLyBjZW50ZXIgbG93XG4gICAgICAgIGNlbnRlcl9sb3dfbGlzdC5zb3J0KGNtcF9kZXNjZW5kaW5nKTtcbiAgICAgICAgbGV0IG1heF9jZW50ZXJfbG93ID0gY2VudGVyX2xvd19saXN0WzBdO1xuICAgICAgICBsZXQgbWluX2NlbnRlcl9sb3cgPSBjZW50ZXJfbG93X2xpc3Quc2xpY2UoLTEpWzBdO1xuICAgICAgICBsZXQgbXVsdGlwbGVfY2VudGVyX2xvdyA9ICFlbmRwb2ludC5lcShtYXhfY2VudGVyX2xvdywgbWluX2NlbnRlcl9sb3cpXG5cbiAgICAgICAgLy8gbmV4dC9yaWdodFxuICAgICAgICBpZiAoZW5kcG9pbnQubGUobmV4dF9sb3csIG1pbl9jZW50ZXJfaGlnaCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5yaWdodCA9IG5leHRfbG93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnJpZ2h0ID0gZW5kcG9pbnQuZmxpcChtaW5fY2VudGVyX2hpZ2gpXG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0Lm5leHQgPSAobXVsdGlwbGVfY2VudGVyX2hpZ2gpID8gcmVzdWx0LnJpZ2h0IDogbmV4dF9sb3c7XG5cbiAgICAgICAgLy8gcHJldi9sZWZ0XG4gICAgICAgIGlmIChlbmRwb2ludC5nZShwcmV2X2hpZ2gsIG1heF9jZW50ZXJfbG93KSkge1xuICAgICAgICAgICAgcmVzdWx0LmxlZnQgPSBwcmV2X2hpZ2g7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQubGVmdCA9IGVuZHBvaW50LmZsaXAobWF4X2NlbnRlcl9sb3cpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wcmV2ID0gKG11bHRpcGxlX2NlbnRlcl9sb3cpID8gcmVzdWx0LmxlZnQgOiBwcmV2X2hpZ2g7XG5cbiAgICB9XG5cbiAgICAvLyBpbnRlcnZhbCBmcm9tIGxlZnQvcmlnaHRcbiAgICBsZXQgbG93ID0gZW5kcG9pbnQuZmxpcChyZXN1bHQubGVmdCk7XG4gICAgbGV0IGhpZ2ggPSBlbmRwb2ludC5mbGlwKHJlc3VsdC5yaWdodCk7XG4gICAgcmVzdWx0Lml0diA9IGludGVydmFsLmZyb21fZW5kcG9pbnRzKGxvdywgaGlnaCk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4iLCIvKlxuXHRDb3B5cmlnaHQgMjAyMFxuXHRBdXRob3IgOiBJbmdhciBBcm50emVuXG5cblx0VGhpcyBmaWxlIGlzIHBhcnQgb2YgdGhlIFRpbWluZ3NyYyBtb2R1bGUuXG5cblx0VGltaW5nc3JjIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0aXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG5cdChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cblx0VGltaW5nc3JjIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5cdE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcblx0R05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cblx0WW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdGFsb25nIHdpdGggVGltaW5nc3JjLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuXG5cbi8qXG5cdEV2ZW50XG5cdC0gbmFtZTogZXZlbnQgbmFtZVxuXHQtIHB1Ymxpc2hlcjogdGhlIG9iamVjdCB3aGljaCBkZWZpbmVkIHRoZSBldmVudFxuXHQtIGluaXQ6IHRydWUgaWYgdGhlIGV2ZW50IHN1cHBwb3J0cyBpbml0IGV2ZW50c1xuXHQtIHN1YnNjcmlwdGlvbnM6IHN1YnNjcmlwdGlucyB0byB0aGlzIGV2ZW50XG5cbiovXG5cbmNsYXNzIEV2ZW50IHtcblxuXHRjb25zdHJ1Y3RvciAocHVibGlzaGVyLCBuYW1lLCBvcHRpb25zKSB7XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblx0XHR0aGlzLnB1Ymxpc2hlciA9IHB1Ymxpc2hlcjtcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdHRoaXMuaW5pdCA9IChvcHRpb25zLmluaXQgPT09IHVuZGVmaW5lZCkgPyBmYWxzZSA6IG9wdGlvbnMuaW5pdDtcblx0XHR0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcblx0fVxuXG5cdC8qXG5cdFx0c3Vic2NyaWJlIHRvIGV2ZW50XG5cdFx0LSBzdWJzY3JpYmVyOiBzdWJzY3JpYmluZyBvYmplY3Rcblx0XHQtIGNhbGxiYWNrOiBjYWxsYmFjayBmdW5jdGlvbiB0byBpbnZva2Vcblx0XHQtIG9wdGlvbnM6XG5cdFx0XHRpbml0OiBpZiB0cnVlIHN1YnNjcmliZXIgd2FudHMgaW5pdCBldmVudHNcblx0Ki9cblx0c3Vic2NyaWJlIChjYWxsYmFjaywgb3B0aW9ucykge1xuXHRcdGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNhbGxiYWNrIG5vdCBhIGZ1bmN0aW9uXCIsIGNhbGxiYWNrKTtcblx0XHR9XG5cdFx0Y29uc3Qgc3ViID0gbmV3IFN1YnNjcmlwdGlvbih0aGlzLCBjYWxsYmFjaywgb3B0aW9ucyk7XG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zLnB1c2goc3ViKTtcblx0ICAgIC8vIEluaXRpYXRlIGluaXQgY2FsbGJhY2sgZm9yIHRoaXMgc3Vic2NyaXB0aW9uXG5cdCAgICBpZiAodGhpcy5pbml0ICYmIHN1Yi5pbml0KSB7XG5cdCAgICBcdHN1Yi5pbml0X3BlbmRpbmcgPSB0cnVlO1xuXHQgICAgXHRsZXQgc2VsZiA9IHRoaXM7XG5cdCAgICBcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgXHRcdGNvbnN0IGVBcmdzID0gc2VsZi5wdWJsaXNoZXIuZXZlbnRpZnlJbml0RXZlbnRBcmdzKHNlbGYubmFtZSkgfHwgW107XG5cdCAgICBcdFx0c3ViLmluaXRfcGVuZGluZyA9IGZhbHNlO1xuXHQgICAgXHRcdGZvciAobGV0IGVBcmcgb2YgZUFyZ3MpIHtcblx0ICAgIFx0XHRcdHNlbGYudHJpZ2dlcihlQXJnLCBbc3ViXSwgdHJ1ZSk7XG5cdCAgICBcdFx0fVxuXHQgICAgXHR9KTtcblx0ICAgIH1cblx0XHRyZXR1cm4gc3ViXG5cdH1cblxuXHQvKlxuXHRcdHRyaWdnZXIgZXZlbnRcblxuXHRcdC0gaWYgc3ViIGlzIHVuZGVmaW5lZCAtIHB1Ymxpc2ggdG8gYWxsIHN1YnNjcmlwdGlvbnNcblx0XHQtIGlmIHN1YiBpcyBkZWZpbmVkIC0gcHVibGlzaCBvbmx5IHRvIGdpdmVuIHN1YnNjcmlwdGlvblxuXHQqL1xuXHR0cmlnZ2VyIChlQXJnLCBzdWJzLCBpbml0KSB7XG5cdFx0bGV0IGVJbmZvLCBjdHg7XG5cdFx0Zm9yIChjb25zdCBzdWIgb2Ygc3Vicykge1xuXHRcdFx0Ly8gaWdub3JlIHRlcm1pbmF0ZWQgc3Vic2NyaXB0aW9uc1xuXHRcdFx0aWYgKHN1Yi50ZXJtaW5hdGVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0ZUluZm8gPSB7XG5cdFx0XHRcdHNyYzogdGhpcy5wdWJsaXNoZXIsXG5cdFx0XHRcdG5hbWU6IHRoaXMubmFtZSxcblx0XHRcdFx0c3ViOiBzdWIsXG5cdFx0XHRcdGluaXQ6IGluaXRcblx0XHRcdH1cblx0XHRcdGN0eCA9IHN1Yi5jdHggfHwgdGhpcy5wdWJsaXNoZXI7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRzdWIuY2FsbGJhY2suY2FsbChjdHgsIGVBcmcsIGVJbmZvKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgRXJyb3IgaW4gJHt0aGlzLm5hbWV9OiAke3N1Yi5jYWxsYmFja30gJHtlcnJ9YCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Lypcblx0dW5zdWJzY3JpYmUgZnJvbSBldmVudFxuXHQtIHVzZSBzdWJzY3JpcHRpb24gcmV0dXJuZWQgYnkgcHJldmlvdXMgc3Vic2NyaWJlXG5cdCovXG5cdHVuc3Vic2NyaWJlKHN1Yikge1xuXHRcdGxldCBpZHggPSB0aGlzLnN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWIpO1xuXHRcdGlmIChpZHggPiAtMSkge1xuXHRcdFx0dGhpcy5zdWJzY3JpcHRpb25zLnNwbGljZShpZHgsIDEpO1xuXHRcdFx0c3ViLnRlcm1pbmF0ZSgpO1xuXHRcdH1cblx0fVxufVxuXG5cbi8qXG5cdFN1YnNjcmlwdGlvbiBjbGFzc1xuKi9cblxuY2xhc3MgU3Vic2NyaXB0aW9uIHtcblxuXHRjb25zdHJ1Y3RvcihldmVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXHRcdHRoaXMuZXZlbnQgPSBldmVudDtcblx0XHR0aGlzLm5hbWUgPSBldmVudC5uYW1lO1xuXHRcdHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFja1xuXHRcdHRoaXMuaW5pdCA9IChvcHRpb25zLmluaXQgPT09IHVuZGVmaW5lZCkgPyB0aGlzLmV2ZW50LmluaXQgOiBvcHRpb25zLmluaXQ7XG5cdFx0dGhpcy5pbml0X3BlbmRpbmcgPSBmYWxzZTtcblx0XHR0aGlzLnRlcm1pbmF0ZWQgPSBmYWxzZTtcblx0XHR0aGlzLmN0eCA9IG9wdGlvbnMuY3R4O1xuXHR9XG5cblx0dGVybWluYXRlKCkge1xuXHRcdHRoaXMudGVybWluYXRlZCA9IHRydWU7XG5cdFx0dGhpcy5jYWxsYmFjayA9IHVuZGVmaW5lZDtcblx0XHR0aGlzLmV2ZW50LnVuc3Vic2NyaWJlKHRoaXMpO1xuXHR9XG59XG5cblxuLypcblxuXHRFVkVOVElGWSBJTlNUQU5DRVxuXG5cdEV2ZW50aWZ5IGJyaW5ncyBldmVudGluZyBjYXBhYmlsaXRpZXMgdG8gYW55IG9iamVjdC5cblxuXHRJbiBwYXJ0aWN1bGFyLCBldmVudGlmeSBzdXBwb3J0cyB0aGUgaW5pdGlhbC1ldmVudCBwYXR0ZXJuLlxuXHRPcHQtaW4gZm9yIGluaXRpYWwgZXZlbnRzIHBlciBldmVudCB0eXBlLlxuXG5cdGV2ZW50aWZ5SW5pdEV2ZW50QXJncyhuYW1lKSB7XG5cdFx0aWYgKG5hbWUgPT0gXCJjaGFuZ2VcIikge1xuXHRcdFx0cmV0dXJuIFt0aGlzLl92YWx1ZV07XG5cdFx0fVxuXHR9XG5cbiovXG5cbmV4cG9ydCBmdW5jdGlvbiBldmVudGlmeUluc3RhbmNlIChvYmplY3QpIHtcblx0b2JqZWN0Ll9fZXZlbnRpZnlfZXZlbnRNYXAgPSBuZXcgTWFwKCk7XG5cdG9iamVjdC5fX2V2ZW50aWZ5X2J1ZmZlciA9IFtdO1xuXHRyZXR1cm4gb2JqZWN0O1xufTtcblxuXG4vKlxuXHRFVkVOVElGWSBQUk9UT1RZUEVcblxuXHRBZGQgZXZlbnRpZnkgZnVuY3Rpb25hbGl0eSB0byBwcm90b3R5cGUgb2JqZWN0XG4qL1xuXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRpZnlQcm90b3R5cGUoX3Byb3RvdHlwZSkge1xuXG5cdGZ1bmN0aW9uIGV2ZW50aWZ5R2V0RXZlbnQob2JqZWN0LCBuYW1lKSB7XG5cdFx0Y29uc3QgZXZlbnQgPSBvYmplY3QuX19ldmVudGlmeV9ldmVudE1hcC5nZXQobmFtZSk7XG5cdFx0aWYgKGV2ZW50ID09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgdW5kZWZpbmVkXCIsIG5hbWUpO1xuXHRcdH1cblx0XHRyZXR1cm4gZXZlbnQ7XG5cdH1cblxuXHQvKlxuXHRcdERFRklORSBFVkVOVFxuXHRcdC0gdXNlZCBvbmx5IGJ5IGV2ZW50IHNvdXJjZVxuXHRcdC0gbmFtZTogbmFtZSBvZiBldmVudFxuXHRcdC0gb3B0aW9uczoge2luaXQ6dHJ1ZX0gc3BlY2lmaWVzIGluaXQtZXZlbnQgc2VtYW50aWNzIGZvciBldmVudFxuXHQqL1xuXHRmdW5jdGlvbiBldmVudGlmeURlZmluZShuYW1lLCBvcHRpb25zKSB7XG5cdFx0Ly8gY2hlY2sgdGhhdCBldmVudCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0XG5cdFx0aWYgKHRoaXMuX19ldmVudGlmeV9ldmVudE1hcC5oYXMobmFtZSkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkV2ZW50IGFscmVhZHkgZGVmaW5lZFwiLCBuYW1lKTtcblx0XHR9XG5cdFx0dGhpcy5fX2V2ZW50aWZ5X2V2ZW50TWFwLnNldChuYW1lLCBuZXcgRXZlbnQodGhpcywgbmFtZSwgb3B0aW9ucykpO1xuXHR9O1xuXG5cdC8qXG5cdFx0T05cblx0XHQtIHVzZWQgYnkgc3Vic2NyaWJlclxuXHRcdHJlZ2lzdGVyIGNhbGxiYWNrIG9uIGV2ZW50LlxuXHQqL1xuXHRmdW5jdGlvbiBvbihuYW1lLCBjYWxsYmFjaywgb3B0aW9ucykge1xuXHRcdHJldHVybiBldmVudGlmeUdldEV2ZW50KHRoaXMsIG5hbWUpLnN1YnNjcmliZShjYWxsYmFjaywgb3B0aW9ucyk7XG5cdH07XG5cblx0Lypcblx0XHRPRkZcblx0XHQtIHVzZWQgYnkgc3Vic2NyaWJlclxuXHRcdFVuLXJlZ2lzdGVyIGEgaGFuZGxlciBmcm9tIGEgc3BlY2ZpYyBldmVudCB0eXBlXG5cdCovXG5cdGZ1bmN0aW9uIG9mZihzdWIpIHtcblx0XHRyZXR1cm4gZXZlbnRpZnlHZXRFdmVudCh0aGlzLCBzdWIubmFtZSkudW5zdWJzY3JpYmUoc3ViKTtcblx0fTtcblxuXG5cdGZ1bmN0aW9uIGV2ZW50aWZ5U3Vic2NyaXB0aW9ucyhuYW1lKSB7XG5cdFx0cmV0dXJuIGV2ZW50aWZ5R2V0RXZlbnQodGhpcywgbmFtZSkuc3Vic2NyaXB0aW9ucztcblx0fVxuXG5cblxuXHQvKlxuXHRcdFRyaWdnZXIgbGlzdCBvZiBldmVudEl0ZW1zIG9uIG9iamVjdFxuXG5cdFx0ZXZlbnRJdGVtOiAge25hbWU6Li4sIGVBcmc6Li59XG5cblx0XHRjb3B5IGFsbCBldmVudEl0ZW1zIGludG8gYnVmZmVyLlxuXHRcdHJlcXVlc3QgZW1wdHlpbmcgdGhlIGJ1ZmZlciwgaS5lLiBhY3R1YWxseSB0cmlnZ2VyaW5nIGV2ZW50cyxcblx0XHRldmVyeSB0aW1lIHRoZSBidWZmZXIgZ29lcyBmcm9tIGVtcHR5IHRvIG5vbi1lbXB0eVxuXHQqL1xuXHRmdW5jdGlvbiBldmVudGlmeVRyaWdnZXJBbGwoZXZlbnRJdGVtcykge1xuXHRcdGlmIChldmVudEl0ZW1zLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gbWFrZSB0cmlnZ2VyIGl0ZW1zXG5cdFx0Ly8gcmVzb2x2ZSBub24tcGVuZGluZyBzdWJzY3JpcHRpb25zIG5vd1xuXHRcdC8vIGVsc2Ugc3Vic2NyaXB0aW9ucyBtYXkgY2hhbmdlIGZyb20gcGVuZGluZyB0byBub24tcGVuZGluZ1xuXHRcdC8vIGJldHdlZW4gaGVyZSBhbmQgYWN0dWFsIHRyaWdnZXJpbmdcblx0XHQvLyBtYWtlIGxpc3Qgb2YgW2V2LCBlQXJnLCBzdWJzXSB0dXBsZXNcblx0XHRsZXQgdHJpZ2dlckl0ZW1zID0gZXZlbnRJdGVtcy5tYXAoKGl0ZW0pID0+IHtcblx0XHRcdGxldCB7bmFtZSwgZUFyZ30gPSBpdGVtO1xuXHRcdFx0bGV0IGV2ID0gZXZlbnRpZnlHZXRFdmVudCh0aGlzLCBuYW1lKTtcblx0XHRcdGxldCBzdWJzID0gZXYuc3Vic2NyaXB0aW9ucy5maWx0ZXIoc3ViID0+IHN1Yi5pbml0X3BlbmRpbmcgPT0gZmFsc2UpO1xuXHRcdFx0cmV0dXJuIFtldiwgZUFyZywgc3Vic107XG5cdFx0fSwgdGhpcyk7XG5cblx0XHQvLyBhcHBlbmQgdHJpZ2dlciBJdGVtcyB0byBidWZmZXJcblx0XHRjb25zdCBsZW4gPSB0cmlnZ2VySXRlbXMubGVuZ3RoO1xuXHRcdGNvbnN0IGJ1ZiA9IHRoaXMuX19ldmVudGlmeV9idWZmZXI7XG5cdFx0Y29uc3QgYnVmX2xlbiA9IHRoaXMuX19ldmVudGlmeV9idWZmZXIubGVuZ3RoO1xuXHRcdC8vIHJlc2VydmUgbWVtb3J5IC0gc2V0IG5ldyBsZW5ndGhcblx0XHR0aGlzLl9fZXZlbnRpZnlfYnVmZmVyLmxlbmd0aCA9IGJ1Zl9sZW4gKyBsZW47XG5cdFx0Ly8gY29weSB0cmlnZ2VySXRlbXMgdG8gYnVmZmVyXG5cdFx0Zm9yIChsZXQgaT0wOyBpPGxlbjsgaSsrKSB7XG5cdFx0XHRidWZbYnVmX2xlbitpXSA9IHRyaWdnZXJJdGVtc1tpXTtcblx0XHR9XG5cdFx0Ly8gcmVxdWVzdCBlbXB0eWluZyBvZiB0aGUgYnVmZmVyXG5cdFx0aWYgKGJ1Zl9sZW4gPT0gMCkge1xuXHRcdFx0bGV0IHNlbGYgPSB0aGlzO1xuXHRcdFx0UHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yIChsZXQgW2V2LCBlQXJnLCBzdWJzXSBvZiBzZWxmLl9fZXZlbnRpZnlfYnVmZmVyKSB7XG5cdFx0XHRcdFx0Ly8gYWN0dWFsIGV2ZW50IHRyaWdnZXJpbmdcblx0XHRcdFx0XHRldi50cmlnZ2VyKGVBcmcsIHN1YnMsIGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZWxmLl9fZXZlbnRpZnlfYnVmZmVyID0gW107XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKlxuXHRcdFRyaWdnZXIgbXVsdGlwbGUgZXZlbnRzIG9mIHNhbWUgdHlwZSAobmFtZSlcblx0Ki9cblx0ZnVuY3Rpb24gZXZlbnRpZnlUcmlnZ2VyQWxpa2UobmFtZSwgZUFyZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy5ldmVudGlmeVRyaWdnZXJBbGwoZUFyZ3MubWFwKGVBcmcgPT4ge1xuXHRcdFx0cmV0dXJuIHtuYW1lLCBlQXJnfTtcblx0XHR9KSk7XG5cdH1cblxuXHQvKlxuXHRcdFRyaWdnZXIgc2luZ2xlIGV2ZW50XG5cdCovXG5cdGZ1bmN0aW9uIGV2ZW50aWZ5VHJpZ2dlcihuYW1lLCBlQXJnKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXZlbnRpZnlUcmlnZ2VyQWxsKFt7bmFtZSwgZUFyZ31dKTtcblx0fVxuXG5cdF9wcm90b3R5cGUuZXZlbnRpZnlEZWZpbmUgPSBldmVudGlmeURlZmluZTtcblx0X3Byb3RvdHlwZS5ldmVudGlmeVRyaWdnZXIgPSBldmVudGlmeVRyaWdnZXI7XG5cdF9wcm90b3R5cGUuZXZlbnRpZnlUcmlnZ2VyQWxpa2UgPSBldmVudGlmeVRyaWdnZXJBbGlrZTtcblx0X3Byb3RvdHlwZS5ldmVudGlmeVRyaWdnZXJBbGwgPSBldmVudGlmeVRyaWdnZXJBbGw7XG5cdF9wcm90b3R5cGUuZXZlbnRpZnlTdWJzY3JpcHRpb25zID0gZXZlbnRpZnlTdWJzY3JpcHRpb25zO1xuXHRfcHJvdG90eXBlLm9uID0gb247XG5cdF9wcm90b3R5cGUub2ZmID0gb2ZmO1xufTtcblxuXG5leHBvcnQge2V2ZW50aWZ5SW5zdGFuY2UgYXMgYWRkVG9JbnN0YW5jZX07XG5leHBvcnQge2V2ZW50aWZ5UHJvdG90eXBlIGFzIGFkZFRvUHJvdG90eXBlfTtcblxuLypcblx0RXZlbnQgVmFyaWFibGVcblxuXHRPYmplY3RzIHdpdGggYSBzaW5nbGUgXCJjaGFuZ2VcIiBldmVudFxuKi9cblxuZXhwb3J0IGNsYXNzIEV2ZW50VmFyaWFibGUge1xuXG5cdGNvbnN0cnVjdG9yICh2YWx1ZSkge1xuXHRcdGV2ZW50aWZ5SW5zdGFuY2UodGhpcyk7XG5cdFx0dGhpcy5fdmFsdWUgPSB2YWx1ZTtcblx0XHR0aGlzLmV2ZW50aWZ5RGVmaW5lKFwiY2hhbmdlXCIsIHtpbml0OnRydWV9KTtcblx0fVxuXG5cdGV2ZW50aWZ5SW5pdEV2ZW50QXJncyhuYW1lKSB7XG5cdFx0aWYgKG5hbWUgPT0gXCJjaGFuZ2VcIikge1xuXHRcdFx0cmV0dXJuIFt0aGlzLl92YWx1ZV07XG5cdFx0fVxuXHR9XG5cblx0Z2V0IHZhbHVlICgpIHtyZXR1cm4gdGhpcy5fdmFsdWV9O1xuXHRzZXQgdmFsdWUgKHZhbHVlKSB7XG5cdFx0aWYgKHZhbHVlICE9IHRoaXMuX3ZhbHVlKSB7XG5cdFx0XHR0aGlzLl92YWx1ZSA9IHZhbHVlO1xuXHRcdFx0dGhpcy5ldmVudGlmeVRyaWdnZXIoXCJjaGFuZ2VcIiwgdmFsdWUpO1xuXHRcdH1cblx0fVxufVxuZXZlbnRpZnlQcm90b3R5cGUoRXZlbnRWYXJpYWJsZS5wcm90b3R5cGUpO1xuXG4vKlxuXHRFdmVudCBCb29sZWFuXG5cblxuXHROb3RlIDogaW1wbGVtZW50YXRpb24gdXNlcyBmYWxzaW5lc3Mgb2YgaW5wdXQgcGFyYW1ldGVyIHRvIGNvbnN0cnVjdG9yIGFuZCBzZXQoKSBvcGVyYXRpb24sXG5cdHNvIGV2ZW50Qm9vbGVhbigtMSkgd2lsbCBhY3R1YWxseSBzZXQgaXQgdG8gdHJ1ZSBiZWNhdXNlXG5cdCgtMSkgPyB0cnVlIDogZmFsc2UgLT4gdHJ1ZSAhXG4qL1xuXG5leHBvcnQgY2xhc3MgRXZlbnRCb29sZWFuIGV4dGVuZHMgRXZlbnRWYXJpYWJsZSB7XG5cdGNvbnN0cnVjdG9yKHZhbHVlKSB7XG5cdFx0c3VwZXIoQm9vbGVhbih2YWx1ZSkpO1xuXHR9XG5cblx0c2V0IHZhbHVlICh2YWx1ZSkge1xuXHRcdHN1cGVyLnZhbHVlID0gQm9vbGVhbih2YWx1ZSk7XG5cdH1cblx0Z2V0IHZhbHVlICgpIHtyZXR1cm4gc3VwZXIudmFsdWV9O1xufVxuXG5cbi8qXG5cdG1ha2UgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdoZW4gRXZlbnRCb29sZWFuIGNoYW5nZXNcblx0dmFsdWUuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQcm9taXNlKGV2ZW50T2JqZWN0LCBjb25kaXRpb25GdW5jKSB7XG5cdGNvbmRpdGlvbkZ1bmMgPSBjb25kaXRpb25GdW5jIHx8IGZ1bmN0aW9uKHZhbCkge3JldHVybiB2YWwgPT0gdHJ1ZX07XG5cdHJldHVybiBuZXcgUHJvbWlzZSAoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdGxldCBzdWIgPSBldmVudE9iamVjdC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdGlmIChjb25kaXRpb25GdW5jKHZhbHVlKSkge1xuXHRcdFx0XHRyZXNvbHZlKHZhbHVlKTtcblx0XHRcdFx0ZXZlbnRPYmplY3Qub2ZmKHN1Yik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufTtcblxuLy8gbW9kdWxlIGFwaVxuZXhwb3J0IGRlZmF1bHQge1xuXHRldmVudGlmeVByb3RvdHlwZSxcblx0ZXZlbnRpZnlJbnN0YW5jZSxcblx0RXZlbnRWYXJpYWJsZSxcblx0RXZlbnRCb29sZWFuLFxuXHRtYWtlUHJvbWlzZVxufTtcblxuIiwiaW1wb3J0IHsgaW1wbGVtZW50c19jYWxsYmFjayB9IGZyb20gXCIuL2FwaV9jYWxsYmFja1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBTT1VSQ0UgUFJPUEVSVFkgKFNSQ1BST1ApXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIEZ1bmN0aW9ucyBmb3IgZXh0ZW5kaW5nIGEgY2xhc3Mgd2l0aCBzdXBwb3J0IGZvciBcbiAqIGV4dGVybmFsIHNvdXJjZSBvbiBhIG5hbWVkIHByb3BlcnR5LlxuICogXG4gKiBvcHRpb246IG11dGFibGU6dHJ1ZSBtZWFucyB0aGF0IHByb3BlcnkgbWF5IGJlIHJlc2V0IFxuICogXG4gKiBzb3VyY2Ugb2JqZWN0IGlzIGFzc3VtZWQgdG8gc3VwcG9ydCB0aGUgY2FsbGJhY2sgaW50ZXJmYWNlLFxuICogb3IgYmUgYSBsaXN0IG9mIG9iamVjdHMgYWxsIHN1cHBvcnRpbmcgdGhlIGNhbGxiYWNrIGludGVyZmFjZVxuICovXG5cbmNvbnN0IE5BTUUgPSBcInNyY3Byb3BcIjtcbmNvbnN0IFBSRUZJWCA9IGBfXyR7TkFNRX1gO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9JbnN0YW5jZSAob2JqZWN0KSB7XG4gICAgb2JqZWN0W2Ake1BSRUZJWH1gXSA9IG5ldyBNYXAoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvUHJvdG90eXBlIChfcHJvdG90eXBlKSB7XG5cbiAgICBmdW5jdGlvbiByZWdpc3Rlcihwcm9wTmFtZSwgb3B0aW9ucz17fSkge1xuICAgICAgICBsZXQge211dGFibGU9dHJ1ZX0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzW2Ake1BSRUZJWH1gXTsgXG4gICAgICAgIG1hcC5zZXQocHJvcE5hbWUsIHtcbiAgICAgICAgICAgIGluaXQ6ZmFsc2UsXG4gICAgICAgICAgICBtdXRhYmxlLFxuICAgICAgICAgICAgZW50aXR5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBoYW5kbGVzOiBbXVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZWdpc3RlciBnZXR0ZXJzIGFuZCBzZXR0ZXJzXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBwcm9wTmFtZSwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcC5nZXQocHJvcE5hbWUpLmVudGl0eTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc1tgJHtOQU1FfV9jaGVja2BdKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eSA9IHRoaXNbYCR7TkFNRX1fY2hlY2tgXShwcm9wTmFtZSwgZW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eSAhPSBtYXAuZ2V0KHByb3BOYW1lKS5lbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tgJHtQUkVGSVh9X2F0dGFjaGBdKHByb3BOYW1lLCBlbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR0YXRjaChwcm9wTmFtZSwgZW50aXR5KSB7XG5cbiAgICAgICAgY29uc3QgbWFwID0gdGhpc1tgJHtQUkVGSVh9YF07XG4gICAgICAgIGNvbnN0IHN0YXRlID0gbWFwLmdldChwcm9wTmFtZSlcblxuICAgICAgICBpZiAoc3RhdGUuaW5pdCAmJiAhc3RhdGUubXV0YWJsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Byb3BOYW1lfSBjYW4gbm90IGJlIHJlYXNzaWduZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVudGl0aWVzID0gKEFycmF5LmlzQXJyYXkoZW50aXR5KSkgPyBlbnRpdHkgOiBbZW50aXR5XTtcblxuICAgICAgICAvLyB1bnN1YnNjcmliZSBmcm9tIGVudGl0aWVzXG4gICAgICAgIGlmIChzdGF0ZS5oYW5kbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2lkeCwgZV0gb2YgT2JqZWN0LmVudHJpZXMoZW50aXRpZXMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGltcGxlbWVudHNfY2FsbGJhY2soZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5yZW1vdmVfY2FsbGJhY2soc3RhdGUuaGFuZGxlc1tpZHhdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmhhbmRsZXMgPSBbXTtcblxuICAgICAgICAvLyBhdHRhdGNoIG5ldyBlbnRpdHlcbiAgICAgICAgc3RhdGUuZW50aXR5ID0gZW50aXR5O1xuICAgICAgICBzdGF0ZS5pbml0ID0gdHJ1ZTtcblxuICAgICAgICAvLyBzdWJzY3JpYmUgdG8gY2FsbGJhY2sgZnJvbSBzb3VyY2VcbiAgICAgICAgaWYgKHRoaXNbYCR7TkFNRX1fb25jaGFuZ2VgXSkge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGZ1bmN0aW9uIChlQXJnKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tgJHtOQU1FfV9vbmNoYW5nZWBdKHByb3BOYW1lLCBlQXJnKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBlbnRpdGllcykge1xuICAgICAgICAgICAgICAgIGlmIChpbXBsZW1lbnRzX2NhbGxiYWNrKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmhhbmRsZXMucHVzaChlLmFkZF9jYWxsYmFjayhoYW5kbGVyKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpc1tgJHtOQU1FfV9vbmNoYW5nZWBdKHByb3BOYW1lLCBcInJlc2V0XCIpOyBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFwaSA9IHt9O1xuICAgIGFwaVtgJHtOQU1FfV9yZWdpc3RlcmBdID0gcmVnaXN0ZXI7XG4gICAgYXBpW2Ake1BSRUZJWH1fYXR0YWNoYF0gPSBhdHRhdGNoO1xuICAgIE9iamVjdC5hc3NpZ24oX3Byb3RvdHlwZSwgYXBpKTtcbn1cblxuIiwiaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tIFwiLi9pbnRlcnZhbHMuanNcIjtcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkJBU0UgU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLypcblx0QWJzdHJhY3QgQmFzZSBDbGFzcyBmb3IgU2VnbWVudHNcblxuICAgIGNvbnN0cnVjdG9yKGludGVydmFsKVxuXG4gICAgLSBpbnRlcnZhbDogaW50ZXJ2YWwgb2YgdmFsaWRpdHkgb2Ygc2VnbWVudFxuICAgIC0gZHluYW1pYzogdHJ1ZSBpZiBzZWdtZW50IGlzIGR5bmFtaWNcbiAgICAtIHZhbHVlKG9mZnNldCk6IHZhbHVlIG9mIHNlZ21lbnQgYXQgb2Zmc2V0XG4gICAgLSBxdWVyeShvZmZzZXQpOiBzdGF0ZSBvZiBzZWdtZW50IGF0IG9mZnNldFxuKi9cblxuZXhwb3J0IGNsYXNzIEJhc2VTZWdtZW50IHtcblxuXHRjb25zdHJ1Y3RvcihpdHYpIHtcblx0XHR0aGlzLl9pdHYgPSBpdHY7XG5cdH1cblxuXHRnZXQgaXR2KCkge3JldHVybiB0aGlzLl9pdHY7fVxuXG4gICAgLyoqIFxuICAgICAqIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzXG4gICAgICogcmV0dXJucyB7dmFsdWUsIGR5bmFtaWN9O1xuICAgICovXG4gICAgc3RhdGUob2Zmc2V0KSB7XG4gICAgXHR0aHJvdyBuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY29udmVuaWVuY2UgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBzdGF0ZSBvZiB0aGUgc2VnbWVudFxuICAgICAqIEBwYXJhbSB7Kn0gb2Zmc2V0IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHF1ZXJ5KG9mZnNldCkge1xuICAgICAgICBpZiAoaW50ZXJ2YWwuY292ZXJzX3BvaW50KHRoaXMuX2l0diwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHsuLi50aGlzLnN0YXRlKG9mZnNldCksIG9mZnNldH07XG4gICAgICAgIH0gXG4gICAgICAgIHJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZHluYW1pYzpmYWxzZSwgb2Zmc2V0fTtcbiAgICB9XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBMQVlFUlMgU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5leHBvcnQgY2xhc3MgTGF5ZXJzU2VnbWVudCBleHRlbmRzIEJhc2VTZWdtZW50IHtcblxuXHRjb25zdHJ1Y3RvcihpdHYsIGFyZ3MpIHtcbiAgICAgICAgc3VwZXIoaXR2KTtcblx0XHR0aGlzLl9sYXllcnMgPSBhcmdzLmxheWVycztcbiAgICAgICAgdGhpcy5fdmFsdWVfZnVuYyA9IGFyZ3MudmFsdWVfZnVuY1xuXG4gICAgICAgIC8vIFRPRE8gLSBmaWd1cmUgb3V0IGR5bmFtaWMgaGVyZT9cbiAgICB9XG5cblx0c3RhdGUob2Zmc2V0KSB7XG4gICAgICAgIC8vIFRPRE8gLSB1c2UgdmFsdWUgZnVuY1xuICAgICAgICAvLyBmb3Igbm93IC0ganVzdCB1c2UgZmlyc3QgbGF5ZXJcbiAgICAgICAgcmV0dXJuIHsuLi50aGlzLl9sYXllcnNbMF0ucXVlcnkob2Zmc2V0KSwgb2Zmc2V0fTtcblx0fVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIFNUQVRJQyBTRUdNRU5UXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCBjbGFzcyBTdGF0aWNTZWdtZW50IGV4dGVuZHMgQmFzZVNlZ21lbnQge1xuXG5cdGNvbnN0cnVjdG9yKGl0diwgZGF0YSkge1xuICAgICAgICBzdXBlcihpdHYpO1xuXHRcdHRoaXMuX3ZhbHVlID0gZGF0YTtcblx0fVxuXG5cdHN0YXRlKCkge1xuICAgICAgICByZXR1cm4ge3ZhbHVlOiB0aGlzLl92YWx1ZSwgZHluYW1pYzpmYWxzZX1cblx0fVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIE1PVElPTiBTRUdNRU5UXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKlxuICAgIEltcGxlbWVudHMgZGV0ZXJtaW5pc3RpYyBwcm9qZWN0aW9uIGJhc2VkIG9uIGluaXRpYWwgY29uZGl0aW9ucyBcbiAgICAtIG1vdGlvbiB2ZWN0b3IgZGVzY3JpYmVzIG1vdGlvbiB1bmRlciBjb25zdGFudCBhY2NlbGVyYXRpb25cbiovXG5cbmV4cG9ydCBjbGFzcyBNb3Rpb25TZWdtZW50IGV4dGVuZHMgQmFzZVNlZ21lbnQge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKGl0diwgZGF0YSkge1xuICAgICAgICBzdXBlcihpdHYpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBwb3NpdGlvbjpwMD0wLCBcbiAgICAgICAgICAgIHZlbG9jaXR5OnYwPTAsIFxuICAgICAgICAgICAgYWNjZWxlcmF0aW9uOmEwPTAsIFxuICAgICAgICAgICAgdGltZXN0YW1wOnQwPTBcbiAgICAgICAgfSA9IGRhdGE7XG4gICAgICAgIC8vIGNyZWF0ZSBtb3Rpb24gdHJhbnNpdGlvblxuICAgICAgICB0aGlzLl9wb3NfZnVuYyA9IGZ1bmN0aW9uICh0cykge1xuICAgICAgICAgICAgbGV0IGQgPSB0cyAtIHQwO1xuICAgICAgICAgICAgcmV0dXJuIHAwICsgdjAqZCArIDAuNSphMCpkKmQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3ZlbF9mdW5jID0gZnVuY3Rpb24gKHRzKSB7XG4gICAgICAgICAgICBsZXQgZCA9IHRzIC0gdDA7XG4gICAgICAgICAgICByZXR1cm4gdjAgKyBhMCpkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjY19mdW5jID0gZnVuY3Rpb24gKHRzKSB7XG4gICAgICAgICAgICByZXR1cm4gYTA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0ZShvZmZzZXQpIHtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuX3Bvc19mdW5jKG9mZnNldCk7XG4gICAgICAgIGxldCB2ZWwgPSB0aGlzLl92ZWxfZnVuYyhvZmZzZXQpO1xuICAgICAgICBsZXQgYWNjID0gdGhpcy5fYWNjX2Z1bmMob2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBwb3MsXG4gICAgICAgICAgICB2ZWxvY2l0eTogdmVsLFxuICAgICAgICAgICAgYWNjZWxlcmF0aW9uOiBhY2MsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG9mZnNldCxcbiAgICAgICAgICAgIHZhbHVlOiBwb3MsXG4gICAgICAgICAgICBkeW5hbWljOiAodmVsICE9IDAgfHwgYWNjICE9IDAgKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIFRSQU5TSVRJT04gU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKlxuICAgIFN1cHBvcnRlZCBlYXNpbmcgZnVuY3Rpb25zXG4gICAgXCJlYXNlLWluXCI6XG4gICAgXCJlYXNlLW91dFwiOlxuICAgIFwiZWFzZS1pbi1vdXRcIlxuKi9cblxuZnVuY3Rpb24gZWFzZWluICh0cykge1xuICAgIHJldHVybiBNYXRoLnBvdyh0cywyKTsgIFxufVxuZnVuY3Rpb24gZWFzZW91dCAodHMpIHtcbiAgICByZXR1cm4gMSAtIGVhc2VpbigxIC0gdHMpO1xufVxuZnVuY3Rpb24gZWFzZWlub3V0ICh0cykge1xuICAgIGlmICh0cyA8IC41KSB7XG4gICAgICAgIHJldHVybiBlYXNlaW4oMiAqIHRzKSAvIDI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICgyIC0gZWFzZWluKDIgKiAoMSAtIHRzKSkpIC8gMjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUcmFuc2l0aW9uU2VnbWVudCBleHRlbmRzIEJhc2VTZWdtZW50IHtcblxuXHRjb25zdHJ1Y3RvcihpdHYsIGRhdGEpIHtcblx0XHRzdXBlcihpdHYpO1xuICAgICAgICBsZXQge3YwLCB2MSwgZWFzaW5nfSA9IGRhdGE7XG4gICAgICAgIGxldCBbdDAsIHQxXSA9IHRoaXMuX2l0di5zbGljZSgwLDIpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgdHJhbnNpdGlvbiBmdW5jdGlvblxuICAgICAgICB0aGlzLl9keW5hbWljID0gdjEtdjAgIT0gMDtcbiAgICAgICAgdGhpcy5fdHJhbnMgPSBmdW5jdGlvbiAodHMpIHtcbiAgICAgICAgICAgIC8vIGNvbnZlcnQgdHMgdG8gW3QwLHQxXS1zcGFjZVxuICAgICAgICAgICAgLy8gLSBzaGlmdCBmcm9tIFt0MCx0MV0tc3BhY2UgdG8gWzAsKHQxLXQwKV0tc3BhY2VcbiAgICAgICAgICAgIC8vIC0gc2NhbGUgZnJvbSBbMCwodDEtdDApXS1zcGFjZSB0byBbMCwxXS1zcGFjZVxuICAgICAgICAgICAgdHMgPSB0cyAtIHQwO1xuICAgICAgICAgICAgdHMgPSB0cy9wYXJzZUZsb2F0KHQxLXQwKTtcbiAgICAgICAgICAgIC8vIGVhc2luZyBmdW5jdGlvbnMgc3RyZXRjaGVzIG9yIGNvbXByZXNzZXMgdGhlIHRpbWUgc2NhbGUgXG4gICAgICAgICAgICBpZiAoZWFzaW5nID09IFwiZWFzZS1pblwiKSB7XG4gICAgICAgICAgICAgICAgdHMgPSBlYXNlaW4odHMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlYXNpbmcgPT0gXCJlYXNlLW91dFwiKSB7XG4gICAgICAgICAgICAgICAgdHMgPSBlYXNlb3V0KHRzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWFzaW5nID09IFwiZWFzZS1pbi1vdXRcIikge1xuICAgICAgICAgICAgICAgIHRzID0gZWFzZWlub3V0KHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxpbmVhciB0cmFuc2l0aW9uIGZyb20gdjAgdG8gdjEsIGZvciB0aW1lIHZhbHVlcyBbMCwxXVxuICAgICAgICAgICAgdHMgPSBNYXRoLm1heCh0cywgMCk7XG4gICAgICAgICAgICB0cyA9IE1hdGgubWluKHRzLCAxKTtcbiAgICAgICAgICAgIHJldHVybiB2MCArICh2MS12MCkqdHM7XG4gICAgICAgIH1cblx0fVxuXG5cdHN0YXRlKG9mZnNldCkge1xuICAgICAgICByZXR1cm4ge3ZhbHVlOiB0aGlzLl90cmFucyhvZmZzZXQpLCBkeW5hbWljOnRoaXMuX2R5bmFtaWN9XG5cdH1cbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIElOVEVSUE9MQVRJT04gU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhbiBpbnRlcnBvbGF0b3IgZm9yIG5lYXJlc3QgbmVpZ2hib3IgaW50ZXJwb2xhdGlvbiB3aXRoXG4gKiBleHRyYXBvbGF0aW9uIHN1cHBvcnQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gdHVwbGVzIC0gQW4gYXJyYXkgb2YgW3ZhbHVlLCBvZmZzZXRdIHBhaXJzLCB3aGVyZSB2YWx1ZSBpcyB0aGVcbiAqIHBvaW50J3MgdmFsdWUgYW5kIG9mZnNldCBpcyB0aGUgY29ycmVzcG9uZGluZyBvZmZzZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIG9mZnNldCBhbmQgcmV0dXJucyB0aGVcbiAqIGludGVycG9sYXRlZCBvciBleHRyYXBvbGF0ZWQgdmFsdWUuXG4gKi9cblxuZnVuY3Rpb24gaW50ZXJwb2xhdGUodHVwbGVzKSB7XG5cbiAgICBpZiAodHVwbGVzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGludGVycG9sYXRvciAoKSB7cmV0dXJuIHVuZGVmaW5lZDt9XG4gICAgfSBlbHNlIGlmICh0dXBsZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGludGVycG9sYXRvciAoKSB7cmV0dXJuIHR1cGxlc1swXVswXTt9XG4gICAgfVxuXG4gICAgLy8gU29ydCB0aGUgdHVwbGVzIGJ5IHRoZWlyIG9mZnNldHNcbiAgICBjb25zdCBzb3J0ZWRUdXBsZXMgPSBbLi4udHVwbGVzXS5zb3J0KChhLCBiKSA9PiBhWzFdIC0gYlsxXSk7XG4gIFxuICAgIHJldHVybiBmdW5jdGlvbiBpbnRlcnBvbGF0b3Iob2Zmc2V0KSB7XG4gICAgICAvLyBIYW5kbGUgZXh0cmFwb2xhdGlvbiBiZWZvcmUgdGhlIGZpcnN0IHBvaW50XG4gICAgICBpZiAob2Zmc2V0IDw9IHNvcnRlZFR1cGxlc1swXVsxXSkge1xuICAgICAgICBjb25zdCBbdmFsdWUxLCBvZmZzZXQxXSA9IHNvcnRlZFR1cGxlc1swXTtcbiAgICAgICAgY29uc3QgW3ZhbHVlMiwgb2Zmc2V0Ml0gPSBzb3J0ZWRUdXBsZXNbMV07XG4gICAgICAgIHJldHVybiB2YWx1ZTEgKyAoKG9mZnNldCAtIG9mZnNldDEpICogKHZhbHVlMiAtIHZhbHVlMSkgLyAob2Zmc2V0MiAtIG9mZnNldDEpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIGV4dHJhcG9sYXRpb24gYWZ0ZXIgdGhlIGxhc3QgcG9pbnRcbiAgICAgIGlmIChvZmZzZXQgPj0gc29ydGVkVHVwbGVzW3NvcnRlZFR1cGxlcy5sZW5ndGggLSAxXVsxXSkge1xuICAgICAgICBjb25zdCBbdmFsdWUxLCBvZmZzZXQxXSA9IHNvcnRlZFR1cGxlc1tzb3J0ZWRUdXBsZXMubGVuZ3RoIC0gMl07XG4gICAgICAgIGNvbnN0IFt2YWx1ZTIsIG9mZnNldDJdID0gc29ydGVkVHVwbGVzW3NvcnRlZFR1cGxlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIHZhbHVlMSArICgob2Zmc2V0IC0gb2Zmc2V0MSkgKiAodmFsdWUyIC0gdmFsdWUxKSAvIChvZmZzZXQyIC0gb2Zmc2V0MSkpO1xuICAgICAgfVxuICBcbiAgICAgIC8vIEZpbmQgdGhlIG5lYXJlc3QgcG9pbnRzIHRvIHRoZSBsZWZ0IGFuZCByaWdodFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWRUdXBsZXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGlmIChvZmZzZXQgPj0gc29ydGVkVHVwbGVzW2ldWzFdICYmIG9mZnNldCA8PSBzb3J0ZWRUdXBsZXNbaSArIDFdWzFdKSB7XG4gICAgICAgICAgY29uc3QgW3ZhbHVlMSwgb2Zmc2V0MV0gPSBzb3J0ZWRUdXBsZXNbaV07XG4gICAgICAgICAgY29uc3QgW3ZhbHVlMiwgb2Zmc2V0Ml0gPSBzb3J0ZWRUdXBsZXNbaSArIDFdO1xuICAgICAgICAgIC8vIExpbmVhciBpbnRlcnBvbGF0aW9uIGZvcm11bGE6IHkgPSB5MSArICggKHggLSB4MSkgKiAoeTIgLSB5MSkgLyAoeDIgLSB4MSkgKVxuICAgICAgICAgIHJldHVybiB2YWx1ZTEgKyAoKG9mZnNldCAtIG9mZnNldDEpICogKHZhbHVlMiAtIHZhbHVlMSkgLyAob2Zmc2V0MiAtIG9mZnNldDEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICBcbiAgICAgIC8vIEluIGNhc2UgdGhlIG9mZnNldCBkb2VzIG5vdCBmYWxsIHdpdGhpbiBhbnkgcmFuZ2UgKHNob3VsZCBiZSBjb3ZlcmVkIGJ5IHRoZSBwcmV2aW91cyBjb25kaXRpb25zKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xufVxuICBcblxuZXhwb3J0IGNsYXNzIEludGVycG9sYXRpb25TZWdtZW50IGV4dGVuZHMgQmFzZVNlZ21lbnQge1xuXG4gICAgY29uc3RydWN0b3IoaXR2LCB0dXBsZXMpIHtcbiAgICAgICAgc3VwZXIoaXR2KTtcbiAgICAgICAgLy8gc2V0dXAgaW50ZXJwb2xhdGlvbiBmdW5jdGlvblxuICAgICAgICB0aGlzLl90cmFucyA9IGludGVycG9sYXRlKHR1cGxlcyk7XG4gICAgfVxuXG4gICAgc3RhdGUob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7dmFsdWU6IHRoaXMuX3RyYW5zKG9mZnNldCksIGR5bmFtaWM6dHJ1ZX07XG4gICAgfVxufVxuXG5cbiIsImltcG9ydCB7IGVuZHBvaW50IH0gZnJvbSBcIi4vaW50ZXJ2YWxzLmpzXCI7XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHRTT1JURUQgQVJSQVlcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLypcblx0U29ydGVkIGFycmF5IG9mIGVuZHBvaW50cyBbdmFsdWUsIHR5cGVdLlxuXHQtIEVsZW1lbnRzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLlxuXHQtIE5vIGR1cGxpY2F0ZXMgYXJlIGFsbG93ZWQuXG5cdC0gQmluYXJ5IHNlYXJjaCB1c2VkIGZvciBsb29rdXBcblxuXHR2YWx1ZXMgY2FuIGJlIHJlZ3VsYXIgbnVtYmVyIHZhbHVlcyAoZmxvYXQpIG9yIGVuZHBvaW50cyBbZmxvYXQsIHR5cGVdXG4qL1xuXG5leHBvcnQgY2xhc3MgU29ydGVkQXJyYXkge1xuXG5cdGNvbnN0cnVjdG9yKCl7XG5cdFx0dGhpcy5fYXJyYXkgPSBbXTtcblx0fVxuXG5cdGdldCBzaXplKCkge3JldHVybiB0aGlzLl9hcnJheS5sZW5ndGg7fVxuXHRnZXQgYXJyYXkoKSB7cmV0dXJuIHRoaXMuX2FycmF5O31cblxuXHQvKlxuXHRcdGZpbmQgaW5kZXggb2YgZ2l2ZW4gdmFsdWVcblxuXHRcdHJldHVybiBbZm91bmQsIGluZGV4XVxuXG5cdFx0aWYgZm91bmQgaXMgdHJ1ZSwgdGhlbiBpbmRleCBpcyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIG9iamVjdFxuXHRcdGlmIGZvdW5kIGlzIGZhbHNlLCB0aGVuIGluZGV4IGlzIHRoZSBpbmRleCB3aGVyZSB0aGUgb2JqZWN0IHNob3VsZFxuXHRcdGJlIGluc2VydGVkXG5cblx0XHQtIHVzZXMgYmluYXJ5IHNlYXJjaFx0XHRcblx0XHQtIGFycmF5IGRvZXMgbm90IGluY2x1ZGUgYW55IGR1cGxpY2F0ZSB2YWx1ZXNcblx0Ki9cblx0aW5kZXhPZih0YXJnZXRfdmFsdWUpIHtcblx0XHRjb25zdCB0YXJnZXRfZXAgPSBlbmRwb2ludC5mcm9tX2lucHV0KHRhcmdldF92YWx1ZSk7XG5cdFx0bGV0IGxlZnRfaWR4ID0gMDtcblx0XHRsZXQgcmlnaHRfaWR4ID0gdGhpcy5fYXJyYXkubGVuZ3RoIC0gMTtcblx0XHR3aGlsZSAobGVmdF9pZHggPD0gcmlnaHRfaWR4KSB7XG5cdFx0XHRjb25zdCBtaWRfaWR4ID0gTWF0aC5mbG9vcigobGVmdF9pZHggKyByaWdodF9pZHgpIC8gMik7XG5cdFx0XHRsZXQgbWlkX3ZhbHVlID0gdGhpcy5fYXJyYXlbbWlkX2lkeF07XG5cdFx0XHRpZiAoZW5kcG9pbnQuZXEobWlkX3ZhbHVlLCB0YXJnZXRfZXApKSB7XG5cdFx0XHRcdHJldHVybiBbdHJ1ZSwgbWlkX2lkeF07IC8vIFRhcmdldCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgYXJyYXlcblx0XHRcdH0gZWxzZSBpZiAoZW5kcG9pbnQubHQobWlkX3ZhbHVlLCB0YXJnZXRfZXApKSB7XG5cdFx0XHRcdCAgbGVmdF9pZHggPSBtaWRfaWR4ICsgMTsgLy8gTW92ZSBzZWFyY2ggcmFuZ2UgdG8gdGhlIHJpZ2h0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQgIHJpZ2h0X2lkeCA9IG1pZF9pZHggLSAxOyAvLyBNb3ZlIHNlYXJjaCByYW5nZSB0byB0aGUgbGVmdFxuXHRcdFx0fVxuXHRcdH1cblx0ICBcdHJldHVybiBbZmFsc2UsIGxlZnRfaWR4XTsgLy8gUmV0dXJuIHRoZSBpbmRleCB3aGVyZSB0YXJnZXQgc2hvdWxkIGJlIGluc2VydGVkXG5cdH1cblxuXHQvKlxuXHRcdGZpbmQgaW5kZXggb2Ygc21hbGxlc3QgdmFsdWUgd2hpY2ggaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRhcmdldCB2YWx1ZVxuXHRcdHJldHVybnMgLTEgaWYgbm8gc3VjaCB2YWx1ZSBleGlzdHNcblx0Ki9cblx0Z2VJbmRleE9mKHRhcmdldF92YWx1ZSkge1xuXHRcdGxldCBbZm91bmQsIGlkeF0gPSB0aGlzLmluZGV4T2YodGFyZ2V0X3ZhbHVlKTtcblx0XHRyZXR1cm4gKGlkeCA8IHRoaXMuX2FycmF5Lmxlbmd0aCkgPyBpZHggOiAtMSAgXG5cdH1cblxuXHQvKlxuXHRcdGZpbmQgaW5kZXggb2YgbGFyZ2VzdCB2YWx1ZSB3aGljaCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGFyZ2V0IHZhbHVlXG5cdFx0cmV0dXJucyAtMSBpZiBubyBzdWNoIHZhbHVlIGV4aXN0c1xuXHQqL1xuXHRsZUluZGV4T2YodGFyZ2V0X3ZhbHVlKSB7XG5cdFx0bGV0IFtmb3VuZCwgaWR4XSA9IHRoaXMuaW5kZXhPZih0YXJnZXRfdmFsdWUpO1xuXHRcdGlkeCA9IChmb3VuZCkgPyBpZHggOiBpZHgtMTtcblx0XHRyZXR1cm4gKGlkeCA+PSAwKSA/IGlkeCA6IC0xO1xuXHR9XG5cblx0Lypcblx0XHRmaW5kIGluZGV4IG9mIHNtYWxsZXN0IHZhbHVlIHdoaWNoIGlzIGdyZWF0ZXIgdGhhbiB0YXJnZXQgdmFsdWVcblx0XHRyZXR1cm5zIC0xIGlmIG5vIHN1Y2ggdmFsdWUgZXhpc3RzXG5cdCovXG5cdGd0SW5kZXhPZih0YXJnZXRfdmFsdWUpIHtcblx0XHRsZXQgW2ZvdW5kLCBpZHhdID0gdGhpcy5pbmRleE9mKHRhcmdldF92YWx1ZSk7XG5cdFx0aWR4ID0gKGZvdW5kKSA/IGlkeCArIDEgOiBpZHg7XG5cdFx0cmV0dXJuIChpZHggPCB0aGlzLl9hcnJheS5sZW5ndGgpID8gaWR4IDogLTEgIFxuXHR9XG5cblx0Lypcblx0XHRmaW5kIGluZGV4IG9mIGxhcmdlc3QgdmFsdWUgd2hpY2ggaXMgbGVzcyB0aGFuIHRhcmdldCB2YWx1ZVxuXHRcdHJldHVybnMgLTEgaWYgbm8gc3VjaCB2YWx1ZSBleGlzdHNcblx0Ki9cblx0bHRJbmRleE9mKHRhcmdldF92YWx1ZSkge1xuXHRcdGxldCBbZm91bmQsIGlkeF0gPSB0aGlzLmluZGV4T2YodGFyZ2V0X3ZhbHVlKTtcblx0XHRpZHggPSBpZHgtMTtcblx0XHRyZXR1cm4gKGlkeCA+PSAwKSA/IGlkeCA6IC0xO1x0XG5cdH1cblxuXHQvKlxuXHRcdFVQREFURVxuXG5cdFx0YXBwcm9hY2ggLSBtYWtlIGFsbCBuZWNjZXNzYXJ5IGNoYW5nZXMgYW5kIHRoZW4gc29ydFxuXG5cdFx0YXMgYSBydWxlIG9mIHRodW1iIC0gY29tcGFyZWQgdG8gcmVtb3ZpbmcgYW5kIGluc2VydGluZyBlbGVtZW50c1xuXHRcdG9uZSBieSBvbmUsIHRoaXMgaXMgbW9yZSBlZmZlY3RpdmUgZm9yIGxhcmdlciBiYXRjaGVzLCBzYXkgPiAxMDAuXG5cdFx0RXZlbiB0aG91Z2ggdGhpcyBtaWdodCBub3QgYmUgdGhlIGNvbW1vbiBjYXNlLCBwZW5hbHRpZXMgZm9yXG5cdFx0Y2hvb3NpbmcgdGhlIHdyb25nIGFwcHJvYWNoIGlzIGhpZ2hlciBmb3IgbGFyZ2VyIGJhdGNoZXMuXG5cblx0XHRyZW1vdmUgaXMgcHJvY2Vzc2VkIGZpcnN0LCBzbyBpZiBhIHZhbHVlIGFwcGVhcnMgaW4gYm90aCBcblx0XHRyZW1vdmUgYW5kIGluc2VydCwgaXQgd2lsbCByZW1haW4uXG5cdFx0dW5kZWZpbmVkIHZhbHVlcyBjYW4gbm90IGJlIGluc2VydGVkIFxuXG5cdCovXG5cblx0dXBkYXRlKHJlbW92ZV9saXN0PVtdLCBpbnNlcnRfbGlzdD1bXSkge1xuXG5cdFx0Lypcblx0XHRcdHJlbW92ZVxuXG5cdFx0XHRyZW1vdmUgYnkgZmxhZ2dpbmcgZWxlbWVudHMgYXMgdW5kZWZpbmVkXG5cdFx0XHQtIGNvbGxlY3QgYWxsIGluZGV4ZXMgZmlyc3Rcblx0XHRcdC0gZmxhZyBhcyB1bmRlZmluZWQgb25seSBhZnRlciBhbGwgaW5kZXhlcyBoYXZlIGJlZW4gZm91bmQsXG5cdFx0XHQgIGFzIGluc2VydGluZyB1bmRlZmluZWQgdmFsdWVzIGJyZWFrZXMgdGhlIGFzc3VtcHRpb24gdGhhdFxuXHRcdFx0ICB0aGUgYXJyYXkgaXMgc29ydGVkLlxuXHRcdFx0LSBsYXRlciBzb3J0IHdpbGwgbW92ZSB0aGVtIHRvIHRoZSBlbmQsIHdoZXJlIHRoZXkgY2FuIGJlXG5cdFx0XHQgIHRydW5jYXRlZCBvZmZcblx0XHQqL1xuXHRcdGxldCByZW1vdmVfaWR4X2xpc3QgPSBbXTtcblx0XHRmb3IgKGxldCB2YWx1ZSBvZiByZW1vdmVfbGlzdCkge1xuXHRcdFx0bGV0IFtmb3VuZCwgaWR4XSA9IHRoaXMuaW5kZXhPZih2YWx1ZSk7XG5cdFx0XHRpZiAoZm91bmQpIHtcblx0XHRcdFx0cmVtb3ZlX2lkeF9saXN0LnB1c2goaWR4KTtcblx0XHRcdH1cdFx0XG5cdFx0fVxuXHRcdGZvciAobGV0IGlkeCBvZiByZW1vdmVfaWR4X2xpc3QpIHtcblx0XHRcdHRoaXMuX2FycmF5W2lkeF0gPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGxldCBhbnlfcmVtb3ZlcyA9IHJlbW92ZV9pZHhfbGlzdC5sZW5ndGggPiAwO1xuXG5cdFx0Lypcblx0XHRcdGluc2VydFxuXG5cdFx0XHRpbnNlcnQgbWlnaHQgaW50cm9kdWNlIGR1cGxpY2F0aW9ucywgZWl0aGVyIGJlY2F1c2Vcblx0XHRcdHRoZSBpbnNlcnQgbGlzdCBpbmNsdWRlcyBkdXBsaWNhdGVzLCBvciBiZWNhdXNlIHRoZVxuXHRcdFx0aW5zZXJ0IGxpc3QgZHVwbGljYXRlcyBwcmVleGlzdGluZyB2YWx1ZXMuXG5cblx0XHRcdEluc3RlYWQgb2YgbG9va2luZyB1cCBhbmQgY2hlY2tpbmcgZWFjaCBpbnNlcnQgdmFsdWUsXG5cdFx0XHR3ZSBpbnN0ZWFkIGluc2VydCBldmVyeXRoaW5nIGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5LFxuXHRcdFx0YW5kIHJlbW92ZSBkdXBsaWNhdGVzIG9ubHkgYWZ0ZXIgd2UgaGF2ZSBzb3J0ZWQuXG5cdFx0Ki9cblx0XHRsZXQgYW55X2luc2VydHMgPSBpbnNlcnRfbGlzdC5sZW5ndGggPiAwO1xuXHRcdGlmIChhbnlfaW5zZXJ0cykge1xuXHRcdFx0Y29uY2F0X2luX3BsYWNlKHRoaXMuX2FycmF5LCBpbnNlcnRfbGlzdCk7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHRcdHNvcnRcblx0XHRcdHRoaXMgcHVzaGVzIGFueSB1bmRlZmluZWQgdmFsdWVzIHRvIHRoZSBlbmQgXG5cdFx0Ki9cblx0XHRpZiAoYW55X3JlbW92ZXMgfHwgYW55X2luc2VydHMpIHtcblx0XHRcdHRoaXMuX2FycmF5LnNvcnQoZW5kcG9pbnQuY21wKTtcblx0XHR9XG5cblx0XHQvKlxuXHRcdFx0cmVtb3ZlIHVuZGVmaW5lZCBcblx0XHRcdGFsbCB1bmRlZmluZWQgdmFsdWVzIGFyZSBwdXNoZWQgdG8gdGhlIGVuZFxuXHRcdCovXG5cdFx0aWYgKGFueV9yZW1vdmVzKSB7XG5cdFx0XHR0aGlzLl9hcnJheS5sZW5ndGggLT0gcmVtb3ZlX2lkeF9saXN0Lmxlbmd0aDtcblx0XHR9XG5cblx0XHQvKlxuXHRcdFx0cmVtb3ZlIGR1cGxpY2F0ZXMgZnJvbSBzb3J0ZWQgYXJyYXlcblx0XHRcdC0gYXNzdW1pbmcgdGhlcmUgYXJlIGdvaW5nIHRvIGJlIGZldyBkdXBsaWNhdGVzLFxuXHRcdFx0ICBpdCBpcyBvayB0byByZW1vdmUgdGhlbSBvbmUgYnkgb25lXG5cblx0XHQqL1xuXHRcdGlmIChhbnlfaW5zZXJ0cykge1xuXHRcdFx0cmVtb3ZlX2R1cGxpY2F0ZXModGhpcy5fYXJyYXkpO1xuXHRcdH1cblx0fVxuXG5cdC8qXG5cdFx0Z2V0IGVsZW1lbnQgYnkgaW5kZXhcblx0Ki9cblx0Z2V0X2J5X2luZGV4KGlkeCkge1xuXHRcdGlmIChpZHggPiAtMSAmJiBpZHggPCB0aGlzLl9hcnJheS5sZW5ndGgpIHtcblx0XHRcdHJldHVybiB0aGlzLl9hcnJheVtpZHhdO1xuXHRcdH1cblx0fVxuXG5cdC8qXG5cdFx0bG9va3VwIHZhbHVlcyB3aXRoaW4gaW50ZXJ2YWxcblx0Ki9cblx0bG9va3VwKGl0dikge1xuXHRcdGlmIChpdHYgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpdHYgPSBbbnVsbCwgbnVsbCwgdHJ1ZSwgdHJ1ZV07XG5cdFx0fVxuXHRcdGxldCBbZXBfMCwgZXBfMV0gPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGl0dik7XG5cdFx0bGV0IGlkeF8wID0gdGhpcy5nZUluZGV4T2YoZXBfMCk7XG5cdFx0bGV0IGlkeF8xID0gdGhpcy5sZUluZGV4T2YoZXBfMSk7XG5cdFx0aWYgKGlkeF8wID09IC0xIHx8IGlkeF8xID09IC0xKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLl9hcnJheS5zbGljZShpZHhfMCwgaWR4XzErMSk7XG5cdFx0fVxuXHR9XG5cblx0bHQgKG9mZnNldCkge1xuXHRcdHJldHVybiB0aGlzLmdldF9ieV9pbmRleCh0aGlzLmx0SW5kZXhPZihvZmZzZXQpKTtcblx0fVxuXHRsZSAob2Zmc2V0KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0X2J5X2luZGV4KHRoaXMubGVJbmRleE9mKG9mZnNldCkpO1xuXHR9XG5cdGdldCAob2Zmc2V0KSB7XG5cdFx0bGV0IFtmb3VuZCwgaWR4XSA9IHRoaXMuaW5kZXhPZihvZmZzZXQpO1xuXHRcdGlmIChmb3VuZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2FycmF5W2lkeF07XG5cdFx0fSBcblx0fVxuXHRndCAob2Zmc2V0KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0X2J5X2luZGV4KHRoaXMuZ3RJbmRleE9mKG9mZnNldCkpO1xuXHR9XG5cdGdlIChvZmZzZXQpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRfYnlfaW5kZXgodGhpcy5nZUluZGV4T2Yob2Zmc2V0KSk7XG5cdH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdFVUSUxTXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qXG5cdENvbmNhdGluYXRlIHR3byBhcnJheXMgYnkgYXBwZW5kaW5nIHRoZSBzZWNvbmQgYXJyYXkgdG8gdGhlIGZpcnN0IGFycmF5LiBcbiovXG5cbmZ1bmN0aW9uIGNvbmNhdF9pbl9wbGFjZShmaXJzdF9hcnIsIHNlY29uZF9hcnIpIHtcblx0Y29uc3QgZmlyc3RfYXJyX2xlbmd0aCA9IGZpcnN0X2Fyci5sZW5ndGg7XG5cdGNvbnN0IHNlY29uZF9hcnJfbGVuZ3RoID0gc2Vjb25kX2Fyci5sZW5ndGg7XG4gIFx0Zmlyc3RfYXJyLmxlbmd0aCArPSBzZWNvbmRfYXJyX2xlbmd0aDtcbiAgXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlY29uZF9hcnJfbGVuZ3RoOyBpKyspIHtcbiAgICBcdGZpcnN0X2FycltmaXJzdF9hcnJfbGVuZ3RoICsgaV0gPSBzZWNvbmRfYXJyW2ldO1xuICBcdH1cbn1cblxuLypcblx0cmVtb3ZlIGR1cGxpY2F0ZXMgaW4gYSBzb3J0ZWQgYXJyYXlcbiovXG5mdW5jdGlvbiByZW1vdmVfZHVwbGljYXRlcyhzb3J0ZWRfYXJyKSB7XG5cdGxldCBpID0gMDtcblx0d2hpbGUgKHRydWUpIHtcblx0XHRpZiAoaSArIDEgPj0gc29ydGVkX2Fyci5sZW5ndGgpIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRpZiAoZW5kcG9pbnQuZXEoc29ydGVkX2FycltpXSwgc29ydGVkX2FycltpICsgMV0pKSB7XG5cdFx0XHRzb3J0ZWRfYXJyLnNwbGljZShpICsgMSwgMSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGkgKz0gMTtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCB7IGVuZHBvaW50IH0gZnJvbSBcIi4vaW50ZXJ2YWxzLmpzXCI7XG5pbXBvcnQgeyBOZWFyYnlJbmRleEJhc2UsIG5lYXJieV9mcm9tIH0gZnJvbSBcIi4vbmVhcmJ5aW5kZXhfYmFzZS5qc1wiO1xuaW1wb3J0IHsgU29ydGVkQXJyYXkgfSBmcm9tIFwiLi9zb3J0ZWRhcnJheS5qc1wiO1xuaW1wb3J0IHsgaXNfc3RhdGVwcm92aWRlciB9IGZyb20gXCIuL3N0YXRlcHJvdmlkZXIuanNcIjtcblxuY29uc3Qge0xPV19DTE9TRUQsIExPV19PUEVOLCBISUdIX0NMT1NFRCwgSElHSF9PUEVOfSA9IGVuZHBvaW50LnR5cGVzO1xuY29uc3QgRVBfVFlQRVMgPSBbTE9XX0NMT1NFRCwgTE9XX09QRU4sIEhJR0hfQ0xPU0VELCBISUdIX09QRU5dO1xuXG5cbi8vIFNldCBvZiB1bmlxdWUgW3YsIHRdIGVuZHBvaW50c1xuY2xhc3MgRW5kcG9pbnRTZXQge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLl9tYXAgPSBuZXcgTWFwKFtcblx0XHRcdFtMT1dfQ0xPU0VELCBuZXcgU2V0KCldLFxuXHRcdFx0W0xPV19PUEVOLCBuZXcgU2V0KCldLCBcblx0XHRcdFtISUdIX0NMT1NFRCwgbmV3IFNldCgpXSwgXG5cdFx0XHRbSElHSF9PUEVOLCBuZXcgU2V0KCldXG5cdFx0XSk7XG5cdH1cblx0YWRkKGVwKSB7XG5cdFx0Y29uc3QgW3ZhbHVlLCB0eXBlXSA9IGVwO1xuXHRcdHJldHVybiB0aGlzLl9tYXAuZ2V0KHR5cGUpLmFkZCh2YWx1ZSk7XG5cdH1cblx0aGFzIChlcCkge1xuXHRcdGNvbnN0IFt2YWx1ZSwgdHlwZV0gPSBlcDtcblx0XHRyZXR1cm4gdGhpcy5fbWFwLmdldCh0eXBlKS5oYXModmFsdWUpO1xuXHR9XG5cdGdldChlcCkge1xuXHRcdGNvbnN0IFt2YWx1ZSwgdHlwZV0gPSBlcDtcblx0XHRyZXR1cm4gdGhpcy5fbWFwLmdldCh0eXBlKS5nZXQodmFsdWUpO1xuXHR9XG5cblx0bGlzdCgpIHtcblx0XHRjb25zdCBsaXN0cyA9IEVQX1RZUEVTLm1hcCgodHlwZSkgPT4ge1xuXHRcdFx0cmV0dXJuIFsuLi50aGlzLl9tYXAuZ2V0KHR5cGUpLnZhbHVlcygpXVxuXHRcdFx0XHQubWFwKCh2YWx1ZSkgPT4gW3ZhbHVlLCB0eXBlXSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIFtdLmNvbmNhdCguLi5saXN0cyk7XG5cdH1cbn1cblxuLyoqXG4gKiBJVEVNUyBNQVBcbiAqIFxuICogbWFwIGVuZHBvaW50IC0+IHtcbiAqIFx0bG93OiBbaXRlbXNdLCBcbiAqICBhY3RpdmU6IFtpdGVtc10sIFxuICogIGhpZ2g6W2l0ZW1zXVxuICogfVxuICogXG4gKiBpbiBvcmRlciB0byB1c2UgZW5kcG9pbnQgW3YsdF0gYXMgYSBtYXAga2V5IHdlIGNyZWF0ZSBhIHR3byBsZXZlbFxuICogbWFwIC0gdXNpbmcgdCBhcyB0aGUgZmlyc3QgdmFyaWFibGUuIFxuICogXG4gKi9cblxuXG5jb25zdCBMT1cgPSBcImxvd1wiO1xuY29uc3QgQUNUSVZFID0gXCJhY3RpdmVcIjtcbmNvbnN0IEhJR0ggPSBcImhpZ2hcIjtcblxuXG5jbGFzcyBJdGVtc01hcCB7XG5cblx0Y29uc3RydWN0b3IgKCkge1xuXHRcdC8vIG1hcCBlbmRwb2ludCAtPiB7bG93OiBbaXRlbXNdLCBhY3RpdmU6IFtpdGVtc10sIGhpZ2g6W2l0ZW1zXX1cblx0XHR0aGlzLl9tYXAgPSBuZXcgTWFwKFtcblx0XHRcdFtMT1dfQ0xPU0VELCBuZXcgTWFwKCldLFxuXHRcdFx0W0xPV19PUEVOLCBuZXcgTWFwKCldLCBcblx0XHRcdFtISUdIX0NMT1NFRCwgbmV3IE1hcCgpXSwgXG5cdFx0XHRbSElHSF9PUEVOLCBuZXcgTWFwKCldXG5cdFx0XSk7XG5cdH1cblxuXHRnZXRfaXRlbXNfYnlfcm9sZSAoZXAsIHJvbGUpIHtcblx0XHRjb25zdCBbdmFsdWUsIHR5cGVdID0gZXA7XG5cdFx0Y29uc3QgZW50cnkgPSB0aGlzLl9tYXAuZ2V0KHR5cGUpLmdldCh2YWx1ZSk7XG5cdFx0cmV0dXJuIChlbnRyeSAhPSB1bmRlZmluZWQpID8gZW50cnlbcm9sZV0gOiBbXTtcblx0fVxuXG5cdC8qXG5cdFx0cmVnaXN0ZXIgaXRlbSB3aXRoIGVuZHBvaW50IChpZGVtcG90ZW50KVxuXHRcdHJldHVybiB0cnVlIGlmIHRoaXMgd2FzIHRoZSBmaXJzdCBMT1cgb3IgSElHSCBcblx0ICovXG5cdHJlZ2lzdGVyKGVwLCBpdGVtLCByb2xlKSB7XG5cdFx0Y29uc3QgW3ZhbHVlLCB0eXBlXSA9IGVwO1xuXHRcdGNvbnN0IHR5cGVfbWFwID0gdGhpcy5fbWFwLmdldCh0eXBlKTtcblx0XHRpZiAoIXR5cGVfbWFwLmhhcyh2YWx1ZSkpIHtcblx0XHRcdHR5cGVfbWFwLnNldCh2YWx1ZSwge2xvdzogW10sIGFjdGl2ZTpbXSwgaGlnaDpbXX0pO1xuXHRcdH1cblx0XHRjb25zdCBlbnRyeSA9IHR5cGVfbWFwLmdldCh2YWx1ZSk7XG5cdFx0Y29uc3Qgd2FzX2VtcHR5ID0gZW50cnlbTE9XXS5sZW5ndGggKyBlbnRyeVtISUdIXS5sZW5ndGggPT0gMDtcblx0XHRsZXQgaWR4ID0gZW50cnlbcm9sZV0uZmluZEluZGV4KChfaXRlbSkgPT4ge1xuXHRcdFx0cmV0dXJuIF9pdGVtLmlkID09IGl0ZW0uaWQ7XG5cdFx0fSk7XG5cdFx0aWYgKGlkeCA9PSAtMSkge1xuXHRcdFx0ZW50cnlbcm9sZV0ucHVzaChpdGVtKTtcblx0XHR9XG5cdFx0Y29uc3QgaXNfZW1wdHkgPSBlbnRyeVtMT1ddLmxlbmd0aCArIGVudHJ5W0hJR0hdLmxlbmd0aCA9PSAwO1xuXHRcdHJldHVybiB3YXNfZW1wdHkgJiYgIWlzX2VtcHR5O1xuXHR9XG5cblx0Lypcblx0XHR1bnJlZ2lzdGVyIGl0ZW0gd2l0aCBlbmRwb2ludCAoaW5kZXBlbmRlbnQgb2Ygcm9sZSlcblx0XHRyZXR1cm4gdHJ1ZSBpZiB0aGlzIHJlbW92ZWQgbGFzdCBMT1cgb3IgSElHSFxuXHQgKi9cblx0dW5yZWdpc3RlcihlcCwgaXRlbSkge1xuXHRcdGNvbnN0IFt2YWx1ZSwgdHlwZV0gPSBlcDtcblx0XHRjb25zdCB0eXBlX21hcCA9IHRoaXMuX21hcC5nZXQodHlwZSk7XG5cdFx0Y29uc3QgZW50cnkgPSB0eXBlX21hcC5nZXQodmFsdWUpO1xuXHRcdGlmIChlbnRyeSAhPSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IHdhc19lbXB0eSA9IGVudHJ5W0xPV10ubGVuZ3RoICsgZW50cnlbSElHSF0ubGVuZ3RoID09IDA7XG5cdFx0XHQvLyByZW1vdmUgYWxsIG1lbnRpb25lcyBvZiBpdGVtXG5cdFx0XHRmb3IgKGNvbnN0IHJvbGUgb2YgW0xPVywgQUNUSVZFLCBISUdIXSkge1xuXHRcdFx0XHRsZXQgaWR4ID0gZW50cnlbcm9sZV0uZmluZEluZGV4KChfaXRlbSkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBfaXRlbS5pZCA9PSBpdGVtLmlkO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKGlkeCA+IC0xKSB7XG5cdFx0XHRcdFx0ZW50cnlbcm9sZV0uc3BsaWNlKGlkeCwgMSk7XG5cdFx0XHRcdH1cdFxuXHRcdFx0fVxuXHRcdFx0Y29uc3QgaXNfZW1wdHkgPSBlbnRyeVtMT1ddLmxlbmd0aCArIGVudHJ5W0hJR0hdLmxlbmd0aCA9PSAwO1xuXHRcdFx0aWYgKCF3YXNfZW1wdHkgJiYgaXNfZW1wdHkpIHtcblx0XHRcdFx0Ly8gY2xlYW4gdXAgZW50cnlcblx0XHRcdFx0dHlwZV9tYXAuZGVsZXRlKHZhbHVlKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5cbmV4cG9ydCBjbGFzcyBOZWFyYnlJbmRleCBleHRlbmRzIE5lYXJieUluZGV4QmFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGF0ZVByb3ZpZGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgaWYgKCEoaXNfc3RhdGVwcm92aWRlcihzdGF0ZVByb3ZpZGVyKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbXVzdCBiZSBzdGF0ZXByb3ZpZGVyICR7c3RhdGVQcm92aWRlcn1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zcCA9IHN0YXRlUHJvdmlkZXI7XG5cdFx0dGhpcy5faW5pdGlhbGlzZSgpO1xuXHRcdHRoaXMucmVmcmVzaCgpO1xuXHR9XG5cbiAgICBnZXQgc3JjICgpIHtyZXR1cm4gdGhpcy5fc3A7fVxuXG5cblx0X2luaXRpYWxpc2UoKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgaXRlbXMgd2l0aCBlbmRwb2ludHNcblx0XHR0aGlzLl9pdGVtc21hcCA9IG5ldyBJdGVtc01hcCgpO1xuXHRcdC8vIHNvcnRlZCBpbmRleFxuXHRcdHRoaXMuX2VuZHBvaW50cyA9IG5ldyBTb3J0ZWRBcnJheSgpO1xuXHRcdC8vIHN3aXBlIGluZGV4XG5cdFx0dGhpcy5faW5kZXggPSBbXTtcblx0fVxuXG5cblx0cmVmcmVzaChkaWZmcykge1xuXG5cdFx0Y29uc3QgcmVtb3ZlX2VuZHBvaW50cyA9IG5ldyBFbmRwb2ludFNldCgpO1xuXHRcdGNvbnN0IGluc2VydF9lbmRwb2ludHMgPSBuZXcgRW5kcG9pbnRTZXQoKTtcblxuXHRcdGxldCBpbnNlcnRfaXRlbXMgPSBbXTtcblx0XHRsZXQgcmVtb3ZlX2l0ZW1zID0gW107XG5cblx0XHRpZiAoZGlmZnMgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpbnNlcnRfaXRlbXMgPSB0aGlzLnNyYy5nZXRfaXRlbXMoKTtcblx0XHRcdC8vIGNsZWFyIGFsbCBzdGF0ZVxuXHRcdFx0dGhpcy5faW5pdGlhbGlzZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBjb2xsZWN0IGluc2VydCBpdGVtcyBhbmQgcmVtb3ZlIGl0ZW1zXG5cdFx0XHRmb3IgKGNvbnN0IGRpZmYgb2YgZGlmZnMpIHtcblx0XHRcdFx0aWYgKGRpZmYubmV3ICE9IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGluc2VydF9pdGVtcy5wdXNoKGRpZmYubmV3KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZGlmZi5vbGQgIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmVtb3ZlX2l0ZW1zLnB1c2goZGlmZi5vbGQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Lypcblx0XHRcdHVucmVnaXN0ZXIgcmVtb3ZlIGl0ZW1zIGFjcm9zcyBhbGwgZW5kcG9pbnRzIFxuXHRcdFx0d2hlcmUgdGhleSB3ZXJlIHJlZ2lzdGVyZWQgKExPVywgQUNUSVZFLCBISUdIKSBcblx0XHQqL1xuXHRcdGZvciAoY29uc3QgaXRlbSBvZiByZW1vdmVfaXRlbXMpIHtcdFx0XHRcblx0XHRcdGNvbnN0IGVwcyA9IHRoaXMuX2VuZHBvaW50cy5sb29rdXAoaXRlbS5pdHYpO1xuXHRcdFx0Zm9yIChjb25zdCBlcCBvZiB0aGlzLl9lbmRwb2ludHMubG9va3VwKGl0ZW0uaXR2KSkge1xuXHRcdFx0XHQvLyBUT0RPOiBjaGVjayBpZiB0aGlzIGlzIGNvcnJlY3Rcblx0XHRcdFx0Y29uc3QgYmVjYW1lX2VtcHR5ID0gdGhpcy5faXRlbXNtYXAudW5yZWdpc3RlcihlcCwgaXRlbSk7XG5cdFx0XHRcdGlmIChiZWNhbWVfZW1wdHkpIHJlbW92ZV9lbmRwb2ludHMuYWRkKGVwKTtcblx0XHRcdH1cdFxuXHRcdH1cblxuXHRcdC8qXG5cdFx0XHRyZWdpc3RlciBuZXcgaXRlbXMgYWNyb3NzIGFsbCBlbmRwb2ludHMgXG5cdFx0XHR3aGVyZSB0aGV5IHNob3VsZCBiZSByZWdpc3RlcmVkIChMT1csIEhJR0gpIFxuXHRcdCovXG5cdFx0bGV0IGJlY2FtZV9ub25lbXB0eTtcblx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgaW5zZXJ0X2l0ZW1zKSB7XG5cdFx0XHRjb25zdCBbbG93LCBoaWdoXSA9IGVuZHBvaW50LmZyb21faW50ZXJ2YWwoaXRlbS5pdHYpO1xuXHRcdFx0YmVjYW1lX25vbmVtcHR5ID0gdGhpcy5faXRlbXNtYXAucmVnaXN0ZXIobG93LCBpdGVtLCBMT1cpO1xuXHRcdFx0aWYgKGJlY2FtZV9ub25lbXB0eSkgaW5zZXJ0X2VuZHBvaW50cy5hZGQobG93KTtcblx0XHRcdGJlY2FtZV9ub25lbXB0eSA9IHRoaXMuX2l0ZW1zbWFwLnJlZ2lzdGVyKGhpZ2gsIGl0ZW0sIEhJR0gpO1xuXHRcdFx0aWYgKGJlY2FtZV9ub25lbXB0eSkgaW5zZXJ0X2VuZHBvaW50cy5hZGQoaGlnaCk7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHRcdHJlZnJlc2ggc29ydGVkIGVuZHBvaW50c1xuXHRcdFx0cG9zc2libGUgdGhhdCBhbiBlbmRwb2ludCBpcyBwcmVzZW50IGluIGJvdGggbGlzdHNcblx0XHRcdHRoaXMgaXMgcHJlc3VtYWJseSBub3QgYSBwcm9ibGVtIHdpdGggU29ydGVkQXJyYXkuXG5cdFx0Ki9cblx0XHR0aGlzLl9lbmRwb2ludHMudXBkYXRlKFxuXHRcdFx0cmVtb3ZlX2VuZHBvaW50cy5saXN0KCksIFxuXHRcdFx0aW5zZXJ0X2VuZHBvaW50cy5saXN0KClcblx0XHQpO1xuXG5cdFx0Lypcblx0XHRcdHN3aXBlIG92ZXIgdG8gZW5zdXJlIHRoYXQgYWxsIGl0ZW1zIGFyZSBhY3RpdmF0ZVxuXHRcdCovXG5cdFx0Y29uc3QgYWN0aXZlU2V0ID0gbmV3IFNldCgpO1xuXHRcdGZvciAoY29uc3QgZXAgb2YgdGhpcy5fZW5kcG9pbnRzLmFycmF5KSB7XHRcblx0XHRcdC8vIEFkZCBpdGVtcyB3aXRoIGVwIGFzIGxvdyBwb2ludFxuXHRcdFx0Zm9yIChsZXQgaXRlbSBvZiB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcCwgTE9XKSkge1xuXHRcdFx0XHRhY3RpdmVTZXQuYWRkKGl0ZW0pO1xuXHRcdFx0fTtcblx0XHRcdC8vIGFjdGl2YXRlIHVzaW5nIGFjdGl2ZVNldFxuXHRcdFx0Zm9yIChsZXQgaXRlbSBvZiBhY3RpdmVTZXQpIHtcblx0XHRcdFx0dGhpcy5faXRlbXNtYXAucmVnaXN0ZXIoZXAsIGl0ZW0sIEFDVElWRSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBSZW1vdmUgaXRlbXMgd2l0aCBwMSBhcyBoaWdoIHBvaW50XG5cdFx0XHRmb3IgKGxldCBpdGVtIG9mIHRoaXMuX2l0ZW1zbWFwLmdldF9pdGVtc19ieV9yb2xlKGVwLCBISUdIKSkge1xuXHRcdFx0XHRhY3RpdmVTZXQuZGVsZXRlKGl0ZW0pO1xuXHRcdFx0fTtcdFxuXHRcdH1cblx0fVxuXG5cdF9jb3ZlcnMgKG9mZnNldCkge1xuXHRcdGNvbnN0IGVwID0gZW5kcG9pbnQuZnJvbV9pbnB1dChvZmZzZXQpO1xuXHRcdGNvbnN0IGVwMSA9IHRoaXMuX2VuZHBvaW50cy5sZShlcCkgfHwgZW5kcG9pbnQuTkVHX0lORjtcblx0XHRjb25zdCBlcDIgPSB0aGlzLl9lbmRwb2ludHMuZ2UoZXApIHx8IGVuZHBvaW50LlBPU19JTkY7XG5cdFx0aWYgKGVuZHBvaW50LmVxKGVwMSwgZXAyKSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2l0ZW1zbWFwLmdldF9pdGVtc19ieV9yb2xlKGVwMSwgQUNUSVZFKTtcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBnZXQgaXRlbXMgZm9yIGJvdGggZW5kcG9pbnRzXG5cdFx0XHRjb25zdCBpdGVtczEgPSB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcDEsIEFDVElWRSk7XG5cdFx0XHRjb25zdCBpdGVtczIgPSB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShlcDIsIEFDVElWRSk7XG5cdFx0XHQvLyByZXR1cm4gYWxsIGl0ZW1zIHRoYXQgYXJlIGFjdGl2ZSBpbiBib3RoIGVuZHBvaW50c1xuXHRcdFx0Y29uc3QgaWRTZXQgPSBuZXcgU2V0KGl0ZW1zMS5tYXAoaXRlbSA9PiBpdGVtLmlkKSk7XG5cdFx0XHRyZXR1cm4gaXRlbXMyLmZpbHRlcihpdGVtID0+IGlkU2V0LmhhcyhpdGVtLmlkKSk7XG5cdFx0fVxuXHR9XG5cbiAgICAvKlxuXHRcdG5lYXJieSAob2Zmc2V0KVxuICAgICovXG5cdG5lYXJieShvZmZzZXQpIHtcblx0XHRjb25zdCBlcCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcblxuXHRcdC8vIGNlbnRlclxuXHRcdGxldCBjZW50ZXIgPSB0aGlzLl9jb3ZlcnMoZXApXG5cdFx0Y29uc3QgY2VudGVyX2hpZ2hfbGlzdCA9IFtdO1xuXHRcdGNvbnN0IGNlbnRlcl9sb3dfbGlzdCA9IFtdO1xuXHRcdGZvciAoY29uc3QgaXRlbSBvZiBjZW50ZXIpIHtcblx0XHRcdGNvbnN0IFtsb3csIGhpZ2hdID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChpdGVtLml0dik7XG5cdFx0XHRjZW50ZXJfaGlnaF9saXN0LnB1c2goaGlnaCk7XG5cdFx0XHRjZW50ZXJfbG93X2xpc3QucHVzaChsb3cpOyAgICBcblx0XHR9XG5cblx0XHQvLyBwcmV2IGhpZ2hcblx0XHRsZXQgcHJldl9oaWdoID0gZXA7XG5cdFx0bGV0IGl0ZW1zO1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRwcmV2X2hpZ2ggPSB0aGlzLl9lbmRwb2ludHMubHQocHJldl9oaWdoKSB8fCBlbmRwb2ludC5ORUdfSU5GO1xuXHRcdFx0aWYgKHByZXZfaGlnaFswXSA9PSBudWxsKSB7XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0XHRpdGVtcyA9IHRoaXMuX2l0ZW1zbWFwLmdldF9pdGVtc19ieV9yb2xlKHByZXZfaGlnaCwgSElHSCk7XG5cdFx0XHRpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIG5leHQgbG93XG5cdFx0bGV0IG5leHRfbG93ID0gZXA7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdG5leHRfbG93ID0gdGhpcy5fZW5kcG9pbnRzLmd0KG5leHRfbG93KSB8fCBlbmRwb2ludC5QT1NfSU5GXG5cdFx0XHRpZiAobmV4dF9sb3dbMF0gPT0gbnVsbCkge1xuXHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdFx0aXRlbXMgPSB0aGlzLl9pdGVtc21hcC5nZXRfaXRlbXNfYnlfcm9sZShuZXh0X2xvdywgTE9XKTtcblx0XHRcdGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5lYXJieV9mcm9tKFxuXHRcdFx0cHJldl9oaWdoLCBcblx0XHRcdGNlbnRlcl9sb3dfbGlzdCwgXG5cdFx0XHRjZW50ZXIsXG5cdFx0XHRjZW50ZXJfaGlnaF9saXN0LFxuXHRcdFx0bmV4dF9sb3dcblx0XHQpO1xuXHR9XG59IiwiaW1wb3J0ICogYXMgZXZlbnRpZnkgZnJvbSBcIi4vYXBpX2V2ZW50aWZ5LmpzXCI7XG5pbXBvcnQgKiBhcyBjYWxsYmFjayBmcm9tIFwiLi9hcGlfY2FsbGJhY2suanNcIjtcbmltcG9ydCAqIGFzIHNyY3Byb3AgZnJvbSBcIi4vYXBpX3NyY3Byb3AuanNcIjtcbmltcG9ydCAqIGFzIHNlZ21lbnQgZnJvbSBcIi4vc2VnbWVudHMuanNcIjtcblxuaW1wb3J0IHsgaW50ZXJ2YWwsIGVuZHBvaW50IH0gZnJvbSBcIi4vaW50ZXJ2YWxzLmpzXCI7XG5pbXBvcnQgeyByYW5nZSwgdG9TdGF0ZSB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4IH0gZnJvbSBcIi4vbmVhcmJ5aW5kZXguanNcIjtcbmltcG9ydCB7IExvY2FsU3RhdGVQcm92aWRlciwgaXNfc3RhdGVwcm92aWRlciB9IGZyb20gXCIuL3N0YXRlcHJvdmlkZXIuanNcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogTEFZRVJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogTGF5ZXIgaXMgYWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgTGF5ZXJzXG4gKiBcbiAqIExheWVyIGludGVyZmFjZSBpcyBkZWZpbmVkIGJ5IChpbmRleCwgQ2FjaGVDbGFzcywgdmFsdWVGdW5jKVxuICovXG5cbmV4cG9ydCBjbGFzcyBMYXllciB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPXt9KSB7XG4gICAgICAgIGNvbnN0IHtDYWNoZUNsYXNzPUxheWVyQ2FjaGV9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3Qge3ZhbHVlRnVuYywgc3RhdGVGdW5jfSA9IG9wdGlvbnM7XG4gICAgICAgIC8vIGNhbGxiYWNrc1xuICAgICAgICBjYWxsYmFjay5hZGRUb0luc3RhbmNlKHRoaXMpO1xuICAgICAgICAvLyBsYXllciBxdWVyeSBhcGlcbiAgICAgICAgLy9sYXllcnF1ZXJ5LmFkZFRvSW5zdGFuY2UodGhpcywgQ2FjaGVDbGFzcywge3ZhbHVlRnVuYywgc3RhdGVGdW5jfSk7XG4gICAgICAgIC8vIGRlZmluZSBjaGFuZ2UgZXZlbnRcbiAgICAgICAgZXZlbnRpZnkuYWRkVG9JbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgdGhpcy5ldmVudGlmeURlZmluZShcImNoYW5nZVwiLCB7aW5pdDp0cnVlfSk7XG5cbiAgICAgICAgLy8gaW5kZXhcbiAgICAgICAgdGhpcy5faW5kZXg7XG4gICAgICAgIC8vIGNhY2hlXG4gICAgICAgIHRoaXMuX0NhY2hlQ2xhc3MgPSBDYWNoZUNsYXNzO1xuICAgICAgICB0aGlzLl9jYWNoZV9vYmplY3Q7XG4gICAgICAgIHRoaXMuX2NhY2hlX29iamVjdHMgPSBbXTtcblxuICAgICAgICAvLyBxdWVyeSBvcHRpb25zXG4gICAgICAgIHRoaXMuX3F1ZXJ5T3B0aW9ucyA9IHt2YWx1ZUZ1bmMsIHN0YXRlRnVuY307XG4gICAgfVxuXG4gICAgLy8gaW5kZXhcbiAgICBnZXQgaW5kZXggKCkge3JldHVybiB0aGlzLl9pbmRleH1cbiAgICBzZXQgaW5kZXggKGluZGV4KSB7dGhpcy5faW5kZXggPSBpbmRleH1cblxuICAgIC8vIHF1ZXJ5T3B0aW9uc1xuICAgIGdldCBxdWVyeU9wdGlvbnMgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVlcnlPcHRpb25zO1xuICAgIH1cblxuICAgIC8vIGNhY2hlXG4gICAgZ2V0IGNhY2hlICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlX29iamVjdCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlX29iamVjdCA9IG5ldyB0aGlzLl9DYWNoZUNsYXNzKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZV9vYmplY3Q7XG4gICAgfVxuXG4gICAgZ2V0Q2FjaGUgKCkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyB0aGlzLl9DYWNoZUNsYXNzKHRoaXMpO1xuICAgICAgICB0aGlzLl9jYWNoZV9vYmplY3RzLnB1c2goY2FjaGUpO1xuICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgfVxuXG4gICAgY2xlYXJDYWNoZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2FjaGUgb2YgdGhpcy5fY2FjaGVfb2JqZWN0cyl7XG4gICAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcXVlcnkob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLnF1ZXJ5KG9mZnNldCk7XG4gICAgfVxuXG4gICAgcmVnaW9ucyAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleC5yZWdpb25zKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICAgIFNhbXBsZSBMYXllciBieSB0aW1lbGluZSBvZmZzZXQgaW5jcmVtZW50c1xuICAgICAgICByZXR1cm4gbGlzdCBvZiB0dXBsZXMgW3ZhbHVlLCBvZmZzZXRdXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICAgLSBzdGFydFxuICAgICAgICAtIHN0b3BcbiAgICAgICAgLSBzdGVwXG4gICAgKi9cbiAgICBzYW1wbGUob3B0aW9ucz17fSkge1xuICAgICAgICBsZXQge3N0YXJ0PS1JbmZpbml0eSwgc3RvcD1JbmZpbml0eSwgc3RlcD0xfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChzdGFydCA+IHN0b3ApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciAoXCJzdG9wIG11c3QgYmUgbGFyZ2VyIHRoYW4gc3RhcnRcIiwgc3RhcnQsIHN0b3ApXG4gICAgICAgIH1cbiAgICAgICAgc3RhcnQgPSBbc3RhcnQsIDBdO1xuICAgICAgICBzdG9wID0gW3N0b3AsIDBdO1xuICAgICAgICBzdGFydCA9IGVuZHBvaW50Lm1heCh0aGlzLmluZGV4LmZpcnN0KCksIHN0YXJ0KTtcbiAgICAgICAgc3RvcCA9IGVuZHBvaW50Lm1pbih0aGlzLmluZGV4Lmxhc3QoKSwgc3RvcCk7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5nZXRDYWNoZSgpO1xuICAgICAgICByZXR1cm4gcmFuZ2Uoc3RhcnRbMF0sIHN0b3BbMF0sIHN0ZXAsIHtpbmNsdWRlX2VuZDp0cnVlfSlcbiAgICAgICAgICAgIC5tYXAoKG9mZnNldCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBbY2FjaGUucXVlcnkob2Zmc2V0KS52YWx1ZSwgb2Zmc2V0XTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cbmNhbGxiYWNrLmFkZFRvUHJvdG90eXBlKExheWVyLnByb3RvdHlwZSk7XG5ldmVudGlmeS5hZGRUb1Byb3RvdHlwZShMYXllci5wcm90b3R5cGUpO1xuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIExBWUVSIENBQ0hFXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIFRoaXMgaW1wbGVtZW50cyBhIENhY2hlIHRvIGJlIHVzZWQgd2l0aCBMYXllciBvYmplY3RzXG4gKiBRdWVyeSByZXN1bHRzIGFyZSBvYnRhaW5lZCBmcm9tIHRoZSBjYWNoZSBvYmplY3RzIGluIHRoZVxuICogbGF5ZXIgaW5kZXggYW5kIGNhY2hlZCBvbmx5IGlmIHRoZXkgZGVzY3JpYmUgYSBzdGF0aWMgdmFsdWUuIFxuICovXG5cbmV4cG9ydCBjbGFzcyBMYXllckNhY2hlIHtcblxuICAgIGNvbnN0cnVjdG9yKGxheWVyKSB7XG4gICAgICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgICAgIC8vIGNhY2hlZCBuZWFyYnkgc3RhdGVcbiAgICAgICAgdGhpcy5fbmVhcmJ5O1xuICAgICAgICAvLyBjYWNoZWQgcmVzdWx0XG4gICAgICAgIHRoaXMuX3N0YXRlO1xuICAgIH1cblxuICAgIGdldCBzcmMoKSB7cmV0dXJuIHRoaXMuX2xheWVyfTtcblxuICAgIC8qKlxuICAgICAqIHF1ZXJ5IGNhY2hlXG4gICAgICovXG4gICAgcXVlcnkob2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IG5lZWRfbmVhcmJ5ID0gKFxuICAgICAgICAgICAgdGhpcy5fbmVhcmJ5ID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgIWludGVydmFsLmNvdmVyc19wb2ludCh0aGlzLl9uZWFyYnkuaXR2LCBvZmZzZXQpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFuZWVkX25lYXJieSAmJiBcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlICE9IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgIXRoaXMuX3N0YXRlLmR5bmFtaWNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBjYWNoZSBoaXRcbiAgICAgICAgICAgIHJldHVybiB7Li4udGhpcy5fc3RhdGUsIG9mZnNldH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FjaGUgbWlzc1xuICAgICAgICBpZiAobmVlZF9uZWFyYnkpIHtcbiAgICAgICAgICAgIHRoaXMuX25lYXJieSA9IHRoaXMuX2xheWVyLmluZGV4Lm5lYXJieShvZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBlcmZvcm0gcXVlcmllc1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSB0aGlzLl9uZWFyYnkuY2VudGVyLm1hcCgoY2FjaGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZS5xdWVyeShvZmZzZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0b1N0YXRlKHRoaXMuX25lYXJieS5jZW50ZXIsIHN0YXRlcywgb2Zmc2V0LCB0aGlzLl9sYXllci5xdWVyeU9wdGlvbnMpXG4gICAgICAgIC8vIGNhY2hlIHN0YXRlIG9ubHkgaWYgbm90IGR5bmFtaWNcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAoc3RhdGUuZHluYW1pYykgPyB1bmRlZmluZWQgOiBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIHN0YXRlICAgIFxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9uZWFyYnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBJTlBVVCBMQVlFUlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIExheWVyIHdpdGggYSBTdGF0ZVByb3ZpZGVyIGFzIHNyY1xuICovXG5cbmV4cG9ydCBjbGFzcyBJbnB1dExheWVyIGV4dGVuZHMgTGF5ZXIge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz17fSkge1xuICAgICAgICBjb25zdCB7c3JjLCB2YWx1ZUZ1bmMsIHN0YXRlRnVuY30gPSBvcHRpb25zO1xuICAgICAgICBzdXBlcih7Q2FjaGVDbGFzczpJbnB1dExheWVyQ2FjaGUsIHZhbHVlRnVuYywgc3RhdGVGdW5jfSk7XG4gICAgICAgIC8vIHNldHVwIHNyYyBwcm9wdGVydHlcbiAgICAgICAgc3JjcHJvcC5hZGRUb0luc3RhbmNlKHRoaXMpO1xuICAgICAgICB0aGlzLnNyY3Byb3BfcmVnaXN0ZXIoXCJzcmNcIik7XG4gICAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgICAgdGhpcy5zcmMgPSBzcmM7XG4gICAgfVxuXG4gICAgc3JjcHJvcF9jaGVjayhwcm9wTmFtZSwgc3JjKSB7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PSBcInNyY1wiKSB7XG4gICAgICAgICAgICBpZiAoIShpc19zdGF0ZXByb3ZpZGVyKHNyYykpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcInNyY1wiIG11c3QgYmUgc3RhdGUgcHJvdmlkZXIgJHtzcmN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3JjOyAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNyY3Byb3Bfb25jaGFuZ2UocHJvcE5hbWUsIGVBcmcpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09IHVuZGVmaW5lZCB8fCBlQXJnID09IFwicmVzZXRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBuZXcgTmVhcmJ5SW5kZXgodGhpcy5zcmMpO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGlmIChlQXJnICE9IFwicmVzZXRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgucmVmcmVzaChlQXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2xlYXJDYWNoZXMoKTtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5X2NhbGxiYWNrcygpO1xuICAgICAgICAgICAgdGhpcy5ldmVudGlmeVRyaWdnZXIoXCJjaGFuZ2VcIik7XG4gICAgICAgIH0gICAgICAgIFxuICAgIH1cbn1cbnNyY3Byb3AuYWRkVG9Qcm90b3R5cGUoSW5wdXRMYXllci5wcm90b3R5cGUpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIElOUFVUIExBWUVSIENBQ0hFXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qXG4gICAgTGF5ZXIgd2l0aCBhIFN0YXRlUHJvdmlkZXIgdXNlcyBhIHNwZWNpZmljIGNhY2hlIGltcGxlbWVudGF0aW9uLiAgICBcblxuICAgIFRoZSBjYWNoZSB3aWxsIGluc3RhbnRpYXRlIHNlZ21lbnRzIGNvcnJlc3BvbmRpbmcgdG9cbiAgICBpdGVtcyBpbiB0aGUgaW5kZXguIFxuKi9cblxuZXhwb3J0IGNsYXNzIElucHV0TGF5ZXJDYWNoZSB7XG4gICAgY29uc3RydWN0b3IobGF5ZXIpIHtcbiAgICAgICAgLy8gbGF5ZXJcbiAgICAgICAgdGhpcy5fbGF5ZXIgPSBsYXllcjtcbiAgICAgICAgLy8gY2FjaGVkIG5lYXJieSBvYmplY3RcbiAgICAgICAgdGhpcy5fbmVhcmJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBjYWNoZWQgc2VnbWVudFxuICAgICAgICB0aGlzLl9zZWdtZW50ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldCBzcmMoKSB7cmV0dXJuIHRoaXMuX2xheWVyfTtcbiAgICBnZXQgc2VnbWVudCgpIHtyZXR1cm4gdGhpcy5fc2VnbWVudH07XG5cbiAgICBxdWVyeShvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgY2FjaGVfbWlzcyA9IChcbiAgICAgICAgICAgIHRoaXMuX25lYXJieSA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICFpbnRlcnZhbC5jb3ZlcnNfcG9pbnQodGhpcy5fbmVhcmJ5Lml0diwgb2Zmc2V0KVxuICAgICAgICApO1xuICAgICAgICBpZiAoY2FjaGVfbWlzcykge1xuICAgICAgICAgICAgdGhpcy5fbmVhcmJ5ID0gdGhpcy5fbGF5ZXIuaW5kZXgubmVhcmJ5KG9mZnNldCk7XG4gICAgICAgICAgICBsZXQge2l0diwgY2VudGVyfSA9IHRoaXMuX25lYXJieTtcbiAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRzID0gY2VudGVyLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkX3NlZ21lbnQoaXR2LCBpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHF1ZXJ5IHNlZ21lbnRzXG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IHRoaXMuX3NlZ21lbnRzLm1hcCgoc2VnKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gc2VnLnF1ZXJ5KG9mZnNldCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdG9TdGF0ZSh0aGlzLl9zZWdtZW50cywgc3RhdGVzLCBvZmZzZXQsIHRoaXMuX2xheWVyLnF1ZXJ5T3B0aW9ucylcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbmVhcmJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zZWdtZW50ID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIExPQUQgU0VHTUVOVFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiBsb2FkX3NlZ21lbnQoaXR2LCBpdGVtKSB7XG4gICAgbGV0IHt0eXBlPVwic3RhdGljXCIsIGRhdGF9ID0gaXRlbTtcbiAgICBpZiAodHlwZSA9PSBcInN0YXRpY1wiKSB7XG4gICAgICAgIHJldHVybiBuZXcgc2VnbWVudC5TdGF0aWNTZWdtZW50KGl0diwgZGF0YSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwidHJhbnNpdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgc2VnbWVudC5UcmFuc2l0aW9uU2VnbWVudChpdHYsIGRhdGEpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImludGVycG9sYXRpb25cIikge1xuICAgICAgICByZXR1cm4gbmV3IHNlZ21lbnQuSW50ZXJwb2xhdGlvblNlZ21lbnQoaXR2LCBkYXRhKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJtb3Rpb25cIikge1xuICAgICAgICByZXR1cm4gbmV3IHNlZ21lbnQuTW90aW9uU2VnbWVudChpdHYsIGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidW5yZWNvZ25pemVkIHNlZ21lbnQgdHlwZVwiLCB0eXBlKTtcbiAgICB9XG59XG5cblxuXG4iLCJpbXBvcnQgeyBlbmRwb2ludCB9IGZyb20gXCIuLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4QmFzZSwgbmVhcmJ5X2Zyb20gfSBmcm9tIFwiLi4vbmVhcmJ5aW5kZXhfYmFzZS5qc1wiO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tIFwiLi4vbGF5ZXJzLmpzXCJcbmltcG9ydCAqIGFzIHNyY3Byb3AgZnJvbSBcIi4uL2FwaV9zcmNwcm9wLmpzXCI7XG5cblxuLyoqXG4gKiBDb252ZW5pZW5jZSBtZXJnZSBvcHRpb25zXG4gKi9cbmNvbnN0IG1lcmdlX29wdGlvbnMgPSB7XG4gICAgc3VtOiB7XG4gICAgICAgIHZhbHVlRnVuYzogZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgICAgIC8vIHJldHVybnMgdGhlIHN1bSBvZiB2YWx1ZXMgb2YgYWN0aXZlIGxheWVyc1xuICAgICAgICAgICAgcmV0dXJuIGluZm8uc3RhdGVzXG4gICAgICAgICAgICAgICAgLm1hcChzdGF0ZSA9PiBzdGF0ZS52YWx1ZSkgXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB2YWx1ZSkgPT4gYWNjICsgdmFsdWUsIDApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzdGFjazoge1xuICAgICAgICBzdGF0ZUZ1bmM6IGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgICAgICAvLyByZXR1cm5zIHZhbHVlcyBmcm9tIGZpcnN0IGFjdGl2ZSBsYXllclxuICAgICAgICAgICAgcmV0dXJuIHsuLi5pbmZvLnN0YXRlc1swXX1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXJyYXk6IHtcbiAgICAgICAgdmFsdWVGdW5jOiBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgLy8gcmV0dXJucyBhbiBhcnJheSB3aXRoIHZhbHVlcyBmcm9tIGFjdGl2ZSBsYXllcnNcbiAgICAgICAgICAgIHJldHVybiBpbmZvLnN0YXRlcy5tYXAoc3RhdGUgPT4gc3RhdGUudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKlxuICogXG4gKiBUaGlzIGltcGxlbWVudHMgYSBtZXJnZSBvcGVyYXRpb24gZm9yIGxheWVycy5cbiAqIExpc3Qgb2Ygc291cmNlcyBpcyBpbW11dGFibGUuXG4gKiBcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UgKHNvdXJjZXMsIG9wdGlvbnM9e30pIHtcbiAgICBjb25zdCB7dHlwZT1cIlwifSA9IG9wdGlvbnM7XG5cbiAgICBpZiAodHlwZSBpbiBtZXJnZV9vcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWVyZ2VMYXllcihzb3VyY2VzLCBtZXJnZV9vcHRpb25zW3R5cGVdKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgTWVyZ2VMYXllcihzb3VyY2VzLCBvcHRpb25zKTtcbiAgICB9XG59XG5cblxuY2xhc3MgTWVyZ2VMYXllciBleHRlbmRzIExheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgLy8gc2V0dXAgc291cmNlcyBwcm9wZXJ0eVxuICAgICAgICBzcmNwcm9wLmFkZFRvSW5zdGFuY2UodGhpcyk7XG4gICAgICAgIHRoaXMuc3JjcHJvcF9yZWdpc3RlcihcInNvdXJjZXNcIiwge211dGFibGU6ZmFsc2V9KTtcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gc291cmNlcztcbiAgICB9XG5cbiAgICBzcmNwcm9wX2NoZWNrKHByb3BOYW1lLCBzb3VyY2VzKSB7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PSBcInNvdXJjZXNcIikge1xuICAgICAgICAgICAgLy8gY2hlY2sgdGhhdCBzb3VyY2VzIGlzIGFycmF5IG9mIGxheWVyc1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNvdXJjZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzb3VyY2VzIG11c3QgYmUgYXJyYXkgJHtzb3VyY2VzfWApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhbGxfbGF5ZXJzID0gc291cmNlcy5tYXAoKGUpID0+IGUgaW5zdGFuY2VvZiBMYXllcikuZXZlcnkoZSA9PiBlKTtcbiAgICAgICAgICAgIGlmICghYWxsX2xheWVycykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc291cmNlcyBtdXN0IGFsbCBiZSBsYXllcnMgJHtzb3VyY2VzfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2VzO1xuICAgIH1cblxuICAgIHNyY3Byb3Bfb25jaGFuZ2UocHJvcE5hbWUsIGVBcmcpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic291cmNlc1wiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleCA9PSB1bmRlZmluZWQgfHwgZUFyZyA9PSBcInJlc2V0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gbmV3IE1lcmdlSW5kZXgodGhpcy5zb3VyY2VzKVxuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIHRoaXMuY2xlYXJDYWNoZXMoKTtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5X2NhbGxiYWNrcygpO1xuICAgICAgICAgICAgdGhpcy5ldmVudGlmeVRyaWdnZXIoXCJjaGFuZ2VcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5zcmNwcm9wLmFkZFRvUHJvdG90eXBlKE1lcmdlTGF5ZXIucHJvdG90eXBlKTtcblxuXG5cbi8qKlxuICogTWVyZ2luZyBpbmRleGVzIGZyb20gbXVsdGlwbGUgc291cmNlcyBpbnRvIGEgc2luZ2xlIGluZGV4LlxuICogXG4gKiBBIHNvdXJjZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbmRleC5cbiAqIC0gbGF5ZXIgKGN1cnNvcilcbiAqIFxuICogVGhlIG1lcmdlZCBpbmRleCBnaXZlcyBhIHRlbXBvcmFsIHN0cnVjdHVyZSBmb3IgdGhlXG4gKiBjb2xsZWN0aW9uIG9mIHNvdXJjZXMsIGNvbXB1dGluZyBhIGxpc3Qgb2ZcbiAqIHNvdXJjZXMgd2hpY2ggYXJlIGRlZmluZWQgYXQgYSBnaXZlbiBvZmZzZXRcbiAqIFxuICogbmVhcmJ5KG9mZnNldCkuY2VudGVyIGlzIGEgbGlzdCBvZiBpdGVtc1xuICogW3tpdHYsIHNyY31dXG4gKiBcbiAqIEltcGxlbWVudGFpb24gaXMgc3RhdGVsZXNzLlxuICovXG5cbmZ1bmN0aW9uIGNtcF9hc2NlbmRpbmcocDEsIHAyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmNtcChwMSwgcDIpXG59XG5cbmZ1bmN0aW9uIGNtcF9kZXNjZW5kaW5nKHAxLCBwMikge1xuICAgIHJldHVybiBlbmRwb2ludC5jbXAocDIsIHAxKVxufVxuXG5leHBvcnQgY2xhc3MgTWVyZ2VJbmRleCBleHRlbmRzIE5lYXJieUluZGV4QmFzZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3NvdXJjZXMgPSBzb3VyY2VzO1xuICAgICAgICB0aGlzLl9jYWNoZXMgPSBuZXcgTWFwKHNvdXJjZXMubWFwKChzcmMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBbc3JjLCBzcmMuZ2V0Q2FjaGUoKV07XG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBuZWFyYnkob2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcbiAgICAgICAgLy8gYWNjdW11bGF0ZSBuZWFyYnkgZnJvbSBhbGwgc291cmNlc1xuICAgICAgICBjb25zdCBwcmV2X2xpc3QgPSBbXSwgbmV4dF9saXN0ID0gW107XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IFtdO1xuICAgICAgICBjb25zdCBjZW50ZXJfaGlnaF9saXN0ID0gW107XG4gICAgICAgIGNvbnN0IGNlbnRlcl9sb3dfbGlzdCA9IFtdXG4gICAgICAgIGZvciAobGV0IHNyYyBvZiB0aGlzLl9zb3VyY2VzKSB7XG4gICAgICAgICAgICBsZXQgbmVhcmJ5ID0gc3JjLmluZGV4Lm5lYXJieShvZmZzZXQpO1xuICAgICAgICAgICAgbGV0IHByZXZfcmVnaW9uID0gc3JjLmluZGV4LmZpbmRfcmVnaW9uKG5lYXJieSwge2RpcmVjdGlvbjotMX0pO1xuICAgICAgICAgICAgbGV0IG5leHRfcmVnaW9uID0gc3JjLmluZGV4LmZpbmRfcmVnaW9uKG5lYXJieSwge2RpcmVjdGlvbjoxfSk7XG4gICAgICAgICAgICBpZiAocHJldl9yZWdpb24gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcHJldl9saXN0LnB1c2goZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChwcmV2X3JlZ2lvbi5pdHYpWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0X3JlZ2lvbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBuZXh0X2xpc3QucHVzaChlbmRwb2ludC5mcm9tX2ludGVydmFsKG5leHRfcmVnaW9uLml0dilbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5lYXJieS5jZW50ZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNlbnRlci5wdXNoKHRoaXMuX2NhY2hlcy5nZXQoc3JjKSk7XG4gICAgICAgICAgICAgICAgbGV0IFtsb3csIGhpZ2hdID0gZW5kcG9pbnQuZnJvbV9pbnRlcnZhbChuZWFyYnkuaXR2KTtcbiAgICAgICAgICAgICAgICBjZW50ZXJfaGlnaF9saXN0LnB1c2goaGlnaCk7XG4gICAgICAgICAgICAgICAgY2VudGVyX2xvd19saXN0LnB1c2gobG93KTsgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGZpbmQgY2xvc2VzdCBlbmRwb2ludCB0byB0aGUgcmlnaHQgKG5vdCBpbiBjZW50ZXIpXG4gICAgICAgIG5leHRfbGlzdC5zb3J0KGNtcF9hc2NlbmRpbmcpO1xuICAgICAgICBjb25zdCBuZXh0X2xvdyA9IG5leHRfbGlzdFswXSB8fCBlbmRwb2ludC5QT1NfSU5GO1xuXG4gICAgICAgIC8vIGZpbmQgY2xvc2VzdCBlbmRwb2ludCB0byB0aGUgbGVmdCAobm90IGluIGNlbnRlcilcbiAgICAgICAgcHJldl9saXN0LnNvcnQoY21wX2Rlc2NlbmRpbmcpO1xuICAgICAgICBjb25zdCBwcmV2X2hpZ2ggPSBwcmV2X2xpc3RbMF0gfHwgZW5kcG9pbnQuTkVHX0lORjtcblxuICAgICAgICByZXR1cm4gbmVhcmJ5X2Zyb20oXG4gICAgICAgICAgICAgICAgcHJldl9oaWdoLCBcbiAgICAgICAgICAgICAgICBjZW50ZXJfbG93X2xpc3QsIFxuICAgICAgICAgICAgICAgIGNlbnRlcixcbiAgICAgICAgICAgICAgICBjZW50ZXJfaGlnaF9saXN0LFxuICAgICAgICAgICAgICAgIG5leHRfbG93XG4gICAgICAgICAgICApO1xuICAgIH1cbn07XG5cblxuXG4iLCJpbXBvcnQgeyBlbmRwb2ludCB9IGZyb20gXCIuLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4QmFzZSB9IGZyb20gXCIuLi9uZWFyYnlpbmRleF9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuLi9sYXllcnMuanNcIlxuaW1wb3J0ICogYXMgc3JjcHJvcCBmcm9tIFwiLi4vYXBpX3NyY3Byb3AuanNcIjtcblxuZnVuY3Rpb24gc2hpZnRlZChwLCBvZmZzZXQpIHtcbiAgICBpZiAocCA9PSB1bmRlZmluZWQgfHwgIWlzRmluaXRlKHApKSB7XG4gICAgICAgIC8vIHAgLSBubyBza2V3XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIC8vIHAgaXMgbnVtYmVyIC0gc2tld1xuICAgICAgICByZXR1cm4gcCArIG9mZnNldDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocCkgJiYgcC5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIHAgaXMgZW5kcG9pbnQgLSBza2V3IHZhbHVlXG4gICAgICAgIGxldCBbdmFsLCBzaWduXSA9IHA7XG4gICAgICAgIHJldHVybiBbdmFsICsgb2Zmc2V0LCBzaWduXTtcbiAgICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIFNISUZUIElOREVYXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNsYXNzIFNoaWZ0SW5kZXggZXh0ZW5kcyBOZWFyYnlJbmRleEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IgKGxheWVyLCBza2V3KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMuX3NrZXcgPSBza2V3O1xuICAgICAgICB0aGlzLl9jYWNoZSA9IGxheWVyLmdldENhY2hlKCk7XG5cbiAgICAgICAgLy8gc2tld2luZyBjYWNoZSBvYmplY3RcbiAgICAgICAgdGhpcy5fc2hpZnRlZF9jYWNoZSA9IHtcbiAgICAgICAgICAgIHF1ZXJ5OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gc2tldyBxdWVyeSAobmVnYXRpdmUpIC0gb3ZlcnJpZGUgcmVzdWx0IG9mZnNldFxuICAgICAgICAgICAgICAgIHJldHVybiB7Li4udGhpcy5fY2FjaGUucXVlcnkoc2hpZnRlZChvZmZzZXQsIC10aGlzLl9za2V3KSksIG9mZnNldH07XG4gICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBza2V3aW5nIGluZGV4Lm5lYXJieVxuICAgIG5lYXJieShvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gZW5kcG9pbnQuZnJvbV9pbnB1dChvZmZzZXQpO1xuICAgICAgICAvLyBza2V3IHF1ZXJ5IChuZWdhdGl2ZSlcbiAgICAgICAgY29uc3QgbmVhcmJ5ID0gdGhpcy5fbGF5ZXIuaW5kZXgubmVhcmJ5KHNoaWZ0ZWQob2Zmc2V0LCAtdGhpcy5fc2tldykpO1xuICAgICAgICAvLyBza2V3IHJlc3VsdCAocG9zaXRpdmUpIFxuICAgICAgICBjb25zdCBpdHYgPSBuZWFyYnkuaXR2LnNsaWNlKCk7XG4gICAgICAgIGl0dlswXSA9IHNoaWZ0ZWQobmVhcmJ5Lml0dlswXSwgdGhpcy5fc2tldyk7XG4gICAgICAgIGl0dlsxXSA9IHNoaWZ0ZWQobmVhcmJ5Lml0dlsxXSwgdGhpcy5fc2tldylcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGl0dixcbiAgICAgICAgICAgIGxlZnQ6IHNoaWZ0ZWQobmVhcmJ5LmxlZnQsIHRoaXMuX3NrZXcpLFxuICAgICAgICAgICAgcmlnaHQ6IHNoaWZ0ZWQobmVhcmJ5LnJpZ2h0LCB0aGlzLl9za2V3KSxcbiAgICAgICAgICAgIGNlbnRlcjogbmVhcmJ5LmNlbnRlci5tYXAoKCkgPT4gdGhpcy5fc2hpZnRlZF9jYWNoZSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgU0hJRlQgTEFZRVJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXG5jbGFzcyBTaGlmdExheWVyIGV4dGVuZHMgTGF5ZXIge1xuXG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHNrZXcsIG9wdGlvbnM9e30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3NrZXcgPSBza2V3O1xuICAgICAgICAvLyBzZXR1cCBzcmMgcHJvcHRlcnR5XG4gICAgICAgIHNyY3Byb3AuYWRkVG9JbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgdGhpcy5zcmNwcm9wX3JlZ2lzdGVyKFwic3JjXCIpO1xuICAgICAgICB0aGlzLnNyYyA9IGxheWVyO1xuICAgIH1cblxuICAgIHNyY3Byb3BfY2hlY2socHJvcE5hbWUsIHNyYykge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT0gXCJzcmNcIikge1xuICAgICAgICAgICAgaWYgKCEoc3JjIGluc3RhbmNlb2YgTGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcInNyY1wiIG11c3QgYmUgTGF5ZXIgJHtzcmN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3JjOyAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNyY3Byb3Bfb25jaGFuZ2UocHJvcE5hbWUsIGVBcmcpIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09IHVuZGVmaW5lZCB8fCBlQXJnID09IFwicmVzZXRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBuZXcgU2hpZnRJbmRleCh0aGlzLnNyYywgdGhpcy5fc2tldylcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICB0aGlzLmNsZWFyQ2FjaGVzKCk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeV9jYWxsYmFja3MoKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRpZnlUcmlnZ2VyKFwiY2hhbmdlXCIpOyAgICBcbiAgICAgICAgfVxuICAgIH1cbn1cbnNyY3Byb3AuYWRkVG9Qcm90b3R5cGUoU2hpZnRMYXllci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFNrZXdpbmcgYSBMYXllciBieSBhbiBvZmZzZXRcbiAqIFxuICogYSBwb3NpdGl2ZSB2YWx1ZSBmb3Igb2Zmc2V0IG1lYW5zIHRoYXRcbiAqIHRoZSBsYXllciBpcyBzaGlmdGVkIHRvIHRoZSByaWdodCBvbiB0aGUgdGltZWxpbmVcbiAqIFxuICogXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaWZ0IChsYXllciwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIG5ldyBTaGlmdExheWVyKGxheWVyLCBvZmZzZXQpO1xufVxuIiwiLy8gd2VicGFnZSBjbG9jayAtIHBlcmZvcm1hbmNlIG5vdyAtIHNlY29uZHNcbmNvbnN0IGxvY2FsID0ge1xuICAgIG5vdzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKS8xMDAwLjA7XG4gICAgfVxufVxuLy8gc3lzdGVtIGNsb2NrIC0gZXBvY2ggLSBzZWNvbmRzXG5jb25zdCBlcG9jaCA9IHtcbiAgICBub3c6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS8xMDAwLjA7XG4gICAgfVxufVxuXG4vKipcbiAqIENMT0NLIGdpdmVzIGVwb2NoIHZhbHVlcywgYnV0IGlzIGltcGxlbWVudGVkXG4gKiB1c2luZyBwZXJmb3JtYW5jZSBub3cgZm9yIGJldHRlclxuICogdGltZSByZXNvbHV0aW9uIGFuZCBwcm90ZWN0aW9uIGFnYWluc3Qgc3lzdGVtIFxuICogdGltZSBhZGp1c3RtZW50cy5cbiAqL1xuXG5leHBvcnQgY29uc3QgTE9DQUxfQ0xPQ0tfUFJPVklERVIgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdDBfbG9jYWwgPSBsb2NhbC5ub3coKTtcbiAgICBjb25zdCB0MF9lcG9jaCA9IGVwb2NoLm5vdygpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5vdzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgdDFfbG9jYWwgPSBsb2NhbC5ub3coKTtcbiAgICAgICAgICAgIHJldHVybiB0MF9lcG9jaCArICh0MV9sb2NhbCAtIHQwX2xvY2FsKTtcbiAgICAgICAgfVxuICAgIH07XG59KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc19jbG9ja3Byb3ZpZGVyKG9iaikge1xuICAgIGlmICghKFwibm93XCIgaW4gb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2Ygb2JqLm5vdyAhPSBcImZ1bmN0aW9uXCIpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn0iLCJcbmltcG9ydCB7IGlzX3N0YXRlcHJvdmlkZXIgfSBmcm9tIFwiLi9zdGF0ZXByb3ZpZGVyLmpzXCI7XG5jb25zdCBNRVRIT0RTID0ge2Fzc2lnbiwgbW92ZSwgdHJhbnNpdGlvbiwgaW50ZXJwb2xhdGV9O1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjbWQgKHRhcmdldCkge1xuICAgIGlmICghKGlzX3N0YXRlcHJvdmlkZXIodGFyZ2V0KSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB0YXJnZXQuc3JjIG11c3QgYmUgc3RhdGVwcm92aWRlciAke3RhcmdldH1gKTtcbiAgICB9XG4gICAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhNRVRIT0RTKVxuICAgICAgICAubWFwKChbbmFtZSwgbWV0aG9kXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKC4uLmFyZ3MpIHsgXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtcyA9IG1ldGhvZC5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnVwZGF0ZSh7aW5zZXJ0Oml0ZW1zLCByZXNldDp0cnVlfSk7ICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoZW50cmllcyk7XG59XG5cbmZ1bmN0aW9uIGFzc2lnbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBpdGVtID0ge1xuICAgICAgICAgICAgaXR2OiBbLUluZmluaXR5LCBJbmZpbml0eSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgZGF0YTogdmFsdWUgICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbaXRlbV07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtb3ZlKHZlY3Rvcikge1xuICAgIGxldCBpdGVtID0ge1xuICAgICAgICBpdHY6IFstSW5maW5pdHksIEluZmluaXR5LCB0cnVlLCB0cnVlXSxcbiAgICAgICAgdHlwZTogXCJtb3Rpb25cIixcbiAgICAgICAgZGF0YTogdmVjdG9yICBcbiAgICB9XG4gICAgcmV0dXJuIFtpdGVtXTtcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvbih2MCwgdjEsIHQwLCB0MSwgZWFzaW5nKSB7XG4gICAgbGV0IGl0ZW1zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBpdHY6IFstSW5maW5pdHksIHQwLCB0cnVlLCBmYWxzZV0sXG4gICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgZGF0YTogdjBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaXR2OiBbdDAsIHQxLCB0cnVlLCBmYWxzZV0sXG4gICAgICAgICAgICB0eXBlOiBcInRyYW5zaXRpb25cIixcbiAgICAgICAgICAgIGRhdGE6IHt2MCwgdjEsIHQwLCB0MSwgZWFzaW5nfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpdHY6IFt0MSwgSW5maW5pdHksIHRydWUsIHRydWVdLFxuICAgICAgICAgICAgdHlwZTogXCJzdGF0aWNcIixcbiAgICAgICAgICAgIGRhdGE6IHYxXG4gICAgICAgIH1cbiAgICBdXG4gICAgcmV0dXJuIGl0ZW1zO1xufVxuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZSh0dXBsZXMpIHtcbiAgICBsZXQgW3YwLCB0MF0gPSB0dXBsZXNbMF07XG4gICAgbGV0IFt2MSwgdDFdID0gdHVwbGVzW3R1cGxlcy5sZW5ndGgtMV07XG5cbiAgICBsZXQgaXRlbXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGl0djogWy1JbmZpbml0eSwgdDAsIHRydWUsIGZhbHNlXSxcbiAgICAgICAgICAgIHR5cGU6IFwic3RhdGljXCIsXG4gICAgICAgICAgICBkYXRhOiB2MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpdHY6IFt0MCwgdDEsIHRydWUsIGZhbHNlXSxcbiAgICAgICAgICAgIHR5cGU6IFwiaW50ZXJwb2xhdGlvblwiLFxuICAgICAgICAgICAgZGF0YTogdHVwbGVzXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGl0djogW3QxLCBJbmZpbml0eSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgICAgICB0eXBlOiBcInN0YXRpY1wiLFxuICAgICAgICAgICAgZGF0YTogdjFcbiAgICAgICAgfVxuICAgIF0gICAgXG4gICAgcmV0dXJuIGl0ZW1zO1xufVxuXG5cblxuIiwiaW1wb3J0IHtkaXZtb2R9IGZyb20gXCIuL3V0aWwuanNcIjtcblxuLypcbiAgICBUaW1lb3V0IE1vbml0b3JcblxuICAgIFRpbWVvdXQgTW9uaXRvciBpcyBzaW1pbGFyIHRvIHNldEludGVydmFsLCBpbiB0aGUgc2Vuc2UgdGhhdCBcbiAgICBpdCBhbGxvd3MgY2FsbGJhY2tzIHRvIGJlIGZpcmVkIHBlcmlvZGljYWxseSBcbiAgICB3aXRoIGEgZ2l2ZW4gZGVsYXkgKGluIG1pbGxpcykuICBcbiAgICBcbiAgICBUaW1lb3V0IE1vbml0b3IgaXMgbWFkZSB0byBzYW1wbGUgdGhlIHN0YXRlIFxuICAgIG9mIGEgZHluYW1pYyBvYmplY3QsIHBlcmlvZGljYWxseS4gRm9yIHRoaXMgcmVhc29uLCBlYWNoIGNhbGxiYWNrIGlzIFxuICAgIGJvdW5kIHRvIGEgbW9uaXRvcmVkIG9iamVjdCwgd2hpY2ggd2UgaGVyZSBjYWxsIGEgdmFyaWFibGUuIFxuICAgIE9uIGVhY2ggaW52b2NhdGlvbiwgYSBjYWxsYmFjayB3aWxsIHByb3ZpZGUgYSBmcmVzaGx5IHNhbXBsZWQgXG4gICAgdmFsdWUgZnJvbSB0aGUgdmFyaWFibGUuXG5cbiAgICBUaGlzIHZhbHVlIGlzIGFzc3VtZWQgdG8gYmUgYXZhaWxhYmxlIGJ5IHF1ZXJ5aW5nIHRoZSB2YXJpYWJsZS4gXG5cbiAgICAgICAgdi5xdWVyeSgpIC0+IHt2YWx1ZSwgZHluYW1pYywgb2Zmc2V0LCB0c31cblxuICAgIEluIGFkZGl0aW9uLCB0aGUgdmFyaWFibGUgb2JqZWN0IG1heSBzd2l0Y2ggYmFjayBhbmQgXG4gICAgZm9ydGggYmV0d2VlbiBkeW5hbWljIGFuZCBzdGF0aWMgYmVoYXZpb3IuIFRoZSBUaW1lb3V0IE1vbml0b3JcbiAgICB0dXJucyBwb2xsaW5nIG9mZiB3aGVuIHRoZSB2YXJpYWJsZSBpcyBubyBsb25nZXIgZHluYW1pYywgXG4gICAgYW5kIHJlc3VtZXMgcG9sbGluZyB3aGVuIHRoZSBvYmplY3QgYmVjb21lcyBkeW5hbWljLlxuXG4gICAgU3RhdGUgY2hhbmdlcyBhcmUgZXhwZWN0ZWQgdG8gYmUgc2lnbmFsbGVkIHRocm91Z2ggYSA8Y2hhbmdlPiBldmVudC5cblxuICAgICAgICBzdWIgPSB2Lm9uKFwiY2hhbmdlXCIsIGNhbGxiYWNrKVxuICAgICAgICB2Lm9mZihzdWIpXG5cbiAgICBDYWxsYmFja3MgYXJlIGludm9rZWQgb24gZXZlcnkgPGNoYW5nZT4gZXZlbnQsIGFzIHdlbGxcbiAgICBhcyBwZXJpb2RpY2FsbHkgd2hlbiB0aGUgb2JqZWN0IGlzIGluIDxkeW5hbWljPiBzdGF0ZS5cblxuICAgICAgICBjYWxsYmFjayh7dmFsdWUsIGR5bmFtaWMsIG9mZnNldCwgdHN9KVxuXG4gICAgRnVydGhlcm1vcmUsIGluIG9yZGVyIHRvIHN1cHBvcnQgY29uc2lzdGVudCByZW5kZXJpbmcgb2ZcbiAgICBzdGF0ZSBjaGFuZ2VzIGZyb20gbWFueSBkeW5hbWljIHZhcmlhYmxlcywgaXQgaXMgaW1wb3J0YW50IHRoYXRcbiAgICBjYWxsYmFja3MgYXJlIGludm9rZWQgYXQgdGhlIHNhbWUgdGltZSBhcyBtdWNoIGFzIHBvc3NpYmxlLCBzb1xuICAgIHRoYXQgY2hhbmdlcyB0aGF0IG9jY3VyIG5lYXIgaW4gdGltZSBjYW4gYmUgcGFydCBvZiB0aGUgc2FtZVxuICAgIHNjcmVlbiByZWZyZXNoLiBcblxuICAgIEZvciB0aGlzIHJlYXNvbiwgdGhlIFRpbWVvdXRNb25pdG9yIGdyb3VwcyBjYWxsYmFja3MgaW4gdGltZVxuICAgIGFuZCBpbnZva2VzIGNhbGxiYWNrcyBhdCBhdCBmaXhlZCBtYXhpbXVtIHJhdGUgKDIwSHovNTBtcykuXG4gICAgVGhpcyBpbXBsaWVzIHRoYXQgcG9sbGluZyBjYWxsYmFja3Mgd2lsbCBmYWxsIG9uIGEgc2hhcmVkIFxuICAgIHBvbGxpbmcgZnJlcXVlbmN5LlxuXG4gICAgQXQgdGhlIHNhbWUgdGltZSwgY2FsbGJhY2tzIG1heSBoYXZlIGluZGl2aWR1YWwgZnJlcXVlbmNpZXMgdGhhdFxuICAgIGFyZSBtdWNoIGxvd2VyIHJhdGUgdGhhbiB0aGUgbWF4aW11bSByYXRlLiBUaGUgaW1wbGVtZW50YXRpb25cbiAgICBkb2VzIG5vdCByZWx5IG9uIGEgZml4ZWQgNTBtcyB0aW1lb3V0IGZyZXF1ZW5jeSwgYnV0IGlzIHRpbWVvdXQgYmFzZWQsXG4gICAgdGh1cyB0aGVyZSBpcyBubyBwcm9jZXNzaW5nIG9yIHRpbWVvdXQgYmV0d2VlbiBjYWxsYmFja3MsIGV2ZW5cbiAgICBpZiBhbGwgY2FsbGJhY2tzIGhhdmUgbG93IHJhdGVzLlxuXG4gICAgSXQgaXMgc2FmZSB0byBkZWZpbmUgbXVsdGlwbGUgY2FsbGFiYWNrcyBmb3IgYSBzaW5nbGUgdmFyaWFibGUsIGVhY2hcbiAgICBjYWxsYmFjayB3aXRoIGEgZGlmZmVyZW50IHBvbGxpbmcgZnJlcXVlbmN5LlxuXG4gICAgb3B0aW9uc1xuICAgICAgICA8cmF0ZT4gLSBkZWZhdWx0IDUwOiBzcGVjaWZ5IG1pbmltdW0gZnJlcXVlbmN5IGluIG1zXG5cbiovXG5cblxuY29uc3QgUkFURV9NUyA9IDUwXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIFRJTUVPVVQgTU9OSVRPUlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKlxuICAgIEJhc2UgY2xhc3MgZm9yIFRpbWVvdXQgTW9uaXRvciBhbmQgRnJhbWVyYXRlIE1vbml0b3JcbiovXG5cbmNsYXNzIFRpbWVvdXRNb25pdG9yIHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM9e30pIHtcblxuICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7cmF0ZTogUkFURV9NU30sIG9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5yYXRlIDwgUkFURV9NUykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbGxlZ2FsIHJhdGUgJHtyYXRlfSwgbWluaW11bSByYXRlIGlzICR7UkFURV9NU31gKTtcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgICAgbWFwXG4gICAgICAgICAgICBoYW5kbGUgLT4ge2NhbGxiYWNrLCB2YXJpYWJsZSwgZGVsYXl9XG4gICAgICAgICAgICAtIHZhcmlhYmxlOiB0YXJnZXQgZm9yIHNhbXBsaW5nXG4gICAgICAgICAgICAtIGNhbGxiYWNrOiBmdW5jdGlvbih2YWx1ZSlcbiAgICAgICAgICAgIC0gZGVsYXk6IGJldHdlZW4gc2FtcGxlcyAod2hlbiB2YXJpYWJsZSBpcyBkeW5hbWljKVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8qXG4gICAgICAgICAgICB2YXJpYWJsZSBtYXBcbiAgICAgICAgICAgIHZhcmlhYmxlIC0+IHtzdWIsIHBvbGxpbmcsIGhhbmRsZXM6W119XG4gICAgICAgICAgICAtIHN1YiBhc3NvY2lhdGVkIHdpdGggdmFyaWFibGVcbiAgICAgICAgICAgIC0gcG9sbGluZzogdHJ1ZSBpZiB2YXJpYWJsZSBuZWVkcyBwb2xsaW5nXG4gICAgICAgICAgICAtIGhhbmRsZXM6IGxpc3Qgb2YgaGFuZGxlcyBhc3NvY2lhdGVkIHdpdGggdmFyaWFibGVcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdmFyaWFibGVfbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyB2YXJpYWJsZSBjaGFuZ2UgaGFuZGxlclxuICAgICAgICB0aGlzLl9fb252YXJpYWJsZWNoYW5nZSA9IHRoaXMuX29udmFyaWFibGVjaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBiaW5kKHZhcmlhYmxlLCBjYWxsYmFjaywgZGVsYXksIG9wdGlvbnM9e30pIHtcbiAgICAgICAgLy8gcmVnaXN0ZXIgYmluZGluZ1xuICAgICAgICBsZXQgaGFuZGxlID0ge2NhbGxiYWNrLCB2YXJpYWJsZSwgZGVsYXl9O1xuICAgICAgICB0aGlzLl9zZXQuYWRkKGhhbmRsZSk7XG4gICAgICAgIC8vIHJlZ2lzdGVyIHZhcmlhYmxlXG4gICAgICAgIGlmICghdGhpcy5fdmFyaWFibGVfbWFwLmhhcyh2YXJpYWJsZSkpIHtcbiAgICAgICAgICAgIGxldCBzdWIgPSB2YXJpYWJsZS5vbihcImNoYW5nZVwiLCB0aGlzLl9fb252YXJpYWJsZWNoYW5nZSk7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHtzdWIsIHBvbGxpbmc6ZmFsc2UsIGhhbmRsZXM6IFtoYW5kbGVdfTtcbiAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlX21hcC5zZXQodmFyaWFibGUsIGl0ZW0pO1xuICAgICAgICAgICAgLy90aGlzLl9yZWV2YWx1YXRlX3BvbGxpbmcodmFyaWFibGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVfbWFwLmdldCh2YXJpYWJsZSkuaGFuZGxlcy5wdXNoKGhhbmRsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZTtcbiAgICB9XG5cbiAgICByZWxlYXNlKGhhbmRsZSkge1xuICAgICAgICAvLyBjbGVhbnVwXG4gICAgICAgIGxldCByZW1vdmVkID0gdGhpcy5fc2V0LmRlbGV0ZShoYW5kbGUpO1xuICAgICAgICBpZiAoIXJlbW92ZWQpIHJldHVybjtcbiAgICAgICAgaGFuZGxlLnRpZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gY2xlYW51cCB2YXJpYWJsZSBtYXBcbiAgICAgICAgbGV0IHZhcmlhYmxlID0gaGFuZGxlLnZhcmlhYmxlO1xuICAgICAgICBsZXQge3N1YiwgaGFuZGxlc30gPSB0aGlzLl92YXJpYWJsZV9tYXAuZ2V0KHZhcmlhYmxlKTtcbiAgICAgICAgbGV0IGlkeCA9IGhhbmRsZXMuaW5kZXhPZihoYW5kbGUpO1xuICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIGhhbmRsZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIC8vIHZhcmlhYmxlIGhhcyBubyBoYW5kbGVzXG4gICAgICAgICAgICAvLyBjbGVhbnVwIHZhcmlhYmxlIG1hcFxuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVfbWFwLmRlbGV0ZSh2YXJpYWJsZSk7XG4gICAgICAgICAgICB2YXJpYWJsZS5vZmYoc3ViKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICAgIHZhcmlhYmxlIGVtaXRzIGEgY2hhbmdlIGV2ZW50XG4gICAgKi9cbiAgICBfb252YXJpYWJsZWNoYW5nZSAoZUFyZywgZUluZm8pIHtcbiAgICAgICAgbGV0IHZhcmlhYmxlID0gZUluZm8uc3JjO1xuICAgICAgICAvLyBkaXJlY3QgY2FsbGJhY2sgLSBjb3VsZCB1c2UgZUFyZyBoZXJlXG4gICAgICAgIGxldCB7aGFuZGxlc30gPSB0aGlzLl92YXJpYWJsZV9tYXAuZ2V0KHZhcmlhYmxlKTtcbiAgICAgICAgbGV0IHN0YXRlID0gZUFyZztcbiAgICAgICAgLy8gcmVldmFsdWF0ZSBwb2xsaW5nXG4gICAgICAgIHRoaXMuX3JlZXZhbHVhdGVfcG9sbGluZyh2YXJpYWJsZSwgc3RhdGUpO1xuICAgICAgICAvLyBjYWxsYmFja3NcbiAgICAgICAgZm9yIChsZXQgaGFuZGxlIG9mIGhhbmRsZXMpIHtcbiAgICAgICAgICAgIGhhbmRsZS5jYWxsYmFjayhzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAgICBzdGFydCBvciBzdG9wIHBvbGxpbmcgaWYgbmVlZGVkXG4gICAgKi9cbiAgICBfcmVldmFsdWF0ZV9wb2xsaW5nKHZhcmlhYmxlLCBzdGF0ZSkge1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXMuX3ZhcmlhYmxlX21hcC5nZXQodmFyaWFibGUpO1xuICAgICAgICBsZXQge3BvbGxpbmc6d2FzX3BvbGxpbmd9ID0gaXRlbTtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB2YXJpYWJsZS5xdWVyeSgpO1xuICAgICAgICBsZXQgc2hvdWxkX2JlX3BvbGxpbmcgPSBzdGF0ZS5keW5hbWljO1xuICAgICAgICBpZiAoIXdhc19wb2xsaW5nICYmIHNob3VsZF9iZV9wb2xsaW5nKSB7XG4gICAgICAgICAgICBpdGVtLnBvbGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc2V0X3RpbWVvdXRzKHZhcmlhYmxlKTtcbiAgICAgICAgfSBlbHNlIGlmICh3YXNfcG9sbGluZyAmJiAhc2hvdWxkX2JlX3BvbGxpbmcpIHtcbiAgICAgICAgICAgIGl0ZW0ucG9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJfdGltZW91dHModmFyaWFibGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgc2V0IHRpbWVvdXQgZm9yIGFsbCBjYWxsYmFja3MgYXNzb2NpYXRlZCB3aXRoIHZhcmlhYmxlXG4gICAgKi9cbiAgICBfc2V0X3RpbWVvdXRzKHZhcmlhYmxlKSB7XG4gICAgICAgIGxldCB7aGFuZGxlc30gPSB0aGlzLl92YXJpYWJsZV9tYXAuZ2V0KHZhcmlhYmxlKTtcbiAgICAgICAgZm9yIChsZXQgaGFuZGxlIG9mIGhhbmRsZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldF90aW1lb3V0KGhhbmRsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0X3RpbWVvdXQoaGFuZGxlKSB7XG4gICAgICAgIGxldCBkZWx0YSA9IHRoaXMuX2NhbGN1bGF0ZV9kZWx0YShoYW5kbGUuZGVsYXkpO1xuICAgICAgICBsZXQgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZV90aW1lb3V0KGhhbmRsZSk7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcbiAgICAgICAgaGFuZGxlLnRpZCA9IHNldFRpbWVvdXQoaGFuZGxlciwgZGVsdGEpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICAgIGFkanVzdCBkZWxheSBzbyB0aGF0IGlmIGZhbGxzIG9uXG4gICAgICAgIHRoZSBtYWluIHRpY2sgcmF0ZVxuICAgICovXG4gICAgX2NhbGN1bGF0ZV9kZWx0YShkZWxheSkge1xuICAgICAgICBsZXQgcmF0ZSA9IHRoaXMuX29wdGlvbnMucmF0ZTtcbiAgICAgICAgbGV0IG5vdyA9IE1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICBsZXQgW25vd19uLCBub3dfcl0gPSBkaXZtb2Qobm93LCByYXRlKTtcbiAgICAgICAgbGV0IFtuLCByXSA9IGRpdm1vZChub3cgKyBkZWxheSwgcmF0ZSk7XG4gICAgICAgIGxldCB0YXJnZXQgPSBNYXRoLm1heChuLCBub3dfbiArIDEpKnJhdGU7XG4gICAgICAgIHJldHVybiB0YXJnZXQgLSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAgICBjbGVhciBhbGwgdGltZW91dHMgYXNzb2NpYXRlZCB3aXRoIHZhcmlhYmxlXG4gICAgKi9cbiAgICBfY2xlYXJfdGltZW91dHModmFyaWFibGUpIHtcbiAgICAgICAgbGV0IHtoYW5kbGVzfSA9IHRoaXMuX3ZhcmlhYmxlX21hcC5nZXQodmFyaWFibGUpO1xuICAgICAgICBmb3IgKGxldCBoYW5kbGUgb2YgaGFuZGxlcykge1xuICAgICAgICAgICAgaWYgKGhhbmRsZS50aWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZS50aWQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZS50aWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAgICBoYW5kbGUgdGltZW91dFxuICAgICovXG4gICAgX2hhbmRsZV90aW1lb3V0KGhhbmRsZSkge1xuICAgICAgICAvLyBkcm9wIGlmIGhhbmRsZSB0aWQgaGFzIGJlZW4gY2xlYXJlZFxuICAgICAgICBpZiAoaGFuZGxlLnRpZCA9PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgaGFuZGxlLnRpZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gY2FsbGJhY2tcbiAgICAgICAgbGV0IHt2YXJpYWJsZX0gPSBoYW5kbGU7XG4gICAgICAgIGxldCBzdGF0ZSA9IHZhcmlhYmxlLnF1ZXJ5KCk7XG4gICAgICAgIC8vIHJlc2NoZWR1bGUgdGltZW91dHMgZm9yIGNhbGxiYWNrc1xuICAgICAgICBpZiAoc3RhdGUuZHluYW1pYykge1xuICAgICAgICAgICAgdGhpcy5fc2V0X3RpbWVvdXQoaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgbWFrZSBzdXJlIHBvbGxpbmcgc3RhdGUgaXMgYWxzbyBmYWxzZVxuICAgICAgICAgICAgICAgIHRoaXMgd291bGQgb25seSBvY2N1ciBpZiB0aGUgdmFyaWFibGVcbiAgICAgICAgICAgICAgICB3ZW50IGZyb20gcmVwb3J0aW5nIGR5bmFtaWMgdHJ1ZSB0byBkeW5hbWljIGZhbHNlLFxuICAgICAgICAgICAgICAgIHdpdGhvdXQgZW1taXR0aW5nIGEgY2hhbmdlIGV2ZW50IC0gdGh1c1xuICAgICAgICAgICAgICAgIHZpb2xhdGluZyB0aGUgYXNzdW1wdGlvbi4gVGhpcyBwcmVzZXJ2ZXNcbiAgICAgICAgICAgICAgICBpbnRlcm5hbCBpbnRlZ3JpdHkgaSB0aGUgbW9uaXRvci5cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuX3ZhcmlhYmxlX21hcC5nZXQodmFyaWFibGUpO1xuICAgICAgICAgICAgaXRlbS5wb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgaGFuZGxlLmNhbGxiYWNrKHN0YXRlKTtcbiAgICB9XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgRlJBTUVSQVRFIE1PTklUT1JcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXG5jbGFzcyBGcmFtZXJhdGVNb25pdG9yIGV4dGVuZHMgVGltZW91dE1vbml0b3Ige1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz17fSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5faGFuZGxlO1xuICAgIH1cblxuICAgIC8qXG4gICAgICAgIHRpbWVvdXRzIGFyZSBvYnNvbGV0ZVxuICAgICovXG4gICAgX3NldF90aW1lb3V0cyh2YXJpYWJsZSkge31cbiAgICBfc2V0X3RpbWVvdXQoaGFuZGxlKSB7fVxuICAgIF9jYWxjdWxhdGVfZGVsdGEoZGVsYXkpIHt9XG4gICAgX2NsZWFyX3RpbWVvdXRzKHZhcmlhYmxlKSB7fVxuICAgIF9oYW5kbGVfdGltZW91dChoYW5kbGUpIHt9XG5cbiAgICBfb252YXJpYWJsZWNoYW5nZSAoZUFyZywgZUluZm8pIHtcbiAgICAgICAgc3VwZXIuX29udmFyaWFibGVjaGFuZ2UoZUFyZywgZUluZm8pO1xuICAgICAgICAvLyBraWNrIG9mZiBjYWxsYmFjayBsb29wIGRyaXZlbiBieSByZXF1ZXN0IGFuaW1hdGlvbmZyYW1lXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgX2NhbGxiYWNrKCkge1xuICAgICAgICAvLyBjYWxsYmFjayB0byBhbGwgdmFyaWFibGVzIHdoaWNoIHJlcXVpcmUgcG9sbGluZ1xuICAgICAgICBsZXQgdmFyaWFibGVzID0gWy4uLnRoaXMuX3ZhcmlhYmxlX21hcC5lbnRyaWVzKCldXG4gICAgICAgICAgICAuZmlsdGVyKChbdmFyaWFibGUsIGl0ZW1dKSA9PiBpdGVtLnBvbGxpbmcpXG4gICAgICAgICAgICAubWFwKChbdmFyaWFibGUsIGl0ZW1dKSA9PiB2YXJpYWJsZSk7XG4gICAgICAgIGlmICh2YXJpYWJsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gY2FsbGJhY2tcbiAgICAgICAgICAgIGZvciAobGV0IHZhcmlhYmxlIG9mIHZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgIGxldCB7aGFuZGxlc30gPSB0aGlzLl92YXJpYWJsZV9tYXAuZ2V0KHZhcmlhYmxlKTtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gdmFyaWFibGUucXVlcnkoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBoYW5kbGUgb2YgaGFuZGxlcykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuY2FsbGJhY2socmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBcbiAgICAgICAgICAgICAgICByZXF1ZXN0IG5leHQgY2FsbGJhY2sgYXMgbG9uZyBhcyBhdCBsZWFzdCBvbmUgdmFyaWFibGUgXG4gICAgICAgICAgICAgICAgaXMgcmVxdWlyaW5nIHBvbGxpbmdcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fY2FsbGJhY2suYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIEJJTkQgUkVMRUFTRVxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5jb25zdCBtb25pdG9yID0gbmV3IFRpbWVvdXRNb25pdG9yKCk7XG5jb25zdCBmcmFtZXJhdGVfbW9uaXRvciA9IG5ldyBGcmFtZXJhdGVNb25pdG9yKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kKHZhcmlhYmxlLCBjYWxsYmFjaywgZGVsYXksIG9wdGlvbnM9e30pIHtcbiAgICBsZXQgaGFuZGxlO1xuICAgIGlmIChCb29sZWFuKHBhcnNlRmxvYXQoZGVsYXkpKSkge1xuICAgICAgICBoYW5kbGUgPSBtb25pdG9yLmJpbmQodmFyaWFibGUsIGNhbGxiYWNrLCBkZWxheSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBbXCJ0aW1lb3V0XCIsIGhhbmRsZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZGxlID0gZnJhbWVyYXRlX21vbml0b3IuYmluZCh2YXJpYWJsZSwgY2FsbGJhY2ssIDAsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gW1wiZnJhbWVyYXRlXCIsIGhhbmRsZV07XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2UoaGFuZGxlKSB7XG4gICAgbGV0IFt0eXBlLCBfaGFuZGxlXSA9IGhhbmRsZTtcbiAgICBpZiAodHlwZSA9PSBcInRpbWVvdXRcIikge1xuICAgICAgICByZXR1cm4gbW9uaXRvci5yZWxlYXNlKF9oYW5kbGUpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImZyYW1lcmF0ZVwiKSB7XG4gICAgICAgIHJldHVybiBmcmFtZXJhdGVfbW9uaXRvci5yZWxlYXNlKF9oYW5kbGUpO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0ICogYXMgc3JjcHJvcCBmcm9tIFwiLi9hcGlfc3JjcHJvcC5qc1wiO1xuaW1wb3J0IHsgTE9DQUxfQ0xPQ0tfUFJPVklERVIsIGlzX2Nsb2NrcHJvdmlkZXIgfSBmcm9tIFwiLi9jbG9ja3Byb3ZpZGVyLmpzXCI7XG5pbXBvcnQgeyBjbWQgfSBmcm9tIFwiLi9jbWQuanNcIjtcbmltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4vbGF5ZXJzLmpzXCI7XG5pbXBvcnQgeyBpbnRlcnZhbCB9IGZyb20gXCIuL2ludGVydmFscy5qc1wiO1xuaW1wb3J0IHsgYmluZCwgcmVsZWFzZSB9IGZyb20gXCIuL21vbml0b3IuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4QmFzZSB9IGZyb20gXCIuL25lYXJieWluZGV4X2Jhc2UuanNcIjtcblxuLyoqXG4gKiBDdXJzb3IgZW11bGF0ZXMgTGF5ZXIgaW50ZXJmYWNlLlxuICogUGFydCBvZiB0aGlzIGlzIHRvIHByb3ZlIGFuIGluZGV4IGZvciB0aGUgdGltZWxpbmUuIFxuICogSG93ZXZlciwgd2hlbiBjb25zaWRlcmVkIGFzIGEgbGF5ZXIsIHRoZSBjdXJzb3IgdmFsdWUgaXMgXG4gKiBpbmRlcGVuZGVudCBvZiB0aW1lbGluZSBvZmZzZXQsIHdoaWNoIGlzIHRvIHNheSB0aGF0XG4gKiBpdCBoYXMgdGhlIHNhbWUgdmFsdWUgZm9yIGFsbCB0aW1lbGluZSBvZmZzZXRzLlxuICogXG4gKiBVbmxpa2Ugb3RoZXIgTGF5ZXJzLCB0aGUgQ3Vyc29yIGRvIG5vdCBhY3R1YWxseVxuICogdXNlIHRoaXMgaW5kZXggdG8gcmVzb2x2ZSBxdWVyaWVzLiBJdCBpcyBvbmx5IG5lZWRlZFxuICogZm9yIHNvbWUgZ2VuZXJpYyBMYXllciBmdW5jdGlvbm5hbGl0eSwgbGlrZSBzYW1wbGluZyxcbiAqIHdoaWNoIHVzZXMgaW5kZXguZmlyc3QoKSBhbmQgaW5kZXgubGFzdCgpLlxuICovXG5cbmNsYXNzIEN1cnNvckluZGV4IGV4dGVuZHMgTmVhcmJ5SW5kZXhCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKGN1cnNvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9jYWNoZSA9IGN1cnNvci5nZXRDYWNoZSgpO1xuICAgIH1cblxuICAgIG5lYXJieShvZmZzZXQpIHtcbiAgICAgICAgLy8gY3Vyc29yIGluZGV4IGlzIGRlZmluZWQgZm9yIGVudGlyZSB0aW1lbGluZVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXR2OiBbLUluZmluaXR5LCBJbmZpbml0eSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgICAgICBjZW50ZXI6IFt0aGlzLl9jYWNoZV0sXG4gICAgICAgICAgICBsZWZ0OiBbLUluZmluaXR5LCAwXSxcbiAgICAgICAgICAgIHByZXY6IFstSW5maW5pdHksIDBdLFxuICAgICAgICAgICAgcmlnaHQ6IFtJbmZpbml0eSwgMF0sXG4gICAgICAgICAgICBuZXh0OiBbSW5maW5pdHksIDBdLFxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFxuICogQ3Vyc29yIGNhY2hlIGltcGxlbWVudHMgdGhlIHF1ZXJ5IG9wZXJhdGlvbiBmb3IgXG4gKiB0aGUgQ3Vyc29yLCBpZ25vcmluZyB0aGUgZ2l2ZW4gb2Zmc2V0LCByZXBsYWNpbmcgaXQgXG4gKiB3aXRoIGFuIG9mZnNldCBmcm9tIHRoZSBjdHJsIGluc3RlYWQuIFxuICogVGhlIGxheWVyIGNhY2hlIGlzIHVzZWQgdG8gcmVzb2x2ZSB0aGUgcXVlcnkgXG4gKi9cblxuY2xhc3MgQ3Vyc29yQ2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKGN1cnNvcikge1xuICAgICAgICB0aGlzLl9jdXJzb3IgPSBjdXJzb3I7XG4gICAgICAgIHRoaXMuX2NhY2hlID0gdGhpcy5fY3Vyc29yLnNyYy5nZXRDYWNoZSgpO1xuICAgIH1cblxuICAgIHF1ZXJ5KCkge1xuICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl9jdXJzb3IuX2dldF9jdHJsX3N0YXRlKCkudmFsdWU7IFxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGUucXVlcnkob2Zmc2V0KTtcbiAgICB9XG5cbiAgICBnZXQgc2VnbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLnNlZ21lbnQ7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlLmNsZWFyKCk7XG4gICAgfVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENVUlNPUlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBcbiAqIEN1cnNvciBnbGlkZXMgYWxvbmcgYSBsYXllciBhbmQgZXhwb3NlcyB0aGUgY3VycmVudCBsYXllclxuICogdmFsdWUgYXQgYW55IHRpbWVcbiAqIC0gaGFzIG11dGFibGUgY3RybCAobG9jYWxDbG9ja1Byb3ZpZGVyIG9yIEN1cnNvcilcbiAqIC0gaGFzIG11dGFibGUgc3JjIChsYXllcilcbiAqIC0gbWV0aG9kcyBmb3IgYXNzaWduLCBtb3ZlLCB0cmFuc2l0aW9uLCBpbnRlcnBvbGF0aW9uXG4gKi9cblxuZXhwb3J0IGNsYXNzIEN1cnNvciBleHRlbmRzIExheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zPXt9KSB7XG4gICAgICAgIHN1cGVyKHtDYWNoZUNsYXNzOkN1cnNvckNhY2hlfSk7XG5cbiAgICAgICAgLy8gc2V0dXAgc3JjIHByb3BlcnRpZXNcbiAgICAgICAgc3JjcHJvcC5hZGRUb0luc3RhbmNlKHRoaXMpO1xuICAgICAgICB0aGlzLnNyY3Byb3BfcmVnaXN0ZXIoXCJzcmNcIik7XG4gICAgICAgIHRoaXMuc3JjcHJvcF9yZWdpc3RlcihcImN0cmxcIik7XG5cbiAgICAgICAgLy8gdGltZW91dFxuICAgICAgICB0aGlzLl90aWQ7XG4gICAgICAgIC8vIHBvbGxpbmdcbiAgICAgICAgdGhpcy5fcGlkO1xuXG4gICAgICAgIC8vIGluaXRpYWxpc2UgY3RybCwgc3JjXG4gICAgICAgIGxldCB7c3JjLCBjdHJsfSA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY3RybCA9IGN0cmwgfHwgTE9DQUxfQ0xPQ0tfUFJPVklERVI7XG4gICAgICAgIHRoaXMuc3JjID0gc3JjO1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogU1JDUFJPUDogQ1RSTCBhbmQgU1JDXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICBzcmNwcm9wX2NoZWNrKHByb3BOYW1lLCBvYmopIHtcbiAgICAgICAgaWYgKHByb3BOYW1lID09IFwiY3RybFwiKSB7XG4gICAgICAgICAgICBpZiAoIShpc19jbG9ja3Byb3ZpZGVyKG9iaikgfHwgb2JqIGluc3RhbmNlb2YgQ3Vyc29yKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXCJjdHJsXCIgbXVzdCBiZSBjbG9ja1Byb3ZpZGVyIG9yIEN1cnNvciAke29ian1gKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIGlmICghKG9iaiBpbnN0YW5jZW9mIExheWVyKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXCJzcmNcIiBtdXN0IGJlIExheWVyICR7b2JqfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgc3JjcHJvcF9vbmNoYW5nZShwcm9wTmFtZSwgZUFyZykge1xuICAgICAgICB0aGlzLl9faGFuZGxlX2NoYW5nZShwcm9wTmFtZSwgZUFyZyk7XG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKiBDQUxMQkFDS1xuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgX19oYW5kbGVfY2hhbmdlKG9yaWdpbiwgZUFyZykge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGlkKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9waWQpO1xuICAgICAgICBpZiAodGhpcy5zcmMgJiYgdGhpcy5jdHJsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleCA9PSB1bmRlZmluZWQgfHwgZUFyZyA9PSBcInJlc2V0XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBOT1QgdXNlZCBmb3IgY3Vyc29yIHF1ZXJ5IFxuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBuZXcgQ3Vyc29ySW5kZXgodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsZWFyQ2FjaGVzKCk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeV9jYWxsYmFja3MoKTtcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIGV2ZW50IGZvciBjdXJzb3JcbiAgICAgICAgICAgIHRoaXMuZXZlbnRpZnlUcmlnZ2VyKFwiY2hhbmdlXCIsIHRoaXMucXVlcnkoKSk7XG4gICAgICAgICAgICAvLyBkZXRlY3QgZnV0dXJlIGNoYW5nZSBldmVudCAtIGlmIG5lZWRlZFxuICAgICAgICAgICAgdGhpcy5fX2RldGVjdF9mdXR1cmVfY2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBERVRFQ1QgRlVUVVJFIENIQU5HRVxuICAgICAqIFxuICAgICAqIFBST0JMRU06XG4gICAgICogXG4gICAgICogRHVyaW5nIHBsYXliYWNrIChjdXJzb3IuY3RybCBpcyBkeW5hbWljKSwgdGhlcmUgaXMgYSBuZWVkIHRvIFxuICAgICAqIGRldGVjdCB0aGUgcGFzc2luZyBmcm9tIG9uZSBzZWdtZW50IGludGVydmFsIG9mIHNyY1xuICAgICAqIHRvIHRoZSBuZXh0IC0gaWRlYWxseSBhdCBwcmVjaXNlbHkgdGhlIGNvcnJlY3QgdGltZVxuICAgICAqIFxuICAgICAqIG5lYXJieS5pdHYgKGRlcml2ZWQgZnJvbSBjdXJzb3Iuc3JjKSBnaXZlcyB0aGUgXG4gICAgICogaW50ZXJ2YWwgKGkpIHdlIGFyZSBjdXJyZW50bHkgaW4sIGkuZS4sIFxuICAgICAqIGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgb2Zmc2V0ICh2YWx1ZSBvZiBjdXJzb3IuY3RybCksIFxuICAgICAqIGFuZCAoaWkpIHdoZXJlIG5lYXJieS5jZW50ZXIgc3RheXMgY29uc3RhbnRcbiAgICAgKiBcbiAgICAgKiBUaGUgZXZlbnQgdGhhdCBuZWVkcyB0byBiZSBkZXRlY3RlZCBpcyB0aGVyZWZvcmUgdGhlXG4gICAgICogbW9tZW50IHdoZW4gd2UgbGVhdmUgdGhpcyBpbnRlcnZhbCwgdGhyb3VnaCBlaXRoZXJcbiAgICAgKiB0aGUgbG93IG9yIGhpZ2ggaW50ZXJ2YWwgZW5kcG9pbnRcbiAgICAgKiBcbiAgICAgKiBHT0FMOlxuICAgICAqIFxuICAgICAqIEF0IHRoaXMgbW9tZW50LCB3ZSBzaW1wbHkgbmVlZCB0byByZWV2YWx1YXRlIHRoZSBzdGF0ZSAocXVlcnkpIGFuZFxuICAgICAqIGVtaXQgYSBjaGFuZ2UgZXZlbnQgdG8gbm90aWZ5IG9ic2VydmVycy4gXG4gICAgICogXG4gICAgICogQVBQUk9BQ0hFUzpcbiAgICAgKiBcbiAgICAgKiBBcHByb2FjaCBbMF0gXG4gICAgICogVGhlIHRyaXZpYWwgc29sdXRpb24gaXMgdG8gZG8gbm90aGluZywgaW4gd2hpY2ggY2FzZVxuICAgICAqIG9ic2VydmVycyB3aWxsIHNpbXBseSBmaW5kIG91dCB0aGVtc2VsdmVzIGFjY29yZGluZyB0byB0aGVpciBcbiAgICAgKiBvd24gcG9sbCBmcmVxdWVuY3kuIFRoaXMgaXMgc3Vib3B0aW1hbCwgcGFydGljdWxhcmx5IGZvciBsb3cgZnJlcXVlbmN5IFxuICAgICAqIG9ic2VydmVycy4gSWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIGhpZ2gtZnJlcXVlbmN5IHBvbGxlciwgXG4gICAgICogdGhpcyB3b3VsZCB0cmlnZ2VyIHRyaWdnZXIgdGhlIHN0YXRlIGNoYW5nZSwgY2F1c2luZyBhbGxcbiAgICAgKiBvYnNlcnZlcnMgdG8gYmUgbm90aWZpZWQuIFRoZSBwcm9ibGVtIHRob3VnaCwgaXMgaWYgbm8gb2JzZXJ2ZXJzXG4gICAgICogYXJlIGFjdGl2ZWx5IHBvbGxpbmcsIGJ1dCBvbmx5IGRlcGVuZGluZyBvbiBjaGFuZ2UgZXZlbnRzLlxuICAgICAqIFxuICAgICAqIEFwcHJvYWNoIFsxXSBcbiAgICAgKiBJbiBjYXNlcyB3aGVyZSB0aGUgY3RybCBpcyBkZXRlcm1pbmlzdGljLCBhIHRpbWVvdXRcbiAgICAgKiBjYW4gYmUgY2FsY3VsYXRlZC4gVGhpcyBpcyB0cml2aWFsIGlmIGN0cmwgaXMgYSBDbG9ja1Byb3ZpZGVyLCBhbmRcbiAgICAgKiBpdCBpcyBmYWlybHkgZWFzeSBpZiB0aGUgY3RybCBpcyBDdXJzb3IgcmVwcmVzZW50aW5nIG1vdGlvblxuICAgICAqIG9yIGxpbmVhciB0cmFuc2l0aW9uLiBIb3dldmVyLCBjYWxjdWxhdGlvbnMgY2FuIGJlY29tZSBtb3JlXG4gICAgICogY29tcGxleCBpZiBtb3Rpb24gc3VwcG9ydHMgYWNjZWxlcmF0aW9uLCBvciBpZiB0cmFuc2l0aW9uc1xuICAgICAqIGFyZSBzZXQgdXAgd2l0aCBub24tbGluZWFyIGVhc2luZy5cbiAgICAgKiAgIFxuICAgICAqIE5vdGUsIGhvd2V2ZXIsIHRoYXQgdGhlc2UgY2FsY3VsYXRpb25zIGFzc3VtZSB0aGF0IHRoZSBjdXJzb3IuY3RybCBpcyBcbiAgICAgKiBhIENsb2NrUHJvdmlkZXIsIG9yIHRoYXQgY3Vyc29yLmN0cmwuY3RybCBpcyBhIENsb2NrUHJvaWRlci4gXG4gICAgICogSW4gcHJpbmNpcGxlLCB0aG91Z2gsIHRoZXJlIGNvdWxkIGJlIGEgcmVjdXJzaXZlIGNoYWluIG9mIGN1cnNvcnMsXG4gICAgICogKGN1cnNvci5jdHJsLmN0cmwuLi4uY3RybCkgb2Ygc29tZSBsZW5ndGgsIHdoZXJlIG9ubHkgdGhlIGxhc3QgaXMgYSBcbiAgICAgKiBDbG9ja1Byb3ZpZGVyLiBJbiBvcmRlciB0byBkbyBkZXRlcm1pbmlzdGljIGNhbGN1bGF0aW9ucyBpbiB0aGUgZ2VuZXJhbFxuICAgICAqIGNhc2UsIGFsbCBjdXJzb3JzIGluIHRoZSBjaGFpbiB3b3VsZCBoYXZlIHRvIGJlIGxpbWl0ZWQgdG8gXG4gICAgICogZGV0ZXJtaW5pc3RpYyBsaW5lYXIgdHJhbnNmb3JtYXRpb25zLlxuICAgICAqIFxuICAgICAqIEFwcHJvY2ggWzJdIFxuICAgICAqIEl0IG1pZ2h0IGFsc28gYmUgcG9zc2libGUgdG8gc2FtcGxlIGZ1dHVyZSB2YWx1ZXMgb2YgXG4gICAgICogY3Vyc29yLmN0cmwgdG8gc2VlIGlmIHRoZSB2YWx1ZXMgdmlvbGF0ZSB0aGUgbmVhcmJ5Lml0diBhdCBzb21lIHBvaW50LiBcbiAgICAgKiBUaGlzIHdvdWxkIGVzc2VudGlhbGx5IGJlIHRyZWF0aW5nIGN0cmwgYXMgYSBsYXllciBhbmQgc2FtcGxpbmcgXG4gICAgICogZnV0dXJlIHZhbHVlcy4gVGhpcyBhcHByb2NoIHdvdWxkIHdvcmsgZm9yIGFsbCB0eXBlcywgXG4gICAgICogYnV0IHRoZXJlIGlzIG5vIGtub3dpbmcgaG93IGZhciBpbnRvIHRoZSBmdXR1cmUgb25lIFxuICAgICAqIHdvdWxkIGhhdmUgdG8gc2Vlay4gSG93ZXZlciwgYWdhaW4gLSBhcyBpbiBbMV0gdGhlIGFiaWxpdHkgdG8gc2FtcGxlIGZ1dHVyZSB2YWx1ZXNcbiAgICAgKiBpcyBwcmVkaWNhdGVkIG9uIGN1cnNvci5jdHJsIGJlaW5nIGEgQ2xvY2tQcm92aWRlci4gQWxzbywgdGhlcmUgXG4gICAgICogaXMgbm8gd2F5IG9mIGtub3dpbmcgaG93IGxvbmcgaW50byB0aGUgZnV0dXJlIHNhbXBsaW5nIHdvdWxkIGJlIG5lY2Vzc2FyeS5cbiAgICAgKiBcbiAgICAgKiBBcHByb2FjaCBbM10gXG4gICAgICogSW4gdGhlIGdlbmVyYWwgY2FzZSwgdGhlIG9ubHkgd2F5IHRvIHJlbGlhYmxleSBkZXRlY3QgdGhlIGV2ZW50IGlzIHRocm91Z2ggcmVwZWF0ZWRcbiAgICAgKiBwb2xsaW5nLiBBcHByb2FjaCBbM10gaXMgc2ltcGx5IHRoZSBpZGVhIHRoYXQgdGhpcyBwb2xsaW5nIGlzIHBlcmZvcm1lZFxuICAgICAqIGludGVybmFsbHkgYnkgdGhlIGN1cnNvciBpdHNlbGYsIGFzIGEgd2F5IG9mIHNlY3VyaW5nIGl0cyBvd24gY29uc2lzdGVudFxuICAgICAqIHN0YXRlLCBhbmQgZW5zdXJpbmcgdGhhdCBvYnNlcnZlciBnZXQgY2hhbmdlIGV2ZW50cyBpbiBhIHRpbWVseSBtYW5uZXIsIGV2ZW50XG4gICAgICogaWYgdGhleSBkbyBsb3ctZnJlcXVlbmN5IHBvbGxpbmcsIG9yIGRvIG5vdCBkbyBwb2xsaW5nIGF0IGFsbC4gXG4gICAgICogXG4gICAgICogU09MVVRJT046XG4gICAgICogQXMgdGhlcmUgaXMgbm8gcGVyZmVjdCBzb2x1dGlvbiBpbiB0aGUgZ2VuZXJhbCBjYXNlLCB3ZSBvcHBvcnR1bmlzdGljYWxseVxuICAgICAqIHVzZSBhcHByb2FjaCBbMV0gd2hlbiB0aGlzIGlzIHBvc3NpYmxlLiBJZiBub3QsIHdlIGFyZSBmYWxsaW5nIGJhY2sgb24gXG4gICAgICogYXBwcm9hY2ggWzNdXG4gICAgICogXG4gICAgICogQ09ORElUSU9OUyB3aGVuIE5PIGV2ZW50IGRldGVjdGlvbiBpcyBuZWVkZWQgKE5PT1ApXG4gICAgICogKGkpIGN1cnNvci5jdHJsIGlzIG5vdCBkeW5hbWljXG4gICAgICogb3JcbiAgICAgKiAoaWkpIG5lYXJieS5pdHYgc3RyZXRjaGVzIGludG8gaW5maW5pdHkgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgICogXG4gICAgICogQ09ORElUSU9OUyB3aGVuIGFwcHJvYWNoIFsxXSBjYW4gYmUgdXNlZFxuICAgICAqIFxuICAgICAqIChpKSBpZiBjdHJsIGlzIGEgQ2xvY2tQcm92aWRlciAmJiBuZWFyYnkuaXR2LmhpZ2ggPCBJbmZpbml0eVxuICAgICAqIG9yXG4gICAgICogKGlpKSBjdHJsLmN0cmwgaXMgYSBDbG9ja1Byb3ZpZGVyXG4gICAgICogICAgICAoYSkgY3RybC5uZWFyYnkuY2VudGVyIGhhcyBleGFjdGx5IDEgaXRlbVxuICAgICAqICAgICAgJiZcbiAgICAgKiAgICAgIChiKSBjdHJsLm5lYXJieS5jZW50ZXJbMF0udHlwZSA9PSAoXCJtb3Rpb25cIikgfHwgKFwidHJhbnNpdGlvblwiICYmIGVhc2luZz09XCJsaW5lYXJcIilcbiAgICAgKiAgICAgICYmXG4gICAgICogICAgICAoYykgY3RybC5uZWFyYnkuY2VudGVyWzBdLmRhdGEudmVsb2NpdHkgIT0gMC4wXG4gICAgICogICAgICAmJiBcbiAgICAgKiAgICAgIChkKSBmdXR1cmUgaW50ZXJzZWN0b24gcG9pbnQgd2l0aCBjYWNoZS5uZWFyYnkuaXR2IFxuICAgICAqICAgICAgICAgIGlzIG5vdCAtSW5maW5pdHkgb3IgSW5maW5pdHlcbiAgICAgKiBcbiAgICAgKiBUaG91Z2ggaXQgc2VlbXMgY29tcGxleCwgY29uZGl0aW9ucyBmb3IgWzFdIHNob3VsZCBiZSBtZXQgZm9yIGNvbW1vbiBjYXNlcyBpbnZvbHZpbmdcbiAgICAgKiBwbGF5YmFjay4gQWxzbywgdXNlIG9mIHRyYW5zaXRpb24gZXRjIG1pZ2h0IGJlIHJhcmUuXG4gICAgICogXG4gICAgICovXG5cbiAgICBfX2RldGVjdF9mdXR1cmVfY2hhbmdlKCkge1xuXG4gICAgICAgIC8vIGN0cmwgXG4gICAgICAgIGNvbnN0IGN0cmxfdmVjdG9yID0gdGhpcy5fZ2V0X2N0cmxfc3RhdGUoKTtcbiAgICAgICAgY29uc3Qge3ZhbHVlOmN1cnJlbnRfcG9zLCBvZmZzZXQ6Y3VycmVudF90c30gPSBjdHJsX3ZlY3RvcjtcblxuICAgICAgICAvLyBjdHJsIG11c3QgYmUgZHluYW1pY1xuICAgICAgICBpZiAoIWN0cmxfdmVjdG9yLmR5bmFtaWMpIHtcbiAgICAgICAgICAgIC8vIG5vIGZ1dHVyZSBldmVudCB0byBkZXRlY3RcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBuZWFyYnkgZnJvbSBzcmMgLSB1c2UgdmFsdWUgZnJvbSBjdHJsXG4gICAgICAgIGNvbnN0IHNyY19uZWFyYnkgPSB0aGlzLnNyYy5pbmRleC5uZWFyYnkoY3VycmVudF9wb3MpO1xuICAgICAgICBsZXQgW2xvdywgaGlnaF0gPSBzcmNfbmVhcmJ5Lml0di5zbGljZSgwLDIpOyAgICAgICAgXG4gICAgICAgIGlmIChsb3cgPT0gbnVsbCkge1xuICAgICAgICAgICAgbG93ID0gLUluZmluaXR5XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpZ2ggPT0gbnVsbCkge1xuICAgICAgICAgICAgaGlnaCA9IEluZmluaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXBwcm9hY2ggWzFdXG4gICAgICAgIGlmIChpc19jbG9ja3Byb3ZpZGVyKHRoaXMuY3RybCkpIHtcbiAgICAgICAgICAgIGlmIChpc0Zpbml0ZShoaWdoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19zZXRfdGltZW91dChoaWdoLCBjdXJyZW50X3BvcywgMS4wLCBjdXJyZW50X3RzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBubyBmdXR1cmUgZXZlbnQgdG8gZGV0ZWN0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzX2Nsb2NrcHJvdmlkZXIodGhpcy5jdHJsLmN0cmwpKSB7XG4gICAgICAgICAgICAvKiogXG4gICAgICAgICAgICAgKiB0aGlzLmN0cmwgaXMgYSBjdXJzb3JcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogaGFzIG1hbnkgcG9zc2libGUgYmVoYXZpb3JzXG4gICAgICAgICAgICAgKiB0aGlzLmN0cmwgaGFzIGFuIGluZGV4IHVzZSB0aGlzIHRvIGZpZ3VyZSBvdXQgd2hpY2hcbiAgICAgICAgICAgICAqIGJlaGF2aW91ciBpcyBjdXJyZW50LlxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFpc0Zpbml0ZShsb3cpICYmICFpc0Zpbml0ZShoaWdoKSkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZ1dHVyZSBldmVudCB0byBkZXRlY3RcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1c2UgdGhlIHNhbWUgb2Zmc2V0IHRoYXQgd2FzIHVzZWQgaW4gdGhlIGN0cmwucXVlcnlcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgdGhpcy5jdHJsLnNyYyBpcyBJbnB1dExheWVyIHdpdGggc2VnbWVudHNcbiAgICAgICAgICAgIGNvbnN0IGN0cmxfc3JjX25lYXJieSA9IHRoaXMuY3RybC5zcmMuaW5kZXgubmVhcmJ5KGN1cnJlbnRfdHMpO1xuXG4gICAgICAgICAgICBpZiAoY3RybF9zcmNfbmVhcmJ5LmNlbnRlci5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZyA9IGN0cmxfc3JjX25lYXJieS5jZW50ZXJbMF07XG4gICAgICAgICAgICAgICAgaWYgKHNlZy50eXBlID09IFwibW90aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge3ZlbG9jaXR5LCBhY2NlbGVyYXRpb249MC4wfSA9IHNlZy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWNjZWxlcmF0aW9uID09IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlndXJlIG91dCB3aGljaCBib3VuZGFyeSB3ZSBoaXQgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRfcG9zID0gKHZlbG9jaXR5ID4gMCkgPyBoaWdoIDogbG93O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmluaXRlKHRhcmdldF9wb3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3NldF90aW1lb3V0KHRhcmdldF9wb3MsIGN1cnJlbnRfcG9zLCB2ZWxvY2l0eSwgY3VycmVudF90cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIGZ1dHVyZSBldmVudCB0byBkZXRlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBhY2NlbGVyYXRpb24gLSBwb3NzaWJsZSBldmVudCB0byBkZXRlY3RcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlZy50eXBlID09IFwidHJhbnNpdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHt2MDpwMCwgdjE6cDEsIHQwLCB0MSwgZWFzaW5nPVwibGluZWFyXCJ9ID0gc2VnLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlYXNpbmcgPT0gXCJsaW5lYXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGluZWFyIHRyYW5zdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZlbG9jaXR5ID0gKHAxLXAwKS8odDEtdDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlndXJlIG91dCB3aGljaCBib3VuZGFyeSB3ZSBoaXQgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldF9wb3MgPSAodmVsb2NpdHkgPiAwKSA/IE1hdGgubWluKGhpZ2gsIHAxKSA6IE1hdGgubWF4KGxvdywgcDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3NldF90aW1lb3V0KHRhcmdldF9wb3MsIGN1cnJlbnRfcG9zLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eSwgY3VycmVudF90cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyIGVhc2luZyAtIHBvc3NpYmxlIGV2ZW50IHRvIGRldGVjdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvdGhlciB0eXBlIChpbnRlcnBvbGF0aW9uKSAtIHBvc3NpYmxlIGV2ZW50IHRvIGRldGVjdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbW9yZSB0aGFuIG9uZSBzZWdtZW50IC0gcG9zc2libGUgZXZlbnQgdG8gZGV0ZWN0XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwb3NzaWJsZSBldmVudCB0byBkZXRlY3QgLSBhcHByb2FjaCBbM11cbiAgICAgICAgdGhpcy5fX3NldF9wb2xsaW5nKHNyY19uZWFyYnkuaXR2KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzZXQgdGltZW91dFxuICAgICAqIC0gcHJvdGVjdHMgYWdhaW5zdCB0b28gZWFybHkgY2FsbGJhY2tzIGJ5IHJlc2NoZWR1bGluZ1xuICAgICAqIHRpbWVvdXQgaWYgbmVjY2Vzc2FyeS5cbiAgICAgKiAtIGFkZHMgYSBtaWxsaXNlY29uZCB0byBvcmlnaW5hbCB0aW1lb3V0IHRvIGF2b2lkXG4gICAgICogZnJlcXVlbnQgcmVzY2hlZHVsaW5nIFxuICAgICAqL1xuXG4gICAgX19zZXRfdGltZW91dCh0YXJnZXRfcG9zLCBjdXJyZW50X3BvcywgdmVsb2NpdHksIGN1cnJlbnRfdHMpIHtcbiAgICAgICAgY29uc3QgZGVsdGFfc2VjID0gKHRhcmdldF9wb3MgLSBjdXJyZW50X3BvcykgLyB2ZWxvY2l0eTtcbiAgICAgICAgY29uc3QgdGFyZ2V0X3RzID0gY3VycmVudF90cyArIGRlbHRhX3NlYztcbiAgICAgICAgdGhpcy5fdGlkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9faGFuZGxlX3RpbWVvdXQodGFyZ2V0X3RzKTtcbiAgICAgICAgfSwgZGVsdGFfc2VjKjEwMDAgKyAxKTtcbiAgICB9XG5cbiAgICBfX2hhbmRsZV90aW1lb3V0KHRhcmdldF90cykge1xuICAgICAgICBjb25zdCB0cyA9IHRoaXMuX2dldF9jdHJsX3N0YXRlKCkub2Zmc2V0O1xuICAgICAgICBjb25zdCByZW1haW5pbmdfc2VjID0gdGFyZ2V0X3RzIC0gdHM7IFxuICAgICAgICBpZiAocmVtYWluaW5nX3NlYyA8PSAwKSB7XG4gICAgICAgICAgICAvLyBkb25lXG4gICAgICAgICAgICB0aGlzLl9faGFuZGxlX2NoYW5nZShcInRpbWVvdXRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZXNjaGVkdWxlIHRpbWVvdXRcbiAgICAgICAgICAgIHRoaXMuX3RpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX19oYW5kbGVfdGltZW91dCh0YXJnZXRfdHMpXG4gICAgICAgICAgICB9LCByZW1haW5pbmdfc2VjKjEwMDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2V0IHBvbGxpbmdcbiAgICAgKi9cblxuICAgIF9fc2V0X3BvbGxpbmcoaXR2KSB7XG4gICAgICAgIHRoaXMuX3BpZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX19oYW5kbGVfcG9sbChpdHYpO1xuICAgICAgICB9LCAxMDApO1xuICAgIH1cblxuICAgIF9faGFuZGxlX3BvbGwoaXR2KSB7XG4gICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLmN0cmwucXVlcnkoKS52YWx1ZTtcbiAgICAgICAgaWYgKCFpbnRlcnZhbC5jb3ZlcnNfcG9pbnQoaXR2LCBvZmZzZXQpKSB7XG4gICAgICAgICAgICB0aGlzLl9faGFuZGxlX2NoYW5nZShcInRpbWVvdXRcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqIFFVRVJZIEFQSVxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgX2dldF9jdHJsX3N0YXRlICgpIHtcbiAgICAgICAgaWYgKGlzX2Nsb2NrcHJvdmlkZXIodGhpcy5jdHJsKSkge1xuICAgICAgICAgICAgbGV0IHRzID0gdGhpcy5jdHJsLm5vdygpO1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTp0cywgZHluYW1pYzp0cnVlLCBvZmZzZXQ6dHN9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5jdHJsLnF1ZXJ5KCk7XG4gICAgICAgICAgICAvLyBwcm90ZWN0IGFnYWluc3Qgbm9uLWZsb2F0IHZhbHVlc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZS52YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHdhcm5pbmc6IGN0cmwgc3RhdGUgbXVzdCBiZSBudW1iZXIgJHtzdGF0ZS52YWx1ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCB2YWx1ZSAoKSB7cmV0dXJuIHRoaXMucXVlcnkoKS52YWx1ZX07XG4gICAgXG4gICAgLypcbiAgICAgICAgRXZlbnRpZnk6IGltbWVkaWF0ZSBldmVudHNcbiAgICAqL1xuICAgIGV2ZW50aWZ5SW5pdEV2ZW50QXJncyhuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lID09IFwiY2hhbmdlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBbdGhpcy5xdWVyeSgpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqIEJJTkQgUkVMRUFTRSAoY29udmVuaWVuY2UpXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICBiaW5kKGNhbGxiYWNrLCBkZWxheSwgb3B0aW9ucz17fSkge1xuICAgICAgICByZXR1cm4gYmluZCh0aGlzLCBjYWxsYmFjaywgZGVsYXksIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZWxlYXNlKGhhbmRsZSkge1xuICAgICAgICByZXR1cm4gcmVsZWFzZShoYW5kbGUpO1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogVVBEQVRFIEFQSVxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgYXNzaWduKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjbWQodGhpcy5zcmMuc3JjKS5hc3NpZ24odmFsdWUpO1xuICAgIH1cbiAgICBtb3ZlICh7cG9zaXRpb24sIHZlbG9jaXR5fSkge1xuICAgICAgICBsZXQge3ZhbHVlLCBvZmZzZXQ6dGltZXN0YW1wfSA9IHRoaXMucXVlcnkoKTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgd2FybmluZzogY3Vyc29yIHN0YXRlIG11c3QgYmUgbnVtYmVyICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gIT0gdW5kZWZpbmVkKSA/IHBvc2l0aW9uIDogdmFsdWU7XG4gICAgICAgIHZlbG9jaXR5ID0gKHZlbG9jaXR5ICE9IHVuZGVmaW5lZCkgPyB2ZWxvY2l0eTogMDtcbiAgICAgICAgcmV0dXJuIGNtZCh0aGlzLnNyYy5zcmMpLm1vdmUoe3Bvc2l0aW9uLCB2ZWxvY2l0eSwgdGltZXN0YW1wfSk7XG4gICAgfVxuICAgIHRyYW5zaXRpb24gKHt0YXJnZXQsIGR1cmF0aW9uLCBlYXNpbmd9KSB7XG4gICAgICAgIGxldCB7dmFsdWU6djAsIG9mZnNldDp0MH0gPSB0aGlzLnF1ZXJ5KCk7XG4gICAgICAgIGlmICh0eXBlb2YgdjAgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHdhcm5pbmc6IGN1cnNvciBzdGF0ZSBtdXN0IGJlIG51bWJlciAke3YwfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbWQodGhpcy5zcmMuc3JjKS50cmFuc2l0aW9uKHYwLCB0YXJnZXQsIHQwLCB0MCArIGR1cmF0aW9uLCBlYXNpbmcpO1xuICAgIH1cbiAgICBpbnRlcnBvbGF0ZSAoe3R1cGxlcywgZHVyYXRpb259KSB7XG4gICAgICAgIGxldCB0MCA9IHRoaXMucXVlcnkoKS5vZmZzZXQ7XG4gICAgICAgIC8vIGFzc3VtaW5nIHRpbXN0YW1wcyBhcmUgaW4gcmFuZ2UgWzAsMV1cbiAgICAgICAgLy8gc2NhbGUgdGltZXN0YW1wcyB0byBkdXJhdGlvblxuICAgICAgICB0dXBsZXMgPSB0dXBsZXMubWFwKChbdix0XSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFt2LCB0MCArIHQqZHVyYXRpb25dO1xuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gY21kKHRoaXMuc3JjLnNyYykuaW50ZXJwb2xhdGUodHVwbGVzKTtcbiAgICB9XG5cbn1cbnNyY3Byb3AuYWRkVG9Qcm90b3R5cGUoQ3Vyc29yLnByb3RvdHlwZSk7XG5zcmNwcm9wLmFkZFRvUHJvdG90eXBlKEN1cnNvci5wcm90b3R5cGUpO1xuXG4iLCJpbXBvcnQgeyBpbnRlcnZhbCwgZW5kcG9pbnR9IGZyb20gXCIuLi9pbnRlcnZhbHMuanNcIjtcbmltcG9ydCB7IE5lYXJieUluZGV4QmFzZSB9IGZyb20gXCIuLi9uZWFyYnlpbmRleF9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuLi9sYXllcnMuanNcIlxuXG5leHBvcnQgY2xhc3MgQm9vbGVhbkxheWVyIGV4dGVuZHMgTGF5ZXIge1xuXG4gICAgY29uc3RydWN0b3IobGF5ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbmRleCA9IG5ldyBCb29sZWFuSW5kZXgobGF5ZXIuaW5kZXgpO1xuICAgIFxuICAgICAgICAvLyBzdWJzY3JpYmVcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX29uY2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIGxheWVyLmFkZF9jYWxsYmFjayhoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBfb25jaGFuZ2UoZUFyZykge1xuICAgICAgICB0aGlzLmNsZWFyQ2FjaGVzKCk7XG4gICAgICAgIHRoaXMubm90aWZ5X2NhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmV2ZW50aWZ5VHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib29sZWFuKGxheWVyKSB7XG4gICAgcmV0dXJuIG5ldyBCb29sZWFuTGF5ZXIobGF5ZXIpO1xufSBcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQk9PTEVBTiBORUFSQlkgSU5ERVhcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBXcmFwcGVyIEluZGV4IHdoZXJlIHJlZ2lvbnMgYXJlIHRydWUvZmFsc2UsIGJhc2VkIG9uIFxuICogY29uZGl0aW9uIG9uIG5lYXJieS5jZW50ZXIuXG4gKiBCYWNrLXRvLWJhY2sgcmVnaW9ucyB3aGljaCBhcmUgdHJ1ZSBhcmUgY29sbGFwc2VkIFxuICogaW50byBvbmUgcmVnaW9uXG4gKiBcbiAqL1xuXG5mdW5jdGlvbiBxdWVyeU9iamVjdCAodmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeTogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZSwgZHluYW1pYzpmYWxzZSwgb2Zmc2V0fTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJvb2xlYW5JbmRleCBleHRlbmRzIE5lYXJieUluZGV4QmFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihpbmRleCwgb3B0aW9ucz17fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xuICAgICAgICBsZXQge2NvbmRpdGlvbiA9IChjZW50ZXIpID0+IGNlbnRlci5sZW5ndGggPiAwfSA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2NvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICB9XG5cbiAgICBuZWFyYnkob2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IGVuZHBvaW50LmZyb21faW5wdXQob2Zmc2V0KTtcbiAgICAgICAgY29uc3QgbmVhcmJ5ID0gdGhpcy5faW5kZXgubmVhcmJ5KG9mZnNldCk7XG4gICAgICAgIFxuICAgICAgICBsZXQgZXZhbHVhdGlvbiA9IHRoaXMuX2NvbmRpdGlvbihuZWFyYnkuY2VudGVyKTsgXG4gICAgICAgIC8qIFxuICAgICAgICAgICAgc2VlayBsZWZ0IGFuZCByaWdodCBmb3IgZmlyc3QgcmVnaW9uXG4gICAgICAgICAgICB3aGljaCBkb2VzIG5vdCBoYXZlIHRoZSBzYW1lIGV2YWx1YXRpb24gXG4gICAgICAgICovXG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IChjZW50ZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25kaXRpb24oY2VudGVyKSAhPSBldmFsdWF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXhwYW5kIHJpZ2h0XG4gICAgICAgIGxldCByaWdodDtcbiAgICAgICAgbGV0IHJpZ2h0X25lYXJieSA9IHRoaXMuX2luZGV4LmZpbmRfcmVnaW9uKG5lYXJieSwge1xuICAgICAgICAgICAgZGlyZWN0aW9uOjEsIGNvbmRpdGlvblxuICAgICAgICB9KTsgICAgICAgIFxuICAgICAgICBpZiAocmlnaHRfbmVhcmJ5ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmlnaHQgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKHJpZ2h0X25lYXJieS5pdHYpWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXhwYW5kIGxlZnRcbiAgICAgICAgbGV0IGxlZnQ7XG4gICAgICAgIGxldCBsZWZ0X25lYXJieSA9IHRoaXMuX2luZGV4LmZpbmRfcmVnaW9uKG5lYXJieSwge1xuICAgICAgICAgICAgZGlyZWN0aW9uOi0xLCBjb25kaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChsZWZ0X25lYXJieSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxlZnQgPSBlbmRwb2ludC5mcm9tX2ludGVydmFsKGxlZnRfbmVhcmJ5Lml0dilbMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBleHBhbmQgdG8gaW5maW5pdHlcbiAgICAgICAgbGVmdCA9IGxlZnQgfHwgZW5kcG9pbnQuTkVHX0lORjtcbiAgICAgICAgcmlnaHQgPSByaWdodCB8fCBlbmRwb2ludC5QT1NfSU5GO1xuICAgICAgICBjb25zdCBsb3cgPSBlbmRwb2ludC5mbGlwKGxlZnQpO1xuICAgICAgICBjb25zdCBoaWdoID0gZW5kcG9pbnQuZmxpcChyaWdodClcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGl0djogaW50ZXJ2YWwuZnJvbV9lbmRwb2ludHMobG93LCBoaWdoKSxcbiAgICAgICAgICAgIGNlbnRlciA6IFtxdWVyeU9iamVjdChldmFsdWF0aW9uKV0sXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNZXJnZUluZGV4IH0gZnJvbSBcIi4vbWVyZ2UuanNcIjtcbmltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4uL2xheWVycy5qc1wiO1xuaW1wb3J0IHsgQm9vbGVhbkluZGV4IH0gZnJvbSBcIi4vYm9vbGVhbi5qc1wiO1xuXG5cbmNsYXNzIExvZ2ljYWxNZXJnZUxheWVyIGV4dGVuZHMgTGF5ZXIge1xuXG4gICAgY29uc3RydWN0b3Ioc291cmNlcywgb3B0aW9ucz17fSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGNvbnN0IHtleHByfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgbGV0IGNvbmRpdGlvbjtcbiAgICAgICAgaWYgKGV4cHIpIHtcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IChjZW50ZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwci5ldmFsKGNlbnRlcik7XG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAvLyBzdWJzY3JpYmUgdG8gY2FsbGJhY2tzIGZyb20gc291cmNlc1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5fb25jaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgZm9yIChsZXQgc3JjIG9mIHNvdXJjZXMpIHtcbiAgICAgICAgICAgIHNyYy5hZGRfY2FsbGJhY2soaGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbmRleFxuICAgICAgICBsZXQgaW5kZXggPSBuZXcgTWVyZ2VJbmRleChzb3VyY2VzKTtcbiAgICAgICAgdGhpcy5faW5kZXggPSBuZXcgQm9vbGVhbkluZGV4KGluZGV4LCB7Y29uZGl0aW9ufSk7XG4gICAgfVxuXG4gICAgZ2V0IGluZGV4ICgpIHtyZXR1cm4gdGhpcy5faW5kZXh9O1xuXG4gICAgX29uY2hhbmdlKGVBcmcpIHtcbiAgICAgICAgdGhpcy5jbGVhckNhY2hlcygpO1xuICAgICAgICB0aGlzLm5vdGlmeV9jYWxsYmFja3MoKTtcbiAgICAgICAgdGhpcy5ldmVudGlmeVRyaWdnZXIoXCJjaGFuZ2VcIik7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dpY2FsX21lcmdlKHNvdXJjZXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IExvZ2ljYWxNZXJnZUxheWVyKHNvdXJjZXMsIG9wdGlvbnMpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dpY2FsX2V4cHIgKHNyYykge1xuICAgIGlmICghKHNyYyBpbnN0YW5jZW9mIExheWVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG11c3QgYmUgbGF5ZXIgJHtzcmN9YClcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZhbDogZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICAgICAgZm9yIChsZXQgY2FjaGUgb2YgY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlLnNyYyA9PSBzcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5sb2dpY2FsX2V4cHIuYW5kID0gZnVuY3Rpb24gYW5kKC4uLmV4cHJzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZhbDogZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGV4cHJzLmV2ZXJ5KChleHByKSA9PiBleHByLmV2YWwoY2VudGVyKSk7XG4gICAgICAgIH0gICAgXG4gICAgfVxufVxuXG5sb2dpY2FsX2V4cHIub3IgPSBmdW5jdGlvbiBvciguLi5leHBycykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGV2YWw6IGZ1bmN0aW9uIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBleHBycy5zb21lKChleHByKSA9PiBleHByLmV2YWwoY2VudGVyKSk7XG4gICAgICAgIH0gICAgXG4gICAgfVxufVxuXG5sb2dpY2FsX2V4cHIueG9yID0gZnVuY3Rpb24geG9yKGV4cHIxLCBleHByMikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGV2YWw6IGZ1bmN0aW9uIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBleHByMS5ldmFsKGNlbnRlcikgIT0gZXhwcjIuZXZhbChjZW50ZXIpO1xuICAgICAgICB9ICAgIFxuICAgIH1cbn1cblxubG9naWNhbF9leHByLm5vdCA9IGZ1bmN0aW9uIG5vdChleHByKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZhbDogZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuICFleHByLmV2YWwoY2VudGVyKTtcbiAgICAgICAgfSAgICBcbiAgICB9XG59XG5cblxuXG5cbiIsImltcG9ydCB7IExvY2FsU3RhdGVQcm92aWRlciB9IGZyb20gXCIuL3N0YXRlcHJvdmlkZXIuanNcIjtcbmltcG9ydCB7IG1lcmdlIH0gZnJvbSBcIi4vb3BzL21lcmdlLmpzXCJcbmltcG9ydCB7IHNoaWZ0IH0gZnJvbSBcIi4vb3BzL3NoaWZ0LmpzXCI7XG5pbXBvcnQgeyBJbnB1dExheWVyLCBMYXllciB9IGZyb20gXCIuL2xheWVycy5qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yIH0gZnJvbSBcIi4vY3Vyc29ycy5qc1wiO1xuaW1wb3J0IHsgYm9vbGVhbiB9IGZyb20gXCIuL29wcy9ib29sZWFuLmpzXCJcbmltcG9ydCB7IGNtZCB9IGZyb20gXCIuL2NtZC5qc1wiO1xuaW1wb3J0IHsgbG9naWNhbF9tZXJnZSwgbG9naWNhbF9leHByfSBmcm9tIFwiLi9vcHMvbG9naWNhbF9tZXJnZS5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTEFZRVIgRkFDVE9SWVxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiBsYXllcihvcHRpb25zPXt9KSB7XG4gICAgbGV0IHtzcmMsIC4uLm9wdHN9ID0gb3B0aW9ucztcbiAgICBpZiAoc3JjIGluc3RhbmNlb2YgTGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuIHNyYztcbiAgICB9IFxuICAgIGlmIChzcmMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNyYyA9IG5ldyBMb2NhbFN0YXRlUHJvdmlkZXIob3B0cyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSW5wdXRMYXllcih7c3JjLCAuLi5vcHRzfSk7IFxufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQ1VSU09SIEZBQ1RPUklFU1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiBjdXJzb3Iob3B0aW9ucz17fSkge1xuICAgIGNvbnN0IHtjdHJsLCAuLi5vcHRzfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qgc3JjID0gbGF5ZXIob3B0cyk7ICAgIFxuICAgIHJldHVybiBuZXcgQ3Vyc29yKHtjdHJsLCBzcmN9KTtcbn1cblxuZXhwb3J0IHsgXG4gICAgbGF5ZXIsIGN1cnNvciwgbWVyZ2UsIHNoaWZ0LCBjbWQsIFxuICAgIGN1cnNvciBhcyB2YXJpYWJsZSwgXG4gICAgY3Vyc29yIGFzIHBsYXliYWNrLCBcbiAgICBib29sZWFuLCBsb2dpY2FsX21lcmdlLCBsb2dpY2FsX2V4cHJcbn0iXSwibmFtZXMiOlsiaXNOdW1iZXIiLCJuIiwiRVBfVFlQRSIsIk9iamVjdCIsImZyZWV6ZSIsIkhJR0hfT1BFTiIsIkhJR0hfQ0xPU0VEIiwiVkFMVUUiLCJMT1dfQ0xPU0VEIiwiTE9XX09QRU4iLCJFUF9PUkRFUiIsIk1hcCIsImVuZHBvaW50X2lzX2xvdyIsImVwIiwiZW5kcG9pbnRfZnJvbV9pbnB1dCIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsIkVycm9yIiwidiIsInQiLCJ2YWx1ZSIsInZhbHVlcyIsImluY2x1ZGVzIiwiSW5maW5pdHkiLCJ1bmRlZmluZWQiLCJlbmRwb2ludF9QT1NfSU5GIiwiZW5kcG9pbnRfTkVHX0lORiIsImVuZHBvaW50X2ludGVybmFsIiwibnVtYmVyX2NtcCIsImEiLCJiIiwiZW5kcG9pbnRfY21wIiwiZXAxIiwiZXAyIiwidjEiLCJ0MSIsInYyIiwidDIiLCJkaWZmIiwiZ2V0IiwiZW5kcG9pbnRfbGUiLCJwMSIsInAyIiwiZW5kcG9pbnRfZ2UiLCJlbmRwb2ludF9lcSIsImVuZHBvaW50c19mcm9tX2ludGVydmFsIiwiaXR2IiwibG93IiwiaGlnaCIsImxvd0Nsb3NlZCIsImhpZ2hDbG9zZWQiLCJsb3dUeXBlIiwiaGlnaFR5cGUiLCJpbnRlcnZhbF9jb3ZlcnNfZW5kcG9pbnQiLCJsb3dfZXAiLCJoaWdoX2VwIiwiZW5kcG9pbnQiLCJsZSIsImx0IiwiZ2UiLCJndCIsImNtcCIsImVxIiwibWluIiwibWF4IiwiZmxpcCIsInRhcmdldCIsImZyb21faW50ZXJ2YWwiLCJmcm9tX2lucHV0IiwidHlwZXMiLCJQT1NfSU5GIiwiTkVHX0lORiIsImludGVydmFsIiwiY292ZXJzX2VuZHBvaW50IiwiY292ZXJzX3BvaW50IiwicCIsImlzX3Npbmd1bGFyIiwiZnJvbV9lbmRwb2ludHMiLCJpbnB1dCIsImxvd0luY2x1ZGUiLCJoaWdoSW5jbHVkZSIsImRpdm1vZCIsIngiLCJiYXNlIiwiTWF0aCIsImZsb29yIiwiciIsIm0iLCJtb2QiLCJ0b1N0YXRlIiwic291cmNlcyIsInN0YXRlcyIsIm9mZnNldCIsIm9wdGlvbnMiLCJ2YWx1ZUZ1bmMiLCJzdGF0ZUZ1bmMiLCJkeW5hbWljIiwibWFwIiwiZHltYW1pYyIsInNvbWUiLCJlIiwiUFJFRklYIiwiYWRkVG9JbnN0YW5jZSIsIm9iamVjdCIsImFkZF9jYWxsYmFjayIsImhhbmRsZXIiLCJoYW5kbGUiLCJ0aGlzIiwicHVzaCIsInJlbW92ZV9jYWxsYmFjayIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIm5vdGlmeV9jYWxsYmFja3MiLCJlQXJnIiwiZm9yRWFjaCIsImFkZFRvUHJvdG90eXBlIiwiX3Byb3RvdHlwZSIsImFwaSIsImFzc2lnbiIsImltcGxlbWVudHNfY2FsbGJhY2siLCJvYmoiLCJtZXRob2RzIiwicHJvcCIsImNoZWNrX2l0ZW0iLCJpdGVtIiwiaWQiLCJ0ZXh0IiwicG9zc2libGUiLCJpIiwiY2hhckF0IiwicmFuZG9tIiwicmFuZG9tX3N0cmluZyIsImlzX3N0YXRlcHJvdmlkZXIiLCJjYWxsYmFjay5pbXBsZW1lbnRzX2NhbGxiYWNrIiwiZ2V0X2l0ZW1zIiwiTG9jYWxTdGF0ZVByb3ZpZGVyIiwiY29uc3RydWN0b3IiLCJjYWxsYmFjay5hZGRUb0luc3RhbmNlIiwiX21hcCIsIl9pbml0aWFsaXNlIiwiaW5zZXJ0IiwidHlwZSIsImRhdGEiLCJfdXBkYXRlIiwicmVzZXQiLCJ1cGRhdGUiLCJjaGFuZ2VzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiZGlmZnMiLCJkaWZmX21hcCIsInJlbW92ZSIsImVudHJpZXMiLCJzZXQiLCJuZXciLCJvbGQiLCJkZWxldGUiLCJjYWxsYmFjay5hZGRUb1Byb3RvdHlwZSIsInByb3RvdHlwZSIsIk5lYXJieUluZGV4QmFzZSIsIm5lYXJieSIsImZpcnN0IiwiY2VudGVyIiwicmlnaHQiLCJsYXN0IiwibGVmdCIsInJpZ2h0X3JlZ2lvbiIsInJpZ2h0X2VuZHBvaW50IiwibGVmdF9yZWdpb24iLCJsZWZ0X2VuZHBvaW50IiwiZmluZF9yZWdpb24iLCJuZXh0X25lYXJieSIsImRpcmVjdGlvbiIsImNvbmRpdGlvbiIsInJlZ2lvbnMiLCJSZWdpb25JdGVyYXRvciIsInN0YXJ0Iiwic3RvcCIsImluY2x1ZGVFbXB0eSIsIl9pbmRleCIsIl9zdGFydCIsIl9zdG9wIiwiX2NvbmRpdGlvbiIsIl9jdXJyZW50IiwibmV4dCIsImRvbmUiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNtcF9hc2NlbmRpbmciLCJjbXBfZGVzY2VuZGluZyIsIm5lYXJieV9mcm9tIiwicHJldl9oaWdoIiwiY2VudGVyX2xvd19saXN0IiwiY2VudGVyX2hpZ2hfbGlzdCIsIm5leHRfbG93IiwicmVzdWx0Iiwic29ydCIsIm1pbl9jZW50ZXJfaGlnaCIsIm1heF9jZW50ZXJfaGlnaCIsInNsaWNlIiwibXVsdGlwbGVfY2VudGVyX2hpZ2giLCJtYXhfY2VudGVyX2xvdyIsIm1pbl9jZW50ZXJfbG93IiwibXVsdGlwbGVfY2VudGVyX2xvdyIsInByZXYiLCJFdmVudCIsInB1Ymxpc2hlciIsIm5hbWUiLCJpbml0Iiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmliZSIsImNhbGxiYWNrIiwic3ViIiwiU3Vic2NyaXB0aW9uIiwiaW5pdF9wZW5kaW5nIiwic2VsZiIsImVBcmdzIiwiZXZlbnRpZnlJbml0RXZlbnRBcmdzIiwidHJpZ2dlciIsInN1YnMiLCJlSW5mbyIsImN0eCIsInRlcm1pbmF0ZWQiLCJzcmMiLCJjYWxsIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInVuc3Vic2NyaWJlIiwiaWR4IiwidGVybWluYXRlIiwiZXZlbnQiLCJldmVudGlmeUluc3RhbmNlIiwiX19ldmVudGlmeV9ldmVudE1hcCIsIl9fZXZlbnRpZnlfYnVmZmVyIiwiZXZlbnRpZnlQcm90b3R5cGUiLCJldmVudGlmeUdldEV2ZW50IiwiZXZlbnRpZnlEZWZpbmUiLCJoYXMiLCJldmVudGlmeVRyaWdnZXIiLCJldmVudGlmeVRyaWdnZXJBbGwiLCJldmVudGlmeVRyaWdnZXJBbGlrZSIsImV2ZW50SXRlbXMiLCJ0cmlnZ2VySXRlbXMiLCJldiIsImZpbHRlciIsImxlbiIsImJ1ZiIsImJ1Zl9sZW4iLCJldmVudGlmeVN1YnNjcmlwdGlvbnMiLCJvbiIsIm9mZiIsIl92YWx1ZSIsIk5BTUUiLCJwcm9wTmFtZSIsIm11dGFibGUiLCJlbnRpdHkiLCJoYW5kbGVzIiwiZGVmaW5lUHJvcGVydHkiLCJzdGF0ZSIsImVudGl0aWVzIiwiYmluZCIsIkJhc2VTZWdtZW50IiwiX2l0diIsInF1ZXJ5IiwiU3RhdGljU2VnbWVudCIsInN1cGVyIiwiTW90aW9uU2VnbWVudCIsInBvc2l0aW9uIiwicDAiLCJ2ZWxvY2l0eSIsInYwIiwiYWNjZWxlcmF0aW9uIiwiYTAiLCJ0aW1lc3RhbXAiLCJ0MCIsIl9wb3NfZnVuYyIsInRzIiwiZCIsIl92ZWxfZnVuYyIsIl9hY2NfZnVuYyIsInBvcyIsInZlbCIsImFjYyIsImVhc2VpbiIsInBvdyIsIlRyYW5zaXRpb25TZWdtZW50IiwiZWFzaW5nIiwiX2R5bmFtaWMiLCJfdHJhbnMiLCJwYXJzZUZsb2F0IiwiZWFzZW91dCIsImVhc2Vpbm91dCIsIkludGVycG9sYXRpb25TZWdtZW50IiwidHVwbGVzIiwic29ydGVkVHVwbGVzIiwidmFsdWUxIiwib2Zmc2V0MSIsInZhbHVlMiIsIm9mZnNldDIiLCJpbnRlcnBvbGF0ZSIsIlNvcnRlZEFycmF5IiwiX2FycmF5Iiwic2l6ZSIsImFycmF5IiwidGFyZ2V0X3ZhbHVlIiwidGFyZ2V0X2VwIiwibGVmdF9pZHgiLCJyaWdodF9pZHgiLCJtaWRfaWR4IiwibWlkX3ZhbHVlIiwiZ2VJbmRleE9mIiwiZm91bmQiLCJsZUluZGV4T2YiLCJndEluZGV4T2YiLCJsdEluZGV4T2YiLCJyZW1vdmVfbGlzdCIsImluc2VydF9saXN0IiwicmVtb3ZlX2lkeF9saXN0IiwiYW55X3JlbW92ZXMiLCJhbnlfaW5zZXJ0cyIsImZpcnN0X2FyciIsInNlY29uZF9hcnIiLCJmaXJzdF9hcnJfbGVuZ3RoIiwic2Vjb25kX2Fycl9sZW5ndGgiLCJjb25jYXRfaW5fcGxhY2UiLCJzb3J0ZWRfYXJyIiwicmVtb3ZlX2R1cGxpY2F0ZXMiLCJnZXRfYnlfaW5kZXgiLCJsb29rdXAiLCJlcF8wIiwiZXBfMSIsImlkeF8wIiwiaWR4XzEiLCJFUF9UWVBFUyIsIkVuZHBvaW50U2V0IiwiU2V0IiwiYWRkIiwibGlzdCIsImxpc3RzIiwiY29uY2F0IiwiTE9XIiwiQUNUSVZFIiwiSElHSCIsIkl0ZW1zTWFwIiwiZ2V0X2l0ZW1zX2J5X3JvbGUiLCJyb2xlIiwiZW50cnkiLCJyZWdpc3RlciIsInR5cGVfbWFwIiwiYWN0aXZlIiwid2FzX2VtcHR5IiwiZmluZEluZGV4IiwiX2l0ZW0iLCJpc19lbXB0eSIsInVucmVnaXN0ZXIiLCJOZWFyYnlJbmRleCIsInN0YXRlUHJvdmlkZXIiLCJfc3AiLCJyZWZyZXNoIiwiX2l0ZW1zbWFwIiwiX2VuZHBvaW50cyIsInJlbW92ZV9lbmRwb2ludHMiLCJpbnNlcnRfZW5kcG9pbnRzIiwiYmVjYW1lX25vbmVtcHR5IiwiaW5zZXJ0X2l0ZW1zIiwicmVtb3ZlX2l0ZW1zIiwiYWN0aXZlU2V0IiwiX2NvdmVycyIsIml0ZW1zMSIsIml0ZW1zMiIsImlkU2V0IiwiaXRlbXMiLCJMYXllciIsIkNhY2hlQ2xhc3MiLCJMYXllckNhY2hlIiwiZXZlbnRpZnkuYWRkVG9JbnN0YW5jZSIsIl9DYWNoZUNsYXNzIiwiX2NhY2hlX29iamVjdCIsIl9jYWNoZV9vYmplY3RzIiwiX3F1ZXJ5T3B0aW9ucyIsInF1ZXJ5T3B0aW9ucyIsImNhY2hlIiwiZ2V0Q2FjaGUiLCJjbGVhckNhY2hlcyIsImNsZWFyIiwic2FtcGxlIiwic3RlcCIsImVuZCIsImluY2x1ZGVfZW5kIiwicmFuZ2UiLCJldmVudGlmeS5hZGRUb1Byb3RvdHlwZSIsImxheWVyIiwiX2xheWVyIiwiX25lYXJieSIsIl9zdGF0ZSIsIm5lZWRfbmVhcmJ5IiwiSW5wdXRMYXllciIsIklucHV0TGF5ZXJDYWNoZSIsInNyY3Byb3AuYWRkVG9JbnN0YW5jZSIsInNyY3Byb3BfcmVnaXN0ZXIiLCJzcmNwcm9wX2NoZWNrIiwic3JjcHJvcF9vbmNoYW5nZSIsInNyY3Byb3AuYWRkVG9Qcm90b3R5cGUiLCJfc2VnbWVudCIsInNlZ21lbnQiLCJfc2VnbWVudHMiLCJzZWdtZW50LlN0YXRpY1NlZ21lbnQiLCJzZWdtZW50LlRyYW5zaXRpb25TZWdtZW50Iiwic2VnbWVudC5JbnRlcnBvbGF0aW9uU2VnbWVudCIsInNlZ21lbnQuTW90aW9uU2VnbWVudCIsImxvYWRfc2VnbWVudCIsInNlZyIsIm1lcmdlX29wdGlvbnMiLCJzdW0iLCJpbmZvIiwicmVkdWNlIiwic3RhY2siLCJNZXJnZUxheWVyIiwiZXZlcnkiLCJNZXJnZUluZGV4IiwiX3NvdXJjZXMiLCJfY2FjaGVzIiwicHJldl9saXN0IiwibmV4dF9saXN0IiwicHJldl9yZWdpb24iLCJuZXh0X3JlZ2lvbiIsInNoaWZ0ZWQiLCJpc0Zpbml0ZSIsInZhbCIsInNpZ24iLCJTaGlmdEluZGV4Iiwic2tldyIsIl9za2V3IiwiX2NhY2hlIiwiX3NoaWZ0ZWRfY2FjaGUiLCJTaGlmdExheWVyIiwibG9jYWwiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImVwb2NoIiwiRGF0ZSIsIkxPQ0FMX0NMT0NLX1BST1ZJREVSIiwidDBfbG9jYWwiLCJ0MF9lcG9jaCIsInQxX2xvY2FsIiwiaXNfY2xvY2twcm92aWRlciIsIk1FVEhPRFMiLCJtb3ZlIiwidmVjdG9yIiwidHJhbnNpdGlvbiIsImNtZCIsIm1ldGhvZCIsImFyZ3MiLCJmcm9tRW50cmllcyIsIlRpbWVvdXRNb25pdG9yIiwiX29wdGlvbnMiLCJyYXRlIiwiX3NldCIsIl92YXJpYWJsZV9tYXAiLCJfX29udmFyaWFibGVjaGFuZ2UiLCJfb252YXJpYWJsZWNoYW5nZSIsInZhcmlhYmxlIiwiZGVsYXkiLCJwb2xsaW5nIiwicmVsZWFzZSIsInRpZCIsIl9yZWV2YWx1YXRlX3BvbGxpbmciLCJ3YXNfcG9sbGluZyIsInNob3VsZF9iZV9wb2xsaW5nIiwiX3NldF90aW1lb3V0cyIsIl9jbGVhcl90aW1lb3V0cyIsIl9zZXRfdGltZW91dCIsImRlbHRhIiwiX2NhbGN1bGF0ZV9kZWx0YSIsIl9oYW5kbGVfdGltZW91dCIsInNldFRpbWVvdXQiLCJyb3VuZCIsIm5vd19uIiwibm93X3IiLCJjbGVhclRpbWVvdXQiLCJtb25pdG9yIiwiZnJhbWVyYXRlX21vbml0b3IiLCJfaGFuZGxlIiwiX2NhbGxiYWNrIiwidmFyaWFibGVzIiwicmVzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiQ3Vyc29ySW5kZXgiLCJjdXJzb3IiLCJDdXJzb3JDYWNoZSIsIl9jdXJzb3IiLCJfZ2V0X2N0cmxfc3RhdGUiLCJDdXJzb3IiLCJfdGlkIiwiX3BpZCIsImN0cmwiLCJfX2hhbmRsZV9jaGFuZ2UiLCJvcmlnaW4iLCJjbGVhckludGVydmFsIiwiX19kZXRlY3RfZnV0dXJlX2NoYW5nZSIsImN0cmxfdmVjdG9yIiwiY3VycmVudF9wb3MiLCJjdXJyZW50X3RzIiwic3JjX25lYXJieSIsIl9fc2V0X3RpbWVvdXQiLCJjdHJsX3NyY19uZWFyYnkiLCJ0YXJnZXRfcG9zIiwiX19zZXRfcG9sbGluZyIsImRlbHRhX3NlYyIsInRhcmdldF90cyIsIl9faGFuZGxlX3RpbWVvdXQiLCJyZW1haW5pbmdfc2VjIiwic2V0SW50ZXJ2YWwiLCJfX2hhbmRsZV9wb2xsIiwiQm9vbGVhbiIsImR1cmF0aW9uIiwiQm9vbGVhbkxheWVyIiwiQm9vbGVhbkluZGV4IiwiX29uY2hhbmdlIiwiZXZhbHVhdGlvbiIsInJpZ2h0X25lYXJieSIsImxlZnRfbmVhcmJ5IiwiTG9naWNhbE1lcmdlTGF5ZXIiLCJleHByIiwiZXZhbCIsImxvZ2ljYWxfZXhwciIsIm9wdHMiLCJhbmQiLCJleHBycyIsIm9yIiwieG9yIiwiZXhwcjEiLCJleHByMiIsIm5vdCJdLCJt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

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module">

        import * as sl from './libs/statelayers.es.js';

        const l1 = sl.layer({items:[
            {itv: [0, 1], data: 1},
            {itv: [2, 3], data: 2},
            {itv: [4, 5], data: 3},
            {itv: [6, 7], data: 4},
        ]});

        const l2 = sl.layer({items:[
            {itv: [0.5, 1.5], data: 0.5},
            {itv: [2.5, 3.5], data: 1.5},
            {itv: [4.5, 5.5], data: 2.5},
        ]});

        const options = {
            valueFunc: function ({states}) {
                return states.reduce((acc, cur) => acc + cur.value, 0);
            }
        }
        const l3 = sl.merge([l1,l2], options);

        let result = l3.sample();
        console.log(result.map(([v,i]) => v));

</script>
</head>
<body>
    <h1>Hello, Merge!</h1>
</body>
</html>